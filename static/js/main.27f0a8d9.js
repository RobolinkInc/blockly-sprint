/*! For license information please see main.27f0a8d9.js.LICENSE.txt */
(function(){var __webpack_modules__={9980:function(e,t,n){"use strict";n.d(t,{a:function(){return r}});var r={CAT_EVENTS:"Events",CAT_IO:"Input/Output",CAT_LOGIC:"Logic",CAT_LOOPS:"Loops",CAT_MATH:"Math",CAT_TIMING:"Timing",CAT_VARS:"Variables",CAT_FUNC:"Functions",CAT_FLIGHT_COMMANDS:"Flight Commands",CAT_FLIGHT_SEQUENCES:"Flight Sequences",CAT_FLIGHT_VARIABLES:"Flight Variables",CAT_STATUS_CHECKERS:"Status Checkers",CAT_LIGHTS:"Lights",CAT_SOUND:"Sounds",CAT_SENSORS:"Sensors",CAT_SCREEN:"Screen",CAT_COLOR:"Colors",CAT_LISTS:"Lists",FLIGHT_TAKE_OFF:"%1 take off",FLIGHT_LAND:"%1 land",FLIGHT_EMERGENCY_STOP:"%1 emergency stop",FLIGHT_HOVER:"%1 hover for %2 second(s)",FLIGHT_GO:"%4 go %1 for %2 second(s) at %3% power",FLIGHT_TURN_DEGREES:"%3 turn %1 %2 degrees",FLIGHT_TURN_POWER:"%3 turn %1 for %2 second(s) at %4 % power",FLIGHT_FLIP:"%1 flip %2",STATUS_CODE_IS_RUNNING:"code is running",LIGHTS_DRONE_LED:"%1 set drone LED color to %2, with a brightness of %3 %4",LIGHTS_OFF_DRONE_LED:"%1 turn drone LED off",LIGHTS_CONTROLLER_LED:"%1 set controller LED color to %2, with a brightness of %3 %4",LIGHTS_OFF_CONTROLLER_LED:"%1 turn controller LED off",SOUND_DRONE:"%1 play this note %2 for %3 second(s) on drone",SOUND_CONTROLLER:"%1 play this note %2 for %3 second(s) on controller",VAR_FORWARD:"forward",VAR_FORWARD_FLIP:"front",VAR_BACKWARD:"backward",VAR_BACKWARD_FLIP:"back",VAR_UP:"up",VAR_DOWN:"down",VAR_LEFT:"left",VAR_RIGHT:"right",IO_RUN_CLICKED:"when %1 clicked",IO_WHEN_KEY_PRESS:"when %1 key press",TIME_WAIT:"%2 wait %1 second(s)",TIME_WAIT_SENIOR:"%2 sleep(%1 sec)",CURRENT_TIME_IN:"current time in",XML_JUNIOR:"junior",XML_SENIOR:"senior",WARN_REQUIREMENTS:"Please make sure your computer has the %1 to use Blockly for Robolink",WARN_MINIMUM:"minimum requirements",CODE_APPROXIMATION:"This is an approximation of Python code",CODE_COPY:"Copy",MENU_MENU:"Menu",MENU_SAVE:"Save",MENU_OPEN:"Open...",MENU_NEW:"New",MENU_CLEAN_UP:"Clean up",MENU_UNDO:"Undo",MENU_REDO:"Redo",MENU_HELP:"Robolink Help",MENU_SYSTEM:"System Requirements",MENU_GET_LOG_FILE:"Get Log File",NOTICE_MSG_UNABLE_TO_CONNECT:"Unable to connect to CoDrone EDU. \nMake sure the drone is powered on and already paired with the controller.",BTN_RUN:"Run code",BTN_STOP:"Stop",BTN_LAND:"Land",BTN_RUNNING:"Code running...",CONN_NOT_PAIRED:"Not Paired",CONN_HOW_TO_PAIR:"How to pair",CONN_PAIR:"Pair",CONN_BATT_ALERT_TEXT1:"Before connecting Blockly to your controller:",CONN_BATT_ALERT_TEXT2:"Remove any AA batteries from the controller",CONN_BATT_ALERT_TEXT3:"Be sure you're using the included USB cable. Some USB cables are charge-only, so won't transfer data.",CONN_BATT_ALERT_TEXT4:"Click here to read more.",CONN_LEARN_MORE:"Learn More",CONN_PAIRED:"Paired",CONN_SPEED:"Speed : ",CONN_TRIMMING:"Trimming",CONN_PITCH:"pitch",CONN_ROLL:"roll",CONN_DISCONNECT:"Disconnect",CONSOLE_TAB:"Console",CONSOLE_CLEAR:"clear console",CLEAR_WARNING:"Warning! Starting a new project will clear your workspace. Do you want to continue?",BTN_CANCEL:"Cancel",BTN_OK:"Ok",IMAGE_UPLOAD:"Upload image",COLOR_CAT_BTN_CALIBRATE:"Calibrate color",COLOR_CAT_BTN_LOAD_DATASET:"Load dataset",COLOR_ALERT_PAIR:"Please pair with a CoDrone EDU first",COLOR_WARNING_NEW:"Warning! Starting a new color set will clear your current set. Do you want to continue?",COLOR_HEADER:"Color Calibration",COLOR_MAIN_BTN_NEW:"New color set",COLOR_MAIN_BTN_EXISTING:"Add to existing set",COLOR_TITLE_COLOR_SET_NAME:"What do you want to name this color set?",COLOR_TITLE_COLLECT_SAMPLE:"How many samples do you want to collect for %1?",COLOR_CALIBRATING:"Calibrating...",COLOR_TITLE_DETECTING:"Detecting:",COLOR_BTN_NEXT:"Next",COLOR_BTN_COLLECT:"Collect",COLOR_BTN_CALIBRATE:"Calibrate",COLOR_BTN_STARTOVER:"Start over",COLOR_BTN_USE:"Use this color set",COLOR_BTN_DOWNLOAD:"Download",COLOR_LOAD_CLASSIFIER:"load classifier: %1 ",ALERT_WHICH_DRONE:"Which drone do you have?",MENU_SETTINGS:"Settings",MENU_LANGUAGE:"Language",SD_NO_DRONE_PAIRED:"No drone paired",SD_INACTIVE_NOT_ON_SURFACE:"Inactive when not on surface",SD_ACCEL:"Accelerometer",SD_GYRO:"Gyroscope",VALUE_YAW:"yaw",SD_FRONT_RANGE:"Front range",SD_BOTTOM_RANGE:"Bottom range",SD_FRONT_COLOR:"Front color",SD_REAR_COLOR:"Rear color",VALUE_HUE:"hue",VALUE_SAT:"saturation",VALUE_VAL:"value",SD_TEMP:"Drone Temperature",SD_PRESSURE:"Pressure",SD_POS:"Position",SD_BTN_REFRESH:"Refresh",SD_MSG_REQUEST:"Request with code to display sensor data",SD_OUT_OF_RANGE:"out of range",FLIGHT_TAKE_OFF_SENIOR:"takeoff()",FLIGHT_LAND_SENIOR:"land()",FLIGHT_EMERGENCY_STOP_SENIOR:"emergency_stop()",FLIGHT_HOVER_SENIOR:"hover( %1 sec)",FLIGHT_MOVE_SENIOR:"move(%2 %, %3 %, %4 %, %5 %, %1 sec)",FLIGHT_FLIP_SENIOR:"flip(%1)",FLIGHT_TURN_DEGREE_SENIOR:"turn_degree(%1\xb0)",FLIGHT_TURN_SENIOR:"turn_%1(%2\xb0)",FLIGHT_AVOID_WALL_SENIOR:"avoid_wall(%1, %2)",FLIGHT_SETROLL_SENIOR:"set_roll(%1 %)",FLIGHT_SETPITCH_SENIOR:"set_pitch(%1 %)",FLIGHT_SETYAW_SENIOR:"set_yaw(%1 %)",FLIGHT_SETTHROTTLE_SENIOR:"set_throttle(%1 %)",FLIGHT_MOVE_NO_PARAM_SENIOR:"move()",FLIGHT_MOVE_DURATION_SENIOR:"move(%1 sec)",FLIGHT_SET_TRIM_SENIOR:"set_trim(%1, %2)",FLIGHT_GET_TRIM_SENIOR:"get_trim()",FLIGHT_RESET_TRIM_SENIOR:"reset_trim()",SENSORS_GET_RANGE_SENIOR:"get_range(%1, %2)",VAR_RANGE_FORWARD:"front",VAR_RANGE_BOTTOM:"bottom",SENSORS_GET_ANGLE_SENIOR:"get_angle(%1)",SENSORS_GET_ANGULAR_SPEED_SENIOR:"get_angular_speed(%1)",SENSORS_GET_ACCEL_SENIOR:"get_accel(%1)",SENSORS_GET_POS_SENIOR:"get_pos(%1, %2)",SENSORS_GET_BATTERY_SENIOR:"get_battery()",SENSORS_GET_HEIGHT_SENIOR:"get_height(%1)",SENSORS_GET_PRESSURE_SENIOR:"get_pressure(%1)",SENSORS_GET_TEMPERATURE_SENIOR:"get_temperature(%1)",VAR_TEMPERATURE_FAHRENHEIT:"Fahrenheit",VAR_TEMPERATURE_CELSIUS:"Celsius",VAR_TEMPERATURE_KELVIN:"Kelvin",SENSORS_GET_ALTITUDE_SENIOR:"get_altitude_data()",SENSORS_GET_COLORS_SENIOR:"get_color(%1)",VAR_COLORS_FRONT:"front",VAR_COLORS_BACK:"back",SENSORS_GET_COLOR_HSVL_SENIOR:"get_%1_hsvl(%2)",VAR_HSVL_HUE:"hue",VAR_HSVL_SATURATION:"saturation",VAR_HSVL_VALUE:"value",VAR_HSVL_LIGHTNESS:"lightness",SENSORS_GET_STATE_SENIOR:"get_state_data(%1)",VAR_STATE_MODEFLIGHT:"modeFlight",VAR_STATE_MODEMOVEMENT:"modeMovement",LIGHTS_SET_DRONE_LED_SENIOR:"set_drone_LED(%1, %2, %3, %4)",LIGHTS_DRONE_LED_OFF_SENIOR:"drone_LED_off()",LIGHTS_SET_CONTROLLER_LED_SENIOR:"set_controller_LED(%1, %2, %3, %4)",LIGHTS_CONTROLLER_LED_OFF_SENIOR:"controller_LED_off()",DRONE_BUZZER_SENIOR:"drone_buzzer(Note.%1, %2 milliseconds)",CONTROLLER_BUZZER_SENIOR:"controller_buzzer(Note.%1, %2 milliseconds)",DRONE_BUZZER_HERTZ_SENIOR:"drone_buzzer(%1 Hertz, %2 milliseconds)",CONTROLLER_BUZZER_HERTZ_SENIOR:"controller_buzzer(%1 Hertz, %2 milliseconds)",SCREEN_CONTROLLER_DRAW_LINE_SENIOR:"controller_draw_line(%1, %2, %3, %4)",SCREEN_CONTROLLER_DRAW_STRING_SENIOR:"controller_draw_string(%1, %2, %3)",SCREEN_CONTROLLER_DRAW_RECTANGLE_SENIOR:"controller_draw_rectangle(%1, %2, %3, %4, %5)",SCREEN_CONTROLLER_DRAW_SQUARE_SENIOR:"controller_draw_square(%1, %2, %3, %4)",SCREEN_CONTROLLER_DRAW_POINT_SENIOR:"controller_draw_point(%1, %2)",SCREEN_CONTROLLER_DRAW_IMAGE_SENIOR:"controller_draw_image(%1)",SCREEN_CONTROLLER_CLEAR_SCREEN_SENIOR:"controller_clear_screen()",COLOR_GET_COLOR_DATA:"predict_color(%1)",PLAY_BLOCK_REMOVED:'The "when [play] clicked" block is being removed from the workspace. The page will reload and you will need to re-pair with your drone in Blockly.',SENSORS_RESET:"reset_sensor()",BTN_CONTINUE:"Continue",PANEL_LESSONS:"Lessons",PANEL_SENSORS:"Sensors",PANEL_PYTHON:"Python",PANEL_DOCS:"Docs",PANEL_EXAMPLES:"Examples",SAVE_FILE_NAME:"File name:",NEW_WARNING:"Warning! Opening a project will clear your workspace. Do you want to continue?",FLIGHT_STOP_AT_OBSTACLE_SENIOR:"stop_at_obstacle(%1, %2)",FLIGHT_DETECT_OBSTACLE_SENIOR:"detect_obstacle()",FLIGHT_GO_SENIOR:"go(%2 %, %3 %, %4 %, %5 %, %1 sec)",SENSORS_GET_ELEVATION_SENIOR:"get_elevation(%1)",MATH_CONVERT:"convert",MATH_CONVERT_TO:"to",MATH_NULL:"null",TIMING_MILLISECONDS:"milliseconds",TIMING_SECONDS:"seconds",DRONE_LABEL:"Drone",CONTROLLER_LABEL:"Controller",VERSION_MENU:"Release notes"}},6393:function(e,t,n){"use strict";n.d(t,{Y:function(){return r}});var r={CAT_EVENTS:"\u30a4\u30d9\u30f3\u30c8",CAT_IO:"\u30a4\u30f3\u30d7\u30c3\u30c8/\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8",CAT_LOGIC:"\u8ad6\u7406",CAT_LOOPS:"\u7e70\u308a\u8fd4\u3057",CAT_MATH:"\u6570\u5b66",CAT_TIMING:"\u30bf\u30a4\u30df\u30f3\u30b0",CAT_VARS:"\u5909\u6570",CAT_FUNC:"\u95a2\u6570",CAT_FLIGHT_COMMANDS:"\u30d5\u30e9\u30a4\u30c8\u30b3\u30de\u30f3\u30c9",CAT_FLIGHT_SEQUENCES:"\u30d5\u30e9\u30a4\u30c8\u30b7\u30fc\u30b1\u30f3\u30b9",CAT_FLIGHT_VARIABLES:"\u30d5\u30e9\u30a4\u30c8\u5909\u6570",CAT_STATUS_CHECKERS:"\u30b9\u30c6\u30fc\u30bf\u30b9\u30c1\u30a7\u30c3\u30ab\u30fc",CAT_LIGHTS:"\u30e9\u30a4\u30c8",CAT_SOUND:"\u30b5\u30a6\u30f3\u30c9",CAT_SENSORS:"\u30bb\u30f3\u30b5\u30fc",CAT_SCREEN:"\u30b9\u30af\u30ea\u30fc\u30f3",CAT_COLOR:"\u30ab\u30e9\u30fc",FLIGHT_TAKE_OFF:"%1 \u96e2\u9678",FLIGHT_LAND:"%1 \u7740\u9678",FLIGHT_EMERGENCY_STOP:"%1 \u7dca\u6025\u505c\u6b62",FLIGHT_HOVER:"%1 \u30db\u30d0\u30ea\u30f3\u30b0 %2 \u79d2",FLIGHT_GO:"%4 \u9032\u3080 %1 \u3067 %2 \u79d2\u9593 %3% \u30d1\u30ef\u30fc",FLIGHT_TURN_DEGREES:"%3 \u65cb\u56de %1 %2 \u5ea6",FLIGHT_TURN_POWER:"%3 \u65cb\u56de %1 \u3067 %2 \u79d2\u9593 %4 % \u30d1\u30ef\u30fc",FLIGHT_FLIP:"%1 \u30d5\u30ea\u30c3\u30d7 %2",STATUS_CODE_IS_RUNNING:"\u30b3\u30fc\u30c9\u5b9f\u884c\u4e2d",LIGHTS_DRONE_LED:"%1 \u30c9\u30ed\u30fc\u30f3\uff2c\uff25\uff24\u30ab\u30e9\u30fc\u3092\u30bb\u30c3\u30c8 %2, \u306e\u660e\u308b\u3055\u3067 %3 %4",LIGHTS_OFF_DRONE_LED:"%1 \u30c9\u30ed\u30fc\u30f3\uff2c\uff25\uff24\u30aa\u30d5",LIGHTS_CONTROLLER_LED:"%1 \u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\uff2c\uff25\uff24\u30ab\u30e9\u30fc\u3092\u30bb\u30c3\u30c8 %2, \u306e\u660e\u308b\u3055\u3067 %3 %4",LIGHTS_OFF_CONTROLLER_LED:"%1 \u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\uff2c\uff25\uff24\u30aa\u30d5",SOUND_DRONE:"%1 \u97f3\u968e\u3092\u518d\u751f %2 \u3067 %3 \u79d2\u9593\u30c9\u30ed\u30fc\u30f3\u3067",SOUND_CONTROLLER:"%1 \u97f3\u968e\u3092\u518d\u751f %2 \u3067 %3 \u79d2\u9593\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u3067",VAR_FORWARD:"\u524d\u9032",VAR_FORWARD_FLIP:"\u524d\u9032",VAR_BACKWARD:"\u5f8c\u9000",VAR_BACKWARD_FLIP:"\u5f8c\u9000",VAR_UP:"\u4e0a\u6607",VAR_DOWN:"\u4e0b\u964d",VAR_LEFT:"\u5de6",VAR_RIGHT:"\u53f3",IO_RUN_CLICKED:"\u5834\u5408 %1 \u30af\u30ea\u30c3\u30af\u3057\u305f",IO_WHEN_KEY_PRESS:"\u5834\u5408 %1 \u30ad\u30fc\u5165\u529b\u3057\u305f",TIME_WAIT:"%2 \u5f85\u3064 %1 \u79d2\u9593",TIME_WAIT_SENIOR:"%1 %2 \u79d2\u4e2d\u65ad",CURRENT_TIME_IN:"\u73fe\u5728\u6642\u523b",TIMING_MILLISECONDS:"\u30df\u30ea\u79d2\u8868\u793a",XML_JUNIOR:"\u30b8\u30e5\u30cb\u30a2",XML_SENIOR:"\u30b7\u30cb\u30a2",WARN_REQUIREMENTS:"\u304a\u4f7f\u3044\u306e\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u30fc\u304cBlockly for Robolink\u3092\u4f7f\u7528\u3059\u308b\u306e\u306b%1\u3092\u6e80\u305f\u3057\u3066\u3044\u308b\u304b\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044",WARN_MINIMUM:"\u6700\u4f4e\u8981\u4ef6",CODE_APPROXIMATION:"\u3053\u308c\u306fPython\u30b3\u30fc\u30c9\u306e\u985e\u4f3c\u3067\u3059",CODE_COPY:"Copy",MENU_MENU:"\u30e1\u30cb\u30e5\u30fc",MENU_SAVE:"\u30bb\u30fc\u30d6",MENU_OPEN:"\u958b\u304f...",MENU_NEW:"\u65b0\u3057\u3044",MENU_CLEAN_UP:"\u30af\u30ea\u30fc\u30f3\u30a2\u30c3\u30d7",MENU_UNDO:"\u5143\u306b\u623b\u3059",MENU_REDO:"\u3084\u308a\u76f4\u3059",MENU_HELP:"Robolink\u30d8\u30eb\u30d7",MENU_SYSTEM:"\u30b7\u30b9\u30c6\u30e0\u8981\u4ef6",BTN_RUN:"\u30b3\u30fc\u30c9\u5b9f\u884c",BTN_STOP:"\u505c\u6b62",BTN_LAND:"\u7740\u9678",BTN_RUNNING:"\u30b3\u30fc\u30c9\u5b9f\u884c\u4e2d",CONN_NOT_PAIRED:"\u30da\u30a2\u30ea\u30f3\u30b0\u3055\u308c\u3066\u3044\u307e\u305b\u3093",CONN_HOW_TO_PAIR:"\u30da\u30a2\u30ea\u30f3\u30b0\u65b9\u6cd5",CONN_PAIR:"\u30da\u30a2\u30ea\u30f3\u30b0",CONN_BATT_ALERT_TEXT1:"\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u3092Blockly\u306b\u63a5\u7d9a\u3059\u308b\u524d\u306b",CONN_BATT_ALERT_TEXT2:"\u5358\u4e09\u96fb\u6c60\u3092\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u304b\u3089\u629c\u3044\u3066\u304f\u3060\u3055\u3044",CONN_BATT_ALERT_TEXT3:"\u4ed8\u5c5e\u306eUSB\u30b1\u30fc\u30d6\u30eb\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u4e00\u90e8\u306eUSB\u30b1\u30fc\u30d6\u30eb\u306f\u5145\u96fb\u5c02\u7528\u3067\u3001\u30c7\u30fc\u30bf\u8ee2\u9001\u304c\u3067\u304d\u307e\u305b\u3093\u3002",CONN_BATT_ALERT_TEXT4:"\u8a73\u7d30\u306f\u3053\u3061\u3089",CONN_LEARN_MORE:"\u3082\u3063\u3068\u5b66\u3076",CONN_PAIRED:"\u30da\u30a2\u30ea\u30f3\u30b0\u72b6\u614b",CONN_SPEED:"\u901f\u5ea6",CONN_TRIMMING:"\u30c8\u30ea\u30df\u30f3\u30b0",CONN_PITCH:"\u30d4\u30c3\u30c1",CONN_ROLL:"\u30ed\u30fc\u30eb",CONN_DISCONNECT:"\u5207\u65ad",CONSOLE_TAB:"\u30b3\u30f3\u30bd\u30fc\u30eb",CONSOLE_CLEAR:"\u30b3\u30f3\u30bd\u30fc\u30eb\u3092\u30af\u30ea\u30a2",CLEAR_WARNING:"\u8b66\u544a\uff01\u65b0\u3057\u3044\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u958b\u59cb\u3059\u308b\u3068\u3001\u30ef\u30fc\u30af\u30b9\u30da\u30fc\u30b9\u304c\u30af\u30ea\u30a2\u3055\u308c\u307e\u3059\u3002\u7d9a\u3051\u305f\u3044\u3067\u3059\u304b\uff1f",BTN_CANCEL:"\u30ad\u30e3\u30f3\u30bb\u30eb",BTN_OK:"OK",IMAGE_UPLOAD:"\u753b\u50cf\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9",COLOR_CAT_BTN_CALIBRATE:"\u8272\u3092\u8abf\u6574",COLOR_CAT_BTN_LOAD_DATASET:"\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u306e\u8aad\u307f\u8fbc\u307f",COLOR_ALERT_PAIR:"\u307e\u305aCoDrone EDU\u3068\u30da\u30a2\u30ea\u30f3\u30b0\u3057\u3066\u304f\u3060\u3055\u3044",COLOR_WARNING_NEW:"\u8b66\u544a\uff01\u65b0\u3057\u3044\u30ab\u30e9\u30fc\u30bb\u30c3\u30c8\u3092\u958b\u59cb\u3059\u308b\u3068\u3001\u73fe\u5728\u306e\u30bb\u30c3\u30c8\u304c\u30af\u30ea\u30a2\u3055\u308c\u307e\u3059\u3002\u7d9a\u3051\u305f\u3044\u3067\u3059\u304b\uff1f",COLOR_HEADER:"\u8272\u8abf\u6574",COLOR_MAIN_BTN_NEW:"\u65b0\u3057\u3044\u30ab\u30e9\u30fc\u3092\u30bb\u30c3\u30c8",COLOR_MAIN_BTN_EXISTING:"\u65e2\u5b58\u306e\u30bb\u30c3\u30c8\u306b\u8ffd\u52a0",COLOR_TITLE_COLOR_SET_NAME:"\u3053\u306e\u30ab\u30e9\u30fc\u30bb\u30c3\u30c8\u306e\u540d\u524d\u3092\u8a2d\u5b9a",COLOR_TITLE_COLLECT_SAMPLE:"%1\u306b\u5bfe\u3057\u3066\u3044\u304f\u3064\u306e\u30b5\u30f3\u30d7\u30eb\u3092\u53ce\u96c6\u3057\u307e\u3059\u304b?",COLOR_CALIBRATING:"\u8abf\u6574\u4e2d...",COLOR_TITLE_DETECTING:"\u63a2\u7d22\u4e2d:",COLOR_BTN_NEXT:"\u6b21",COLOR_BTN_COLLECT:"\u53ce\u96c6",COLOR_BTN_CALIBRATE:"\u8abf\u6574",COLOR_BTN_STARTOVER:"\u6700\u521d\u304b\u3089\u3084\u308a\u76f4\u3059",COLOR_BTN_USE:"\u3053\u306e\u30ab\u30e9\u30fc\u30bb\u30c3\u30c8\u3092\u4f7f\u3046",COLOR_BTN_DOWNLOAD:"\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9",COLOR_LOAD_CLASSIFIER:"\u5206\u985e\u9805\u76ee\u306e\u8aad\u307f\u8fbc\u307f: %1",ALERT_WHICH_DRONE:"\u3069\u3061\u3089\u306e\u30c9\u30ed\u30fc\u30f3\u3092\u304a\u6301\u3061\u3067\u3059\u304b\uff1f",MENU_SETTINGS:"\u8a2d\u5b9a",MENU_LANGUAGE:"\u8a00\u8a9e",SD_NO_DRONE_PAIRED:"\u30da\u30a2\u30ea\u30f3\u30b0\u3055\u308c\u3066\u3044\u308b\u30c9\u30ed\u30fc\u30f3\u306f\u3042\u308a\u307e\u305b\u3093",SD_INACTIVE_NOT_ON_SURFACE:"\u8868\u5074\u306b\u306a\u3044\u3068\u304d\u306f\u975e\u30a2\u30af\u30c6\u30a3\u30d6\u72b6\u614b",SD_ACCEL:"\u52a0\u901f\u5ea6\u8a08",SD_GYRO:"\u30b8\u30e3\u30a4\u30ed\u30b9\u30b3\u30fc\u30d7",VALUE_YAW:"\u30e8\u30fc",SD_FRONT_RANGE:"\u524d\u65b9\u8ddd\u96e2",SD_BOTTOM_RANGE:"\u4e0b\u65b9\u8ddd\u96e2",SD_FRONT_COLOR:"\u524d\u65b9\u30ab\u30e9\u30fc",SD_REAR_COLOR:"\u5f8c\u65b9\u30ab\u30e9\u30fc",VALUE_HUE:"\u8272\u76f8",VALUE_SAT:"\u5f69\u5ea6",VALUE_VAL:"\u5024",SD_TEMP:"\u30c9\u30ed\u30fc\u30f3\u6e29\u5ea6",SD_PRESSURE:"\u6c17\u5727",SD_POS:"\u4f4d\u7f6e",SD_BTN_REFRESH:"\u30ea\u30d5\u30ec\u30c3\u30b7\u30e5",SD_MSG_REQUEST:"\u30bb\u30f3\u30b5\u30fc\u30c7\u30fc\u30bf\u3092\u8868\u793a\u3059\u308b\u305f\u3081\u306e\u30b3\u30fc\u30c9\u4ed8\u304d\u30ea\u30af\u30a8\u30b9\u30c8",SD_OUT_OF_RANGE:"\u7bc4\u56f2\u5916",FLIGHT_TAKE_OFF_SENIOR:"\u96e2\u9678()",FLIGHT_LAND_SENIOR:"\u7740\u9678()",FLIGHT_EMERGENCY_STOP_SENIOR:"\u7dca\u6025\u505c\u6b62()",FLIGHT_HOVER_SENIOR:"\u30db\u30d0\u30ea\u30f3\u30b0(%1 \u79d2\u9593)",FLIGHT_MOVE_SENIOR:"\u9032\u3080(%2 \uff05,%3 \uff05,%4 \uff05,%5 \uff05, %1 \u79d2\u9593)",FLIGHT_FLIP_SENIOR:"\u30d5\u30ea\u30c3\u30d7(%1)",FLIGHT_TURN_DEGREE_SENIOR:"\u56de\u8ee2(%1 \u02da )",FLIGHT_TURN_SENIOR:"\u65cb\u56de_%1(%2\u02da)",FLIGHT_AVOID_WALL_SENIOR:"\u58c1\u3092\u3088\u3051\u308b(%1, %2)",FLIGHT_SETROLL_SENIOR:"\u30ed\u30fc\u30eb\u5024\u30bb\u30c3\u30c8(%1 %)",FLIGHT_SETPITCH_SENIOR:"\u30d4\u30c3\u30c1\u5024\u30bb\u30c3\u30c8(%1 %)",FLIGHT_SETYAW_SENIOR:"\u30e8\u30fc\u5024\u30bb\u30c3\u30c8(%1 %)",FLIGHT_SETTHROTTLE_SENIOR:"\u30b9\u30ed\u30c3\u30c8\u30eb\u5024\u30bb\u30c3\u30c8(%1 %)",FLIGHT_MOVE_NO_PARAM_SENIOR:"\u52d5\u304f()",FLIGHT_MOVE_DURATION_SENIOR:"\u52d5\u304f(%1 \u79d2\u9593)",FLIGHT_SET_TRIM_SENIOR:"\u30c8\u30ea\u30e0\u30bb\u30c3\u30c8(%1, %2)",FLIGHT_GET_TRIM_SENIOR:"\u30c8\u30ea\u30e0\u53d6\u5f97()",FLIGHT_RESET_TRIM_SENIOR:"\u30c8\u30ea\u30e0\u30ea\u30bb\u30c3\u30c8()",SENSORS_GET_RANGE_SENIOR:"\u8ddd\u96e2\u53d6\u5f97(%1, %2)",VAR_RANGE_FORWARD:"\u524d\u65b9",VAR_RANGE_BOTTOM:"\u4e0b\u65b9",SENSORS_GET_ANGLE_SENIOR:"\u89d2\u5ea6\u53d6\u5f97(%1)",SENSORS_GET_GYRO_SENIOR:"\u89d2\u901f\u5ea6\u53d6\u5f97(%1)",SENSORS_GET_ANGULAR_SPEED_SENIOR:"\u89d2\u901f\u5ea6\u53d6\u5f97(%1)",SENSORS_GET_ACCEL_SENIOR:"\u52a0\u901f\u5ea6\u53d6\u5f97(%1)",SENSORS_GET_POS_SENIOR:"\u4f4d\u7f6e\u53d6\u5f97(%1, %2)",SENSORS_GET_BATTERY_SENIOR:"\u30d0\u30c3\u30c6\u30ea\u30fc\u60c5\u5831\u53d6\u5f97()",SENSORS_GET_HEIGHT_SENIOR:"\u9ad8\u3055\u53d6\u5f97(%1)",SENSORS_GET_PRESSURE_SENIOR:"\u6c17\u5727\u53d6\u5f97(%1)",SENSORS_GET_TEMPERATURE_SENIOR:"\u30c9\u30ed\u30fc\u30f3\u6e29\u5ea6\u53d6\u5f97(%1)",VAR_TEMPERATURE_FAHRENHEIT:"\u83ef\u6c0f",VAR_TEMPERATURE_CELSIUS:"\u6442\u6c0f",VAR_TEMPERATURE_KELVIN:"Kelvin",SENSORS_GET_ALTITUDE_SENIOR:"\u9ad8\u5ea6\u53d6\u5f97()",SENSORS_GET_COLORS_SENIOR:"\u8272\u53d6\u5f97(%1)",VAR_COLORS_FRONT:"\u524d\u65b9",VAR_COLORS_BACK:"\u5f8c\u65b9",SENSORS_GET_COLOR_HSVL_SENIOR:"\u8272%1\u7a7a\u9593\u53d6\u5f97(%2)",VAR_HSVL_HUE:"\u8272\u76f8",VAR_HSVL_SATURATION:"\u5f69\u5ea6",VAR_HSVL_VALUE:"\u5024",VAR_HSVL_LIGHTNESS:"\u8f1d\u5ea6",SENSORS_GET_STATE_SENIOR:"\u72b6\u6cc1\u30c7\u30fc\u30bf\u53d6\u5f97(%1)",VAR_STATE_MODEFLIGHT:"\u30d5\u30e9\u30a4\u30c8\u30e2\u30fc\u30c9",VAR_STATE_MODEMOVEMENT:"\u30e2\u30fc\u30b7\u30e7\u30f3\u30e2\u30fc\u30c9",LIGHTS_SET_DRONE_LED_SENIOR:"\u30c9\u30ed\u30fc\u30f3LED\u30bb\u30c3\u30c8(%1, %2, %3, %4)",LIGHTS_DRONE_LED_OFF_SENIOR:"\u30c9\u30ed\u30fc\u30f3LED\u30aa\u30d5()",LIGHTS_SET_CONTROLLER_LED_SENIOR:"\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fcLED\u30bb\u30c3\u30c8(%1, %2, %3, %4)",LIGHTS_CONTROLLER_LED_OFF_SENIOR:"\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fcLED\u30aa\u30d5()",DRONE_BUZZER_SENIOR:"\u30c9\u30ed\u30fc\u30f3\u30d6\u30b6\u30fc(\u97f3\u968e. %1, %2 \u30df\u30ea\u79d2)",CONTROLLER_BUZZER_SENIOR:"\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u30d6\u30b6\u30fc(\u97f3\u968e. %1, %2 \u30df\u30ea\u79d2)",DRONE_BUZZER_HERTZ_SENIOR:"\u30c9\u30ed\u30fc\u30f3\u30d6\u30b6\u30fc(%1 Hertz, %2 \u30df\u30ea\u79d2)",CONTROLLER_BUZZER_HERTZ_SENIOR:"\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u30d6\u30b6\u30fc(%1 Hertz, %2 \u30df\u30ea\u79d2)",SCREEN_CONTROLLER_DRAW_LINE_SENIOR:"\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u76f4\u7dda\u63cf\u5199(%1, %2, %3, %4)",SCREEN_CONTROLLER_DRAW_STRING_SENIOR:"\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u6587\u5b57\u5217\u63cf\u5199(%1, %2, %3)",SCREEN_CONTROLLER_DRAW_RECTANGLE_SENIOR:"\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u77e9\u5f62\u63cf\u5199(%1, %2, %3, %4, %5)",SCREEN_CONTROLLER_DRAW_SQUARE_SENIOR:"\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u65b9\u5f62(%1, %2, %3, %4)",SCREEN_CONTROLLER_DRAW_POINT_SENIOR:"\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u30dd\u30a4\u30f3\u30c8\u63cf\u5199(%1, %2)",SCREEN_CONTROLLER_DRAW_IMAGE_SENIOR:"\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u753b\u50cf\u63cf\u5199(%1)",SCREEN_CONTROLLER_CLEAR_SCREEN_SENIOR:"\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u30b9\u30af\u30ea\u30fc\u30f3\u30af\u30ea\u30a2()",COLOR_GET_COLOR_DATA:"\u8272\u60c5\u5831\u53d6\u5f97(%1)",PLAY_BLOCK_REMOVED:"\u300c\u30d7\u30ec\u30a4\u304c\u30af\u30ea\u30c3\u30af\u3055\u308c\u305f\u6642\u300d\u306e\u30d6\u30ed\u30c3\u30af\u304c\u30ef\u30fc\u30af\u30b9\u30da\u30fc\u30b9\u304b\u3089\u524a\u9664\u3055\u308c\u307e\u3057\u305f\u3002\u30da\u30fc\u30b8\u3092\u30ea\u30ed\u30fc\u30c9\u3057\u3066\u30c9\u30ed\u30fc\u30f3\u3092blockly\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3068\u518d\u63a5\u7d9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002",SENSORS_RESET:"\u30bb\u30f3\u30b5\u30fc\u30ea\u30bb\u30c3\u30c8()",BTN_CONTINUE:"\u7d9a\u3051\u308b",PANEL_LESSONS:"\u30ec\u30c3\u30b9\u30f3",PANEL_SENSORS:"\u30bb\u30f3\u30b5\u30fc",PANEL_PYTHON:"Python",PANEL_DOCS:"\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8",PANEL_EXAMPLES:"\u4f8b",SAVE_FILE_NAME:"\u30d5\u30a1\u30a4\u30eb\u540d",NEW_WARNING:"\u8b66\u544a!\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u958b\u304f\u3068\u3001\u30ef\u30fc\u30af\u30b9\u30da\u30fc\u30b9\u304c\u6d88\u53bb\u3055\u308c\u307e\u3059\u3002\u7d9a\u884c\u3057\u307e\u3059\u304b\uff1f",FLIGHT_STOP_AT_OBSTACLE_SENIOR:"\u969c\u5bb3\u7269\u505c\u6b62(%1, %2)",FLIGHT_DETECT_OBSTACLE_SENIOR:"\u969c\u5bb3\u7269\u63a2\u77e5()",FLIGHT_GO_SENIOR:"\u9032\u3080(%2 %, %3 %, %4 %, %5 %, %1 \u79d2)",SENSORS_GET_ELEVATION_SENIOR:"\u6a19\u9ad8\u53d6\u5f97(%1)",VERSION_MENU:"\u30ea\u30ea\u30fc\u30b9\u30ce\u30fc\u30c8"}},5891:function(e,t,n){"use strict";n.d(t,{B:function(){return r}});var r={CAT_EVENTS:"\uc774\ubca4\ud2b8",CAT_IO:"\uc785\ucd9c\ub825",CAT_LOGIC:"\ub17c\ub9ac",CAT_LOOPS:"\ubc18\ubcf5",CAT_MATH:"\uc218\ud559",CAT_TIMING:"\uc2dc\uac04",CAT_VARS:"\ubcc0\uc218",CAT_FUNC:"\ud568\uc218",CAT_FLIGHT_COMMANDS:"\ube44\ud589 \uba85\ub839",CAT_FLIGHT_SEQUENCES:"\ube44\ud589 \uc2dc\ud000\uc2a4",CAT_FLIGHT_VARIABLES:"\ube44\ud589 \ubcc0\uc218",CAT_STATUS_CHECKERS:"\uc0c1\ud0dc \ud655\uc778",CAT_LIGHTS:"LED",CAT_SOUND:"\uc18c\ub9ac",CAT_SENSORS:"\uc13c\uc11c",CAT_SCREEN:"\ud654\uba74",CAT_COLOR:"\uc0c9\uc0c1",CAT_LISTS:"\ub9ac\uc2a4\ud2b8",FLIGHT_TAKE_OFF:"%1 \uc774\ub959",FLIGHT_LAND:"%1 \ucc29\ub959",FLIGHT_EMERGENCY_STOP:"%1 \ube44\uc0c1 \ucc29\ub959",FLIGHT_HOVER:"%1 %2 \ucd08 \ub3d9\uc548 \ub9f4\ub3cc\uae30",FLIGHT_GO:"%4 %2 \ucd08 \ub3d9\uc548 %3 % \ud30c\uc6cc\ub85c %1 (\uc73c)\ub85c \uc774\ub3d9",FLIGHT_TURN_DEGREES:"%3 %2 \ub3c4 %1 \uc73c\ub85c \ud68c\uc804",FLIGHT_TURN_POWER:"%3 %2 \ucd08 \ub3d9\uc548 %4 % \ud30c\uc6cc\ub85c %1 \uc73c\ub85c \ud68c\uc804",FLIGHT_FLIP:"%1 %2 (\uc73c)\ub85c \uacf5\uc911\uc81c\ube44",STATUS_CODE_IS_RUNNING:"\ucf54\ub4dc\uac00 \uc2e4\ud589 \uc911",LIGHTS_DRONE_LED:"%1 \ub4dc\ub860 LED \uc0c9\uc0c1\uc744 %2\ub85c %3 \ubc1d\uae30\ub85c \uc124\uc815\ud558\uae30 %4",LIGHTS_OFF_DRONE_LED:"%1 \ub4dc\ub860 LED \ub044\uae30",LIGHTS_CONTROLLER_LED:"%1 \uc870\uc885\uae30 LED \uc0c9\uc0c1\uc744 %2\ub85c %3 \ubc1d\uae30\ub85c \uc124\uc815\ud558\uae30 %4",LIGHTS_OFF_CONTROLLER_LED:"%1 \uc870\uc885\uae30 LED \ub044\uae30",SOUND_DRONE:"%1 %2 \ub178\ud2b8 %3 \ucd08 \ub3d9\uc548 \ub4dc\ub860\uc5d0 \uc5f0\uc8fc\ud558\uae30",SOUND_CONTROLLER:"%1 %2 \ub178\ud2b8 %3 \ucd08 \ub3d9\uc548 \uc870\uc885\uae30\uc5d0 \uc5f0\uc8fc\ud558\uae30",VAR_FORWARD:"\uc55e",VAR_FORWARD_FLIP:"\uc55e",VAR_BACKWARD:"\ub4a4",VAR_BACKWARD_FLIP:"\ub4a4",VAR_UP:"\uc704",VAR_DOWN:"\uc544\ub798",VAR_LEFT:"\uc67c\ucabd",VAR_RIGHT:"\uc624\ub978\ucabd",IO_RUN_CLICKED:"%1 \ubc84\ud2bc\uc744 \ud074\ub9ad\ud588\uc744 \ub54c",IO_WHEN_KEY_PRESS:"%1 \ud0a4\ub97c \ub20c\ub800\uc744 \ub54c",TIME_WAIT:"%2 %1 \ucd08 \ub3d9\uc548 \uae30\ub2e4\ub9ac\uae30",TIME_WAIT_SENIOR:"%2 \uc77c\uc2dc \uc815\uc9c0(%1 \ucd08)",CURRENT_TIME_IN:"\ud604\uc7ac \uc2dc\uac04 \ud655\uc778",XML_JUNIOR:"\ucd08\uae09",XML_SENIOR:"\uace0\uae09",WARN_REQUIREMENTS:"\ube14\ub85d\ud074\ub9ac\ub97c \uc0ac\uc6a9\ud558\uae30 \uc804\uc5d0 \ucef4\ud4e8\ud130\uac00 %1 \uc744 \ucda9\uc871\ud558\ub294\uc9c0 \ud655\uc778\ud574\uc8fc\uc138\uc694.",WARN_MINIMUM:"\ucd5c\uc18c \uc0ac\uc591",CODE_APPROXIMATION:"\uc544\ub798 Python \ucf54\ub4dc\ub294 \uadfc\uc0ac\uce58\uc785\ub2c8\ub2e4.",CODE_COPY:"\ubcf5\uc0ac",MENU_MENU:"\uba54\ub274",MENU_SAVE:"\uc800\uc7a5",MENU_OPEN:"\uc5f4\uae30...",MENU_NEW:"\uc0c8 \ud504\ub85c\uc81d\ud2b8",MENU_CLEAN_UP:"\uc815\ub82c",MENU_UNDO:"\ucde8\uc18c",MENU_REDO:"\ub2e4\uc2dc\ud558\uae30",MENU_HELP:"\ub3c4\uc6c0\ub9d0",MENU_SYSTEM:"\uc2dc\uc2a4\ud15c \ud658\uacbd",MENU_GET_LOG_FILE:"\ub85c\uadf8 \ud30c\uc77c \uac00\uc838\uc624\uae30",NOTICE_MSG_UNABLE_TO_CONNECT:"\ucf54\ub4dc\ub860 EDU\uc5d0 \uc5f0\uacb0\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \ub4dc\ub860\uc758 \uc804\uc6d0\uc774 \ucf1c\uc838\uc788\uace0 \uc870\uc885\uae30\uc640 \ud398\uc5b4\ub9c1 \ub418\uc5b4 \uc788\ub294\uc9c0 \ud655\uc778\ud558\uc2ed\uc2dc\uc624.",BTN_RUN:"\uc2e4\ud589",BTN_STOP:"\uba48\ucda4",BTN_LAND:"\ucc29\ub959",BTN_RUNNING:"\uc2e4\ud589\uc911...",CONN_NOT_PAIRED:"\uc5f0\uacb0\ub418\uc9c0\uc54a\uc74c",CONN_HOW_TO_PAIR:"\uc5b4\ub5bb\uac8c \uc5f0\uacb0\ud558\ub098\uc694?",CONN_PAIR:"\uc5f0\uacb0",CONN_BATT_ALERT_TEXT1:"\ube14\ub85d\ud074\ub9ac\uc5d0 \ucee8\ud2b8\ub864\ub7ec\ub97c \uc5f0\uacb0\ud558\uae30 \uc804:",CONN_BATT_ALERT_TEXT2:"\ucee8\ud2b8\ub864\ub7ec\uc758 AA \ubc30\ud130\ub9ac\ub97c \ubaa8\ub450 \uc81c\uac70\ud574\uc8fc\uc138\uc694.",CONN_BATT_ALERT_TEXT3:"\uc81c\ud488\uc5d0 \ud3ec\ud568\ub41c USB \ucf00\uc774\ube14\uc744 \uc0ac\uc6a9\ud574\uc8fc\uc138\uc694. \uc77c\ubd80 USB \ucf00\uc774\ube14\uc740 \ucda9\uc804\ub9cc \uac00\ub2a5\ud558\uba70 \ub370\uc774\ud130 \uc804\uc1a1\uc774 \ubd88\uac00\ub2a5\ud569\ub2c8\ub2e4.",CONN_BATT_ALERT_TEXT4:"\ub354 \uc54c\uc544\ubcf4\uae30",CONN_LEARN_MORE:"\ub354 \uc54c\uc544\ubcf4\uae30",CONN_PAIRED:"\uc5f0\uacb0\ub428",CONN_SPEED:"\uc18d\ub3c4",CONN_TRIMMING:"\ud2b8\ub9ac\ubc0d",CONN_PITCH:"\ud53c\uce58",CONN_ROLL:"\ub864",CONN_DISCONNECT:"\uc5f0\uacb0 \ub04a\uae30",CONSOLE_TAB:"\ucf58\uc194",CONSOLE_CLEAR:"\ubaa8\ub450 \uc9c0\uc6b0\uae30",CLEAR_WARNING:"\uacbd\uace0! \uc0c8\ub85c\uc6b4 \ud504\ub85c\uc81d\ud2b8\ub97c \uc2dc\uc791\ud558\uac8c \ub418\uba74 \ud604\uc7ac \uc788\ub294 \ucf54\ub4dc\uac00 \uc0ac\ub77c\uc9d1\ub2c8\ub2e4. \uacc4\uc18d \uc9c4\ud589\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",BTN_CANCEL:"\ucde8\uc18c",BTN_OK:"\ud655\uc778",IMAGE_UPLOAD:"\uc774\ubbf8\uc9c0 \uc5c5\ub85c\ub4dc",COLOR_CAT_BTN_CALIBRATE:"\uc0c9\uc0c1 \uad50\uc815\ud558\uae30",COLOR_CAT_BTN_LOAD_DATASET:"\ub370\uc774\ud130\uc14b \ubd88\ub7ec\uc624\uae30",COLOR_ALERT_PAIR:"\ub4dc\ub860\uc744 \uc5f0\uacb0\ud574 \uc8fc\uc138\uc694.",COLOR_WARNING_NEW:"\uacbd\uace0! \uc0c8\ub85c\uc6b4 \uc0c9\uc0c1 \uc138\ud2b8\ub97c \ub9cc\ub4e4\uac8c \ub418\uba74 \ud604\uc7ac \uc788\ub294 \uc0c9\uc0c1 \uc138\ud2b8\uac00 \uc0ac\ub77c\uc9d1\ub2c8\ub2e4. \uacc4\uc18d \uc9c4\ud589\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",COLOR_HEADER:"\uc0c9\uc0c1 \uad50\uc815",COLOR_MAIN_BTN_NEW:"\uc0c8\ub85c\uc6b4 \uc0c9\uc0c1 \uc138\ud2b8 \ub9cc\ub4e4\uae30",COLOR_MAIN_BTN_EXISTING:"\uae30\uc874 \uc0c9\uc0c1 \uc138\ud2b8\uc5d0\uc11c \uad50\uc815\ud558\uae30",COLOR_TITLE_COLOR_SET_NAME:"\uc0c9\uc0c1 \uc138\ud2b8 \uc774\ub984\uc744 \ubb34\uc5c7\uc73c\ub85c \ud560\uae4c\uc694?",COLOR_TITLE_COLLECT_SAMPLE:"%1 \uc0c9\uc758 \uc0d8\ud50c\uc744 \uba87 \uac1c \ubaa8\uc744\uae4c\uc694?",COLOR_CALIBRATING:"\uad50\uc815\uc911...",COLOR_TITLE_DETECTING:"\uc778\uc2dd \uc911:",COLOR_BTN_NEXT:"\ub2e4\uc74c",COLOR_BTN_COLLECT:"\uc218\uc9d1\ud558\uae30",COLOR_BTN_CALIBRATE:"\uad50\uc815\ud558\uae30",COLOR_BTN_STARTOVER:"\ub2e4\uc2dc \uc2dc\uc791",COLOR_BTN_USE:"\uc774 \uc0c9\uc0c1 \uc138\ud2b8 \uc0ac\uc6a9\ud558\uae30",COLOR_BTN_DOWNLOAD:"\ub2e4\uc6b4\ub85c\ub4dc",COLOR_LOAD_CLASSIFIER:"\uc0c9\uc0c1 \uc138\ud2b8 \ubd88\ub7ec\uc624\uae30: %1 ",ALERT_WHICH_DRONE:"\uc5b4\ub5a4 \ub4dc\ub860\uc744 \uac00\uc9c0\uace0 \uc788\ub098\uc694?",MENU_SETTINGS:"\uc124\uc815",MENU_LANGUAGE:"\uc5b8\uc5b4",SD_NO_DRONE_PAIRED:"\uc5f0\uacb0\ub41c \ub4dc\ub860 \uc5c6\uc74c",SD_INACTIVE_NOT_ON_SURFACE:"\ud45c\uba74\uc5d0\uc11c \ub5a8\uc5b4\uc838 \uc788\uc744 \ub54c \ube44\ud65c\uc131\ud654",SD_ACCEL:"\uac00\uc18d\ub3c4",SD_GYRO:"\uc790\uc774\ub85c",VALUE_YAW:"\uc694",SD_FRONT_RANGE:"\uc804\ubc29 \uac70\ub9ac",SD_BOTTOM_RANGE:"\ud558\ub2e8 \uac70\ub9ac",SD_FRONT_COLOR:"\uc55e \uceec\ub7ec",SD_REAR_COLOR:"\ub4a4 \uceec\ub7ec",VALUE_HUE:"\uc0c9\uc870",VALUE_SAT:"\ucc44\ub3c4",VALUE_VAL:"\uba85\ub3c4",SD_TEMP:"\ub4dc\ub860 \uc628\ub3c4",SD_PRESSURE:"\uc555\ub825",SD_POS:"\uc704\uce58",SD_BTN_REFRESH:"\uc0c8\ub85c\uace0\uce68",SD_MSG_REQUEST:"\uc13c\uc11c \ub370\uc774\ud130\ub97c \ud45c\uc2dc\ud558\uae30 \uc704\ud574 \ucf54\ub4dc\ub97c \uc2e4\ud589\ud574\uc8fc\uc138\uc694",TEXT_PRINT_TITLE:"\ucf58\uc194\uc5d0 \ud45c\uc2dc\ud558\uae30 %1",TEXT_CREATE_JOIN_TITLE_JOIN:"\uc870\ud569",CONTROLS_REPEAT_INPUT_DO:"\uc2e4\ud589",CONTROLS_IF_MSG_THEN:"\uc2e4\ud589",CONTROLS_WHILEUNTIL_OPERATOR_UNTIL:"\ub420 \ub54c\uae4c\uc9c0 \ubc18\ubcf5",CONTROLS_FOR_TITLE:"%1 (\uac12)\uc744 \uc2dc\uc791 %2 \uc5d0\uc11c \uc885\ub8cc %3 \uae4c\uc9c0 %4 \ub9cc\ud07c \ubcc0\ud654",CONTROLS_FOREACH_TITLE:"\ub9ac\uc2a4\ud2b8 %1 \uc758 \uac01 \ud56d\ubaa9\uc744 %2",CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE:"\uac74\ub108\ub6f0\uae30",MATH_CHANGE_TITLE:"%1 \ub97c %2 \ub9cc\ud07c \ubc14\uafb8\uae30",SD_OUT_OF_RANGE:"\ubc94\uc704 \ubc97\uc5b4\ub0a8",FLIGHT_TAKE_OFF_SENIOR:"\uc774\ub959()",FLIGHT_LAND_SENIOR:"\ucc29\ub959()",FLIGHT_EMERGENCY_STOP_SENIOR:"\uae34\uae09_\uc815\uc9c0()",FLIGHT_HOVER_SENIOR:"\ud638\ubc84\ub9c1(%1 \ucd08)",FLIGHT_MOVE_SENIOR:"\uc774\ub3d9\ud558\uae30(%2 %, %3 %, %4 %, %5 %, %1 \ucd08)",FLIGHT_FLIP_SENIOR:"\uacf5\uc911\uc81c\ube44(%1)",FLIGHT_TURN_DEGREE_SENIOR:"\uac01\ub3c4_\ud68c\uc804(%1\xb0)",FLIGHT_TURN_SENIOR:"\ud68c\uc804_%1\ubc29\ud5a5(%2\xb0)",FLIGHT_AVOID_WALL_SENIOR:"\ubcbd_\ud68c\ud53c\ud558\uae30(%1, %2)",FLIGHT_SETROLL_SENIOR:"\ub864_\uc124\uc815\ud558\uae30(%1 %)",FLIGHT_SETPITCH_SENIOR:"\ud53c\uce58_\uc124\uc815\ud558\uae30(%1 %)",FLIGHT_SETYAW_SENIOR:"\uc694_\uc124\uc815\ud558\uae30(%1 %)",FLIGHT_SETTHROTTLE_SENIOR:"\uc2a4\ub85c\ud2c0_\uc124\uc815\ud558\uae30(%1 %)",FLIGHT_MOVE_NO_PARAM_SENIOR:"\uc774\ub3d9\ud558\uae30()",FLIGHT_MOVE_DURATION_SENIOR:"\uc774\ub3d9\ud558\uae30(%1 \ucd08)",FLIGHT_SET_TRIM_SENIOR:"\ud2b8\ub9bc_\uc124\uc815\ud558\uae30(%1, %2)",FLIGHT_GET_TRIM_SENIOR:"\ud2b8\ub9bc_\uac00\uc838\uc624\uae30()",FLIGHT_RESET_TRIM_SENIOR:"\ud2b8\ub9bc_\ucd08\uae30\ud654()",SENSORS_GET_RANGE_SENIOR:"\uac70\ub9ac_\uac00\uc838\uc624\uae30(%1, %2)",VAR_RANGE_FORWARD:"\uc804\ubc29",VAR_RANGE_BOTTOM:"\ud558\ub2e8",SENSORS_GET_ANGLE_SENIOR:"\uac01\ub3c4_\uac00\uc838\uc624\uae30(%1)",SENSORS_GET_ANGULAR_SPEED_SENIOR:"\uac01\uc18d\ub3c4_\uac00\uc838\uc624\uae30(%1)",SENSORS_GET_ACCEL_SENIOR:"\uac00\uc18d\ub3c4_\uac00\uc838\uc624\uae30(%1)",SENSORS_GET_POS_SENIOR:"\uc704\uce58_\uac00\uc838\uc624\uae30(%1, %2)",SENSORS_GET_BATTERY_SENIOR:"\ubc30\ud130\ub9ac_\uac00\uc838\uc624\uae30()",SENSORS_GET_HEIGHT_SENIOR:"\ub192\uc774_\uac00\uc838\uc624\uae30(%1)",SENSORS_GET_PRESSURE_SENIOR:"\uae30\uc555_\uac00\uc838\uc624\uae30(%1)",SENSORS_GET_TEMPERATURE_SENIOR:"\uc628\ub3c4_\uac00\uc838\uc624\uae30(%1)",VAR_TEMPERATURE_FAHRENHEIT:"\ud654\uc528",VAR_TEMPERATURE_CELSIUS:"\uc12d\uc528",VAR_TEMPERATURE_KELVIN:"\ucf08\ube48",SENSORS_GET_ALTITUDE_SENIOR:"\uc790\uc138_\ub370\uc774\ud130_\uac00\uc838\uc624\uae30()",SENSORS_GET_COLORS_SENIOR:"\uc0c9\uc0c1_\uac00\uc838\uc624\uae30(%1 \uceec\ub7ec \uc13c\uc11c)",VAR_COLORS_FRONT:"\uc55e\ucabd",VAR_COLORS_BACK:"\ub4a4\ucabd",SENSORS_GET_COLOR_HSVL_SENIOR:"%1 \uceec\ub7ec \uc13c\uc11c\uc758_hsvl(%2)\uac00\uc838\uc624\uae30",VAR_HSVL_HUE:"\uc0c9\uc870",VAR_HSVL_SATURATION:"\ucc44\ub3c4",VAR_HSVL_VALUE:"\uba85\ub3c4",VAR_HSVL_LIGHTNESS:"\ubc1d\uae30",SENSORS_GET_STATE_SENIOR:"\uc0c1\ud0dc_\ub370\uc774\ud130_\uac00\uc838\uc624\uae30(%1)",VAR_STATE_MODEFLIGHT:"\ube44\ud589\ub3d9\uc791\uc0c1\ud0dc",VAR_STATE_MODEMOVEMENT:"\uc774\ub3d9\uc0c1\ud0dc",LIGHTS_SET_DRONE_LED_SENIOR:"\ub4dc\ub860_LED_\uc124\uc815(%1, %2, %3, %4)",LIGHTS_DRONE_LED_OFF_SENIOR:"\ub4dc\ub860_LED_\ub044\uae30()",LIGHTS_SET_CONTROLLER_LED_SENIOR:"\uc870\uc885\uae30_LED_\uc124\uc815(%1, %2, %3, %4)",LIGHTS_CONTROLLER_LED_OFF_SENIOR:"\uc870\uc885\uae30_LED_\ub044\uae30()",DRONE_BUZZER_SENIOR:"\ub4dc\ub860\uc5d0\uc11c_\uc18c\ub9ac\ub0b4\uae30(Note.%1, %2 \ubc00\ub9ac\ucd08)",CONTROLLER_BUZZER_SENIOR:"\uc870\uc885\uae30\uc5d0\uc11c_\uc18c\ub9ac\ub0b4\uae30(Note.%1, %2 \ubc00\ub9ac\ucd08)",DRONE_BUZZER_HERTZ_SENIOR:"\ub4dc\ub860\uc5d0\uc11c_\uc18c\ub9ac\ub0b4\uae30(%1 Hertz, %2 \ubc00\ub9ac\ucd08)",CONTROLLER_BUZZER_HERTZ_SENIOR:"\uc870\uc885\uae30\uc5d0\uc11c_\uc18c\ub9ac\ub0b4\uae30(%1 Hertz, %2 \ubc00\ub9ac\ucd08)",SCREEN_CONTROLLER_DRAW_LINE_SENIOR:"\uc870\uc885\uae30\uc5d0_\uc120_\uadf8\ub9ac\uae30(%1, %2, %3, %4)",SCREEN_CONTROLLER_DRAW_STRING_SENIOR:"\uc870\uc885\uae30\uc5d0_\ubb38\uc790_\uadf8\ub9ac\uae30(%1, %2, %3)",SCREEN_CONTROLLER_DRAW_RECTANGLE_SENIOR:"\uc870\uc885\uae30\uc5d0_\uc0ac\uac01\ud615_\uadf8\ub9ac\uae30(%1, %2, %3, %4, %5)",SCREEN_CONTROLLER_DRAW_SQUARE_SENIOR:"\uc870\uc885\uae30\uc5d0_\uc815\uc0ac\uac01\ud615_\uadf8\ub9ac\uae30(%1, %2, %3, %4)",SCREEN_CONTROLLER_DRAW_POINT_SENIOR:"\uc870\uc885\uae30\uc5d0_\uc810_\uadf8\ub9ac\uae30(%1, %2)",SCREEN_CONTROLLER_DRAW_IMAGE_SENIOR:"\uc870\uc885\uae30\uc5d0_\uc774\ubbf8\uc9c0_\uadf8\ub9ac\uae30(%1)",SCREEN_CONTROLLER_CLEAR_SCREEN_SENIOR:"\uc870\uc885\uae30_\ud654\uba74_\uc9c0\uc6b0\uae30()",COLOR_GET_COLOR_DATA:"\uceec\ub7ec_\ub370\uc774\ud130_\uc608\uce21\ud558\uae30(%1)",PLAY_BLOCK_REMOVED:'"[\uc2e4\ud589] \ubc84\ud2bc\uc744 \ud074\ub9ad\ud588\uc744\ub54c" \ube14\ub85d\uc774 \uc81c\uac70\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \ud398\uc774\uc9c0\ub97c \uc0c8\ub85c\uace0\uce68\ud558\uace0 Blockly\uc5d0 \ub4dc\ub860\uc744 \ub2e4\uc2dc \uc5f0\uacb0\ud574\uc8fc\uc138\uc694.',SENSORS_RESET:"\uc13c\uc11c_\ub9ac\uc14b()",BTN_CONTINUE:"\uacc4\uc18d",PANEL_LESSONS:"Lessons",PANEL_SENSORS:"Sensors",PANEL_PYTHON:"Python",PANEL_DOCS:"Docs",PANEL_EXAMPLES:"Examples",SAVE_FILE_NAME:"File name:",NEW_WARNING:"Warning! Opening a project will clear your workspace. Do you want to continue?",FLIGHT_STOP_AT_OBSTACLE_SENIOR:"stop_at_obstacle(%1, %2)",FLIGHT_DETECT_OBSTACLE_SENIOR:"detect_obstacle()",FLIGHT_GO_SENIOR:"go(%2 %, %3 %, %4 %, %5 %, %1 sec)",SENSORS_GET_ELEVATION_SENIOR:"get_elevation(%1)",MATH_CONVERT:"\ub2e8\uc704 \ubc14\uafb8\uae30",MATH_CONVERT_TO:"\uc744(\ub97c)",MATH_NULL:"\uac12 \uc5c6\uc74c",TIMING_MILLISECONDS:"\ubc00\ub9ac\ucd08",TIMING_SECONDS:"\ucd08",DRONE_LABEL:"\ub4dc\ub860",CONTROLLER_LABEL:"\uc870\uc885\uae30",VERSION_MENU:"\ub9b4\ub9ac\uc988 \ub178\ud2b8"}},8088:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{$q:function(){return allowDrop},Cw:function(){return drop},DU:function(){return customPyGenerator},FY:function(){return getLangFromStorage},GH:function(){return MSG},GT:function(){return openAndClearExamples},Gx:function(){return reArrangeListenerEvents},Ii:function(){return loadBlocksAndGenerators},J0:function(){return loadGlobalFunctions},Nq:function(){return checkXMLParam},PT:function(){return readXmlFile},Pg:function(){return clearWorkspace},QP:function(){return loadClassifierAndLabelBlocks},Ru:function(){return loadWorkspace},Yi:function(){return checkIfTimeBlockExists},fJ:function(){return setOrphanFunc},is:function(){return checkIfHasKeyPress},l1:function(){return downloadCode},mB:function(){return convertReactElementToXml},mK:function(){return addClassToCategories},zS:function(){return runJS}});var _Users_jungwon_robolink_Robolink_Code_codrone_blockly_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(4165),_Users_jungwon_robolink_Robolink_Code_codrone_blockly_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(2982),_Users_jungwon_robolink_Robolink_Code_codrone_blockly_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(5861),_Users_jungwon_robolink_Robolink_Code_codrone_blockly_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(7762),blockly__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7496),blockly__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(blockly__WEBPACK_IMPORTED_MODULE_0__),blockly_javascript__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4173),blockly_javascript__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(blockly_javascript__WEBPACK_IMPORTED_MODULE_1__),react_dom_server__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(4389),jquery__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6666),jquery__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_3__),_ConnectionHelper__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9656),_DroneHelper__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(5317),_robolinkinc_codrone_lib__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2527),blockly_msg_ko__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(7161),blockly_msg_ko__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(blockly_msg_ko__WEBPACK_IMPORTED_MODULE_6__),blockly_msg_ja__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(145),blockly_msg_ja__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(blockly_msg_ja__WEBPACK_IMPORTED_MODULE_7__),_Blockly_msg_en__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(9980),_Blockly_msg_ko__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(5891),_Blockly_msg_ja__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(6393),DEFAULT_XML='<xml xmlns="https://developers.google.com/blockly/xml"></xml>',orphansFunc=null,requestedReloading=!1,MSG=getMsgObj();function getLangFromStorage(){return"cdm"===(0,_DroneHelper__WEBPACK_IMPORTED_MODULE_11__.g)()?"en":localStorage.getItem("cde_lang")?localStorage.getItem("cde_lang"):"en"}function getMsgObj(){var e=getLangFromStorage();return"ko"===e?_Blockly_msg_ko__WEBPACK_IMPORTED_MODULE_9__.B:"ja"===e?_Blockly_msg_ja__WEBPACK_IMPORTED_MODULE_10__.Y:_Blockly_msg_en__WEBPACK_IMPORTED_MODULE_8__.a}function setBlocklyLocale(){var e=getLangFromStorage();"ko"===e?(blockly__WEBPACK_IMPORTED_MODULE_0___default().setLocale(blockly_msg_ko__WEBPACK_IMPORTED_MODULE_6__),blockly__WEBPACK_IMPORTED_MODULE_0___default().setLocale(_Blockly_msg_ko__WEBPACK_IMPORTED_MODULE_9__.B)):"ja"===e?(blockly__WEBPACK_IMPORTED_MODULE_0___default().setLocale(blockly_msg_ja__WEBPACK_IMPORTED_MODULE_7__),blockly__WEBPACK_IMPORTED_MODULE_0___default().setLocale(_Blockly_msg_ja__WEBPACK_IMPORTED_MODULE_10__.Y)):blockly__WEBPACK_IMPORTED_MODULE_0___default().setLocale(_Blockly_msg_en__WEBPACK_IMPORTED_MODULE_8__.a)}function loadGlobalFunctions(e){return _loadGlobalFunctions.apply(this,arguments)}function _loadGlobalFunctions(){return(_loadGlobalFunctions=(0,_Users_jungwon_robolink_Robolink_Code_codrone_blockly_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)((0,_Users_jungwon_robolink_Robolink_Code_codrone_blockly_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_14__.Z)().mark((function e(t){return(0,_Users_jungwon_robolink_Robolink_Code_codrone_blockly_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_14__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("cdm"!==t){e.next=5;break}return e.next=3,__webpack_require__.e(605).then(__webpack_require__.bind(__webpack_require__,3605));case 3:e.next=7;break;case 5:return e.next=7,__webpack_require__.e(565).then(__webpack_require__.bind(__webpack_require__,4565));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function loadBlocksAndGenerators(e){return _loadBlocksAndGenerators.apply(this,arguments)}function _loadBlocksAndGenerators(){return(_loadBlocksAndGenerators=(0,_Users_jungwon_robolink_Robolink_Code_codrone_blockly_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)((0,_Users_jungwon_robolink_Robolink_Code_codrone_blockly_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_14__.Z)().mark((function e(t){return(0,_Users_jungwon_robolink_Robolink_Code_codrone_blockly_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_14__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("cde"!==t){e.next=12;break}return e.next=3,Promise.all([__webpack_require__.e(309),__webpack_require__.e(357)]).then(__webpack_require__.bind(__webpack_require__,5357));case 3:return e.sent,e.next=6,__webpack_require__.e(459).then(__webpack_require__.bind(__webpack_require__,8459));case 6:return e.sent,e.next=9,__webpack_require__.e(31).then(__webpack_require__.bind(__webpack_require__,6031));case 9:e.sent,e.next=22;break;case 12:if("cdm"!==t){e.next=22;break}return e.next=15,Promise.all([__webpack_require__.e(309),__webpack_require__.e(727)]).then(__webpack_require__.bind(__webpack_require__,1727));case 15:return e.sent,e.next=18,__webpack_require__.e(933).then(__webpack_require__.bind(__webpack_require__,5401));case 18:return e.sent,e.next=21,__webpack_require__.e(893).then(__webpack_require__.bind(__webpack_require__,9893));case 21:e.sent;case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function checkXMLParam(e){var t=new URLSearchParams(window.location.search);if(t.has("xml")){var n=t.get("xml");localStorage.setItem(e,n),window.location=window.location.pathname}}function addClassToCategories(){var e=jquery__WEBPACK_IMPORTED_MODULE_3___default()(".blocklyTreeLabel");jquery__WEBPACK_IMPORTED_MODULE_3___default().each(e,(function(e,t){var n=t.textContent.replace(" ","-").toLowerCase();jquery__WEBPACK_IMPORTED_MODULE_3___default()(t).addClass(n)}))}function loadWorkspace(e){blockly__WEBPACK_IMPORTED_MODULE_0___default().getMainWorkspace().clear(),setTimeout((function(){if("undefined"!==typeof Storage)if(null!==localStorage.getItem(e))try{var t=blockly__WEBPACK_IMPORTED_MODULE_0___default().Xml.textToDom(localStorage.getItem(e));blockly__WEBPACK_IMPORTED_MODULE_0___default().Xml.domToWorkspace(t,blockly__WEBPACK_IMPORTED_MODULE_0___default().getMainWorkspace())}catch(r){console.error(r)}else try{var n=blockly__WEBPACK_IMPORTED_MODULE_0___default().Xml.textToDom(DEFAULT_XML);blockly__WEBPACK_IMPORTED_MODULE_0___default().Xml.domToWorkspace(n,blockly__WEBPACK_IMPORTED_MODULE_0___default().getMainWorkspace())}catch(r){console.error(r)}else console.error("Storage is not support.");setCallbackColorTraining()}),1e3)}function clearWorkspace(){blockly__WEBPACK_IMPORTED_MODULE_0___default().getMainWorkspace().clear();var e=blockly__WEBPACK_IMPORTED_MODULE_0___default().Xml.textToDom(DEFAULT_XML);blockly__WEBPACK_IMPORTED_MODULE_0___default().Xml.domToWorkspace(e,blockly__WEBPACK_IMPORTED_MODULE_0___default().getMainWorkspace())}function setCallbackColorTraining(){blockly__WEBPACK_IMPORTED_MODULE_0___default().getMainWorkspace().registerToolboxCategoryCallback("colorTraining",registerColorTrainingCategory),blockly__WEBPACK_IMPORTED_MODULE_0___default().getMainWorkspace().registerButtonCallback("openColorTrainingModal",openColorTrainingModal),blockly__WEBPACK_IMPORTED_MODULE_0___default().getMainWorkspace().registerButtonCallback("openLoadingColorModal",openLoadingColorModal)}function registerColorTrainingCategory(e){var t=[],n='<button text="'.concat(MSG.COLOR_CAT_BTN_CALIBRATE,'" callbackKey="openColorTrainingModal"></button>'),r=blockly__WEBPACK_IMPORTED_MODULE_0___default().Xml.textToDom(n);return t.push(r),n='<button text="'.concat(MSG.COLOR_CAT_BTN_LOAD_DATASET,'" callbackKey="openLoadingColorModal"></button>'),r=blockly__WEBPACK_IMPORTED_MODULE_0___default().Xml.textToDom(n),t.push(r),t}function openColorTrainingModal(e){(0,_ConnectionHelper__WEBPACK_IMPORTED_MODULE_4__.zd)()?__webpack_require__.g.openColorModal():alert(MSG.COLOR_ALERT_PAIR)}function openLoadingColorModal(e){readColorFolder()}function readColorFolder(){var e=document.createElement("input");e.type="file",e.id="text-selector",e.multiple=!0,e.webkitdirectory=!0,e.addEventListener("change",(function(){var e=this;if(Array.from(this.files).filter((function(e){return"txt"!==e.name.slice(-3)})).length>0)alert("There is a wrong file format in the folder");else{var t=this.files[0].webkitRelativePath.split("/")[0];window.localStorage.setItem("cde-color-model-name",t);for(var n={},r=this.files.length-1,i=function(t){var i=e.files[t],o=new FileReader,s=i.name.replace(".txt","");o.onload=function(){n[s]=o.result,t===r&&(window.localStorage.setItem("cde-color-model",JSON.stringify(n)),setTimeout((function(){loadClassifierAndLabelBlocks(),__webpack_require__.g.loadClassifier()}),1500))},o.readAsText(i)},o=0;o<this.files.length;o++)i(o)}})),e.click()}function loadClassifierAndLabelBlocks(){blockly__WEBPACK_IMPORTED_MODULE_0___default().getMainWorkspace().registerToolboxCategoryCallback("colorTraining",registerColorLabelBlocks),blockly__WEBPACK_IMPORTED_MODULE_0___default().getMainWorkspace().getToolbox("colorTraining").refreshSelection()}function registerColorLabelBlocks(e){var t=[],n='<button text="'.concat(MSG.COLOR_CAT_BTN_CALIBRATE,'" callbackKey="openColorTrainingModal"></button>'),r=blockly__WEBPACK_IMPORTED_MODULE_0___default().Xml.textToDom(n);t.push(r),n='<button text="'.concat(MSG.COLOR_CAT_BTN_LOAD_DATASET,'" callbackKey="openLoadingColorModal"></button>'),r=blockly__WEBPACK_IMPORTED_MODULE_0___default().Xml.textToDom(n),t.push(r),n='<block type="predict_color_senior"></block>',r=blockly__WEBPACK_IMPORTED_MODULE_0___default().Xml.textToDom(n),t.push(r);var i=JSON.parse(window.localStorage.getItem("cde-color-model")),o=window.localStorage.getItem("cde-color-model-name");n='<block type="color_classifier"><field name="NAME">'.concat(o,"</field></block>"),r=blockly__WEBPACK_IMPORTED_MODULE_0___default().Xml.textToDom(n),t.push(r);var s=Object.keys(i);if(blockly__WEBPACK_IMPORTED_MODULE_0___default().Blocks.color_label){var a,l=(0,_Users_jungwon_robolink_Robolink_Code_codrone_blockly_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_12__.Z)(s);try{for(l.s();!(a=l.n()).done;){var c=a.value;n='<block type="color_label"><field name="LABEL">'.concat(c,"</field></block>"),r=blockly__WEBPACK_IMPORTED_MODULE_0___default().Xml.textToDom(n),t.push(r)}}catch(u){l.e(u)}finally{l.f()}}return t}function readXmlFile(){var e=document.createElement("input");e.type="file",e.id="xml-selector",e.accept=".xml",e.addEventListener("change",(function(){var e=new FileReader;e.onload=function(){clearWorkspace();var t=e.result,n=blockly__WEBPACK_IMPORTED_MODULE_0___default().Xml.textToDom(t);try{blockly__WEBPACK_IMPORTED_MODULE_0___default().Xml.domToWorkspace(n,blockly__WEBPACK_IMPORTED_MODULE_0___default().mainWorkspace)}catch(r){if(r.toString().includes("Error: Variable")){console.error("The XML file has a variable name(s) that conflicts with this project's variable name(s).\n\nPlease change the variable name(s) using the \"Variables\" tab so that they don't overlap, then open the XML again.")}}},e.readAsText(this.files[0])})),e.click()}function downloadCode(e,t){var n=blockly__WEBPACK_IMPORTED_MODULE_0___default().Xml.domToText(t),r=document.createElement("a"),i=e+".xml",o=new Blob([n],{type:"text/plain"});r.setAttribute("href",window.URL.createObjectURL(o)),r.setAttribute("download",i),r.dataset.downloadurl=["text/plain",r.download,r.href].join(":"),r.draggable=!0,r.classList.add("dragout"),r.click()}function convertReactElementToXml(e){var t=(0,react_dom_server__WEBPACK_IMPORTED_MODULE_2__.renderToString)(e);return blockly__WEBPACK_IMPORTED_MODULE_0___default().Xml.textToDom(t)}function checkIfHasKeyPress(e){if(!e)try{var t=blockly__WEBPACK_IMPORTED_MODULE_0___default().getMainWorkspace().getBlocksByType("controls_whileUntil");if(!(t.length>0))return!1;e=t[0]}catch(c){return console.error(c),!1}var n,r=!1,i=(0,_Users_jungwon_robolink_Robolink_Code_codrone_blockly_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_12__.Z)(e.childBlocks_);try{for(i.s();!(n=i.n()).done;){var o=n.value;if("controls_if"===o.type){var s,a=o,l=(0,_Users_jungwon_robolink_Robolink_Code_codrone_blockly_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_12__.Z)(a.childBlocks_);try{for(l.s();!(s=l.n()).done;){if("whenKeyPressGet_junior"===s.value.type){r=!0;break}}}catch(u){l.e(u)}finally{l.f()}break}}}catch(u){i.e(u)}finally{i.f()}return r}function getStartFlagBlocks(){var e=blockly__WEBPACK_IMPORTED_MODULE_0___default().getMainWorkspace().blockDB_,t=[];for(var n in e)"start_flag"===e[n].type&&t.push(e[n]);return t}function getStatementBlocks(){var e=blockly__WEBPACK_IMPORTED_MODULE_0___default().getMainWorkspace().blockDB_,t=[];for(var n in e)e[n].statementInputCount>0&&t.push(e[n]);return t}function getTopBlocks(){return Blockly.getMainWorkspace().getTopBlocks()}function getAllConnectedBlocks(e){var t=[],n=[];n.push(e);for(var r=0;n.length>0&&r<200;){var i=n.shift();t.push(i),n.push.apply(n,(0,_Users_jungwon_robolink_Robolink_Code_codrone_blockly_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_15__.Z)(i.getChildren())),r++}return t}function runJS(skipFullRun){_robolinkinc_codrone_lib__WEBPACK_IMPORTED_MODULE_5__.nK.addKeyPressCode(null,(function(){})),__webpack_require__.g.resetFlyVariables(),blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.INFINITE_LOOP_TRAP=" checkTimeout();\n";var timeouts=0,checkTimeout=function(){var e=(0,_Users_jungwon_robolink_Robolink_Code_codrone_blockly_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)((0,_Users_jungwon_robolink_Robolink_Code_codrone_blockly_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_14__.Z)().mark((function e(){return(0,_Users_jungwon_robolink_Robolink_Code_codrone_blockly_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_14__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(timeouts++>1e13)){e.next=3;break}throw console.log("timeout"),"timeout";case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),code=null;setOrphanFunc(),code=blockly_javascript__WEBPACK_IMPORTED_MODULE_1___default().workspaceToCode(blockly__WEBPACK_IMPORTED_MODULE_0___default().getMainWorkspace()),code=reArrangeListenerEvents(code),blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.INFINITE_LOOP_TRAP=null;try{if(__webpack_require__.g.setInitialTimeStampSensors(0),-1!==code.indexOf("onKeyPressEvent")&&(Code.keypressInProgress=!0),skipFullRun)return;-1!==code.indexOf("checkTimeout();")?(console.log("(async function(){"+code+"})()"),eval("(async function(){"+code+"await callStopFromCodeExecution();setInitialTimeStampSensors(0);})()")):(console.log("(async function(){"+code+" await callstopExternalEvent();})()"),eval("(async function(){"+code+" await callstopExternalEvent();})()"))}catch(e){console.error(e)}}function reArrangeListenerEvents(e){for(var t=[],n=e.match(/onKeyPressEvent((.|\n)*?)}\){1}/);n;)t.push(n),n=(e=e.replace(n[0],"")).match(/onKeyPressEvent((.|\n)*?)}\){1}/);for(var r=0;r<t.length;r++)e=t[r][0]+"\n"+e;return e}function setOrphanFunc(){var e=getStartFlagBlocks(),t=getStatementBlocks();if(e.length>0){if(!orphansFunc){orphansFunc=blockly__WEBPACK_IMPORTED_MODULE_0___default().getMainWorkspace().addChangeListener(blockly__WEBPACK_IMPORTED_MODULE_0___default().Events.disableOrphans);var n=(0,_Users_jungwon_robolink_Robolink_Code_codrone_blockly_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_15__.Z)(t);e.map((function(e){n=[].concat((0,_Users_jungwon_robolink_Robolink_Code_codrone_blockly_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_15__.Z)(n),(0,_Users_jungwon_robolink_Robolink_Code_codrone_blockly_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_15__.Z)(getAllConnectedBlocks(e)))})),t.map((function(e){n=[].concat((0,_Users_jungwon_robolink_Robolink_Code_codrone_blockly_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_15__.Z)(n),(0,_Users_jungwon_robolink_Robolink_Code_codrone_blockly_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_15__.Z)(getAllConnectedBlocks(e)))}));var r,i=blockly__WEBPACK_IMPORTED_MODULE_0___default().getMainWorkspace().getAllBlocks().filter((function(e){return-1===n.indexOf(e)})),o=(0,_Users_jungwon_robolink_Robolink_Code_codrone_blockly_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_12__.Z)(i);try{for(o.s();!(r=o.n()).done;){r.value.setEnabled(!1)}}catch(c){o.e(c)}finally{o.f()}}}else if(orphansFunc){var s,a=blockly__WEBPACK_IMPORTED_MODULE_0___default().getMainWorkspace().getAllBlocks(),l=(0,_Users_jungwon_robolink_Robolink_Code_codrone_blockly_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_12__.Z)(a);try{for(l.s();!(s=l.n()).done;){s.value.setEnabled(!0)}}catch(c){l.e(c)}finally{l.f()}if(requestedReloading)return;alert(MSG.PLAY_BLOCK_REMOVED),window.location.reload(),requestedReloading=!0}}function allowDrop(e){e.preventDefault()}function drop(e){e.preventDefault();var t=e.dataTransfer.getData("text");t.includes("xml")&&openExamples(t)}function copyXmlInWorkspace(e){var t=blockly__WEBPACK_IMPORTED_MODULE_0___default().Xml.textToDom(e);try{blockly__WEBPACK_IMPORTED_MODULE_0___default().Xml.domToWorkspace(t,blockly__WEBPACK_IMPORTED_MODULE_0___default().mainWorkspace)}catch(n){if(n.toString().includes("Error: Variable")){console.error("The XML file has a variable name(s) that conflicts with this project's variable name(s).\n\nPlease change the variable name(s) using the \"Variables\" tab so that they don't overlap, then open the XML again.")}}}function customPyGenerator(e){var t=e.split("\n");return(t=t.map((function(e,t){return-1!==e.indexOf("predict_colors")?"color_data = drone.get_color_data()\n".concat(e):e}))).join("\n")}function openExamples(e){var t=blockly__WEBPACK_IMPORTED_MODULE_0___default().Xml.textToDom(e);try{blockly__WEBPACK_IMPORTED_MODULE_0___default().Xml.appendDomToWorkspace(t,blockly__WEBPACK_IMPORTED_MODULE_0___default().mainWorkspace)}catch(n){if(n.toString().includes("Error: Variable")){console.error("The XML file has a variable name(s) that conflicts with this project's variable name(s).\n\nPlease change the variable name(s) using the \"Variables\" tab so that they don't overlap, then open the XML again.")}}}function openAndClearExamples(e){var t=blockly__WEBPACK_IMPORTED_MODULE_0___default().Xml.textToDom(e);try{blockly__WEBPACK_IMPORTED_MODULE_0___default().Xml.clearWorkspaceAndLoadFromXml(t,blockly__WEBPACK_IMPORTED_MODULE_0___default().mainWorkspace)}catch(n){if(n.toString().includes("Error: Variable")){console.error("The XML file has a variable name(s) that conflicts with this project's variable name(s).\n\nPlease change the variable name(s) using the \"Variables\" tab so that they don't overlap, then open the XML again.")}}}function checkIfTimeBlockExists(){return blockly__WEBPACK_IMPORTED_MODULE_0___default().getMainWorkspace().getAllBlocks().filter((function(e){return"get_time_from_start"===e.type})).length>0}setBlocklyLocale(),blockly__WEBPACK_IMPORTED_MODULE_0___default().Generator.prototype.blockToCode=function(e,t){if(!1===this.isInitialized&&console.warn("Generator init was not called before blockToCode was called."),!e)return"";if(e.isInsertionMarker())return t?"":this.blockToCode(e.getChildren(!1)[0]);var n=this[e.type];if("function"!==typeof n)throw Error('Language "'+this.name_+'" does not know how to generate code for block type "'+e.type+'".');var r=n.call(e,e);if(Array.isArray(r)){if(!e.outputConnection)throw TypeError("Expecting string from statement block: "+e.type);var i=r[0];return e.isEnabled()||("JavaScript"===this.name_?i="// "+i:"Python"===this.name_&&(i="# "+i)),[this.scrub_(e,i,t),r[1]]}if("string"===typeof r){if(this.STATEMENT_SUFFIX&&!e.suppressPrefixSuffix&&(r+=this.injectId(this.STATEMENT_SUFFIX,e)),null!==e.comment&&(e.comment.cachedText_=""),!e.isEnabled()){var o,s=r.split("\n"),a=[],l=(0,_Users_jungwon_robolink_Robolink_Code_codrone_blockly_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_12__.Z)(s);try{for(l.s();!(o=l.n()).done;){var c=o.value;""!==c&&("JavaScript"===this.name_?a.push("// ".concat(c)):"Python"===this.name_&&a.push("# ".concat(c)))}}catch(u){l.e(u)}finally{l.f()}r=a.join("\n")+"\n"}return this.scrub_(e,r,t)}if(null===r)return"";throw SyntaxError("Invalid code generated: "+r)},blockly__WEBPACK_IMPORTED_MODULE_0___default().Themes.CoDrone=blockly__WEBPACK_IMPORTED_MODULE_0___default().Theme.defineTheme("codrone",{base:blockly__WEBPACK_IMPORTED_MODULE_0___default().Themes.Classic,blockStyles:{loop_blocks:{colourPrimary:"#a56b6b"},text_blocks:{colourPrimary:"#a9a9a9"},logic_blocks:{colourPrimary:"#a0a1d9"},math_blocks:{colourPrimary:"#8a90a8",colourSecondary:"#8a90a8"},variable_blocks:{colourPrimary:"#e0908f"},procedure_blocks:{colourPrimary:"#db8ab3"}},fontStyle:{weight:"bold"},startHats:!0}),blockly__WEBPACK_IMPORTED_MODULE_0___default().Themes.CoDroneDark=blockly__WEBPACK_IMPORTED_MODULE_0___default().Theme.defineTheme("codroneDark",{base:blockly__WEBPACK_IMPORTED_MODULE_0___default().Themes.Classic,componentStyles:{workspaceBackgroundColour:"#1e1e1e",toolboxBackgroundColour:"blackBackground",toolboxForegroundColour:"#fff",flyoutBackgroundColour:"#252526",flyoutForegroundColour:"#ccc",flyoutOpacity:1,scrollbarColour:"#797979",insertionMarkerColour:"#fff",insertionMarkerOpacity:.3,scrollbarOpacity:.4,cursorColour:"#d0d0d0",blackBackground:"#333"},blockStyles:{loop_blocks:{colourPrimary:"#a56b6b"},text_blocks:{colourPrimary:"#a9a9a9"},logic_blocks:{colourPrimary:"#a0a1d9"},math_blocks:{colourPrimary:"#8a90a8",colourSecondary:"#8a90a8"},variable_blocks:{colourPrimary:"#e0908f"},procedure_blocks:{colourPrimary:"#db8ab3"}},fontStyle:{weight:"bold"},startHats:!0})},9656:function(e,t,n){"use strict";n.d(t,{DN:function(){return O},S3:function(){return b},Vg:function(){return c},bu:function(){return k},fS:function(){return a},hG:function(){return f},jQ:function(){return d},o4:function(){return h},zd:function(){return s}});var r=n(4165),i=n(5861),o=n(2527);function s(){return!!Code.device}function a(e){return l.apply(this,arguments)}function l(){return(l=(0,i.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="cde"===t?1155:"cdm"===t?6790:1155,e.next=3,navigator.serial.requestPort({filters:[{usbVendorId:n}]});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(e){return u.apply(this,arguments)}function u(){return(u=(0,i.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.open({baudrate:57600,baudRate:57600});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return p.apply(this,arguments)}function p(){return(p=(0,i.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.close();case 2:Code.device=null;case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e,t){Code.device={port:e},"cdm"===t?(o.Cw.initCommandConsumer(),Code.listener=!0,o.bw.listener()):(console.log("starting CDE command manager"),o.jC.initCommandConsumer(),Code.listener=!0,o.Cq.listener())}function d(e,t){return g.apply(this,arguments)}function g(){return(g=(0,i.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("cdm"!==n){e.next=5;break}return e.next=3,m(t);case 3:e.next=7;break;case 5:return e.next=7,_(t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){return v.apply(this,arguments)}function v(){return(v=(0,i.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=9;break}return e.next=3,T(t);case 3:return e.next=5,n.g.getHeight();case 5:return e.next=7,n.g.setSpeed(2);case 7:return e.next=9,n.g.setPreviousLand([0,0]);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return y.apply(this,arguments)}function y(){return(y=(0,i.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=5;break}return e.next=3,T(t);case 3:return e.next=5,n.g.getHeight(!0);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){return E.apply(this,arguments)}function E(){return(E=(0,i.Z)((0,r.Z)().mark((function e(t){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.g.getTrim();case 2:i=e.sent,t(i);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){console.log(e),Code.listener=!1,Code.device=null}function O(){return S.apply(this,arguments)}function S(){return(S=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.g.disconnect();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return w.apply(this,arguments)}function w(){return(w=(0,i.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.g.CONNECTION_INTERVAL_COUNTER=0,n.g.CONNECTION_INTERVAL=setInterval((0,i.Z)((0,r.Z)().mark((function e(){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.g.checkLostConnection();case 3:i=e.sent,CONNECTION_INTERVAL_COUNTER++,t(i?"dropped":"paired"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("Disconnected");case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),2e3);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},5317:function(e,t,n){"use strict";function r(){if(window.location.origin.includes("localhost")){var e=window.location.href.match(/(?<=localhost:3000\/)(.*?)(?=\/blockly)/);return e&&e.length>0?"edu"===e[0]?"cde":"mini"===e[0]?"cdm":"cde":"cde"}var t=window.location.href.match(/(?<=codrone.robolink.com\/)(.*?)(?=\/blockly)/);return t&&t.length>0?"edu"===t[0]?"cde":"mini"===t[0]?"cdm":"cde":"cde"}n.d(t,{g:function(){return r}})},2968:function(e,t,n){"use strict";n.d(t,{An:function(){return s},Fc:function(){return l},Im:function(){return a},R7:function(){return o}});var r=n(4165),i=n(5861),o={ALL_INACTIVE:0,ALL_ACTIVE:1,COLOR_INACTIVE:2,PARTIALLY_ACTIVE:3,DRONE_NOT_PAIRED:4},s=!1,a=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(document.querySelector(".content-panel.content-4").classList.contains("active")){e.next=2;break}return e.abrupt("return");case 2:if(!s&&n.g.isSerialRunning()){e.next=4;break}return e.abrupt("return");case 4:if(!n.g.FREEZEDASHBOARD){e.next=7;break}return n.g.enableRefreshBtn(),e.abrupt("return");case 7:console.log("Start reading sensor data"),n.g.resetDataItem(),s=!0,n.g.changeSDMode(o.ALL_ACTIVE);case 11:if(!s){e.next=22;break}return e.prev=12,e.next=15,n.g.getAllSensorData();case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(12),console.log(e.t0);case 20:e.next=11;break;case 22:case"end":return e.stop()}}),e,null,[[12,17]])})));return function(){return e.apply(this,arguments)}}(),l=function(){console.log("Stop reading sensor data"),s=!1,n.g.isSerialRunning()?n.g.changeSDMode(o.ALL_INACTIVE):n.g.changeSDMode(o.DRONE_NOT_PAIRED)}},2527:function(e,t,n){"use strict";n.d(t,{Cq:function(){return se},bw:function(){return Fn},vF:function(){return vn},ox:function(){return Yt},xA:function(){return Xe},q1:function(){return Wt},xX:function(){return Pt},H9:function(){return rn},UM:function(){return dn},EG:function(){return Rt},gm:function(){return jt},n:function(){return Ht},OP:function(){return tn},or:function(){return Fr},pI:function(){return lr},YT:function(){return Br},M3:function(){return Nr},yZ:function(){return Or},by:function(){return Pr},_7:function(){return Gr},jC:function(){return pe},Cw:function(){return Ln},nK:function(){return zt}});var r=n(4165),i=n(5861),o=n(5671),s=n(3144),a=n(136),l=n(7277),c=n(1413),u=null,h=function(e,t){u&&clearTimeout(u),u=setTimeout((function(){return e()}),t)},p=function(e){for(var t=~~(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),n=0,r=0;r<e.length;r++)n+=e[r];return(t+=n%256)%256},f=n(918),d=function(e,t){return f.lW.from(e,t)};function g(e,t){var n=function(e,n){return t(d(e),n)>>>0};return n.signed=function(e,n){return t(d(e),n)},n.unsigned=n,n.model=e,n}var _=g("crc1",p),v=[0,7,14,9,28,27,18,21,56,63,54,49,36,35,42,45,112,119,126,121,108,107,98,101,72,79,70,65,84,83,90,93,224,231,238,233,252,251,242,245,216,223,214,209,196,195,202,205,144,151,158,153,140,139,130,133,168,175,166,161,180,179,186,189,199,192,201,206,219,220,213,210,255,248,241,246,227,228,237,234,183,176,185,190,171,172,165,162,143,136,129,134,147,148,157,154,39,32,41,46,59,60,53,50,31,24,17,22,3,4,13,10,87,80,89,94,75,76,69,66,111,104,97,102,115,116,125,122,137,142,135,128,149,146,155,156,177,182,191,184,173,170,163,164,249,254,247,240,229,226,235,236,193,198,207,200,221,218,211,212,105,110,103,96,117,114,123,124,81,86,95,88,77,74,67,68,25,30,23,16,5,2,11,12,33,38,47,40,61,58,51,52,78,73,64,71,82,85,92,91,118,113,120,127,106,109,100,99,62,57,48,55,34,37,44,43,6,1,8,15,26,29,20,19,174,169,160,167,178,181,188,187,150,145,152,159,138,141,132,131,222,217,208,215,194,197,204,203,230,225,232,239,250,253,244,243];"undefined"!==typeof Int32Array&&(v=new Int32Array(v));var m=function(e){for(var t=~~(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),n=0;n<e.length;n++)t=255&v[255&(t^e[n])];return t},y=g("crc-8",m),T=[0,94,188,226,97,63,221,131,194,156,126,32,163,253,31,65,157,195,33,127,252,162,64,30,95,1,227,189,62,96,130,220,35,125,159,193,66,28,254,160,225,191,93,3,128,222,60,98,190,224,2,92,223,129,99,61,124,34,192,158,29,67,161,255,70,24,250,164,39,121,155,197,132,218,56,102,229,187,89,7,219,133,103,57,186,228,6,88,25,71,165,251,120,38,196,154,101,59,217,135,4,90,184,230,167,249,27,69,198,152,122,36,248,166,68,26,153,199,37,123,58,100,134,216,91,5,231,185,140,210,48,110,237,179,81,15,78,16,242,172,47,113,147,205,17,79,173,243,112,46,204,146,211,141,111,49,178,236,14,80,175,241,19,77,206,144,114,44,109,51,209,143,12,82,176,238,50,108,142,208,83,13,239,177,240,174,76,18,145,207,45,115,202,148,118,40,171,245,23,73,8,86,180,234,105,55,213,139,87,9,235,181,54,104,138,212,149,203,41,119,244,170,72,22,233,183,85,11,136,214,52,106,43,117,151,201,74,20,246,168,116,42,200,150,21,75,169,247,182,232,10,84,215,137,107,53];"undefined"!==typeof Int32Array&&(T=new Int32Array(T));var E=function(e){for(var t=~~(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),n=0;n<e.length;n++)t=255&T[255&(t^e[n])];return t},b=g("dallas-1-wire",E),O=[0,213,127,170,254,43,129,84,41,252,86,131,215,2,168,125,82,135,45,248,172,121,211,6,123,174,4,209,133,80,250,47,164,113,219,14,90,143,37,240,141,88,242,39,115,166,12,217,246,35,137,92,8,221,119,162,223,10,160,117,33,244,94,139,157,72,226,55,99,182,28,201,180,97,203,30,74,159,53,224,207,26,176,101,49,228,78,155,230,51,153,76,24,205,103,178,57,236,70,147,199,18,184,109,16,197,111,186,238,59,145,68,107,190,20,193,149,64,234,63,66,151,61,232,188,105,195,22,239,58,144,69,17,196,110,187,198,19,185,108,56,237,71,146,189,104,194,23,67,150,60,233,148,65,235,62,106,191,21,192,75,158,52,225,181,96,202,31,98,183,29,200,156,73,227,54,25,204,102,179,231,50,152,77,48,229,79,154,206,27,177,100,114,167,13,216,140,89,243,38,91,142,36,241,165,112,218,15,32,245,95,138,222,11,161,116,9,220,118,163,247,34,136,93,214,3,169,124,40,253,87,130,255,42,128,85,1,212,126,171,132,81,251,46,122,175,5,208,173,120,210,7,83,134,44,249];"undefined"!==typeof Int32Array&&(O=new Int32Array(O));var S=function(e){for(var t=~~(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),n=0;n<e.length;n++)t=255&O[255&(t^e[n])];return t},k=g("crc-8-dvbs2",S),w=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];"undefined"!==typeof Int32Array&&(w=new Int32Array(w));var R=function(e){for(var t=~~(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),n=0;n<e.length;n++)t=65535&(w[255&(t^e[n])]^t>>8);return t},C=g("crc-16",R),I=[0,4129,8258,12387,16516,20645,24774,28903,33032,37161,41290,45419,49548,53677,57806,61935,4657,528,12915,8786,21173,17044,29431,25302,37689,33560,45947,41818,54205,50076,62463,58334,9314,13379,1056,5121,25830,29895,17572,21637,42346,46411,34088,38153,58862,62927,50604,54669,13907,9842,5649,1584,30423,26358,22165,18100,46939,42874,38681,34616,63455,59390,55197,51132,18628,22757,26758,30887,2112,6241,10242,14371,51660,55789,59790,63919,35144,39273,43274,47403,23285,19156,31415,27286,6769,2640,14899,10770,56317,52188,64447,60318,39801,35672,47931,43802,27814,31879,19684,23749,11298,15363,3168,7233,60846,64911,52716,56781,44330,48395,36200,40265,32407,28342,24277,20212,15891,11826,7761,3696,65439,61374,57309,53244,48923,44858,40793,36728,37256,33193,45514,41451,53516,49453,61774,57711,4224,161,12482,8419,20484,16421,28742,24679,33721,37784,41979,46042,49981,54044,58239,62302,689,4752,8947,13010,16949,21012,25207,29270,46570,42443,38312,34185,62830,58703,54572,50445,13538,9411,5280,1153,29798,25671,21540,17413,42971,47098,34713,38840,59231,63358,50973,55100,9939,14066,1681,5808,26199,30326,17941,22068,55628,51565,63758,59695,39368,35305,47498,43435,22596,18533,30726,26663,6336,2273,14466,10403,52093,56156,60223,64286,35833,39896,43963,48026,19061,23124,27191,31254,2801,6864,10931,14994,64814,60687,56684,52557,48554,44427,40424,36297,31782,27655,23652,19525,15522,11395,7392,3265,61215,65342,53085,57212,44955,49082,36825,40952,28183,32310,20053,24180,11923,16050,3793,7920];"undefined"!==typeof Int32Array&&(I=new Int32Array(I));var x=g("ccitt",(function(e,t){for(var n="undefined"!==typeof t?~~t:65535,r=0;r<e.length;r++)n=65535&(I[255&(n>>8^e[r])]^n<<8);return n})),A=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];"undefined"!==typeof Int32Array&&(A=new Int32Array(A));var N=g("crc-16-modbus",(function(e,t){for(var n="undefined"!==typeof t?~~t:65535,r=0;r<e.length;r++)n=65535&(A[255&(n^e[r])]^n>>8);return n})),L=g("xmodem",(function(e,t){for(var n="undefined"!==typeof t?~~t:0,r=0;r<e.length;r++){var i=n>>>8&255;i^=255&e[r],n=n<<8&65535,n^=i^=i>>>4,n^=i=i<<5&65535,n^=i=i<<7&65535}return n})),M=[0,4489,8978,12955,17956,22445,25910,29887,35912,40385,44890,48851,51820,56293,59774,63735,4225,264,13203,8730,22181,18220,30135,25662,40137,36160,49115,44626,56045,52068,63999,59510,8450,12427,528,5017,26406,30383,17460,21949,44362,48323,36440,40913,60270,64231,51324,55797,12675,8202,4753,792,30631,26158,21685,17724,48587,44098,40665,36688,64495,60006,55549,51572,16900,21389,24854,28831,1056,5545,10034,14011,52812,57285,60766,64727,34920,39393,43898,47859,21125,17164,29079,24606,5281,1320,14259,9786,57037,53060,64991,60502,39145,35168,48123,43634,25350,29327,16404,20893,9506,13483,1584,6073,61262,65223,52316,56789,43370,47331,35448,39921,29575,25102,20629,16668,13731,9258,5809,1848,65487,60998,56541,52564,47595,43106,39673,35696,33800,38273,42778,46739,49708,54181,57662,61623,2112,6601,11090,15067,20068,24557,28022,31999,38025,34048,47003,42514,53933,49956,61887,57398,6337,2376,15315,10842,24293,20332,32247,27774,42250,46211,34328,38801,58158,62119,49212,53685,10562,14539,2640,7129,28518,32495,19572,24061,46475,41986,38553,34576,62383,57894,53437,49460,14787,10314,6865,2904,32743,28270,23797,19836,50700,55173,58654,62615,32808,37281,41786,45747,19012,23501,26966,30943,3168,7657,12146,16123,54925,50948,62879,58390,37033,33056,46011,41522,23237,19276,31191,26718,7393,3432,16371,11898,59150,63111,50204,54677,41258,45219,33336,37809,27462,31439,18516,23005,11618,15595,3696,8185,63375,58886,54429,50452,45483,40994,37561,33584,31687,27214,22741,18780,15843,11370,7921,3960];"undefined"!==typeof Int32Array&&(M=new Int32Array(M));var D=g("kermit",(function(e,t){for(var n="undefined"!==typeof t?~~t:0,r=0;r<e.length;r++)n=65535&(M[255&(n^e[r])]^n>>8);return n})),P=[0,8801531,9098509,825846,9692897,1419802,1651692,10452759,10584377,2608578,2839604,11344079,3303384,11807523,12104405,4128302,12930697,4391538,5217156,13227903,5679208,13690003,14450021,5910942,6606768,14844747,15604413,6837830,16197969,7431594,8256604,16494759,840169,9084178,8783076,18463,10434312,1670131,1434117,9678590,11358416,2825259,2590173,10602790,4109873,12122826,11821884,3289031,13213536,5231515,4409965,12912278,5929345,14431610,13675660,5693559,6823513,15618722,14863188,6588335,16513208,8238147,7417269,16212302,1680338,10481449,9664223,1391140,9061683,788936,36926,8838341,12067563,4091408,3340262,11844381,2868234,11372785,10555655,2579964,14478683,5939616,5650518,13661357,5180346,13190977,12967607,4428364,8219746,16457881,16234863,7468436,15633027,6866552,6578062,14816117,1405499,9649856,10463030,1698765,8819930,55329,803287,9047340,11858690,3325945,4072975,12086004,2561507,10574104,11387118,2853909,13647026,5664841,5958079,14460228,4446803,12949160,13176670,5194661,7454091,16249200,16476294,8201341,14834538,6559633,6852199,15647388,3360676,11864927,12161705,4185682,10527045,2551230,2782280,11286707,9619101,1346150,1577872,10379115,73852,8875143,9172337,899466,16124205,7357910,8182816,16421083,6680524,14918455,15678145,6911546,5736468,13747439,14507289,5968354,12873461,4334094,5159928,13170435,4167245,12180150,11879232,3346363,11301036,2767959,2532769,10545498,10360692,1596303,1360505,9604738,913813,9157998,8856728,92259,16439492,8164415,7343561,16138546,6897189,15692510,14936872,6662099,5986813,14488838,13733104,5750795,13156124,5174247,4352529,12855018,2810998,11315341,10498427,2522496,12124823,4148844,3397530,11901793,9135439,862644,110658,8912057,1606574,10407765,9590435,1317464,15706879,6940164,6651890,14889737,8145950,16384229,16161043,7394792,5123014,13133629,12910283,4370992,14535975,5997020,5707818,13718737,2504095,10516836,11329682,2796649,11916158,3383173,4130419,12143240,8893606,129117,876971,9121104,1331783,9576124,10389322,1625009,14908182,6633453,6925851,15721184,7380471,16175372,16402682,8127489,4389423,12891860,13119266,5137369,13704398,5722165,6015427,14517560];"undefined"!==typeof Int32Array&&(P=new Int32Array(P));var B=g("crc-24",(function(e,t){for(var n="undefined"!==typeof t?~~t:11994318,r=0;r<e.length;r++)n=16777215&(P[255&(n>>16^e[r])]^n<<8);return n})),F=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];"undefined"!==typeof Int32Array&&(F=new Int32Array(F));var U=g("crc-32",(function(e,t){for(var n=0===t?0:-1^~~t,r=0;r<e.length;r++)n=F[255&(n^e[r])]^n>>>8;return-1^n})),Z=[0,79764919,159529838,222504665,319059676,398814059,445009330,507990021,638119352,583659535,797628118,726387553,890018660,835552979,1015980042,944750013,1276238704,1221641927,1167319070,1095957929,1595256236,1540665371,1452775106,1381403509,1780037320,1859660671,1671105958,1733955601,2031960084,2111593891,1889500026,1952343757,2552477408,2632100695,2443283854,2506133561,2334638140,2414271883,2191915858,2254759653,3190512472,3135915759,3081330742,3009969537,2905550212,2850959411,2762807018,2691435357,3560074640,3505614887,3719321342,3648080713,3342211916,3287746299,3467911202,3396681109,4063920168,4143685023,4223187782,4286162673,3779000052,3858754371,3904687514,3967668269,881225847,809987520,1023691545,969234094,662832811,591600412,771767749,717299826,311336399,374308984,453813921,533576470,25881363,88864420,134795389,214552010,2023205639,2086057648,1897238633,1976864222,1804852699,1867694188,1645340341,1724971778,1587496639,1516133128,1461550545,1406951526,1302016099,1230646740,1142491917,1087903418,2896545431,2825181984,2770861561,2716262478,3215044683,3143675388,3055782693,3001194130,2326604591,2389456536,2200899649,2280525302,2578013683,2640855108,2418763421,2498394922,3769900519,3832873040,3912640137,3992402750,4088425275,4151408268,4197601365,4277358050,3334271071,3263032808,3476998961,3422541446,3585640067,3514407732,3694837229,3640369242,1762451694,1842216281,1619975040,1682949687,2047383090,2127137669,1938468188,2001449195,1325665622,1271206113,1183200824,1111960463,1543535498,1489069629,1434599652,1363369299,622672798,568075817,748617968,677256519,907627842,853037301,1067152940,995781531,51762726,131386257,177728840,240578815,269590778,349224269,429104020,491947555,4046411278,4126034873,4172115296,4234965207,3794477266,3874110821,3953728444,4016571915,3609705398,3555108353,3735388376,3664026991,3290680682,3236090077,3449943556,3378572211,3174993278,3120533705,3032266256,2961025959,2923101090,2868635157,2813903052,2742672763,2604032198,2683796849,2461293480,2524268063,2284983834,2364738477,2175806836,2238787779,1569362073,1498123566,1409854455,1355396672,1317987909,1246755826,1192025387,1137557660,2072149281,2135122070,1912620623,1992383480,1753615357,1816598090,1627664531,1707420964,295390185,358241886,404320391,483945776,43990325,106832002,186451547,266083308,932423249,861060070,1041341759,986742920,613929101,542559546,756411363,701822548,3316196985,3244833742,3425377559,3370778784,3601682597,3530312978,3744426955,3689838204,3819031489,3881883254,3928223919,4007849240,4037393693,4100235434,4180117107,4259748804,2310601993,2373574846,2151335527,2231098320,2596047829,2659030626,2470359227,2550115596,2947551409,2876312838,2788305887,2733848168,3165939309,3094707162,3040238851,2985771188];"undefined"!==typeof Int32Array&&(Z=new Int32Array(Z));var G=g("crc-32-mpeg",(function(e,t){for(var n="undefined"!==typeof t?~~t:4294967295,r=0;r<e.length;r++)n=Z[255&(n>>24^e[r])]^n<<8;return n})),H=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];"undefined"!==typeof Int32Array&&(H=new Int32Array(H));var V=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=0===t?0:~~t,r=0;r<e.length;r++)n=H[255&(n^e[r])]^n>>>8;return n},j={crc1:_,crc8:y,crc81wire:b,crc8dvbs2:k,crc16:C,crc16ccitt:x,crc16modbus:N,crc16xmodem:L,crc16kermit:D,crc24:B,crc32:U,crc32mpeg2:G,crcjam:g("jam",V)},W=64,X=82,z=65,Y=66,q=67,K=69,Q=68,J=49,$=147,ee=160,te=113,ne=112,re=7,ie=9,oe={0:"Unknown",1:"White",2:"Red",3:"Yellow",4:"Green",5:"Cyan",6:"Blue",7:"Magenta",8:"Black",9:"Grey"};n.g.convert2BytesIntoInt16=function(e,t){var n=(255&t)<<8|255&e;return 128&t&&(n|=4294901760),n},n.g.convert4BytesIntoFloat32=function(e){var t=new ArrayBuffer(4),n=new DataView(t);return e.forEach((function(e,t){n.setUint8(t,e)})),n.getFloat32(0)};var se=function(){function e(t,n){(0,o.Z)(this,e),this.package=t,this.eventName=n,this.handleNotification=this.handleNotification.bind(this)}return(0,s.Z)(e,[{key:"run",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(this.package);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleNotification",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"generateCRC",value:function(){var e=this.package.length,t=this.package.slice(2,e-2),n=j.crc16xmodem(t);this.package[e-1]=n>>8&255,this.package[e-2]=255&n}},{key:"setUint8Array",value:function(){this.package=new Uint8Array(this.package)}},{key:"sendSerialCommand",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("---- Running command: "+this.eventName),console.log("Timestamp: ",Date.now()-n.g.START_TIME),n.g.START_TIME&&console.log("Timestamp: ",Date.now()-n.g.START_TIME),e.prev=3,Code.device.port.writable.locked){e.next=10;break}return t=Code.device.port.writable.getWriter(),e.next=8,t.write(this.package);case 8:return e.next=10,t.releaseLock();case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.log(e.t0);case 15:case"end":return e.stop()}}),e,this,[[3,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"sendSerialCommand2",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getState",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var t,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=7;break}return"not-running"!==(null===(t=document.getElementById("runButton"))||void 0===t||null===(t=t.nextSibling)||void 0===t?void 0:t.className)&&n.g.getInitialTimeStampSensors&&(0===n.g.getInitialTimeStampSensors()&&n.g.setInitialTimeStampSensors(new Date),console.log("== Package Sent "+n.g.getTimeStampSensorsDiference()+" : "+this.eventName+" ["+this.package+"]")),i=Code.device.port.writable.getWriter(),e.next=5,i.write(new Uint8Array(this.package));case 5:return e.next=7,i.releaseLock();case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}],[{key:"listener",value:function(){var t=(0,i.Z)((0,r.Z)().mark((function t(){var o,s,a;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("listener working"),o=Code.device.port.readable.getReader();case 2:if(!Code.listener){t.next=18;break}return t.prev=3,t.next=6,o.read();case 6:s=t.sent,a=s.value,e.parseData(a),t.next=16;break;case 11:if(t.prev=11,t.t0=t.catch(3),!t.t0.toString().includes("The device has been lost")){t.next=16;break}return setTimeout((0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.releaseLock();case 2:return e.next=4,n.g.disconnect();case 4:case"end":return e.stop()}}),e)}))),1e3),t.abrupt("break",18);case 16:t.next=2;break;case 18:if(Code.listener){t.next=21;break}return t.next=21,o.releaseLock();case 21:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(){return t.apply(this,arguments)}}()},{key:"showTimeStamp",value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"receive";"not-running"!==(null===(t=document.getElementById("runButton"))||void 0===t||null===(t=t.nextSibling)||void 0===t?void 0:t.className)&&(0===n.g.getInitialTimeStampSensors()&&n.g.setInitialTimeStampSensors(new Date),console.log("============================="),console.log("== Package "+r+" "+n.g.getTimeStampSensorsDiference()+" : ["+e+"]"),console.log("============================="))}},{key:"storeData",value:function(e,t){var n=localStorage.getItem("droneData")?JSON.parse(localStorage.getItem("droneData")):{},r=(0,c.Z)({},n),i=r[e]?r[e]:[];i.push(t),r[e]=i;var o=document.createEvent("StorageEvent");o.initStorageEvent("storage",!1,!1,"droneData_".concat(e),JSON.stringify(n),JSON.stringify(r),null,window.localStorage),window.dispatchEvent(o),localStorage.setItem("droneData",JSON.stringify(r))}},{key:"parseData",value:function(e){var t,r,i,o=0;if(10===(t=new Uint16Array(e))[0]&&85===t[1]&&(o=t.length,r=t[3]+8,i=t[2],o===r)){var s,a,l,c,u=j.crc16xmodem(t.slice(2,t.length-2));if(s=255&u,a=(65280&u)>>8,t[t.length-2]===s&&t[t.length-1]===a)switch(i){case W:16===t[4]?(Code.droneData.battery=t[13],Code.droneData.state={modeSystem:t[6],modeFlight:t[7],modeControlFlight:t[8],modeMovement:t[9],headless:t[10],controlSpeed:t[11],sensorOrientation:t[12]}):32===t[4]&&(Code.droneData.connection=t[8]),this.showTimeStamp(t,"receive");break;case re:16===t[4]?(Code.droneData.droneFirmware={droneMajor:t[14],droneMinor:t[13],droneBuild:t[11]},Code.droneData.droneInfo={modeUpdate:t[6],modelNumber:convert4BytesIntoFloat32([t[10],t[9],t[8],t[7]]),version:{major:t[14],minor:t[13],build:t[11]},year:convert2BytesIntoInt16(t[15],t[16]),month:t[16],day:t[17],rawData:t},Code.droneData.droneFirmware.informationRawDrone=t):32===t[4]&&(Code.droneData.controllerFirmware={controllerMajor:t[14],controllerMinor:t[13],controllerBuild:t[11]},Code.droneData.controllerInfo={modeUpdate:t[6],modelNumber:convert4BytesIntoFloat32([t[10],t[9],t[8],t[7]]),version:{major:t[14],minor:t[13],build:t[11]},year:convert2BytesIntoInt16(t[15],t[16]),month:t[16],day:t[17],rawData:t},Code.droneData.controllerFirmware.informationRawController=t);break;case ie:16===t[4]?Code.droneData.droneUpdateLocation={flagUpdated:!0,indexBlockNext:convert2BytesIntoInt16(t[6],t[7])}:32===t[4]&&(Code.droneData.controllerUpdateLocation={flagUpdated:!0,indexBlockNext:convert2BytesIntoInt16(t[6],t[7])}),this.showTimeStamp(t,"receive");break;case z:var p=t[7]<<8|t[6];128&t[7]&&(p|=4294901760);var f=t[9]<<8|t[8];128&t[9]&&(f|=4294901760);var d=t[11]<<8|t[10];128&t[11]&&(d|=4294901760),Code.droneData.angle={roll:p,pitch:f,yaw:d},this.showTimeStamp(t,"receive");break;case X:var g=255!==t[7]?t[6]:-1*(t[7]-t[6]+1),_=255!==t[9]?t[8]:-1*(t[9]-t[8]+1);Code.droneData.trim={roll:g,pitch:_},this.showTimeStamp(t,"receive");break;case K:var v=128&t[9],m=(255&t[9])<<8|255&t[8];v&&(m|=4294901760);var y=128&t[17],T=(255&t[17])<<8|255&t[16];y&&(T|=4294901760),m>=9999&&(m=2e3),T<0&&(T=0),Code.droneData.range={front:m,bottom:T},l="range",c=Code.droneData.range,this.storeData(l,c,t),this.showTimeStamp(t,"receive");break;case Q:var E=convert2BytesIntoInt16(t[6],t[7]),b=convert2BytesIntoInt16(t[8],t[9]),O=convert2BytesIntoInt16(t[10],t[11]),S=convert2BytesIntoInt16(t[12],t[13]),k=convert2BytesIntoInt16(t[14],t[15]),w=convert2BytesIntoInt16(t[16],t[17]),R=convert2BytesIntoInt16(t[18],t[19]),C=convert2BytesIntoInt16(t[20],t[21]),I=convert2BytesIntoInt16(t[22],t[23]);Code.droneData.motion={accelX:E,accelY:b,accelZ:O,gyroRoll:S,gyroPitch:k,gyroYaw:w,angleRoll:R,anglePitch:C,angleYaw:I},l="motion",c=Code.droneData.motion,this.storeData(l,c,t),this.showTimeStamp(t,"receive");break;case q:var x=convert4BytesIntoFloat32([t[9],t[8],t[7],t[6]]),A=convert4BytesIntoFloat32([t[13],t[12],t[11],t[10]]),N=convert4BytesIntoFloat32([t[17],t[16],t[15],t[14]]),L=convert4BytesIntoFloat32([t[21],t[20],t[19],t[18]]);Code.droneData.altitude={height:L,temp:x,pressure:A,altitude:N},l="altitude",c=Code.droneData.altitude,this.storeData(l,c,t),this.showTimeStamp(t,"receive");break;case Y:var M=convert4BytesIntoFloat32([t[9],t[8],t[7],t[6]]),D=convert4BytesIntoFloat32([t[13],t[12],t[11],t[10]]),P=convert4BytesIntoFloat32([t[17],t[16],t[15],t[14]]);Code.droneData.position={x:M,y:parseFloat(-1*D),z:P},l="position",c=Code.droneData.position,this.storeData(l,c,t),this.showTimeStamp(t,"receive");break;case J:var B=convert4BytesIntoFloat32([t[9],t[8],t[7],t[6]]),F=convert4BytesIntoFloat32([t[13],t[12],t[11],t[10]]);Code.droneData.flow={x:B,y:F};break;case te:Code.droneData.joystick={left:{x:t[6]>127?t[6]-256:t[6],y:t[7]>127?t[7]-256:t[7],direction:t[8],event:t[9]},right:{x:t[10]>127?t[10]-256:t[10],y:t[11]>127?t[11]-256:t[11],direction:t[12],event:t[13]}};break;case ne:var U=convert2BytesIntoInt16(t[6],t[7]),Z=t[8];n.g.buttonPressedHistory=[n.g.TIME_RUNNING(),U,"Press"],h((function(){n.g.buttonPressedHistory=[n.g.TIME_RUNNING(),U,"Up"]}),500),Code.droneData.button={button:U,event:Z};break;case $:var G=convert2BytesIntoInt16(t[6],t[7]),H=convert2BytesIntoInt16(t[8],t[9]),V=convert2BytesIntoInt16(t[10],t[11]),se=convert2BytesIntoInt16(t[12],t[13]),ae=convert2BytesIntoInt16(t[14],t[15]),le=convert2BytesIntoInt16(t[16],t[17]),ce=convert2BytesIntoInt16(t[18],t[19]),ue=convert2BytesIntoInt16(t[20],t[21]),he=t[22],pe=t[23];Code.droneData.cardColor={frontHSVL:[G,H,V,se],backHSVL:[ae,le,ce,ue],front:oe[he],back:oe[pe]},l="cardColor",c=Code.droneData.cardColor,this.storeData(l,c,t),this.showTimeStamp(t,"receive");break;case ee:var fe=convert2BytesIntoInt16(t[6],t[7]),de=convert2BytesIntoInt16(t[8],t[9]),ge=convert2BytesIntoInt16(t[10],t[11]),_e=convert2BytesIntoInt16(t[12],t[13]),ve=convert2BytesIntoInt16(t[14],t[15]),me=convert2BytesIntoInt16(t[16],t[17]),ye=convert2BytesIntoInt16(t[18],t[19]),Te=t[20],Ee=t[21],be=t[22],Oe=t[23];Code.droneData.allSensor={angleRoll:fe,anglePitch:de,angleYaw:ge,rpm:_e,positionX:ve,positionY:me,positionZ:ye,speedX:Te,speedY:Ee,rangeHeight:be,rssi:Oe},l="allSensor",c=Code.droneData.allSensor,this.storeData(l,c,t),this.showTimeStamp(t,"receive")}}}}]),e}(),ae=new Uint8Array([10,85,16,4,112,16,0,0,0,0,180,189]),le=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;return(0,o.Z)(this,n),(r=t.call(this,ae,"hover command")).time=e,r}return(0,s.Z)(n,[{key:"run",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendSerialCommand();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(se),ce=new Uint8Array([10,85,17,2,112,16,7,18,85,177]),ue=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,o.Z)(this,n),t.call(this,ce,"land command")}return(0,s.Z)(n,[{key:"run",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendSerialCommand();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(se),he=function(){function e(){(0,o.Z)(this,e),this.stack=[],this.commandConsummerOn=!1,this.inProgress=!1,this.commandLoop=null,this.checkStopLoop=null,this.softLandStack=[new le,new ue,new ue,new ue],this.softLandTrigger=!1}return(0,s.Z)(e,[{key:"triggerSoftLand",value:function(){this.softLandTrigger=!0}},{key:"addCommand",value:function(e){this.stack.push(e)}},{key:"initCommandConsumer",value:function(){this.commandConsummerOn=!0,this.clearCheckStopLoop(),this.checkIsStopped(),this.commandLoop=setInterval(function(){if(Code.commandManagerCDEInProgress)return!0;if(this.softLandTrigger&&this.commandConsummerOn)if(0===this.softLandStack.length)this.softLandTrigger=!1,this.stack=[],this.softLandStack=[new le,new ue,new ue,new ue];else{var e=this.softLandStack.shift();this.execute(e,e instanceof le)}else if(this.stack&&this.stack.length>0&&this.commandConsummerOn){var t=this.stack.shift();this.execute(t)}}.bind(this),100)}},{key:"checkIsStopped",value:function(){var e=this;this.checkStopLoop=setInterval((function(){n.g.RUNNING?e.stack.length>0?Code.executionTimesCDE=0:(Code.executionTimesCDE=Code.executionInProgress||Code.commandManagerCDEInProgress?0:Code.executionTimesCDE+1,Code.executionTimesCDE>2e3&&(Code.keypressInProgress||(n.g.callstopExternalEvent(),Code.executionTimesCDE=0))):Code.executionTimesCDE=0}),10)}},{key:"restartCommandConsumer",value:function(){this.commandConsummerOn=!1,this.cleanStack(),clearInterval(this.commandLoop),this.clearCheckStopLoop(),this.initCommandConsumer()}},{key:"cleanStack",value:function(){this.stack=[]}},{key:"clearCheckStopLoop",value:function(){try{this.checkStopLoop&&(clearInterval(this.checkStopLoop),this.checkStopLoop=null)}catch(e){console.log(e)}}},{key:"execute",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n){var o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Code.commandManagerCDEInProgress=!0,!n){e.next=6;break}o=setInterval((0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.run();case 2:case"end":return e.stop()}}),e)}))),20),setTimeout((0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:clearInterval(o),Code.commandManagerCDEInProgress=!1;case 2:case"end":return e.stop()}}),e)}))),2e3),e.next=9;break;case 6:return e.next=8,t.run();case 8:Code.commandManagerCDEInProgress=!1;case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),pe=new he,fe=new Uint8Array([10,85,17,2,112,16,7,17,54,129]),de=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,o.Z)(this,n),t.call(this,fe,"takeOff command")}return(0,s.Z)(n,[{key:"run",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendSerialCommand();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(se),ge=new Uint8Array([10,85,17,2,128,16,1,0,205,182]),_e=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,o.Z)(this,n),t.call(this,ge,"EmergencyStop")}return(0,s.Z)(n,[{key:"run",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendSerialCommand();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(se),ve=n(8166),me=ve.Ei,ye=function(e){(0,a.Z)(c,e);var t=(0,l.Z)(c);function c(e,r){switch((0,o.Z)(this,c),r=r||50,e){case n.g.Direction.FORWARD:me[6]=0,me[7]=r,me[8]=0,me[9]=0;break;case n.g.Direction.BACKWARD:me[6]=0,me[7]=-1*r,me[8]=0,me[9]=0;break;case n.g.Direction.UP:me[6]=0,me[7]=0,me[8]=0,me[9]=r;break;case n.g.Direction.DOWN:me[6]=0,me[7]=0,me[8]=0,me[9]=-1*r;break;case n.g.Direction.LEFT:me[6]=-1*r,me[7]=0,me[8]=0,me[9]=0;break;case n.g.Direction.RIGHT:me[6]=r,me[7]=0,me[8]=0,me[9]=0}return t.call(this,me,"Go")}return(0,s.Z)(c,[{key:"run",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),c}(se),Te=n(2982),Ee=function(e){(0,a.Z)(c,e);var t=(0,l.Z)(c);function c(e,n){(0,o.Z)(this,c);var r=e-n,i=Math.abs(r),s=1;i>0&&(s=r/i);var a,l=360-i,u=0;i<=l?(a=parseInt(i/360*100),(a=parseInt(7*a))>100?a=100:a<-100&&(a=-100),u=parseInt(s*a)):(a=parseInt(l/360*100),(a=parseInt(7*a))>100?a=100:a<-100&&(a=-100),u=parseInt(-1*s*a));var h=new Uint8Array((0,Te.Z)(ve.Ei));return h[6]=0,h[7]=0,h[8]=u,h[9]=0,t.call(this,h,"Turn")}return(0,s.Z)(c,[{key:"run",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:return e.next=5,n.g.delay(.01);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),c}(se),be=new Uint8Array([10,85,16,4,112,16,0,0,0,0,0,0]),Oe=function(e){(0,a.Z)(c,e);var t=(0,l.Z)(c);function c(e,r){(0,o.Z)(this,c);var i=r;return e===n.g.Direction.RIGHT&&(i=parseInt(-1*r)),be[6]=0,be[7]=0,be[8]=i,be[9]=0,t.call(this,be,"Turn")}return(0,s.Z)(c,[{key:"run",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:return e.next=5,n.g.delay(.01);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),c}(se),Se=ve.Ei,ke=function(e){(0,a.Z)(c,e);var t=(0,l.Z)(c);function c(e,n){(0,o.Z)(this,c);var r=n-e;r>100?r=100:r<-100&&(r=-100);var i=parseInt(.2*r);return console.log(i),Se[6]=0,Se[7]=i,Se[8]=0,Se[9]=0,t.call(this,Se,"moveTowardsWall")}return(0,s.Z)(c,[{key:"run",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:return e.next=5,n.g.delay(.01);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),c}(se),we=ve.Ei,Re=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,o.Z)(this,n),we[6]=0,we[7]=0,we[8]=0,we[9]=0,t.call(this,ve.Ei,"resetState")}return(0,s.Z)(n,[{key:"run",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(se),Ce=ve.Ei,Ie=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(e,r,i,s){return(0,o.Z)(this,n),Ce[6]=e,Ce[7]=r,Ce[8]=-1*i,Ce[9]=s,t.call(this,Ce,"move")}return(0,s.Z)(n,[{key:"run",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(se),xe=n(1203),Ae=ve.kq,Ne=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(e,r){return(0,o.Z)(this,n),Ae[6]=255&e,Ae[7]=e>>8&255,Ae[8]=255&r,Ae[9]=r>>8&255,t.call(this,Ae,"move trim")}return(0,s.Z)(n,[{key:"run",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),this.setUint8Array(),e.next=4,this.sendSerialCommand();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(se),Le=[10,85,17,2,112,16,4,0,0,0],Me=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(e){return(0,o.Z)(this,n),Le[7]=e,t.call(this,new Uint8Array(Le),"controlSpeed")}return(0,s.Z)(n,[{key:"run",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(se),De=new Uint8Array([10,85,97,3,112,16,0,0,0,0,0]),Pe=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(e,r){return(0,o.Z)(this,n),De[6]=e,De[8]=25*r>>4&255,De[9]=25*r&255,t.call(this,De,"sendMotorSingle command")}return(0,s.Z)(n,[{key:"run",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(se),Be=[10,85,17,2,112,32,10,128,0,0],Fe=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(e){return(0,o.Z)(this,n),t.call(this,new Uint8Array(Be),"controllerState")}return(0,s.Z)(n,[{key:"run",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(se),Ue=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(e,r){var i;(0,o.Z)(this,n);var s=(0,Te.Z)(ve.A$);s[6]=113;var a=new Uint8Array(s);return(i=t.call(this,a,"get joystick data")).direction=e,i.type=r,i}return(0,s.Z)(n,[{key:"getData",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n){var o,s,a=this;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.generateCRC();try{70,o=0,s=setInterval((0,i.Z)((0,r.Z)().mark((function e(){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(++o>70)){e.next=5;break}return clearInterval(s),n(),e.abrupt("return");case 5:if(!Code.droneData.joystick){e.next=13;break}i=Code.droneData.joystick,Code.droneData.joystick=!1,clearInterval(s),console.log(i),t(i[a.direction][a.type]),e.next=15;break;case 13:return e.next=15,a.getState();case 15:case"end":return e.stop()}}),e)}))),10)}catch(l){n(l)}case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(se),Ze={0:"None_",1:"Down",2:"Press",3:"Up",4:"EndContinuePress"},Ge=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;(0,o.Z)(this,n);var i=(0,Te.Z)(ve.A$);i[6]=112;var s=new Uint8Array(i);return(r=t.call(this,s,"get button data")).type=e,r}return(0,s.Z)(n,[{key:"getData",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n){var o,s,a=this;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.generateCRC();try{70,o=0,s=setInterval((0,i.Z)((0,r.Z)().mark((function e(){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(++o>70)){e.next=5;break}return clearInterval(s),n(),e.abrupt("return");case 5:if(!Code.droneData.button){e.next=14;break}i=Code.droneData.button,Code.droneData.button=!1,clearInterval(s),i.event=Ze[i.event],console.log(i),t(i),e.next=16;break;case 14:return e.next=16,a.getState();case 16:case"end":return e.stop()}}),e)}))),10)}catch(l){n(l)}case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(se),He=n(4255),Ve=n.n(He),je=new Uint8Array([10,85,16,20,112,16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),We=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(e,r,i,s,a,l){(0,o.Z)(this,n);for(var c=Ve().pack("<ffffhh",e,r,i,s,a,l),u=0;u<20;u++)je[u+6]=c[u];return t.call(this,je,"send absolute position")}return(0,s.Z)(n,[{key:"run",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(se);function Xe(){n.g.resetState=(0,i.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=5;break}return t=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=new Re,pe.addCommand(i),t();case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",t);case 5:console.log("Not Connected");case 6:case"end":return e.stop()}}),e)}))),n.g.takeoff=(0,i.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.g.takeOffInProgress=!0,e.next=3,n.g.moveInternal(0,0,0,0);case 3:if(!n.g.isSerialRunning()){e.next=10;break}if(n.g.RUNNING){e.next=6;break}return e.abrupt("return");case 6:return t=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,i){var o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Code.executionInProgress=!0,e.next=3,n.g.resetState();case 3:return e.next=5,n.g.delay(.5);case 5:return o=new de,pe.addCommand(o),e.next=9,n.g.delay(.1);case 9:return pe.addCommand(o),e.next=12,n.g.delay(.1);case 12:pe.addCommand(o),setTimeout((function(){Code.executionInProgress=!1,n.g.takeOffInProgress=!1,t()}),5e3);case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",t);case 10:console.log("Not connected");case 11:case"end":return e.stop()}}),e)}))),n.g.emergencyStop=(0,i.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()||!n.g.RUNNING){e.next=5;break}return t=new Promise((function(e,t){var r=new _e;pe.addCommand(r),pe.addCommand(r),pe.addCommand(r),pe.addCommand(r),pe.addCommand(r),n.g.RUNNING=!1,e()})),e.abrupt("return",t);case 5:console.log("Not Running");case 6:case"end":return e.stop()}}),e)}))),n.g.land=(0,i.Z)((0,r.Z)().mark((function e(){var t,o,s,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.g.moveInternal(0,0,0,0);case 2:if(!n.g.isSerialRunning()){e.next=16;break}if(n.g.RUNNING){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,n.g.getPos("all","m");case 7:return t=e.sent,o=n.g.getPreviousLand(),s=[o[0]+t.x,o[1]+t.y],e.next=12,n.g.setPreviousLand(s);case 12:return a=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,i){var o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Code.executionInProgress=!0,o=new ue,pe.addCommand(o),e.next=5,n.g.delay(.1);case 5:return pe.addCommand(o),e.next=8,n.g.delay(.1);case 8:return pe.addCommand(o),e.next=11,n.g.delay(.1);case 11:return pe.addCommand(o),e.next=14,n.g.delay(.1);case 14:pe.addCommand(o),setTimeout((function(){Code.executionInProgress=!1,t()}),5e3);case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",a);case 16:console.log("Not Connected");case 17:case"end":return e.stop()}}),e)}))),n.g.go=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,o,s){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=7;break}if(n.g.RUNNING){e.next=3;break}return e.abrupt("return");case 3:return a=new Promise((function(e,a){if(0!==o){Code.executionInProgress=!0;var l=setInterval((0,i.Z)((0,r.Z)().mark((function e(){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.g.RUNNING?(i=new ye(t,s),pe.addCommand(i)):clearInterval(l);case 1:case"end":return e.stop()}}),e)}))),20);setTimeout((0,i.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return clearInterval(l),pe.cleanStack(),t.next=4,n.g.hover(.5);case 4:Code.executionInProgress=!1,e();case 6:case"end":return t.stop()}}),t)}))),1e3*o)}else e()})),e.abrupt("return",a);case 7:console.log("Not Connected");case 8:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),n.g.turn=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var o,s,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("Turn degree : ",t),o=3,!n.g.isSerialRunning()){e.next=12;break}return n.g.RUNNING||console.log("code is not running"),e.next=6,n.g.hover(.01);case 6:return(s=t)>=180?s=180:s<=-180&&(s=-180),a=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,a){var l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Code.executionInProgress=!0,l=setInterval((0,i.Z)((0,r.Z)().mark((function e(){var t,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.RUNNING){e.next=8;break}return e.next=3,n.g.getAngle("z");case 3:t=e.sent,i=new Ee(s,t),pe.addCommand(i),e.next=9;break;case 8:clearInterval(l);case 9:case"end":return e.stop()}}),e)}))),300),setTimeout((0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return clearInterval(l),e.next=3,n.g.hover(.05);case 3:Code.executionInProgress=!1,pe.cleanStack(),t();case 6:case"end":return e.stop()}}),e)}))),1e3*o);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",a);case 12:console.log("Not Connected");case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.g.turnLeft=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var i,o,s,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=parseInt(Math.abs(t)))>=180&&(i=179),e.next=4,n.g.getAngle("z");case 4:if(o=e.sent,!((s=i+o)>180)){e.next=13;break}return a=-(360-s),e.next=10,n.g.turn(a);case 10:case 15:return e.abrupt("return",e.sent);case 13:return e.next=15,n.g.turn(s);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.g.turnRight=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var i,o,s,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=parseInt(Math.abs(t)))>=180&&(i=179),e.next=4,n.g.getAngle("z");case 4:if(o=e.sent,!((s=o-i)<-180)){e.next=13;break}return a=360+s,e.next=10,n.g.turn(a);case 10:case 15:return e.abrupt("return",e.sent);case 13:return e.next=15,n.g.turn(s);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.g.turnPower=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,o,s){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=9;break}if(n.g.RUNNING){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,n.g.hover(.01);case 5:return a=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(a,l){var c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Code.executionInProgress=!0,c=setInterval((0,i.Z)((0,r.Z)().mark((function e(){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.g.RUNNING?(i=new Oe(t,s),pe.addCommand(i)):clearInterval(c);case 1:case"end":return e.stop()}}),e)}))),300),setTimeout((0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return clearInterval(c),e.next=3,n.g.hover(.05);case 3:Code.executionInProgress=!1,pe.cleanStack(),a();case 6:case"end":return e.stop()}}),e)}))),1e3*o);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",a);case 9:console.log("Not Connected");case 10:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),n.g.avoidWall=(0,i.Z)((0,r.Z)().mark((function e(){var t,o,s,a,l=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.length>0&&void 0!==l[0]?l[0]:2,o=l.length>1&&void 0!==l[1]?l[1]:70,!n.g.isSerialRunning()){e.next=15;break}if(n.g.RUNNING){e.next=5;break}return e.abrupt("return");case 5:if(0!==t&&0!==o){e.next=8;break}return resolve(),e.abrupt("return");case 8:return s=0,0,Code.executionInProgress=!0,a=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(a,l){var c,u;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=0,u=setInterval((0,i.Z)((0,r.Z)().mark((function e(){var t,i,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.RUNNING||20===c){e.next=10;break}return e.next=3,n.g.getRange("front","cm");case 3:t=e.sent,s-t,s=t,50,t>o+50||t<o-50?(i=new ke(o,t),pe.addCommand(i)):(a=new le(.5),pe.addCommand(a),c++),e.next=11;break;case 10:clearInterval(u);case 11:case"end":return e.stop()}}),e)}))),700),setTimeout((0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return clearInterval(u),pe.cleanStack(),e.next=4,n.g.hover(.01);case 4:Code.executionInProgress=!1,a();case 6:case"end":return e.stop()}}),e)}))),1e3*t);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",a);case 15:console.log("Not Connected");case 16:case"end":return e.stop()}}),e)}))),n.g.detectWall=(0,i.Z)((0,r.Z)().mark((function e(){var t,i=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:50,e.next=3,n.g.getRange("front","cm");case 3:if(!(e.sent<t)){e.next=8;break}return e.abrupt("return",!0);case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e)}))),n.g.keepDistance=(0,i.Z)((0,r.Z)().mark((function e(){var t,o,s,a,l=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.length>0&&void 0!==l[0]?l[0]:2,o=l.length>1&&void 0!==l[1]?l[1]:50,!n.g.isSerialRunning()){e.next=14;break}if(n.g.RUNNING){e.next=5;break}return e.abrupt("return");case 5:if(0!==t&&0!==o){e.next=8;break}return resolve(),e.abrupt("return");case 8:return s=o,Code.executionInProgress=!0,a=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(o,a){var l,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=0,c=setInterval((0,i.Z)((0,r.Z)().mark((function e(){var t,i,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.RUNNING||20===l){e.next=8;break}return e.next=3,n.g.getRange("front","cm");case 3:t=e.sent,10,t>s+10||t<s-10?(i=new ke(s,t),pe.addCommand(i)):(o=new le(.5),pe.addCommand(o),l++),e.next=9;break;case 8:clearInterval(c);case 9:case"end":return e.stop()}}),e)}))),500),setTimeout((0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return clearInterval(c),pe.cleanStack(),e.next=4,n.g.hover(.01);case 4:Code.executionInProgress=!1,o();case 6:case"end":return e.stop()}}),e)}))),1e3*t);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",a);case 14:console.log("Not Connected");case 15:case"end":return e.stop()}}),e)}))),n.g.hover=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=7;break}if(n.g.RUNNING){e.next=3;break}return e.abrupt("return");case 3:return o=new Promise((function(e,o){if(0!==t){Code.executionInProgress=!0;var s=setInterval((0,i.Z)((0,r.Z)().mark((function e(){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.g.RUNNING?(i=new le(t),pe.addCommand(i)):clearInterval(s);case 1:case"end":return e.stop()}}),e)}))),20);setTimeout((0,i.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:clearInterval(s),pe.cleanStack(),setTimeout((0,i.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Code.executionInProgress=!1,e();case 2:case"end":return t.stop()}}),t)}))),0);case 3:case"end":return t.stop()}}),t)}))),1e3*t)}else e()})),e.abrupt("return",o);case 7:console.log("Not Connected");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.g.resetFlyVariables=function(){xe.K.roll=0,xe.K.pitch=0,xe.K.yaw=0,xe.K.throttle=0},n.g.moveInternal=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,o,s,a){var l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=8;break}if(n.g.RUNNING){e.next=3;break}return e.abrupt("return");case 3:return Code.executionInProgress=!0,l=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,i){var l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=new Ie(t,o,s,a),pe.addCommand(l),Code.executionInProgress=!1,n();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",l);case 8:console.log("Not Connected");case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),n.g.move=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,o,s,a,l){var c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("move",t,o,s,a,l),a&&(a*=-1),!t||o||s||a||l){e.next=9;break}o=xe.K.roll,s=xe.K.pitch,a=xe.K.yaw,l=xe.K.throttle,e.next=19;break;case 9:if(t||o||s||a||l){e.next=15;break}return e.next=12,n.g.moveInternal(xe.K.roll,xe.K.pitch,xe.K.yaw,xe.K.throttle);case 12:return e.abrupt("return",e.sent);case 15:if(t||!o&&!s){e.next=19;break}return e.next=18,n.g.moveInternal(o,s,a,l);case 18:return e.abrupt("return",e.sent);case 19:if(!n.g.isSerialRunning()){e.next=24;break}return c=new Promise((function(e,c){if(0!==t){Code.executionInProgress=!0;var u=setInterval((0,i.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.g.RUNNING?(t=new Ie(o,s,a,l),pe.addCommand(t)):clearInterval(u);case 1:case"end":return e.stop()}}),e)}))),20);setTimeout((0,i.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:clearInterval(u),pe.cleanStack(),setTimeout((0,i.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Code.executionInProgress=!1,e();case 2:case"end":return t.stop()}}),t)}))),1e3);case 3:case"end":return t.stop()}}),t)}))),1e3*t)}else e()})),e.abrupt("return",c);case 24:console.log("Not Connected");case 25:case"end":return e.stop()}}),e)})));return function(t,n,r,i,o){return e.apply(this,arguments)}}(),n.g.setTrim=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,o){var s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("setTrim : ",t,o),n.g.updateRollPitchInConnectionBox(t,o),!n.g.isSerialRunning()){e.next=7;break}return s=new Promise((function(e,s){n.g.loopInProgress=!1;var a=function(){var s=(0,i.Z)((0,r.Z)().mark((function s(){return(0,r.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:setTimeout((0,i.Z)((0,r.Z)().mark((function i(){var s;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s=new Ne(t,o),r.next=3,s.run();case 3:if(!n.g.loopInProgress||!n.g.RUNNING){r.next=7;break}a(),r.next=12;break;case 7:return n.g.loopInProgress=!1,r.next=10,n.g.delay(.05);case 10:return e(),r.abrupt("return");case 12:case"end":return r.stop()}}),i)}))),50);case 1:case"end":return s.stop()}}),s)})));return function(){return s.apply(this,arguments)}}();n.g.loopInProgress=!0,setTimeout((function(){n.g.loopInProgress=!1}),500),a()})),e.abrupt("return",s);case 7:console.log("Not Connected");case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.g.resetTrim=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.g.setTrim(0,0);case 2:case"end":return e.stop()}}),e)}))),n.g.setSpeed=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=5;break}return o=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,i){var o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=new Me(t),pe.addCommand(o),Code.executionInProgress=!1,n();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",o);case 5:console.log("Not Connected");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.g.sendMotorSingle=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,o){var s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=5;break}return s=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(i,o){var s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Code.executionInProgress=!0,s=new Pe(t,200),e.next=4,s.run();case 4:return e.next=6,n.g.delay(1);case 6:return s=new Pe(t,0),e.next=9,s.run();case 9:Code.executionInProgress=!1,i();case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",s);case 5:console.log("Not Connected");case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.g.setControllerMode=(0,i.Z)((0,r.Z)().mark((function e(){var t,o,s=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.length>0&&void 0!==s[0]?s[0]:"LINK",!n.g.isSerialRunning()){e.next=6;break}return o=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,i){var o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=new Fe(t),pe.addCommand(o),Code.executionInProgress=!1,n();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",o);case 6:console.log("Not Connected");case 7:case"end":return e.stop()}}),e)}))),n.g.circle=(0,i.Z)((0,r.Z)().mark((function e(){var t,o,s,a=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:75,o=a.length>1&&void 0!==a[1]?a[1]:1,!n.g.isSerialRunning()){e.next=7;break}return s=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,i){var s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Code.executionInProgress=!0,s=new Ie(0,t,o*t,0),pe.addCommand(s),Code.executionInProgress=!1,n();case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",s);case 7:console.log("Not Connected");case 8:case"end":return e.stop()}}),e)}))),n.g.circle_turn=(0,i.Z)((0,r.Z)().mark((function e(){var t,o,s,a,l=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.length>1&&void 0!==l[1]?l[1]:1,l.length>2&&void 0!==l[2]?l[2]:1,o=l.length>0&&void 0!==l[0]?l[0]:30,s=0,!n.g.isSerialRunning()){e.next=10;break}return a=new Promise((function(e,a){if(0!==t){Code.executionInProgress=!0;var l=0,c=setInterval((0,i.Z)((0,r.Z)().mark((function t(){var i;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.g.RUNNING?(i=new Ie(s,o,0,0),pe.addCommand(i),l>=0&&l<4?(s+=10,o-=10):l>=4&&l<8?(s-=10,o-=10):l>=8&&l<12?(s-=10,o+=10):l>=12&&l<16?(s+=10,o+=10):(clearInterval(c),pe.cleanStack(),Code.executionInProgress=!1,e()),l+=1):clearInterval(c);case 1:case"end":return t.stop()}}),t)}))),400);setTimeout((0,i.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:clearInterval(c),pe.cleanStack(),setTimeout((0,i.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Code.executionInProgress=!1,e();case 2:case"end":return t.stop()}}),t)}))),10);case 3:case"end":return t.stop()}}),t)}))),8e3)}else e()})),e.abrupt("return",a);case 10:console.log("Not Connected");case 11:case"end":return e.stop()}}),e)}))),n.g.getJoystickData=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,o){var s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=7;break}return Code.executionInProgress=!0,s=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,i){var s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=new Ue(t,o),e.next=3,s.getData(n,i);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Code.executionInProgress=!1,e.abrupt("return",s);case 7:console.log("Not Connected");case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.g.getButtonData=(0,i.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=7;break}return Code.executionInProgress=!0,t=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new Ge,e.next=3,i.getData(t,n);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Code.executionInProgress=!1,e.abrupt("return",t);case 7:console.log("Not Connected");case 8:case"end":return e.stop()}}),e)}))),n.g.l1Pressed=(0,i.Z)((0,r.Z)().mark((function e(){var t,i,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.g.getButtonData();case 2:if(t=e.sent,i=t.button,o=t.event,1!==i||"Press"!==o&&"Down"!==o){e.next=9;break}return e.abrupt("return",!0);case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e)}))),n.g.l2Pressed=(0,i.Z)((0,r.Z)().mark((function e(){var t,i,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.g.getButtonData();case 2:if(t=e.sent,i=t.button,o=t.event,2!==i||"Press"!==o&&"Down"!==o){e.next=9;break}return e.abrupt("return",!0);case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e)}))),n.g.r1Pressed=(0,i.Z)((0,r.Z)().mark((function e(){var t,i,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.g.getButtonData();case 2:if(t=e.sent,i=t.button,o=t.event,4!==i||"Press"!==o&&"Down"!==o){e.next=9;break}return e.abrupt("return",!0);case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e)}))),n.g.moveDirection=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,i,o,s){var a,l,c,u,h;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i,"cm"===o?a=i/100:"ft"===o?a=i/3.28084:"in"===o?a=i/39.37:"m"===o&&(a=1*i),s>2?s=2:s<0&&(s=0),e.next=5,n.g.getPos("all","m");case 5:if(l=e.sent,c=l.x,u=l.y,h=l.z,"forward"!==t){e.next=15;break}return e.next=12,n.g.send_absolute_position(c+a,u,h,s);case 12:case 18:case 24:case 30:return e.abrupt("return",e.sent);case 15:if("backward"!==t){e.next=21;break}return e.next=18,n.g.send_absolute_position(c-a,u,h,s);case 21:if("left"!==t){e.next=27;break}return e.next=24,n.g.send_absolute_position(c,u+a,h,s);case 27:if("right"!==t){e.next=31;break}return e.next=30,n.g.send_absolute_position(c,u-a,h,s);case 31:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),n.g.send_absolute_position=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,i,o,s){var a,l,c,u,h,p,f,d,g,_,v,m=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=m.length>4&&void 0!==m[4]?m[4]:0,l=m.length>5&&void 0!==m[5]?m[5]:0,!n.g.isSerialRunning()||!n.g.RUNNING){e.next=17;break}return c=n.g.getPreviousLand(),e.next=6,n.g.getPos("all","m");case 6:return u=e.sent,h=u.x,p=u.y,f=u.z,d=t-(c[0]+h),g=i-(c[1]+p),_=o-f,v=new Promise((function(e,t){var n=new We(d,g,_,s,a,l);pe.addCommand(n),e()})),e.abrupt("return",v);case 17:console.log("Not Running");case 18:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()}var ze=(0,n(2649).noConflict)();try{ze.setLevel("error")}catch(Hr){ze.setLevel("error"),ze.error(Hr)}var Ye=[],qe=[],Ke=[];try{Ke.push(window.navigator.userAgent),Ke.push("--------------------")}catch(Hr){ze.error(Hr)}var Qe={info:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];ze.info.apply(ze,t);for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];"object"===typeof s?r.push(JSON.stringify(s)):r.push(s),r.push("--------------------")}Ke.push.apply(Ke,r)},warn:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];ze.warn.apply(ze,t);for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];"object"===typeof s?r.push(JSON.stringify(s)):r.push(s),r.push("--------------------")}Ye.push.apply(Ye,r),Ke.push.apply(Ke,r)},error:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];ze.error.apply(ze,t);for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];"object"===typeof s?r.push(JSON.stringify(s)):r.push(s),r.push("--------------------")}qe.push.apply(qe,r),Ke.push.apply(Ke,r)},getAllWarnLogs:function(){return Ye.join("\n")},getAllErrorLogs:function(){return qe.join("\n")},getAllLogs:function(){return Ke.join("\n")}},Je=Qe,$e=new Uint8Array([10,85,4,1,128,16,64,95,143]),et=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,o.Z)(this,n),t.call(this,$e,"get battery percentage")}return(0,s.Z)(n,[{key:"getBattery",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n){var o,s,a=this;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{74,o=0,s=setInterval((0,i.Z)((0,r.Z)().mark((function e(){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(++o>74)){e.next=5;break}return clearInterval(s),n(),e.abrupt("return");case 5:if(!Code.droneData.battery){e.next=13;break}console.log("Battery value: ",Code.droneData.battery),i=Code.droneData.battery,Code.droneData.battery=!1,clearInterval(s),t(parseInt(i)),e.next=15;break;case 13:return e.next=15,a.getState();case 15:case"end":return e.stop()}}),e)}))),10)}catch(l){Je.error("Error: get battery",l),n(l)}case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(se),tt=new Uint8Array([10,85,4,1,112,32,7,187,81]),nt=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,o.Z)(this,n),t.call(this,tt,"get firmware Version")}return(0,s.Z)(n,[{key:"getControllerFirmwareVersion",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n){var o,s,a=this;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{this.package=tt,this.sendSerialCommand2(),74,o=0,s=setInterval((0,i.Z)((0,r.Z)().mark((function e(){var i,l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(++o>74)){e.next=5;break}return clearInterval(s),n(),e.abrupt("return");case 5:if(null===(i=Code)||void 0===i||null===(i=i.droneData)||void 0===i||!i.controllerFirmware){e.next=12;break}console.log("controller firmware value: ",Code.droneData.controllerFirmware),l=Code.droneData.controllerFirmware,clearInterval(s),t(l),e.next=14;break;case 12:return e.next=14,a.getState();case 14:case"end":return e.stop()}}),e)}))),10)}catch(l){n(l)}case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(se),rt=new Uint8Array([10,85,4,1,112,16,7,46,84]),it=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,o.Z)(this,n),t.call(this,rt,"get firmware Version")}return(0,s.Z)(n,[{key:"getDroneFirmwareVersion",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n){var o,s,a=this;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{this.package=rt,this.sendSerialCommand(),74,o=0,s=setInterval((0,i.Z)((0,r.Z)().mark((function e(){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(++o>74)){e.next=5;break}return clearInterval(s),n(),e.abrupt("return");case 5:if(!Code.droneData.droneFirmware){e.next=12;break}console.log("firmware value: ",Code.droneData.droneFirmware),i=Code.droneData.droneFirmware,clearInterval(s),t(i),e.next=14;break;case 12:return e.next=14,a.getState();case 14:case"end":return e.stop()}}),e)}))),10)}catch(l){n(l)}case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(se),ot=ve.wf,st=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,o.Z)(this,n),ot[6]=5,t.call(this,ot,"resetSensor")}return(0,s.Z)(n,[{key:"run",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(se),at=function(e){(0,a.Z)(c,e);var t=(0,l.Z)(c);function c(){(0,o.Z)(this,c);var e=new Uint8Array([10,85,4,1,128,16,82,0,0]);return t.call(this,e,"get trim")}return(0,s.Z)(c,[{key:"getData",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,o){var s,a,l=this;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.generateCRC();try{70,s=0,a=setInterval((0,i.Z)((0,r.Z)().mark((function e(){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(++s>70)){e.next=5;break}return clearInterval(a),o(),e.abrupt("return");case 5:if(!Code.droneData.trim){e.next=13;break}i=Code.droneData.trim,Code.droneData.trim=!1,clearInterval(a),n.g.updateRollPitchInConnectionBox(i.roll,i.pitch),t(i),e.next=15;break;case 13:return e.next=15,l.getState();case 15:case"end":return e.stop()}}),e)}))),100)}catch(c){o(c)}case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),c}(se),lt=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(){(0,o.Z)(this,n);var e=(0,Te.Z)(ve.A$);e[6]=69;var r=new Uint8Array(e);return t.call(this,r,"get range")}return(0,s.Z)(n,[{key:"getData",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n,o,s){var a,l,c=this;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.generateCRC();try{70,a=0,l=setInterval((0,i.Z)((0,r.Z)().mark((function e(){var i,u;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(++a>70)){e.next=5;break}return clearInterval(l),n(),e.abrupt("return");case 5:if(!Code.droneData.range){e.next=13;break}i=Code.droneData.range,Code.droneData.range=!1,clearInterval(l),"front"===o?u=i.front:"bottom"===o?u=i.bottom:t(i),t("cm"===s?parseFloat(parseFloat(.1*u).toFixed(1)):"in"===s?parseFloat(parseFloat(.039*u).toFixed(2)):"m"===s?parseFloat(parseFloat(.001*u).toFixed(3)):parseInt(u)),e.next=15;break;case 13:return e.next=15,c.getState();case 15:case"end":return e.stop()}}),e)}))),10)}catch(u){n(u)}case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()}]),n}(se),ct=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;(0,o.Z)(this,n);var i=(0,Te.Z)(ve.A$);i[6]=68;var s=new Uint8Array(i);return(r=t.call(this,s,"get motion")).type=e,r}return(0,s.Z)(n,[{key:"getData",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n){var o,s,a=this;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.generateCRC();try{70,o=0,s=setInterval((0,i.Z)((0,r.Z)().mark((function e(){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(++o>70)){e.next=5;break}return clearInterval(s),n(),e.abrupt("return");case 5:if(!Code.droneData.motion){e.next=12;break}i=Code.droneData.motion,Code.droneData.motion=!1,clearInterval(s),t(i[a.type]),e.next=14;break;case 12:return e.next=14,a.getState();case 14:case"end":return e.stop()}}),e)}))),10)}catch(l){n(l)}case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(se),ut=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;(0,o.Z)(this,n);var i=(0,Te.Z)(ve.A$);i[6]=67;var s=new Uint8Array(i);return(r=t.call(this,s,"get altitude")).type=e,r}return(0,s.Z)(n,[{key:"getData",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n,o){var s,a,l=this;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"temp"===this.type?o=o||"Celsius":"pressure"===this.type?o=o||"pascal":"elevation"===this.type&&(o=o||"m"),this.generateCRC();try{70,s=0,a=setInterval((0,i.Z)((0,r.Z)().mark((function e(){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(++s>70)){e.next=5;break}return clearInterval(a),n(),e.abrupt("return");case 5:if(!Code.droneData.altitude){e.next=12;break}i=Code.droneData.altitude,Code.droneData.altitude=!1,clearInterval(a),"height"===l.type?t(100*i[l.type]):"temp"===l.type&&"Fahrenheit"===o?t(parseFloat(parseFloat(9*i[l.type]/5+32).toFixed(1))):"temp"===l.type&&"Celsius"===o?t(parseFloat(parseFloat(i[l.type]).toFixed(1))):"temp"===l.type&&"Kelvin"===o?t(parseFloat(parseFloat(i[l.type]+273.15).toFixed(2))):"pressure"===l.type&&"Pa"===o?t(parseFloat(parseFloat(i[l.type]).toFixed(1))):"pressure"===l.type&&"mB"===o?t(parseFloat(parseFloat(.01*i[l.type]).toFixed(1))):"elevation"===l.type&&"m"===o?t(parseFloat(parseFloat(Math.round(100*i.altitude)/100))):"elevation"===l.type&&"km"===o?t(1e3*i.altitude):"elevation"===l.type&&"ft"===o?t(3.28084*i.altitude):"elevation"===l.type&&"mi"===o&&t(i.altitude/1609.34),e.next=14;break;case 12:return e.next=14,l.getState();case 14:case"end":return e.stop()}}),e)}))),10)}catch(c){n(c)}case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()}]),n}(se),ht=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(){(0,o.Z)(this,n);var e=(0,Te.Z)(ve.A$);e[6]=66;var r=new Uint8Array(e);return t.call(this,r,"get position")}return(0,s.Z)(n,[{key:"getData",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n,o,s){var a,l,c=this;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.generateCRC();try{70,a=0,l=setInterval((0,i.Z)((0,r.Z)().mark((function e(){var i,u;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(++a>70)){e.next=5;break}return clearInterval(l),n(),e.abrupt("return");case 5:if(!Code.droneData.position){e.next=13;break}i=Code.droneData.position,Code.droneData.position=!1,clearInterval(l),"x"===o?u=i.x:"y"===o?u=-1*i.y:"z"===o?u=i.z:t(i),t("cm"===s?parseFloat(parseFloat(100*u).toFixed(1)):"in"===s?parseFloat(parseFloat(39.37*u).toFixed(2)):"mm"===s?parseInt(1e3*u):parseFloat(parseFloat(u).toFixed(3))),e.next=15;break;case 13:return e.next=15,c.getState();case 15:case"end":return e.stop()}}),e)}))),10)}catch(u){n(u)}case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()}]),n}(se),pt=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;(0,o.Z)(this,n);var i=(0,Te.Z)(ve.A$);i[6]=49;var s=new Uint8Array(i);return(r=t.call(this,s,"get flow")).type=e,r}return(0,s.Z)(n,[{key:"getData",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n){var o,s,a=this;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.generateCRC();try{70,o=0,s=setInterval((0,i.Z)((0,r.Z)().mark((function e(){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(++o>70)){e.next=5;break}return clearInterval(s),n(),e.abrupt("return");case 5:if(!Code.droneData.flow){e.next=12;break}i=Code.droneData.flow,Code.droneData.flow=!1,clearInterval(s),t(i[a.type]),e.next=14;break;case 12:return e.next=14,a.getState();case 14:case"end":return e.stop()}}),e)}))),100)}catch(l){n(l)}case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(se),ft={h:0,s:1,v:2,l:3},dt=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(e,r){var i;(0,o.Z)(this,n);var s=(0,Te.Z)(ve.A$);s[6]=147;var a=new Uint8Array(s);return(i=t.call(this,a,"get card color")).type=e,i.hsvl=r,i}return(0,s.Z)(n,[{key:"getData",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n){var o,s,a=this;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.generateCRC();try{70,o=0,s=setInterval((0,i.Z)((0,r.Z)().mark((function e(){var i,l,c,u,h,p;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(++o>70)){e.next=5;break}return clearInterval(s),n(),e.abrupt("return");case 5:if(!Code.droneData.cardColor){e.next=13;break}i=Code.droneData.cardColor,Code.droneData.cardColor=!1,clearInterval(s),"all"===a.type&&t([0].concat((0,Te.Z)(i.frontHSVL),(0,Te.Z)(i.backHSVL),[i.front,i.back,null])),""===a.hsvl?t(i[a.type]):"hsv"===a.hsvl?(l=a.type+"HSVL",c=i[l],t([c[0],c[1],c[2]])):"hsvl"===a.hsvl?(u=a.type+"HSVL",t(i[u])):(h=a.type+"HSVL",p=ft[a.hsvl],t(i[h][p])),e.next=15;break;case 13:return e.next=15,a.getState();case 15:case"end":return e.stop()}}),e)}))),10)}catch(l){n(l)}case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(se),gt=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(e,r){var i;return(0,o.Z)(this,n),(i=t.call(this)).meter=e,i.conversion=r,i}return(0,s.Z)(n,[{key:"getData",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{"cm"===this.conversion?t(parseFloat(100*this.meter).toFixed(2)):"in"===this.conversion?t(parseFloat(39.37*this.meter).toFixed(2)):"mm"===this.conversion?t(parseFloat(1e3*this.meter).toFixed(2)):t(this.meter)}catch(r){n(r)}case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(se),_t=new Uint8Array([10,85,4,1,128,16,64,95,143]),vt={0:"None",16:"Ready",17:"Start",18:"Takeoff",19:"Flight",20:"Landing",21:"Flip",22:"Reverse",32:"Stop",48:"Accident",49:"Error",64:"Test",65:"EndOfType"},mt={0:"None",1:"Ready",2:"Hovering",3:"Moving",4:"ReturnHome"},yt=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,o.Z)(this,n),t.call(this,_t,"get state sensor")}return(0,s.Z)(n,[{key:"getStateSensor",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n,o){var s,a,l=this;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{74,s=0,a=setInterval((0,i.Z)((0,r.Z)().mark((function e(){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(++s>74)){e.next=5;break}return clearInterval(a),n(),e.abrupt("return");case 5:if(!Code.droneData.state){e.next=13;break}i=Code.droneData.state,Code.droneData.state=!1,clearInterval(a),"modeFlight"===o?t(vt[i[o]]):"modeMovement"===o&&t(mt[i[o]]),t(i[o]),e.next=15;break;case 13:return e.next=15,l.getState();case 15:case"end":return e.stop()}}),e)}))),10)}catch(c){console.log("error get state",c),n(c)}case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()}]),n}(se),Tt=new Uint8Array([10,85,4,1,128,32,64,0,0]),Et=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,o.Z)(this,n),t.call(this,Tt,"get lost connection")}return(0,s.Z)(n,[{key:"getData",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n){var o,s,a=this;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.generateCRC();try{70,o=0,s=setInterval((0,i.Z)((0,r.Z)().mark((function e(){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(++o>70)){e.next=5;break}return clearInterval(s),n(),e.abrupt("return");case 5:if(!Code.droneData.connection){e.next=13;break}i=Code.droneData.connection,Code.droneData.connection=!1,clearInterval(s),t(9===i),e.next=15;break;case 13:return e.next=15,a.getState();case 15:case"end":return e.stop()}}),e)}))),10)}catch(l){console.log("error get state",l),n(l)}case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(se),bt=n(2006),Ot=n(4906),St=n(918).lW,kt="Drone_12_Drone_P1",wt="Drone_12_Controller_P1";function Rt(){n.g.getBatteryPercentage=(0,i.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=5;break}return t=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new et,e.next=3,i.getBattery(t,n);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",t);case 5:console.log("Not Connected");case 6:case"end":return e.stop()}}),e)}))),n.g.getControllerFirmwareVersion=(0,i.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=5;break}return t=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new nt,e.next=3,i.getControllerFirmwareVersion(t,n);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",t);case 5:console.log("Not Connected");case 6:case"end":return e.stop()}}),e)}))),n.g.getDroneFirmwareVersion=(0,i.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=5;break}return t=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new it,e.next=3,i.getDroneFirmwareVersion(t,n);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",t);case 5:console.log("Not Connected");case 6:case"end":return e.stop()}}),e)}))),n.g.getMotion=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=7;break}return Code.executionInProgress=!0,o=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,i){var o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new ct(t),e.next=3,o.getData(n,i);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Code.executionInProgress=!1,e.abrupt("return",o);case 7:console.log("Not Connected");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.g.getAngle=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var i,o=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=o.length>1&&void 0!==o[1]&&o[1],n.g.activateOrNot("gyro",i),"x"!==t){e.next=8;break}return e.next=5,n.g.getMotion("angleRoll");case 5:return e.abrupt("return",e.sent);case 8:if("y"!==t){e.next=14;break}return e.next=11,n.g.getMotion("anglePitch");case 11:return e.abrupt("return",e.sent);case 14:if("z"!==t){e.next=20;break}return e.next=17,n.g.getMotion("angleYaw");case 17:return e.abrupt("return",e.sent);case 20:console.log("wrong command");case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.g.getGyro=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("x"!==t){e.next=6;break}return e.next=3,n.g.getMotion("gyroRoll");case 3:return e.abrupt("return",e.sent);case 6:if("y"!==t){e.next=12;break}return e.next=9,n.g.getMotion("gyroPitch");case 9:return e.abrupt("return",e.sent);case 12:if("z"!==t){e.next=18;break}return e.next=15,n.g.getMotion("gyroYaw");case 15:return e.abrupt("return",e.sent);case 18:console.log("wrong command");case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.g.getAccel=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var i,o=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=o.length>1&&void 0!==o[1]&&o[1],n.g.activateOrNot("accel",i),"x"!==t){e.next=8;break}return e.next=5,n.g.getMotion("accelX");case 5:return e.abrupt("return",e.sent);case 8:if("y"!==t){e.next=14;break}return e.next=11,n.g.getMotion("accelY");case 11:return e.abrupt("return",e.sent);case 14:if("z"!==t){e.next=20;break}return e.next=17,n.g.getMotion("accelZ");case 17:return e.abrupt("return",e.sent);case 20:console.log("wrong command");case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.g.getPos=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var o,s,a,l=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=l.length>1&&void 0!==l[1]?l[1]:"cm",s=l.length>2&&void 0!==l[2]&&l[2],!n.g.isSerialRunning()){e.next=10;break}return Code.executionInProgress=!0,n.g.activateOrNot("position",s),a=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,i){var s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=new ht,e.next=3,s.getData(n,i,t,o);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Code.executionInProgress=!1,e.abrupt("return",a);case 10:console.log("Not Connected");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.g.getFlow=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=7;break}return Code.executionInProgress=!0,o=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,i){var o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new pt(t),e.next=3,o.getData(n,i);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Code.executionInProgress=!1,e.abrupt("return",o);case 7:console.log("Not Connected");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.g.getDroneTemp=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var o,s,a=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=a.length>1&&void 0!==a[1]&&a[1],!n.g.isSerialRunning()){e.next=7;break}return n.g.activateOrNot("temp",o),s=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,i){var o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new ut("temp"),e.next=3,o.getData(n,i,t);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",s);case 7:console.log("Not Connected");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.g.getHeight=(0,i.Z)((0,r.Z)().mark((function e(){var t,i=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:"cm",e.next=3,n.g.getRange("bottom",t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),n.g.getPressure=(0,i.Z)((0,r.Z)().mark((function e(){var t,o,s,a=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:"pascal",o=a.length>1&&void 0!==a[1]&&a[1],!n.g.isSerialRunning()){e.next=8;break}return n.g.activateOrNot("altitude",o),s=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,i){var o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new ut("pressure"),e.next=3,o.getData(n,i,t);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",s);case 8:console.log("Not Connected");case 9:case"end":return e.stop()}}),e)}))),n.g.getTrim=(0,i.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=5;break}return t=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,i){var o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new at,e.next=3,o.getData(t,i);case 3:return e.next=5,n.g.delay(.01);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",t);case 5:console.log("Not Connected");case 6:case"end":return e.stop()}}),e)}))),n.g.reset_sensor=(0,i.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=8;break}if(n.g.RUNNING){e.next=3;break}return e.abrupt("return");case 3:return Code.executionInProgress=!0,t=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,i){var o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new st,pe.addCommand(o),Code.executionInProgress=!1,e.next=5,n.g.delay(1.5);case 5:t();case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",t);case 8:console.log("Not Connected");case 9:case"end":return e.stop()}}),e)}))),n.g.getRange=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var o,s,a,l=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=l.length>1&&void 0!==l[1]?l[1]:"cm",s=l.length>2&&void 0!==l[2]&&l[2],!n.g.isSerialRunning()){e.next=8;break}return"front"===t?n.g.activateOrNot("frontRange",s):n.g.activateOrNot("bottomRange",s),a=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,i){var s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=new lt,e.next=3,s.getData(n,i,t,o);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",a);case 8:console.log("Not Connected");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.g.getAltitude=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.g.getRange("bottom","cm");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),n.g.getElevation=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=5;break}return o=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,i){var o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new ut("elevation"),e.next=3,o.getData(n,i,t);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",o);case 5:console.log("Not Connected");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.g.getCardColor=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var o,s,a=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=a.length>1&&void 0!==a[1]&&a[1],!n.g.isSerialRunning()){e.next=9;break}return Code.executionInProgress=!0,"front"===t?n.g.activateOrNot("frontColor",o):n.g.activateOrNot("rearColor",o),s=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,i){var o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new dt(t,""),e.next=3,o.getData(n,i);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Code.executionInProgress=!1,e.abrupt("return",s);case 9:console.log("Not Connected");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.g.getFrontHSVL=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var i,o=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=o.length>1&&void 0!==o[1]&&o[1],n.g.activateOrNot("frontColor",i),e.next=4,n.g.getCardColorHSVL("front",t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.g.getBackHSVL=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var i,o=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=o.length>1&&void 0!==o[1]&&o[1],n.g.activateOrNot("rearColor",i),e.next=4,n.g.getCardColorHSVL("back",t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.g.getCardColorHSVL=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,o){var s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=7;break}return Code.executionInProgress=!0,s=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,i){var s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=new dt(t,o),e.next=3,s.getData(n,i);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Code.executionInProgress=!1,e.abrupt("return",s);case 7:console.log("Not Connected");case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.g.convertMeter=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,o){var s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=5;break}return s=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,i){var s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=new gt(t,o),e.next=3,s.getData(n,i);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",s);case 5:console.log("Not Connected");case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.g.getStateSensor=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=5;break}return o=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,i){var o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new yt,e.next=3,o.getStateSensor(n,i,t);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",o);case 5:console.log("Not Connected");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.g.checkLostConnection=(0,i.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=5;break}return t=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new Et,e.next=3,i.getData(t,n);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",t);case 5:console.log("Not Connected");case 6:case"end":return e.stop()}}),e)}))),n.g.getAllSensorData=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.g.getAccel("x");case 3:return e.next=5,n.g.getAngle("x");case 5:return e.next=7,n.g.getRange("front","mm");case 7:return e.next=9,n.g.getDroneTemp("Fahrenheit");case 9:return e.next=11,n.g.getPos("x","mm");case 11:if(!n.g.knn){e.next=16;break}return e.next=14,n.g.predictColor("front");case 14:e.next=18;break;case 16:return e.next=18,n.g.getFrontHSVL("h");case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.log(e.t0);case 23:case"end":return e.stop()}}),e,null,[[0,20]])}))),n.g.activateOrNot=function(e,t){t&&(n.g.FREEZEDASHBOARD=!0,n.g.activateSensor(e))},n.g.getFirmwareNeedUpdate=(0,i.Z)((0,r.Z)().mark((function n(){var i,o,s,a,l,c,u,h,p,f,d,g,_,v,m,y,T,E,b,O,S,k,w,R,C,I,x,A,N,L,M,D,P;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e();case 2:return b=n.sent,n.next=5,t();case 5:return O=n.sent,S=new Promise((function(e,t){(new nt).getControllerFirmwareVersion(e,t)})),n.next=9,S;case 9:return k=n.sent,n.next=12,new Promise((function(e,t){(new it).getDroneFirmwareVersion(e,t)}));case 12:return w=n.sent,n.next=15,w;case 15:return R=n.sent,console.log("**drone information raw data: ",null===R||void 0===R?void 0:R.informationRawDrone),C=null===(i=Ve().unpack("<I",St(null===R||void 0===R||null===(o=R.informationRawDrone)||void 0===o?void 0:o.slice(7,11),"hex")))||void 0===i?void 0:i.toString(16),console.log("**drone type int: ",C),I=null===(s=parseInt(C))||void 0===s?void 0:s.toString(16),console.log("**drone hexa value: ",I),x=null===(a=Ve().unpack("<I",St(null===k||void 0===k||null===(l=k.informationRawController)||void 0===l?void 0:l.slice(7,11),"hex")))||void 0===a?void 0:a.toString(16),A=null===(c=parseInt(x))||void 0===c?void 0:c.toString(16),console.log("**Firmware/controller versions obtain remotely: ".concat(null===O||void 0===O||null===(u=O.controller)||void 0===u?void 0:u.major," : ").concat(null===O||void 0===O||null===(h=O.controller)||void 0===h?void 0:h.minor," : ").concat(null===O||void 0===O||null===(p=O.controller)||void 0===p?void 0:p.build," ")),console.log("**Firmware/drone versions obtain remotely: ".concat(null===O||void 0===O||null===(f=O.drone)||void 0===f?void 0:f.major," : ").concat(null===O||void 0===O||null===(d=O.drone)||void 0===d?void 0:d.minor," : ").concat(null===O||void 0===O||null===(g=O.drone)||void 0===g?void 0:g.build," ")),console.log("**Firmware/controller versions obtain from Drone: ".concat(null===k||void 0===k?void 0:k.controllerMajor," : ").concat(null===k||void 0===k?void 0:k.controllerMinor," : ").concat(null===k||void 0===k?void 0:k.controllerBuild," ")),console.log("**Firmware/drone versions obtain from Drone: ".concat(null===R||void 0===R?void 0:R.droneMajor," : ").concat(null===R||void 0===R?void 0:R.droneMinor," : ").concat(null===R||void 0===R?void 0:R.droneBuild," ")),N=b,bt.G[I]!==kt&&Ot.q[A]!==wt||(N=O,console.log("**JROTC Detected",bt.G[I]),console.log("**JROTC Detected",Ot.q[A])),L=!0,(null===(_=N)||void 0===_||null===(_=_.controller)||void 0===_?void 0:_.major)===(null===k||void 0===k?void 0:k.controllerMajor)&&(null===(v=N)||void 0===v||null===(v=v.controller)||void 0===v?void 0:v.minor)===(null===k||void 0===k?void 0:k.controllerMinor)&&(null===(m=N)||void 0===m||null===(m=m.controller)||void 0===m?void 0:m.build)===(null===k||void 0===k?void 0:k.controllerBuild)&&(L=!1),M=!0,(null===(y=N)||void 0===y||null===(y=y.drone)||void 0===y?void 0:y.major)===(null===R||void 0===R?void 0:R.droneMajor)&&(null===(T=N)||void 0===T||null===(T=T.drone)||void 0===T?void 0:T.minor)===(null===R||void 0===R?void 0:R.droneMinor)&&(null===(E=N)||void 0===E||null===(E=E.drone)||void 0===E?void 0:E.build)===(null===R||void 0===R?void 0:R.droneBuild)&&(M=!1),D={drone:R,controller:k},P={droneNeedUpdate:M,controllerNeedUpdate:L},n.abrupt("return",{versions:D,firmware:P,droneModel:bt.G[I]});case 36:case"end":return n.stop()}}),n)})));var e=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var t,i,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(n.g.FIND_FIRMWARE_URL);case 3:return t=e.sent,e.next=6,t.text();case 6:return i=e.sent,o=JSON.parse(i),e.abrupt("return",o);case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",{controller:{major:0,build:0,minor:0},drone:{major:0,build:0,minor:0}});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var t,i,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(n.g.FIND_FIRMWARE_JROTC_URL);case 3:return t=e.sent,e.next=6,t.text();case 6:return i=e.sent,o=JSON.parse(i),e.abrupt("return",o);case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",{controller:{major:0,build:0,minor:0},drone:{major:0,build:0,minor:0}});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}()}var Ct=ve.p,It=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(e,r,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:25;return(0,o.Z)(this,n),Ct[5]=16,Ct[6]=34,Ct[7]=9*s>>4&255,Ct[8]=0,Ct[9]=e,Ct[10]=r,Ct[11]=i,t.call(this,new Uint8Array(Ct),"ledColor")}return(0,s.Z)(n,[{key:"run",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(se),xt=ve.p,At=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(e,r,i,s,a){return(0,o.Z)(this,n),xt[6]=s,xt[7]=255-25*a&255,xt[8]=255-25*a>>8&255,xt[9]=e,xt[10]=r,xt[11]=i,t.call(this,new Uint8Array(xt),"ledColorMode")}return(0,s.Z)(n,[{key:"run",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(se),Nt=ve.p,Lt=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(){(0,o.Z)(this,n);return Nt[6]=34,Nt[7]=56,Nt[8]=136,Nt[9]=255,Nt[10]=0,Nt[11]=0,t.call(this,Nt,"resetled")}return(0,s.Z)(n,[{key:"run",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(se),Mt=ve.cL,Dt=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(e,r,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:25;return(0,o.Z)(this,n),Mt[5]=32,Mt[6]=34,Mt[7]=9*s>>4&255,Mt[8]=0,Mt[9]=e,Mt[10]=r,Mt[11]=i,t.call(this,new Uint8Array(Mt),"controllerLedColor")}return(0,s.Z)(n,[{key:"run",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(se);function Pt(){n.g.setLEDColor=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,o,s,a){var l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=8;break}if(n.g.RUNNING){e.next=3;break}return e.abrupt("return");case 3:return Code.executionInProgress=!0,l=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,i){var l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=new It(t,o,s,a),pe.addCommand(l),Code.executionInProgress=!1,n();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",l);case 8:console.log("Not Connected");case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),n.g.setDroneLED=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,o,s,a,l){var c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("set drone led"),!n.g.isSerialRunning()&&!l){e.next=9;break}if(n.g.RUNNING){e.next=4;break}return e.abrupt("return");case 4:return Code.executionInProgress=!0,c=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,i){var l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=new It(t,o,s,a),pe.addCommand(l),Code.executionInProgress=!1,n();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",c);case 9:console.log("Not Connected");case 10:case"end":return e.stop()}}),e)})));return function(t,n,r,i,o){return e.apply(this,arguments)}}(),n.g.resetLED=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,o,s,a){var l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=8;break}if(n.g.RUNNING){e.next=3;break}return e.abrupt("return");case 3:return Code.executionInProgress=!0,l=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=new Lt,pe.addCommand(i),Code.executionInProgress=!1,t();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",l);case 8:console.log("Not Connected");case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),n.g.setLEDPattern=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,o,s,a,l){var c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=8;break}if(n.g.RUNNING){e.next=3;break}return e.abrupt("return");case 3:return Code.executionInProgress=!0,c=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,i){var c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=new At(t,o,s,a,l),pe.addCommand(c),Code.executionInProgress=!1,n();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",c);case 8:console.log("Not Connected");case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i,o){return e.apply(this,arguments)}}(),n.g.LED_pattern=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,o,s,a,l){var c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=8;break}if(n.g.RUNNING){e.next=3;break}return e.abrupt("return");case 3:return Code.executionInProgress=!0,c=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,i){var c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=new At(t,o,s,a,l),pe.addCommand(c),Code.executionInProgress=!1,n();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",c);case 8:console.log("Not Connected");case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i,o){return e.apply(this,arguments)}}(),n.g.droneLEDOff=(0,i.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("drone led off"),!n.g.isSerialRunning()){e.next=9;break}if(n.g.RUNNING){e.next=4;break}return e.abrupt("return");case 4:return Code.executionInProgress=!0,t=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=new It(0,0,0,0),pe.addCommand(i),Code.executionInProgress=!1,t();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",t);case 9:console.log("Not Connected");case 10:case"end":return e.stop()}}),e)}))),n.g.setControllerLED=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,o,s,a){var l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("set controller LED"),!n.g.isSerialRunning()){e.next=9;break}if(n.g.RUNNING){e.next=4;break}return e.abrupt("return");case 4:return Code.executionInProgress=!0,l=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,i){var l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=new Dt(t,o,s,a),pe.addCommand(l),Code.executionInProgress=!1,n();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",l);case 9:console.log("Not Connected");case 10:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),n.g.controllerLEDOff=(0,i.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("controller LED Off"),!n.g.isSerialRunning()){e.next=9;break}if(n.g.RUNNING){e.next=4;break}return e.abrupt("return");case 4:return Code.executionInProgress=!0,t=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=new Dt(0,0,0,0),pe.addCommand(i),Code.executionInProgress=!1,t();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",t);case 9:console.log("Not Connected");case 10:case"end":return e.stop()}}),e)})))}var Bt=ve.R9,Ft=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(e){return(0,o.Z)(this,n),Bt[7]=e,t.call(this,Bt,"Flip")}return(0,s.Z)(n,[{key:"run",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(se),Ut=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;return(0,o.Z)(this,n),(r=t.call(this)).seconds=e,r}return(0,s.Z)(n,[{key:"run",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var t=this;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,1e3*t.seconds)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),n}(se),Zt=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;return(0,o.Z)(this,n),(r=t.call(this)).data=e,r}return(0,s.Z)(n,[{key:"run",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("print: ",this.data),this.writeConsole();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"writeConsole",value:function(){if("object"!==typeof this.data||Array.isArray(this.data))Array.isArray(this.data)&&(this.data="["+this.data+"]");else{var e=[],t=this.data;Object.keys(this.data).forEach((function(n){e.push(n+":"+t[n])})),this.data="{"+e.join(", ")+"}"}document.getElementById("consoleContent").innerHTML="<span>".concat(this.data,"<br/></span>")+document.getElementById("consoleContent").innerHTML}}]),n}(se),Gt={};function Ht(){n.g.flipLeft=(0,i.Z)((0,r.Z)().mark((function e(){var t,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=24;break}return e.next=3,n.g.getBatteryPercentage();case 3:if(t=e.sent,console.log(t),!(t<50)){e.next=19;break}return e.next=8,n.g.controllerBuzzer(Note.D5,100);case 8:return e.next=10,n.g.controllerBuzzer(Note.CS5,100);case 10:return e.next=12,n.g.controllerBuzzer(Note.C5,100);case 12:return e.next=14,n.g.controllerBuzzer(Note.B4,150);case 14:return e.next=16,n.g.delay(.3);case 16:return e.next=18,n.g.printConsole("Battery too low for flip.");case 18:return e.abrupt("return");case 19:return Code.executionInProgress=!0,i=new Promise((function(e,t){var r=new Ft(n.g.flip.LEFT);pe.addCommand(r),Code.executionInProgress=!1,e()})),e.abrupt("return",i);case 24:console.log("Not Connected");case 25:case"end":return e.stop()}}),e)}))),n.g.flipRight=(0,i.Z)((0,r.Z)().mark((function e(){var t,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=24;break}return e.next=3,n.g.getBatteryPercentage();case 3:if(t=e.sent,console.log(t),!(t<50)){e.next=19;break}return e.next=8,n.g.controllerBuzzer(Note.D5,100);case 8:return e.next=10,n.g.controllerBuzzer(Note.CS5,100);case 10:return e.next=12,n.g.controllerBuzzer(Note.C5,100);case 12:return e.next=14,n.g.controllerBuzzer(Note.B4,150);case 14:return e.next=16,n.g.delay(.3);case 16:return e.next=18,n.g.printConsole("Battery too low for flip.");case 18:return e.abrupt("return");case 19:return Code.executionInProgress=!0,i=new Promise((function(e,t){var r=new Ft(n.g.flip.RIGHT);pe.addCommand(r),Code.executionInProgress=!1,e()})),e.abrupt("return",i);case 24:console.log("Not Connected");case 25:case"end":return e.stop()}}),e)}))),n.g.flipBack=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,i){var o,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=24;break}return e.next=3,n.g.getBatteryPercentage();case 3:if(o=e.sent,console.log(o),!(o<50)){e.next=19;break}return e.next=8,n.g.controllerBuzzer(Note.D5,100);case 8:return e.next=10,n.g.controllerBuzzer(Note.CS5,100);case 10:return e.next=12,n.g.controllerBuzzer(Note.C5,100);case 12:return e.next=14,n.g.controllerBuzzer(Note.B4,150);case 14:return e.next=16,n.g.delay(.3);case 16:return e.next=18,n.g.printConsole("Battery too low for flip.");case 18:return e.abrupt("return");case 19:return Code.executionInProgress=!0,s=new Promise((function(e,t){var r=new Ft(n.g.flip.REAR);pe.addCommand(r),Code.executionInProgress=!1,e()})),e.abrupt("return",s);case 24:console.log("Not Connected");case 25:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.g.flipFront=(0,i.Z)((0,r.Z)().mark((function e(){var t,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=24;break}return e.next=3,n.g.getBatteryPercentage();case 3:if(t=e.sent,console.log(t),!(t<50)){e.next=19;break}return e.next=8,n.g.controllerBuzzer(Note.D5,100);case 8:return e.next=10,n.g.controllerBuzzer(Note.CS5,100);case 10:return e.next=12,n.g.controllerBuzzer(Note.C5,100);case 12:return e.next=14,n.g.controllerBuzzer(Note.B4,150);case 14:return e.next=16,n.g.delay(.3);case 16:return e.next=18,n.g.printConsole("Battery too low for flip.");case 18:return e.abrupt("return");case 19:return Code.executionInProgress=!0,i=new Promise((function(e,t){var r=new Ft(n.g.flip.FRONT);pe.addCommand(r),Code.executionInProgress=!1,e()})),e.abrupt("return",i);case 24:console.log("Not Connected");case 25:case"end":return e.stop()}}),e)}))),n.g.delay=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=9;break}if(n.g.RUNNING){e.next=3;break}return e.abrupt("return");case 3:if(0!==t){e.next=5;break}return e.abrupt("return");case 5:return o=new Promise((function(e,o){var s=setInterval((function(){if(n.g.RUNNING){Code.executionInProgress=!0;var e=new Ut(0);pe.addCommand(e)}else clearInterval(s)}),10);setTimeout((0,i.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:clearInterval(s),pe.cleanStack(),Code.executionInProgress=!1,e();case 4:case"end":return t.stop()}}),t)}))),1e3*t)})),e.abrupt("return",o);case 9:console.log("Not Connected");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.g.getTimeNow=(0,i.Z)((0,r.Z)().mark((function e(){var t,n,o=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:"seconds",Code.executionInProgress=!0,n=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,i){var o,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=new Date,s=o.getTime(),"seconds"===t&&(s=parseInt(.001*s)),n(s);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Code.executionInProgress=!1,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)}))),n.g.getTimeFromStart=(0,i.Z)((0,r.Z)().mark((function e(){var t,o,s=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:"seconds",Code.executionInProgress=!0,o=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(i,o){var s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=Date.now()-n.g.START_TIME,"seconds"===t&&(s=parseInt(.001*s)),i(s);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Code.executionInProgress=!1,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)}))),n.g.printConsole=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.g.RUNNING){e.next=2;break}return e.abrupt("return");case 2:return n.g.showConsole(!0),Code.executionInProgress=!0,o=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,i){var o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=new Zt(t),pe.addCommand(o),Code.executionInProgress=!1,n();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.g.clearConsole=(0,i.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.g.RUNNING){e.next=2;break}return e.abrupt("return");case 2:return t=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.getElementById("consoleContent").innerHTML="",Code.executionInProgress=!1,t();case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),n.g.flySequence=function(e){console.log("fly"),Code.executionInProgress=!0;var t=new Promise(function(){var t=(0,i.Z)((0,r.Z)().mark((function t(i,o){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e!==n.g.Sequence.SQUARE){t.next=5;break}return t.next=3,Gt.square();case 3:t.next=35;break;case 5:if(e!==n.g.Sequence.CIRCLE){t.next=10;break}return t.next=8,Gt.circle();case 8:t.next=35;break;case 10:if(e!==n.g.Sequence.TRIANGLE){t.next=15;break}return t.next=13,Gt.triangle();case 13:t.next=35;break;case 15:if(e!==n.g.Sequence.ZIGZAG){t.next=20;break}return t.next=18,Gt.zigzag();case 18:t.next=35;break;case 20:if(e!==n.g.Sequence.SWAY){t.next=25;break}return t.next=23,Gt.sway();case 23:t.next=35;break;case 25:if(e!==n.g.Sequence.HOP){t.next=30;break}return t.next=28,Gt.hop();case 28:t.next=35;break;case 30:if(e!==n.g.Sequence.SPIRAL){t.next=35;break}return t.next=33,Gt.spiral();case 33:t.next=35;break;case 35:Code.executionInProgress=!1,i();case 37:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}());return t},Gt.square=function(){if(console.log("move in a square mini"),n.g.RUNNING){var e=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,i){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.g.go(Direction.RIGHT,1.5,30);case 2:return e.next=4,n.g.go(Direction.FORWARD,1.5,30);case 4:return e.next=6,n.g.go(Direction.LEFT,1.5,30);case 6:return e.next=8,n.g.go(Direction.BACKWARD,1.5,30);case 8:t();case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());return e}},Gt.circle=function(){if(console.log("move in a circle mini"),n.g.RUNNING){var e=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,i){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.g.move(5,10,0,-10,0);case 2:t();case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());return e}},Gt.triangle=function(){if(console.log("move in a triangle mini"),n.g.RUNNING){var e=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,i){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.g.move(1,-40,40,0,0);case 2:return e.next=4,n.g.hover(1);case 4:return e.next=6,n.g.move(1,50,40,0,0);case 6:return e.next=8,n.g.hover(1);case 8:return e.next=10,n.g.move(.8,-40,-40,0,0);case 10:return e.next=12,n.g.hover(1);case 12:t();case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());return e}}}var Vt=[0,0];function jt(){n.g.setInitialTimeStampSensors=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:xe.I.value=t;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}().bind(this),n.g.getInitialTimeStampSensors=function(){return xe.I.value},n.g.getTimeStampSensorsDiference=function(){return(new Date-xe.I.value)/1e3}}function Wt(){n.g.setRoll=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:xe.K.roll=t;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.g.setPitch=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("pitchValue",t),xe.K.pitch=t;case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.g.setYaw=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:xe.K.yaw=-1*t;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.g.setThrottle=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:xe.K.throttle=t;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.g.getRoll=function(){return xe.K.roll},n.g.getPitch=function(){return xe.K.pitch},n.g.getYaw=function(){return xe.K.yaw},n.g.getThrottle=function(){return xe.K.throttle},n.g.setPreviousLand=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Vt=(0,Te.Z)(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.g.getPreviousLand=function(e){return Vt}}n.g.keydownInProgress=!1;var Xt=function(){function e(){(0,o.Z)(this,e),this.keyPressMap={},this.keydownCallback=null,n.g.addEventListener("keyup",(function(e){if(n.g.keydownInProgress=!1,e&&e.keyCode&&(n.g.KEY_PRESSED[e.keyCode]=null,this.keyPressMap&&this.keyPressMap[e.keyCode]))try{return n.g.RUNNING=!0,this.keyPressMap[e.keyCode].callback()}catch(e){}}))}return(0,s.Z)(e,[{key:"addKeyPressCode",value:function(e,t){e&&(this.keyPressMap[e]={callback:t}),this.keydownCallback||(this.keydownCallback=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.keydownInProgress){e.next=2;break}return e.abrupt("return");case 2:if(n.g.RUNNING){e.next=4;break}return e.abrupt("return");case 4:if(t&&t.keyCode&&(n.g.KEY_PRESSED[t.keyCode]=t.keyCode),!this.keyPressMap||!this.keyPressMap[t.keyCode]){e.next=14;break}return e.prev=6,n.g.RUNNING=!0,n.g.keydownInProgress=!0,e.abrupt("return",this.keyPressMap[t.keyCode].callback());case 12:e.prev=12,e.t0=e.catch(6);case 14:case"end":return e.stop()}}),e,this,[[6,12]])})));return function(t){return e.apply(this,arguments)}}().bind(this),n.g.addEventListener("keydown",this.keydownCallback))}},{key:"removeKeyPressEvents",value:function(){this.keydownCallback&&(this.keyPressMap={},this.keydownCallback=null)}},{key:"hasKeyEventsAttached",value:function(){return 0===!Object.keys(this.keyPressMap).length}}]),e}(),zt=new Xt;function Yt(){n.g.onKeyPressEvent=function(e,t){n.g.RUNNING&&zt.addKeyPressCode(e,t)}}var qt=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(e,r){(0,o.Z)(this,n);var i=new Uint8Array(ve.WM);i[6]=3;var s=Ve().pack("<HH",e,r);return i[7]=s[0],i[8]=s[1],i[9]=s[2],i[10]=s[3],t.call(this,i,"drone buzzer")}return(0,s.Z)(n,[{key:"run",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(se),Kt=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(e,r){(0,o.Z)(this,n);var i=new Uint8Array(ve.HF);i[6]=3;var s=Ve().pack("<HH",e,r);return i[7]=s[0],i[8]=s[1],i[9]=s[2],i[10]=s[3],t.call(this,i,"controller buzzer")}return(0,s.Z)(n,[{key:"run",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(se),Qt=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(e,r){(0,o.Z)(this,n);var i=new Uint8Array(ve.WM);i[6]=5;var s=Ve().pack("<HH",e,r);return i[7]=s[0],i[8]=s[1],i[9]=s[2],i[10]=s[3],t.call(this,i,"drone buzzer hz")}return(0,s.Z)(n,[{key:"run",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(se),Jt=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(e,r){(0,o.Z)(this,n);var i=new Uint8Array(ve.HF);i[6]=5;var s=Ve().pack("<HH",e,r);return i[7]=s[0],i[8]=s[1],i[9]=s[2],i[10]=s[3],t.call(this,i,"controller buzzer hz")}return(0,s.Z)(n,[{key:"run",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(se),$t=null,en=null;function tn(){n.g.droneBuzzerNoteOnly=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=6;break}return Code.executionInProgress=!0,o=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,i){var o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=new qt(t,.25),pe.addCommand(o),Code.executionInProgress=!1,n();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",o);case 6:console.log("Not Connected");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.g.droneBuzzer=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,o){var s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=7;break}if(n.g.RUNNING){e.next=3;break}return e.abrupt("return");case 3:return s=new Promise((function(e,s){if(0!==o){Code.executionInProgress=!0;var a=new qt(t,o);pe.addCommand(a),$t=setInterval((0,i.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.g.RUNNING){t.next=3;break}t.next=6;break;case 3:return t.next=5,n.g.stopDroneBuzzer();case 5:e();case 6:case"end":return t.stop()}}),t)}))),20),setTimeout((0,i.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.g.stopDroneBuzzer();case 2:e();case 3:case"end":return t.stop()}}),t)}))),o)}else e()})),e.abrupt("return",s);case 7:console.log("Not Connected");case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.g.droneBuzzerHz=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,o){var s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=7;break}if(n.g.RUNNING){e.next=3;break}return e.abrupt("return");case 3:return s=new Promise((function(e,s){if(0!==o){Code.executionInProgress=!0;var a=new Qt(t,o);pe.addCommand(a),$t=setInterval((0,i.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.g.RUNNING){t.next=3;break}t.next=6;break;case 3:return t.next=5,n.g.stopDroneBuzzer();case 5:e();case 6:case"end":return t.stop()}}),t)}))),20),setTimeout((0,i.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.g.stopDroneBuzzer();case 2:e();case 3:case"end":return t.stop()}}),t)}))),o)}else e()})),e.abrupt("return",s);case 7:console.log("Not Connected");case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.g.stopDroneBuzzer=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!$t){e.next=12;break}if(clearInterval($t),$t=null,pe.cleanStack(),!n.g.isSerialRunning()){e.next=11;break}return e.next=7,n.g.droneBuzzerNoteOnly(Note.Fin);case 7:return e.next=9,n.g.droneBuzzerNoteOnly(Note.Fin);case 9:return e.next=11,n.g.droneBuzzerNoteOnly(Note.Fin);case 11:Code.executionInProgress=!1;case 12:case"end":return e.stop()}}),e)}))),n.g.controllerBuzzerNoteOnly=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=6;break}return Code.executionInProgress=!0,o=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,i){var o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=new Kt(t,.25),pe.addCommand(o),Code.executionInProgress=!1,n();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",o);case 6:console.log("Not Connected");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.g.controllerBuzzer=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,o){var s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=7;break}if(n.g.RUNNING){e.next=3;break}return e.abrupt("return");case 3:return s=new Promise((function(e,s){if(0!==o){Code.executionInProgress=!0;var a=new Kt(t,o);pe.addCommand(a),en=setInterval((0,i.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.g.RUNNING){t.next=3;break}t.next=6;break;case 3:return t.next=5,n.g.stopControllerBuzzer();case 5:e();case 6:case"end":return t.stop()}}),t)}))),20),setTimeout((0,i.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.g.stopControllerBuzzer();case 2:e();case 3:case"end":return t.stop()}}),t)}))),o)}else e()})),e.abrupt("return",s);case 7:console.log("Not Connected");case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.g.controllerBuzzerHz=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,o){var s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=7;break}if(n.g.RUNNING){e.next=3;break}return e.abrupt("return");case 3:return s=new Promise((function(e,s){if(0!==o){Code.executionInProgress=!0;var a=new Jt(t,o);pe.addCommand(a),en=setInterval((0,i.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.g.RUNNING){t.next=3;break}t.next=6;break;case 3:return t.next=5,n.g.stopControllerBuzzer();case 5:e();case 6:case"end":return t.stop()}}),t)}))),20),setTimeout((0,i.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.g.stopControllerBuzzer();case 2:e();case 3:case"end":return t.stop()}}),t)}))),o)}else e()})),e.abrupt("return",s);case 7:console.log("Not Connected");case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.g.stopControllerBuzzer=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!en){e.next=12;break}if(clearInterval(en),en=null,pe.cleanStack(),!n.g.isSerialRunning()){e.next=11;break}return e.next=7,n.g.controllerBuzzerNoteOnly(Note.Fin);case 7:return e.next=9,n.g.controllerBuzzerNoteOnly(Note.Fin);case 9:return e.next=11,n.g.controllerBuzzerNoteOnly(Note.Fin);case 11:Code.executionInProgress=!1;case 12:case"end":return e.stop()}}),e)})))}var nn=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(e,r){var i;return(0,o.Z)(this,n),(i=t.call(this)).millimeter=e,i.conversion=r,i}return(0,s.Z)(n,[{key:"getData",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{"cm"===this.conversion?t(parseFloat(.1*this.millimeter).toFixed(2)):"in"===this.conversion?t(parseFloat(.03937*this.millimeter).toFixed(2)):"m"===this.conversion?t(parseFloat(.001*this.millimeter).toFixed(2)):t(this.millimeter)}catch(r){n(r)}case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(se);function rn(){n.g.convertMeter=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,o){var s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=5;break}return s=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,i){var s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=new gt(t,o),e.next=3,s.getData(n,i);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",s);case 5:console.log("Not Connected");case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.g.convertMillimeter=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,o){var s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=5;break}return s=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,i){var s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=new nn(t,o),e.next=3,s.getData(n,i);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",s);case 5:console.log("Not Connected");case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}var on=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(e,r,i,s,a,l){(0,o.Z)(this,n);var c=new Uint8Array(18);return c[0]=10,c[1]=85,c[2]=131,c[3]=10,c[4]=112,c[5]=32,c[6]=255&e,c[7]=e>>8&255,c[8]=255&r,c[9]=r>>8&255,c[10]=255&i,c[11]=i>>8&255,c[12]=255&s,c[13]=s>>8&255,c[14]=a,c[15]=l,c[16]=0,c[17]=0,t.call(this,c,"controllerDrawLine")}return(0,s.Z)(n,[{key:"run",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(se),sn=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(e,r,i,s,a){(0,o.Z)(this,n);var l=Math.min(i.length,26),c=new Uint8Array(14+2*l);c[0]=10,c[1]=85,c[2]=134,c[3]=6+2*l&255,c[4]=112,c[5]=32,c[6]=255&e,c[7]=e>>8&255,c[8]=255&r,c[9]=r>>8&255,c[10]=s,c[11]=a;for(var u=0;u<l;++u){var h=i.charCodeAt(u);c[12+u]=255&h,c[12+u+1]=h>>8&255}return console.log(c),t.call(this,c,"controllerDrawString")}return(0,s.Z)(n,[{key:"run",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(se),an=n(6359),ln=an.e4,cn=function(e){(0,a.Z)(c,e);var t=(0,l.Z)(c);function c(e,r,i,s,a){return(0,o.Z)(this,c),ln[6]=255&e,ln[7]=e>>8&255,ln[8]=255&r,ln[9]=r>>8&255,ln[10]=255&i,ln[11]=i>>8&255,ln[12]=255&s,ln[13]=s>>8&255,ln[14]=n.g.DisplayPixel.Black,ln[15]="false"===a?0:1,ln[16]=n.g.DisplayLine.Solid,console.log(ln),t.call(this,ln,"controllerDrawRect")}return(0,s.Z)(c,[{key:"run",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),c}(se),un=an.JC,hn=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(e){return(0,o.Z)(this,n),un[6]=e,t.call(this,un,"controllerClearScreen")}return(0,s.Z)(n,[{key:"run",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(se),pn=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(e,r,i){(0,o.Z)(this,n);var s=new Uint8Array(13);return s[0]=10,s[1]=85,s[2]=130,s[3]=5,s[4]=112,s[5]=32,s[6]=255&e,s[7]=e>>8&255,s[8]=255&r,s[9]=r>>8&255,s[10]=i,s[11]=0,s[12]=0,t.call(this,s,"controllerDrawPoint")}return(0,s.Z)(n,[{key:"run",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(se),fn=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(e,r,i,s,a){(0,o.Z)(this,n);var l=[10,85,136,0,112,32,0,0,0,0,0,0,0,0];l[3]=8+a.length,l[6]=255&e,l[7]=e>>8&255,l[8]=255&r,l[9]=r>>8&255,l[10]=255&i,l[11]=i>>8&255,l[12]=255&s,l[13]=s>>8&255,l=l.concat([].concat((0,Te.Z)(a),[0,0]));var c=new Uint8Array(l);return t.call(this,c,"controllerDrawImage")}return(0,s.Z)(n,[{key:"run",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(se);function dn(){n.g.controllerDrawLine=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,i,o,s){var a,l,c,u=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=u.length>4&&void 0!==u[4]?u[4]:n.g.DisplayPixel.Black,l=u.length>5&&void 0!==u[5]?u[5]:n.g.DisplayLine.Solid,!n.g.isSerialRunning()){e.next=9;break}if(n.g.RUNNING){e.next=5;break}return e.abrupt("return");case 5:return c=new Promise((function(e,n){Code.executionInProgress=!0;var r=new on(t,i,o,s,a,l);pe.addCommand(r),Code.executionInProgress=!1,e()})),e.abrupt("return",c);case 9:console.log("Not Connected");case 10:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),n.g.controllerDrawString=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,i,o){var s,a,l,c=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=c.length>3&&void 0!==c[3]?c[3]:n.g.DisplayFont.LiberationMono5x8,a=c.length>4&&void 0!==c[4]?c[4]:n.g.DisplayPixel.Black,!n.g.isSerialRunning()){e.next=9;break}if(n.g.RUNNING){e.next=5;break}return e.abrupt("return");case 5:return l=new Promise((function(e,n){Code.executionInProgress=!0;var r=new sn(t,i,o,s,a);pe.addCommand(r),Code.executionInProgress=!1,e()})),e.abrupt("return",l);case 9:console.log("Not Connected");case 10:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),n.g.controllerDrawRectangle=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,i,o,s,a){var l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=7;break}if(n.g.RUNNING){e.next=3;break}return e.abrupt("return");case 3:return l=new Promise((function(e,n){Code.executionInProgress=!0;var r=new cn(t,i,o,s,a);pe.addCommand(r),Code.executionInProgress=!1,e()})),e.abrupt("return",l);case 7:console.log("Not Connected");case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i,o){return e.apply(this,arguments)}}(),n.g.controllerDrawSquare=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,i,o,s){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=7;break}if(n.g.RUNNING){e.next=3;break}return e.abrupt("return");case 3:return a=new Promise((function(e,n){Code.executionInProgress=!0;var r=new cn(t,i,o,o,s);pe.addCommand(r),Code.executionInProgress=!1,e()})),e.abrupt("return",a);case 7:console.log("Not Connected");case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),n.g.controllerDrawPoint=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,i){var o,s,a=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=a.length>2&&void 0!==a[2]?a[2]:n.g.DisplayPixel.Black,!n.g.isSerialRunning()){e.next=8;break}if(n.g.RUNNING){e.next=4;break}return e.abrupt("return");case 4:return s=new Promise((function(e,n){Code.executionInProgress=!0;var r=new pn(t,i,o);pe.addCommand(r),Code.executionInProgress=!1,e()})),e.abrupt("return",s);case 8:console.log("Not Connected");case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.g.controllerClearScreen=(0,i.Z)((0,r.Z)().mark((function e(){var t,i,o=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:n.g.DisplayPixel.White,!n.g.isSerialRunning()){e.next=8;break}if(n.g.RUNNING){e.next=4;break}return e.abrupt("return");case 4:return i=new Promise((function(e,n){Code.executionInProgress=!0;var r=new hn(t);pe.addCommand(r),Code.executionInProgress=!1,setTimeout((function(){e()}),50)})),e.abrupt("return",i);case 8:console.log("Not Connected");case 9:case"end":return e.stop()}}),e)}))),n.g.loadImageData=function(e){return JSON.parse(sessionStorage.getItem("cde-image")).filter((function(t){return t.name===e}))[0].data},n.g.imageProcess=function(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){r.src=e,console.log(r),t(r)},r.onerror=function(){n()}}))},n.g.dataUriToImage=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new Image).src=t,e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.g.controllerDrawImageProtocol=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,i,o){var s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=7;break}if(n.g.RUNNING){e.next=3;break}return e.abrupt("return");case 3:return s=new Promise((function(e,n){Code.executionInProgress=!0;var r=new fn(t,i,128,8,o);pe.addCommand(r),setTimeout((function(){Code.executionInProgress=!1,e()}),1e3)})),e.abrupt("return",s);case 7:console.log("Not Connected");case 8:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),n.g.controllerDrawImage=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var o,s,a,l,c,u,h,p,f,d,g,_,v,m;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.g.loadImageData(t),e.next=3,n.g.dataUriToImage(o);case 3:for(s=e.sent,a=document.createElement("canvas"),l=a.getContext("2d"),a.width=128,a.height=64,c=Math.min(a.width/s.width,a.height/s.height),u=a.width/2-s.width/2*c,h=a.height/2-s.height/2*c,l.drawImage(s,u,h,s.width*c,s.height*c),p=l.getImageData(0,0,128,64).data,f=Array.from(Array(8),(function(){return new Array(128).fill(0)})),d=0;d<p.length;d+=4)p[d]+p[d+1]+p[d+2]<510&&p[d+3]>50&&(g=parseInt(d/4%128),_=parseInt(d/4/128),v=parseInt(_/8),m=parseInt(_%8),f[v][g]+=Math.pow(2,m));f.forEach(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,i){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.g.controllerDrawImageProtocol(0,8*i,t);case 2:return console.log(i),e.next=5,n.g.delay(1);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.g.controllerDrawPolygon=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(o,s){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Code.executionInProgress=!0,t.forEach(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(i,o){var s,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o===t.length-1?(console.log("run this"),s=new on(t[o][0],t[o][1],t[0][0],t[0][1],n.g.DisplayPixel.Black,n.g.DisplayLine.Solid),pe.addCommand(s)):(console.log("run this 2"),a=new on(t[o][0],t[o][1],t[o+1][0],t[o+1][1],n.g.DisplayPixel.Black,n.g.DisplayLine.Solid),pe.addCommand(a));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Code.executionInProgress=!1;case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",o);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}var gn=n(7762),_n=n(381);function vn(){n.g.predictColor=(0,i.Z)((0,r.Z)().mark((function e(){var t,i,o=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:"front",e.next=3,n.g.getCardColorHSVL(t,"hsvl");case 3:return i=e.sent,e.abrupt("return",n.g.knn.predict(i));case 5:case"end":return e.stop()}}),e)})));n.g.loadClassifier=function(){if(n.g.knn)console.log("knn model exist");else{var e=function(){for(var e,t=JSON.parse(localStorage.getItem("cde-color-model")),n=[],r=[],i=[],o=0,s=Object.keys(t);o<s.length;o++){var a=s[o];e=t[a].split("\n");var l,c=[],u=(0,gn.Z)(e);try{for(u.s();!(l=u.n()).done;){var h=l.value;if(""!==h){var p=h.split(" "),f=Number(p[0]),d=Number(p[1]),g=Number(p[2]),_=Number(p[3]);isNaN(f)||isNaN(d)||isNaN(g)||isNaN(_)?(console.log("data : ",h),console.log("tmp : ",p),console.log("hsvl",f,d,g,_),console.log("error!")):(n.push([f,d,g,_]),r.push(a),c.push([f,d,g,_]))}}}catch(m){u.e(m)}finally{u.f()}var v={label:a,data:c};i.push(v)}return{x:n,y:r}}(),t=e.x,r=e.y;console.log("x : ",t),console.log("y : ",r),n.g.knn=new _n.Z(t,r)}}}var mn=n(4942),yn=new Uint8Array([10,85,4,1,112,16,7,46,84]),Tn=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,o.Z)(this,n),t.call(this,yn,"get drone information")}return(0,s.Z)(n,[{key:"getData",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n){var o,s,a=this;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{this.package=yn,this.sendSerialCommand(),74,o=0,s=setInterval((0,i.Z)((0,r.Z)().mark((function e(){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(++o>74)){e.next=5;break}return clearInterval(s),n(),e.abrupt("return");case 5:if(!Code.droneData.droneInfo){e.next=11;break}i=Code.droneData.droneInfo,clearInterval(s),t(i),e.next=13;break;case 11:return e.next=13,a.getState();case 13:case"end":return e.stop()}}),e)}))),10)}catch(l){n(l)}case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(se),En=new Uint8Array([10,85,4,1,162,16,9,0,0]),bn=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(e){return(0,o.Z)(this,n),En[5]=e,t.call(this,En,"drone update location")}return(0,s.Z)(n,[{key:"getData",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n){var o,s,a=this;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.generateCRC();try{74,o=0,s=setInterval((0,i.Z)((0,r.Z)().mark((function e(){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(++o>74)){e.next=5;break}return clearInterval(s),n(),e.abrupt("return");case 5:if(!Code.droneData.droneUpdateLocation){e.next=11;break}i=Code.droneData.droneUpdateLocation,clearInterval(s),t(i),e.next=13;break;case 11:return e.next=13,a.getState();case 13:case"end":return e.stop()}}),e)}))),10)}catch(l){n(l)}case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(se),On=new Uint8Array(26);On[0]=10,On[1]=85,On[2]=8,On[3]=18,On[4]=162,On[5]=16;var Sn=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(e){(0,o.Z)(this,n);for(var r=0;r<18;r++)On[r+6]=e[r];return On[24]=0,On[25]=0,t.call(this,On,"SendDroneFirmwareData command")}return(0,s.Z)(n,[{key:"run",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(se),kn=new Uint8Array([10,85,4,1,112,32,7,0,0]),wn=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,o.Z)(this,n),t.call(this,kn,"get controller information")}return(0,s.Z)(n,[{key:"getData",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n){var o,s,a=this;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.generateCRC();try{this.package=kn,this.sendSerialCommand(),74,o=0,s=setInterval((0,i.Z)((0,r.Z)().mark((function e(){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(++o>74)){e.next=5;break}return clearInterval(s),n(),e.abrupt("return");case 5:if(!Code.droneData.controllerInfo){e.next=11;break}i=Code.droneData.controllerInfo,clearInterval(s),t(i),e.next=13;break;case 11:return e.next=13,a.getState();case 13:case"end":return e.stop()}}),e)}))),10)}catch(l){n(l)}case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(se),Rn=new Uint8Array([10,85,4,1,162,32,9,0,0]),Cn=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,o.Z)(this,n),Rn[5]=32,t.call(this,Rn,"controller update location")}return(0,s.Z)(n,[{key:"getData",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n){var o,s,a=this;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.generateCRC();try{74,o=0,s=setInterval((0,i.Z)((0,r.Z)().mark((function e(){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(++o>74)){e.next=5;break}return clearInterval(s),n(),e.abrupt("return");case 5:if(!Code.droneData.controllerUpdateLocation){e.next=11;break}i=Code.droneData.controllerUpdateLocation,clearInterval(s),t(i),e.next=13;break;case 11:return e.next=13,a.getState();case 13:case"end":return e.stop()}}),e)}))),10)}catch(l){n(l)}case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(se),In=new Uint8Array(26);In[0]=10,In[1]=85,In[2]=8,In[3]=18,In[4]=162,In[5]=32;var xn=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(e){(0,o.Z)(this,n);for(var r=0;r<18;r++)In[r+6]=e[r];return In[24]=0,In[25]=0,t.call(this,In,"SendControllerFirmwareData command")}return(0,s.Z)(n,[{key:"run",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(se),An=(n(918).lW,(0,s.Z)((function e(){(0,o.Z)(this,e),(0,mn.Z)(this,"updateDroneFirmware",(0,i.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://storage.googleapis.com/codrone/cde_drone_p1_22_8_1.eb",n=new FirmwareURL(t),e.next=4,n.open(t);case 4:e.sent;case 5:case"end":return e.stop()}}),e)})))),(0,mn.Z)(this,"updateControllerFirmware",(function(){})),(0,mn.Z)(this,"updateCDEFirmware",(function(e){})),(0,mn.Z)(this,"getDroneInformation",(0,i.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=7;break}return Code.executionInProgress=!0,t=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new Tn,e.next=3,i.getData(t,n);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Code.executionInProgress=!1,e.abrupt("return",t);case 7:console.log("Not Connected");case 8:case"end":return e.stop()}}),e)})))),(0,mn.Z)(this,"getDroneUpdateLocation",(0,i.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=7;break}return Code.executionInProgress=!0,t=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new bn,e.next=3,i.getData(t,n);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Code.executionInProgress=!1,e.abrupt("return",t);case 7:console.log("Not Connected");case 8:case"end":return e.stop()}}),e)})))),(0,mn.Z)(this,"sendDroneFirmwareData",function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=5;break}return o=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,i){var o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Code.executionInProgress=!0,o=new Sn(t),pe.addCommand(o),Code.executionInProgress=!1,n();case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",o);case 5:console.log("Not Connected");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,mn.Z)(this,"getControllerInformation",(0,i.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=7;break}return Code.executionInProgress=!0,t=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new wn,e.next=3,i.getData(t,n);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Code.executionInProgress=!1,e.abrupt("return",t);case 7:console.log("Not Connected");case 8:case"end":return e.stop()}}),e)})))),(0,mn.Z)(this,"getControllerUpdateLocation",(0,i.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=7;break}return Code.executionInProgress=!0,t=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new Cn(32),e.next=3,i.getData(t,n);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Code.executionInProgress=!1,e.abrupt("return",t);case 7:console.log("Not Connected");case 8:case"end":return e.stop()}}),e)})))),(0,mn.Z)(this,"sendControllerFirmwareData",function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=5;break}return o=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,i){var o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Code.executionInProgress=!0,o=new xn(t),pe.addCommand(o),Code.executionInProgress=!1,n();case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",o);case 5:console.log("Not Connected");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))),Nn=(new An,function(){function e(){(0,o.Z)(this,e),this.stack=[],this.commandConsummerOn=!1,this.inProgress=!1,this.commandLoop=null}return(0,s.Z)(e,[{key:"addCommand",value:function(e){this.stack.push(e),console.log(this.stack)}},{key:"initCommandConsumer",value:function(){this.commandConsummerOn=!0,this.checkIsStopped(),this.commandLoop=setInterval(function(){if(Code.commandManagerCDMInProgress)return!0;if(this.stack&&this.stack.length>0&&this.commandConsummerOn){console.log(" this.stack",this.stack);var e=this.stack.shift();this.execute(e)}}.bind(this),100)}},{key:"checkIsStopped",value:function(){var e=this;setInterval((function(){n.g.RUNNING?e.stack.length>0?Code.executionTimesCDM=0:(Code.executionTimesCDM=Code.executionInProgress||Code.commandManagerCDMInProgress?0:Code.executionTimesCDM+1,Code.executionTimesCDM>400&&(n.g.callstopExternalEvent(),Code.executionTimesCDM=0)):Code.executionTimesCDM=0}),10)}},{key:"restartCommandConsumer",value:function(){this.commandConsummerOn=!1,this.cleanStack(),clearInterval(this.commandLoop),this.initCommandConsumer()}},{key:"cleanStack",value:function(){this.stack=[]}},{key:"execute",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Code.commandManagerCDMInProgress=!0,e.next=3,t.run();case 3:Code.commandManagerCDMInProgress=!1;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}()),Ln=new Nn,Mn=64,Dn=82,Pn=65,Bn=67,Fn=function(){function e(t,n){(0,o.Z)(this,e),this.package=t,this.eventName=n,this.handleNotification=this.handleNotification.bind(this)}return(0,s.Z)(e,[{key:"run",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(this.package);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleNotification",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"generateCRC",value:function(){var e=this.package.length,t=this.package.slice(2,e-2),n=window.crc.crc16xmodem(t);this.package[e-1]=n>>8&255,this.package[e-2]=255&n}},{key:"setUint8Array",value:function(){this.package=new Uint8Array(this.package)}},{key:"sendSerialCommand",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("---- Running command: "+this.eventName),e.prev=1,Code.device.port.writable.locked){e.next=9;break}return t=Code.device.port.writable.getWriter(),console.log("write",this.package),e.next=7,t.write(this.package);case 7:return e.next=9,t.releaseLock();case 9:e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log("error in command "+this.eventName,e.t0),e.t0&&console.log(e.t0);case 15:case"end":return e.stop()}}),e,this,[[1,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"getState",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=5;break}return(i=Code.device.port.writable.getWriter()).write(new Uint8Array(t)),e.next=5,i.releaseLock();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"listener",value:function(){var t=(0,i.Z)((0,r.Z)().mark((function t(){var o,s,a;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=Code.device.port.readable.getReader();case 1:if(!Code.listener){t.next=17;break}return t.prev=2,t.next=5,o.read();case 5:s=t.sent,a=s.value,e.parseData(a),t.next=15;break;case 10:if(t.prev=10,t.t0=t.catch(2),!t.t0.toString().includes("The device has been lost")){t.next=15;break}return setTimeout((0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.releaseLock();case 2:return e.next=4,n.g.disconnect();case 4:case"end":return e.stop()}}),e)}))),1e3),t.abrupt("break",17);case 15:t.next=1;break;case 17:if(Code.listener){t.next=20;break}return t.next=20,o.releaseLock();case 20:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(){return t.apply(this,arguments)}}()},{key:"parseData",value:function(e){var t,n,r,i=0;if(10==(t=new Uint16Array(e))[0]&&85==t[1]&&(i=t.length,n=t[3]+8,r=t[2],i==n)){var o,s,a=crc.crc16xmodem(t.slice(2,t.length-2));if(o=255&a,s=(65280&a)>>8,t[t.length-2]==o&&t[t.length-1]==s)switch(r){case Mn:Code.droneData.battery=t[13];break;case Pn:var l=t[7]<<8|t[6];128&t[7]&&(l|=4294901760);var c=t[9]<<8|t[8];128&t[9]&&(c|=4294901760);var u=t[11]<<8|t[10];128&t[11]&&(u|=4294901760),console.log("angle",{roll:l,pitch:c,yaw:u}),Code.droneData.angle={roll:l,pitch:c,yaw:u};break;case Bn:var h=[t[9],t[8],t[7],t[6]],p=new DataView(new ArrayBuffer(4));h.forEach((function(e,t){p.setUint8(t,e)})),Code.droneData.temp=p.getFloat32(0);var f=[t[17],t[16],t[15],t[14]],d=new DataView(new ArrayBuffer(4));f.forEach((function(e,t){d.setUint8(t,e)})),Code.droneData.height=d.getFloat32(0);var g=[t[13],t[12],t[11],t[10]],_=new DataView(new ArrayBuffer(4));g.forEach((function(e,t){_.setUint8(t,e)})),Code.droneData.pressure=_.getFloat32(0);break;case Dn:console.log("Trim");var v=255!=t[7]?t[6]:-1*(t[7]-t[6]+1),m=255!=t[9]?t[8]:-1*(t[9]-t[8]+1);Code.droneData.trim={roll:v,pitch:m}}}}}]),e}(),Un=new Uint8Array([10,85,17,2,112,16,7,17,54,129]),Zn=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,o.Z)(this,n),t.call(this,Un,"takeOff command")}return(0,s.Z)(n,[{key:"run",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendSerialCommand();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Fn),Gn=new Uint8Array([10,85,17,2,128,16,1,0,205,182]),Hn=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,o.Z)(this,n),t.call(this,Gn,"EmergencyStop")}return(0,s.Z)(n,[{key:"run",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendSerialCommand();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Fn),Vn=n(1995),jn=Vn.Ei,Wn=function(e){(0,a.Z)(c,e);var t=(0,l.Z)(c);function c(e,r){switch((0,o.Z)(this,c),r=r||50,e){case n.g.Direction.FORWARD:jn[6]=0,jn[7]=r,jn[8]=0,jn[9]=0;break;case n.g.Direction.BACKWARD:jn[6]=0,jn[7]=-1*r,jn[8]=0,jn[9]=0;break;case n.g.Direction.UP:jn[6]=0,jn[7]=0,jn[8]=0,jn[9]=r;break;case n.g.Direction.DOWN:jn[6]=0,jn[7]=0,jn[8]=0,jn[9]=-1*r;break;case n.g.Direction.LEFT:jn[6]=-1*r,jn[7]=0,jn[8]=0,jn[9]=0;break;case n.g.Direction.RIGHT:jn[6]=r,jn[7]=0,jn[8]=0,jn[9]=0}return t.call(this,jn,"Go")}return(0,s.Z)(c,[{key:"run",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),c}(Fn),Xn=new Uint8Array([10,85,17,2,112,16,7,18,85,177]),zn=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,o.Z)(this,n),t.call(this,Xn,"land command")}return(0,s.Z)(n,[{key:"run",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendSerialCommand();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Fn),Yn=Vn.Ei,qn=function(e){(0,a.Z)(c,e);var t=(0,l.Z)(c);function c(e,r){switch((0,o.Z)(this,c),r=r||50,e){case n.g.Direction.RIGHT:Yn[6]=0,Yn[7]=0,Yn[8]=-1*r,Yn[9]=0;break;case n.g.Direction.LEFT:Yn[6]=0,Yn[7]=0,Yn[8]=r,Yn[9]=0}return t.call(this,Yn,"Turn")}return(0,s.Z)(c,[{key:"run",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),c}(Fn),Kn=new Uint8Array([10,85,16,4,112,16,0,0,0,0,180,189]),Qn=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;return(0,o.Z)(this,n),(r=t.call(this,Kn,"hover command")).time=e,r}return(0,s.Z)(n,[{key:"run",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendSerialCommand();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Fn),Jn=Vn.Ei,$n=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,o.Z)(this,n),Jn[6]=0,Jn[7]=0,Jn[8]=0,Jn[9]=0,t.call(this,Vn.Ei,"resetState")}return(0,s.Z)(n,[{key:"run",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Fn),er=Vn.R9,tr=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(e){return(0,o.Z)(this,n),er[7]=e,t.call(this,er,"Flip")}return(0,s.Z)(n,[{key:"run",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Fn),nr=Vn.Ei,rr=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(e,r,i,s){return(0,o.Z)(this,n),nr[6]=e,nr[7]=r,nr[8]=-1*i,nr[9]=s,t.call(this,nr,"move")}return(0,s.Z)(n,[{key:"run",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Fn),ir=Vn.kq,or=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(e,r,i,s){return(0,o.Z)(this,n),ir[6]=255&e,ir[7]=e>>8&255,ir[8]=255&r,ir[9]=r>>8&255,ir[10]=255&i,ir[11]=i>>8&255,ir[12]=255&s,ir[13]=s>>8&255,t.call(this,ir,"move trim")}return(0,s.Z)(n,[{key:"run",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),this.setUint8Array(),e.next=4,this.sendSerialCommand();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Fn),sr=n(5095),ar={};function lr(){n.g.resetState=(0,i.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=5;break}return t=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=new $n,Ln.addCommand(i),t();case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",t);case 5:console.log("Not Connected");case 6:case"end":return e.stop()}}),e)}))),n.g.takeoff=function(){var e=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,i){var o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Code.executionInProgress=!0,e.next=3,n.g.resetState();case 3:return e.next=5,n.g.delay(.5);case 5:Code.executionInProgress=!1,Code.executionInProgress=!0,o=new Zn,Ln.addCommand(o),setTimeout(function(){Code.executionInProgress=!1,t()}.bind(this),5e3);case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}());return e},n.g.emergencyStop=(0,i.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()||!n.g.RUNNING){e.next=5;break}return t=new Promise((function(e,t){Ln.restartCommandConsumer();var n=new Hn;Ln.addCommand(n),e()})),e.abrupt("return",t);case 5:console.log("Not Running");case 6:case"end":return e.stop()}}),e)}))),n.g.land=function(){if(n.g.isSerialRunning()){if(!n.g.RUNNING)return;return Code.executionInProgress=!0,new Promise((function(e,t){var n=new zn;Ln.addCommand(n),Ln.addCommand(n),Ln.addCommand(n),setTimeout(function(){Code.executionInProgress=!1,e()}.bind(this),500)}))}console.log("Not Connected")},n.g.go=function(e,t,o){if(n.g.isSerialRunning()){if(!n.g.RUNNING)return;return new Promise((function(s,a){0!==t?(Code.executionInProgress=!0,ar.intervalId=setInterval((0,i.Z)((0,r.Z)().mark((function t(){var i;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.g.RUNNING?(i=new Wn(e,o),Ln.addCommand(i)):clearInterval(ar.intervalId);case 1:case"end":return t.stop()}}),t)}))).bind(this),20),setTimeout((0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return clearInterval(ar.intervalId),Ln.cleanStack(),e.next=4,n.g.hover(.5);case 4:Code.executionInProgress=!1,s();case 6:case"end":return e.stop()}}),e)}))).bind(this),1e3*t)):s()}))}console.log("Not Connected")},n.g.turn=function(e,t,o){if(n.g.isSerialRunning()){if(!n.g.RUNNING)return;return 0===t?void resolve():(Code.executionInProgress=!0,new Promise((function(s,a){ar.intervalId=setInterval(function(){if(n.g.RUNNING){var t=new qn(e,o);Ln.addCommand(t)}else clearInterval(ar.intervalId)}.bind(this),10),setTimeout((0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return clearInterval(ar.intervalId),Ln.cleanStack(),e.next=4,n.g.hover(.5);case 4:Code.executionInProgress=!1,s();case 6:case"end":return e.stop()}}),e)}))).bind(this),1e3*t)})))}console.log("Not Connected")},n.g.hover=function(e){if(n.g.isSerialRunning()){if(!n.g.RUNNING)return;return new Promise((function(t,o){0!==e?(Code.executionInProgress=!0,ar.intervalId=setInterval((0,i.Z)((0,r.Z)().mark((function t(){var i;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.g.RUNNING?(i=new Qn(e),Ln.addCommand(i)):clearInterval(ar.intervalId);case 1:case"end":return t.stop()}}),t)}))).bind(this),20),setTimeout((0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:clearInterval(ar.intervalId),Ln.cleanStack(),setTimeout((0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Code.executionInProgress=!1,t();case 2:case"end":return e.stop()}}),e)}))).bind(this),0);case 3:case"end":return e.stop()}}),e,this)}))).bind(this),1e3*e)):t()}))}console.log("Not Connected")},n.g.moveInternal=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,o,s,a){var l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=8;break}if(n.g.RUNNING){e.next=3;break}return e.abrupt("return");case 3:return Code.executionInProgress=!0,l=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,i){var l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=new rr(t,o,s,a),Ln.addCommand(l),Code.executionInProgress=!1,n();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",l);case 8:console.log("Not Connected");case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),n.g.move=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,o,s,a,l){var c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("moveeee",t,o,s,a,l),!t||o||s||a||l){e.next=8;break}o=sr.K.roll,s=sr.K.pitch,a=sr.K.yaw,l=sr.K.throttle,e.next=14;break;case 8:if(t||o||s||a||l){e.next=12;break}return e.abrupt("return",n.g.moveInternal(sr.K.roll,sr.K.pitch,sr.K.yaw,sr.K.throttle));case 12:if(t||!o&&!s){e.next=14;break}return e.abrupt("return",moveInternal(o,s,a,l));case 14:if(!n.g.isSerialRunning()){e.next=19;break}return c=new Promise((function(e,c){0!==t?(Code.executionInProgress=!0,ar.intervalId=setInterval((0,i.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.g.RUNNING?(t=new rr(o,s,a,l),Ln.addCommand(t)):clearInterval(ar.intervalId);case 1:case"end":return e.stop()}}),e)}))).bind(this),20),setTimeout((0,i.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:clearInterval(ar.intervalId),Ln.cleanStack(),setTimeout((0,i.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Code.executionInProgress=!1,e();case 2:case"end":return t.stop()}}),t)}))).bind(this),1e3);case 3:case"end":return t.stop()}}),t,this)}))).bind(this),1e3*t)):e()})),e.abrupt("return",c);case 19:console.log("Not Connected");case 20:case"end":return e.stop()}}),e)})));return function(t,n,r,i,o){return e.apply(this,arguments)}}(),n.g.moveTrim=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,o,s,a){var l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=5;break}return l=new Promise((function(e,l){n.g.loopInProgress=!1,ar.moveLoop=(0,i.Z)((0,r.Z)().mark((function l(){return(0,r.Z)().wrap((function(l){for(;;)switch(l.prev=l.next){case 0:setTimeout((0,i.Z)((0,r.Z)().mark((function i(){var l;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return l=new or(t,o,s,a),r.next=3,l.run();case 3:if(!n.g.loopInProgress||!n.g.RUNNING){r.next=7;break}ar.moveLoop(),r.next=10;break;case 7:return n.g.loopInProgress=!1,e(),r.abrupt("return");case 10:case"end":return r.stop()}}),i)}))),50);case 1:case"end":return l.stop()}}),l)}))),n.g.loopInProgress=!0,setTimeout(function(){n.g.loopInProgress=!1}.bind(this),500),ar.moveLoop()})),e.abrupt("return",l);case 5:console.log("Not Connected");case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()}var cr=new Uint8Array([10,85,4,1,128,16,64,95,143]),ur=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"getBattery",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n){var i,o,s=this;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{74,i=0,o=setInterval((function(){if(++i>74)return clearInterval(o),void n();if(Code.droneData.battery){var e=Code.droneData.battery;Code.droneData.battery=!1,clearInterval(o),t(parseInt(e))}else s.getState(cr)}),100)}catch(r){console.log("error get battery",r),n(r)}case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(Fn),hr=Vn.A$,pr=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;return(0,o.Z)(this,n),(r=t.call(this)).type=e,r}return(0,s.Z)(n,[{key:"getData",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n){var i,o,s=this;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.package=hr,hr[6]=65,this.generateCRC();try{70,i=0,o=setInterval((function(){if(++i>70)return clearInterval(o),void n();if(Code.droneData.angle){var e=Code.droneData.angle;Code.droneData.angle=!1,clearInterval(o),console.log("this.type",s.type),t(parseFloat(e[s.type]))}else s.getState(s.package)}),100)}catch(r){n(r)}case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(Fn),fr=Vn.A$,dr=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;return(0,o.Z)(this,n),(r=t.call(this)).type=e,r}return(0,s.Z)(n,[{key:"getData",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n){var i,o,s=this;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.package=fr,fr[6]=67,this.generateCRC();try{70,i=0,o=setInterval((function(){if(++i>70)return clearInterval(o),void n();if(Code.droneData.temp){var e=Code.droneData.temp;Code.droneData.temp=!1,clearInterval(o),s.type===TEMPERATURE.fahrenheit&&(e=9*e/5+32),e=e.toFixed(1),t(parseFloat(e))}else s.getState(s.package)}),100)}catch(r){n(r)}case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(Fn),gr=Vn.A$,_r=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"getData",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n,i){var o,s,a=this;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.package=gr,gr[6]=67,this.generateCRC();try{70,o=0,s=setInterval((function(){if(++o>70)return clearInterval(s),void n();if(Code.droneData.height){var e=Code.droneData.height;Code.droneData.height=!1,clearInterval(s),i?Code.droneData.baseHeight=e:(e=100*(e-Code.droneData.baseHeight),console.log("ValueHeight",e)),t(parseFloat(e.toFixed(1)))}else a.getState(a.package)}),100)}catch(r){n(r)}case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()}]),n}(Fn),vr=Vn.wf,mr=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,o.Z)(this,n),vr[6]=5,t.call(this,vr,"resetSensor")}return(0,s.Z)(n,[{key:"run",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Fn),yr=Vn.A$,Tr=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"getData",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n){var i,o,s=this;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.package=yr,yr[6]=67,this.generateCRC();try{70,i=0,o=setInterval((function(){if(++i>70)return clearInterval(o),void n();if(Code.droneData.pressure){var e=Code.droneData.pressure;Code.droneData.pressure=!1,clearInterval(o),e=e.toFixed(1),t(parseFloat(e))}else s.getState(s.package)}),100)}catch(r){n(r)}case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(Fn),Er=new Uint8Array([10,85,4,1,128,16,82,44,189]),br=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"getTrim",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n){var i,o,s=this;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{70,i=0,o=setInterval((function(){if(++i>70)return clearInterval(o),void n();if(Code.droneData.trim){var e=Code.droneData.trim;Code.droneData.trim=!1,clearInterval(o),console.log(e),t(e)}else s.getState(Er)}),100)}catch(r){n(r)}case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(Fn);function Or(){n.g.getBatteryPercentage=(0,i.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=5;break}return t=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new ur,e.next=3,i.getBattery(t,n,!0);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",t);case 5:console.log("Not Connected");case 6:case"end":return e.stop()}}),e)}))),n.g.getAngle=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=7;break}return Code.executionInProgress=!0,o=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,i){var o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new pr(t),e.next=3,o.getData(n,i);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Code.executionInProgress=!1,e.abrupt("return",o);case 7:console.log("Not Connected");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.g.getDroneTemp=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=5;break}return o=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,i){var o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new dr(t),e.next=3,o.getData(n,i);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",o);case 5:console.log("Not Connected");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.g.getHeight=(0,i.Z)((0,r.Z)().mark((function e(){var t,o,s=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.length>0&&void 0!==s[0]&&s[0],console.log("get height",n.g.isSerialRunning(),t),!n.g.isSerialRunning()){e.next=7;break}return o=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,i){var o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new _r,e.next=3,o.getData(n,i,t);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",o);case 7:console.log("Not Connected");case 8:case"end":return e.stop()}}),e)}))),n.g.getPressure=(0,i.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=5;break}return t=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new Tr,e.next=3,i.getData(t,n);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",t);case 5:console.log("Not Connected");case 6:case"end":return e.stop()}}),e)}))),n.g.getBatteryPercentageInit=(0,i.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=5;break}return t=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new ur,e.next=3,i.getBattery(t,n);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",t);case 5:console.log("Not Connected");case 6:case"end":return e.stop()}}),e)}))),n.g.getTrim=(0,i.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=5;break}return t=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new br,e.next=3,i.getTrim(t,n);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",t);case 5:console.log("Not Connected");case 6:case"end":return e.stop()}}),e)}))),n.g.reset_sensor=(0,i.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=8;break}if(n.g.RUNNING){e.next=3;break}return e.abrupt("return");case 3:return Code.executionInProgress=!0,t=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,i){var o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new mr,Ln.addCommand(o),Code.executionInProgress=!1,e.next=5,n.g.delay(1.5);case 5:t();case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",t);case 8:console.log("Not Connected");case 9:case"end":return e.stop()}}),e)})))}var Sr=Vn.p,kr=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(e,r,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;return(0,o.Z)(this,n),Sr[6]=34,Sr[7]=25*s>>4&255,Sr[8]=0,Sr[9]=e,Sr[10]=r,Sr[11]=i,t.call(this,new Uint8Array(Sr),"ledColor")}return(0,s.Z)(n,[{key:"run",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Fn),wr=Vn.p,Rr=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(e,r,i,s,a){return(0,o.Z)(this,n),wr[6]=s,wr[7]=255-25*a&255,wr[8]=255-25*a>>8&255,wr[9]=e,wr[10]=r,wr[11]=i,t.call(this,new Uint8Array(wr),"ledColorMode")}return(0,s.Z)(n,[{key:"run",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Fn),Cr=Vn.p,Ir=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,o.Z)(this,n),Cr[6]=32,t.call(this,new Uint8Array(Cr),"ledColorMode")}return(0,s.Z)(n,[{key:"run",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Fn),xr=Vn.p,Ar=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(){(0,o.Z)(this,n);return xr[6]=34,xr[7]=56,xr[8]=136,xr[9]=255,xr[10]=0,xr[11]=0,t.call(this,xr,"resetled")}return(0,s.Z)(n,[{key:"run",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Fn);function Nr(){n.g.setLEDColor=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,o,s,a){var l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=8;break}if(n.g.RUNNING){e.next=3;break}return e.abrupt("return");case 3:return Code.executionInProgress=!0,l=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,i){var l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a>=2&&(a=Math.round(a/2.5)),l=new kr(t,o,s,a),Ln.addCommand(l),Code.executionInProgress=!1,n();case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",l);case 8:console.log("Not Connected");case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),n.g.LEDColor=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,o,s,a){var l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=8;break}if(n.g.RUNNING){e.next=3;break}return e.abrupt("return");case 3:return Code.executionInProgress=!0,l=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,i){var l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a>=2&&(a=Math.round(a/2.5)),l=new kr(t,o,s,a),Ln.addCommand(l),Code.executionInProgress=!1,n();case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",l);case 8:console.log("Not Connected");case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),n.g.resetLED=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,o,s,a){var l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=8;break}if(n.g.RUNNING){e.next=3;break}return e.abrupt("return");case 3:return Code.executionInProgress=!0,l=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=new Ar,Ln.addCommand(i),Code.executionInProgress=!1,t();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",l);case 8:console.log("Not Connected");case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),n.g.setLEDPattern=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,o,s,a,l){var c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=8;break}if(n.g.RUNNING){e.next=3;break}return e.abrupt("return");case 3:return Code.executionInProgress=!0,c=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,i){var c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=new Rr(t,o,s,a,l),Ln.addCommand(c),Code.executionInProgress=!1,n();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",c);case 8:console.log("Not Connected");case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i,o){return e.apply(this,arguments)}}(),n.g.LED_pattern=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,o,s,a,l){var c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=9;break}if(n.g.RUNNING){e.next=3;break}return e.abrupt("return");case 3:return Code.executionInProgress=!0,l>.5&&(l-=.5),c=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,i){var c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=new Rr(t,o,s,a,l),Ln.addCommand(c),Code.executionInProgress=!1,n();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",c);case 9:console.log("Not Connected");case 10:case"end":return e.stop()}}),e)})));return function(t,n,r,i,o){return e.apply(this,arguments)}}(),n.g.LEDOff=(0,i.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=8;break}if(n.g.RUNNING){e.next=3;break}return e.abrupt("return");case 3:return Code.executionInProgress=!0,t=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=new Ir,Ln.addCommand(i),Code.executionInProgress=!1,t();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",t);case 8:console.log("Not Connected");case 9:case"end":return e.stop()}}),e)})))}var Lr=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;return(0,o.Z)(this,n),(r=t.call(this)).seconds=e,r}return(0,s.Z)(n,[{key:"run",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var t=this;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,1e3*t.seconds)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),n}(Fn),Mr=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;return(0,o.Z)(this,n),(r=t.call(this)).data=e,r}return(0,s.Z)(n,[{key:"run",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.writeConsole();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"writeConsole",value:function(){if("object"===typeof this.data){var e=[],t=this.data;Object.keys(this.data).forEach((function(n){e.push(n+":"+t[n])})),this.data="{"+e.join(", ")+"}"}document.getElementById("consoleContent").innerHTML="<span>".concat(this.data,"<br/></span>")+document.getElementById("consoleContent").innerHTML}}]),n}(Fn),Dr={};function Pr(){n.g.flipLeft=(0,i.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=5;break}return t=new Promise((function(e,t){n.g.loopInProgress=!1,Dr.goLoop=(0,i.Z)((0,r.Z)().mark((function t(){var i;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=new tr(n.g.flip.LEFT),t.next=3,i.run();case 3:if(!n.g.loopInProgress||!n.g.RUNNING){t.next=7;break}Dr.goLoop(),t.next=12;break;case 7:return n.g.loopInProgress=!1,t.next=10,n.g.hover(.5);case 10:return e(),t.abrupt("return");case 12:case"end":return t.stop()}}),t)}))),n.g.loopInProgress=!0,setTimeout(function(){n.g.loopInProgress=!1}.bind(this),30),Dr.goLoop()})),e.abrupt("return",t);case 5:console.log("Not Connected");case 6:case"end":return e.stop()}}),e)}))),n.g.flipRight=(0,i.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=5;break}return t=new Promise((function(e,t){n.g.loopInProgress=!1,Dr.goLoop=(0,i.Z)((0,r.Z)().mark((function t(){var i;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=new tr(n.g.flip.RIGHT),t.next=3,i.run();case 3:if(!n.g.loopInProgress||!n.g.RUNNING){t.next=7;break}Dr.goLoop(),t.next=12;break;case 7:return n.g.loopInProgress=!1,t.next=10,n.g.hover(.5);case 10:return e(),t.abrupt("return");case 12:case"end":return t.stop()}}),t)}))),n.g.loopInProgress=!0,setTimeout(function(){n.g.loopInProgress=!1}.bind(this),30),Dr.goLoop()})),e.abrupt("return",t);case 5:console.log("Not Connected");case 6:case"end":return e.stop()}}),e)}))),n.g.flipBackward=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,o){var s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=5;break}return s=new Promise((function(e,t){n.g.loopInProgress=!1,Dr.goLoop=(0,i.Z)((0,r.Z)().mark((function t(){var i;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=new tr(n.g.flip.REAR),t.next=3,i.run();case 3:if(!n.g.loopInProgress||!n.g.RUNNING){t.next=7;break}Dr.goLoop(),t.next=12;break;case 7:return n.g.loopInProgress=!1,t.next=10,n.g.hover(.5);case 10:return e(),t.abrupt("return");case 12:case"end":return t.stop()}}),t)}))),n.g.loopInProgress=!0,setTimeout(function(){n.g.loopInProgress=!1}.bind(this),30),Dr.goLoop()})),e.abrupt("return",s);case 5:console.log("Not Connected");case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.g.flipForward=(0,i.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=5;break}return t=new Promise((function(e,t){n.g.loopInProgress=!1,Dr.goLoop=(0,i.Z)((0,r.Z)().mark((function t(){var i;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=new tr(n.g.flip.FRONT),t.next=3,i.run();case 3:if(!n.g.loopInProgress||!n.g.RUNNING){t.next=7;break}Dr.goLoop(),t.next=12;break;case 7:return n.g.loopInProgress=!1,t.next=10,n.g.hover(.5);case 10:return e(),t.abrupt("return");case 12:case"end":return t.stop()}}),t)}))),n.g.loopInProgress=!0,setTimeout(function(){n.g.loopInProgress=!1}.bind(this),30),Dr.goLoop()})),e.abrupt("return",t);case 5:console.log("Not Connected");case 6:case"end":return e.stop()}}),e)}))),n.g.delay=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=9;break}if(n.g.RUNNING){e.next=3;break}return e.abrupt("return");case 3:if(0!==t){e.next=5;break}return e.abrupt("return");case 5:return o=new Promise((function(e,o){var s=setInterval((function(){if(n.g.RUNNING){Code.executionInProgress=!0;var e=new Lr(0);Ln.addCommand(e)}else clearInterval(s)}),10);setTimeout((0,i.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:clearInterval(s),Ln.cleanStack(),Code.executionInProgress=!1,e();case 4:case"end":return t.stop()}}),t)}))),1e3*t)})),e.abrupt("return",o);case 9:console.log("Not Connected");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.g.print=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.g.RUNNING){e.next=2;break}return e.abrupt("return");case 2:return n.g.showConsole(!0),Code.executionInProgress=!0,o=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,i){var o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=new Mr(t),Ln.addCommand(o),Code.executionInProgress=!1,n();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.g.flySequence=function(e){console.log("fly"),Code.executionInProgress=!0;var t=new Promise(function(){var t=(0,i.Z)((0,r.Z)().mark((function t(i,o){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e!==n.g.Sequence.SQUARE){t.next=5;break}return t.next=3,Dr.square();case 3:t.next=36;break;case 5:if(e!==n.g.Sequence.CIRCLE){t.next=10;break}return t.next=8,Dr.circle();case 8:t.next=36;break;case 10:if(e!==n.g.Sequence.TRIANGLE){t.next=15;break}return t.next=13,Dr.triangle();case 13:t.next=36;break;case 15:if(e!==n.g.Sequence.ZIGZAG){t.next=20;break}return t.next=18,Dr.zigzag();case 18:t.next=36;break;case 20:if(e!==n.g.Sequence.SWAY){t.next=25;break}return t.next=23,Dr.sway();case 23:t.next=36;break;case 25:if(e!==n.g.Sequence.HOP){t.next=30;break}return t.next=28,Dr.hop();case 28:t.next=36;break;case 30:if(e!==n.g.Sequence.SPIRAL){t.next=35;break}return t.next=33,Dr.spiral();case 33:t.next=36;break;case 35:alert(2);case 36:Code.executionInProgress=!1,i();case 38:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}());return t},Dr.square=function(){if(console.log("move in a square mini"),n.g.RUNNING){var e=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,i){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.g.go(Direction.RIGHT,1.5,30);case 2:return e.next=4,n.g.go(Direction.FORWARD,1.5,30);case 4:return e.next=6,n.g.go(Direction.LEFT,1.5,30);case 6:return e.next=8,n.g.go(Direction.BACKWARD,1.5,30);case 8:t();case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());return e}},Dr.zigzag=(0,i.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("move in a zigzag mini"),n.g.RUNNING){e.next=3;break}return e.abrupt("return");case 3:return t=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,i){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.g.move(.5,-40,30,0,0);case 2:return n.g.delay(.2),e.next=5,n.g.move(.5,40,30,0,0);case 5:return n.g.delay(.2),e.next=8,n.g.move(.5,-40,30,0,0);case 8:return n.g.delay(.2),e.next=11,n.g.move(.5,40,30,0,0);case 11:return e.next=13,n.g.hover(1);case 13:t();case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)}))),Dr.spiral=(0,i.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("move in a spiral mini"),n.g.RUNNING){e.next=3;break}return e.abrupt("return");case 3:return t=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,i){var o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=0;case 1:if(!(o<12)){e.next=13;break}return console.log("iterator: ",o),n.g.setRoll(parseInt(2*o+10)),console.log("yaw: ",parseInt(2*o+10)),n.g.setYaw(-30),e.next=8,n.g.move();case 8:return e.next=10,n.g.delay(.5);case 10:o++,e.next=1;break;case 13:n.g.setRoll(0),n.g.setYaw(0),t();case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)}))),Dr.hop=(0,i.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("move in a hop mini"),n.g.RUNNING){e.next=3;break}return e.abrupt("return");case 3:return t=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,i){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.g.move(.2,0,30,0,40);case 2:return e.next=4,n.g.move(.2,0,30,0,-40);case 4:return e.next=6,n.g.hover(1);case 6:t();case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)}))),Dr.sway=function(){if(console.log("move in a sway mini"),n.g.RUNNING){var e=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,i){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.g.move(.5,-40,0,0,0);case 2:return e.next=4,n.g.move(1,40,0,0,0);case 4:return e.next=6,n.g.move(1,-40,0,0,0);case 6:return e.next=8,n.g.move(.5,40,0,0,0);case 8:t();case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());return e}},Dr.circle=function(){if(console.log("move in a circle mini"),n.g.RUNNING){var e=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,i){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.g.move(5,10,0,-10,0);case 2:t();case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());return e}}}function Br(){n.g.setRoll=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:sr.K.roll=t;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}().bind(this),n.g.setPitch=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("pitchValue",t),sr.K.pitch=t;case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}().bind(this),n.g.setYaw=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:sr.K.yaw=-1*t;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}().bind(this),n.g.setThrottle=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:sr.K.throttle=t;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}().bind(this),n.g.getRoll=function(){return sr.K.roll}.bind(this),n.g.getPitch=function(){return sr.K.pitch}.bind(this),n.g.getYaw=function(){return sr.K.yaw}.bind(this),n.g.getThrottle=function(){return sr.K.throttle}.bind(this),n.g.setTrim=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,i){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.g.updateRollPitchInConnectionBox(t,i),e.next=3,n.g.moveTrim(t,i,0,0);case 3:return e.next=5,n.g.delay(.1);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.g.resetTrim=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.g.setTrim(0,0);case 2:case"end":return e.stop()}}),e)})))}function Fr(){n.g.onKeyPressEvent=function(e,t){n.g.RUNNING&&(zt.addKeyPressCode(e,t),n.g.delay(5))}}Dr.triangle=function(){if(console.log("move in a triangle mini"),n.g.RUNNING){var e=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,i){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.g.move(.3,-40,40,0,0);case 2:return e.next=4,n.g.hover(1);case 4:return e.next=6,n.g.move(1,60,0,0,0);case 6:return e.next=8,n.g.hover(1);case 8:return e.next=11,n.g.move(.8,-40,-40,0,0);case 11:return e.next=13,n.g.hover(1);case 13:t();case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());return e}};var Ur=Vn.ot,Zr=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(e,r){(0,o.Z)(this,n);var i=0;return isNaN(e)?i=Note[e]:(e>1500?e=1500:e<0&&(e=0),i=e),console.log("noteValue",i),console.log("time",r),r*=1e3,console.log("time",r),Ur[6]=3,Ur[7]=i,Ur[8]=0,Ur[9]=r,Ur[10]=r>>8,t.call(this,new Uint8Array(Ur),"playNote")}return(0,s.Z)(n,[{key:"run",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Fn);function Gr(){n.g.playOnlySound=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=8;break}if(n.g.RUNNING){e.next=3;break}return e.abrupt("return");case 3:return Code.executionInProgress=!0,o=new Promise(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,i){var o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=new Zr(t),Ln.addCommand(o),Code.executionInProgress=!1,n();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",o);case 8:console.log("Not Connected");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.g.play_note=function(e,t){if(n.g.isSerialRunning()){if(!n.g.RUNNING)return;return new Promise((function(o,s){if(0!==t){Code.executionInProgress=!0;var a=new Zr(e,t);Ln.addCommand(a),n.g.soundInteface.intervalId=setInterval((0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.g.RUNNING||clearInterval(n.g.soundInteface.intervalId);case 1:case"end":return e.stop()}}),e)}))).bind(this),0),setTimeout((0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:clearInterval(n.g.soundInteface.intervalId),Ln.cleanStack(),setTimeout((0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Code.executionInProgress=!1,o();case 2:case"end":return e.stop()}}),e)}))).bind(this),200);case 3:case"end":return e.stop()}}),e,this)}))).bind(this),1e3*t)}else o()}))}console.log("Not Connected")}}n.g.soundInteface={}},1203:function(e,t){t.I={value:0},t.K={yaw:0,roll:0,pitch:0,throttle:0}},5095:function(e,t){t.K={yaw:0,roll:0,pitch:0,throttle:0}},4906:function(e,t){t.q={c2001:"Drone_12_Controller_P1",42003:"Drone_4_Controller_P3"}},6359:function(e,t){var n=new Uint8Array(18);n[0]=10,n[1]=85,n[2]=131,n[3]=10,n[4]=112,n[5]=32,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=0,n[16]=0,n[17]=0;var r=new Uint8Array(19);r[0]=10,r[1]=85,r[2]=132,r[3]=11,r[4]=112,r[5]=32,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=0,r[16]=0,r[17]=0,r[18]=0;var i=new Uint8Array(13);i[0]=10,i[1]=85,i[2]=130,i[3]=5,i[4]=112,i[5]=32,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=0,i[11]=0,i[12]=0;var o=new Uint8Array(9);o[0]=10,o[1]=85,o[2]=128,o[3]=1,o[4]=112,o[5]=32,o[6]=0,o[7]=0,o[8]=0,t.e4=r,t.JC=o},2006:function(e,t){t.G={81001:"Drone_8_Drone_P1",c1002:"Drone_12_Drone_P1"}},8166:function(e,t){var n=new Uint8Array(12);n[0]=10,n[1]=85,n[2]=16,n[3]=4,n[4]=112,n[5]=16,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=0,n[11]=0;var r=new Uint8Array(10);r[0]=10,r[1]=85,r[2]=17,r[3]=2,r[4]=112,r[5]=16,r[6]=7,r[7]=0,r[8]=0,r[9]=0;var i=new Uint8Array(14);i[0]=10,i[1]=85,i[2]=35,i[3]=6,i[4]=112,i[5]=16,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=0,i[11]=0,i[12]=0,i[13]=0;var o=new Uint8Array(14);o[0]=10,o[1]=85,o[2]=35,o[3]=6,o[4]=112,o[5]=32,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=0,o[11]=0,o[12]=0,o[13]=0;var s=new Uint16Array(16);s[0]=10,s[1]=85,s[2]=82,s[3]=8,s[4]=112,s[5]=16,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=0,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=0;var a=new Uint8Array(13);a[0]=10,a[1]=85,a[2]=98,a[3]=5,a[4]=128,a[5]=32,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=0,a[11]=0,a[12]=0;var l=new Uint8Array(13);l[0]=10,l[1]=85,l[2]=98,l[3]=5,l[4]=128,l[5]=16,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=0,l[11]=0,l[12]=0;var c=new Uint8Array(13);c[0]=10,c[1]=85,c[2]=98,c[3]=5,c[4]=128,c[5]=32,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=0,c[11]=0,c[12]=0;var u=new Uint8Array(9);u[0]=10,u[1]=85,u[2]=4,u[3]=1,u[4]=128,u[5]=16,u[6]=0,u[7]=0,u[8]=0;var h=new Uint8Array(10);h[0]=10,h[1]=85,h[2]=17,h[3]=2,h[4]=112,h[5]=16,h[6]=0,h[7]=0,h[8]=0,h[9]=0,t.Ei=n,t.p=i,t.R9=r,t.kq=s,t.A$=u,t.wf=h,t.cL=o,t.WM=l,t.HF=c},1995:function(e,t){var n=new Uint8Array(12);n[0]=10,n[1]=85,n[2]=16,n[3]=4,n[4]=112,n[5]=16,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=0,n[11]=0;var r=new Uint8Array(10);r[0]=10,r[1]=85,r[2]=17,r[3]=2,r[4]=112,r[5]=16,r[6]=7,r[7]=0,r[8]=0,r[9]=0;var i=new Uint8Array(14);i[0]=10,i[1]=85,i[2]=35,i[3]=6,i[4]=128,i[5]=16,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=0,i[11]=0,i[12]=0,i[13]=0;var o=new Uint16Array(16);o[0]=10,o[1]=85,o[2]=82,o[3]=8,o[4]=112,o[5]=16,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=0,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=0;var s=new Uint8Array(13);s[0]=10,s[1]=85,s[2]=98,s[3]=5,s[4]=112,s[5]=32,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=0,s[11]=0,s[12]=0;var a=new Uint8Array(9);a[0]=10,a[1]=85,a[2]=4,a[3]=1,a[4]=128,a[5]=16,a[6]=0,a[7]=0,a[8]=0;var l=new Uint8Array(10);l[0]=10,l[1]=85,l[2]=17,l[3]=2,l[4]=112,l[5]=16,l[6]=0,l[7]=0,l[8]=0,l[9]=0,t.Ei=n,t.p=i,t.R9=r,t.ot=s,t.kq=o,t.A$=a,t.wf=l},2470:function(e,t){"use strict";t.byteLength=function(e){var t=a(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,o=a(e),s=o[0],l=o[1],c=new i(function(e,t,n){return 3*(t+n)/4-n}(0,s,l)),u=0,h=l>0?s-4:s;for(n=0;n<h;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;2===l&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[u++]=255&t);1===l&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t);return c},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],s=16383,a=0,c=r-i;a<c;a+=s)o.push(l(e,a,a+s>c?c:a+s));1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return o.join("")};for(var n=[],r=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)n[s]=o[s],r[o.charCodeAt(s)]=s;function a(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,r){for(var i,o,s=[],a=t;a<r;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},2845:function(e,t,n){var r,i,o;i=[n(9810)],void 0===(o="function"===typeof(r=function(e){"use strict";return e})?r.apply(t,i):r)||(e.exports=o)},9810:function(e,t,n){var r,i,o;i=[],void 0===(o="function"===typeof(r=function(){"use strict";var e={connectionTypes:{INPUT_VALUE:1,OUTPUT_VALUE:2,NEXT_STATEMENT:3,PREVIOUS_STATEMENT:4},constants:{},LINE_MODE_MULTIPLIER:40,PAGE_MODE_MULTIPLIER:125,DRAG_RADIUS:5,FLYOUT_DRAG_RADIUS:10,SNAP_RADIUS:28};return e.CONNECTING_SNAP_RADIUS=e.SNAP_RADIUS,e.CURRENT_CONNECTION_PREFERENCE=8,e.BUMP_DELAY=250,e.BUMP_RANDOMNESS=10,e.COLLAPSE_CHARS=30,e.LONGPRESS=750,e.SOUND_LIMIT=100,e.DRAG_STACK=!0,e.HSV_SATURATION=.45,e.HSV_VALUE=.65,e.SPRITE={width:96,height:124,url:"sprites.png"},e.constants.ALIGN={LEFT:-1,CENTRE:0,RIGHT:1},e.DRAG_NONE=0,e.DRAG_STICKY=1,e.DRAG_BEGIN=1,e.DRAG_FREE=2,e.OPPOSITE_TYPE=[],e.OPPOSITE_TYPE[e.connectionTypes.INPUT_VALUE]=e.connectionTypes.OUTPUT_VALUE,e.OPPOSITE_TYPE[e.connectionTypes.OUTPUT_VALUE]=e.connectionTypes.INPUT_VALUE,e.OPPOSITE_TYPE[e.connectionTypes.NEXT_STATEMENT]=e.connectionTypes.PREVIOUS_STATEMENT,e.OPPOSITE_TYPE[e.connectionTypes.PREVIOUS_STATEMENT]=e.connectionTypes.NEXT_STATEMENT,e.VARIABLE_CATEGORY_NAME="VARIABLE",e.VARIABLE_DYNAMIC_CATEGORY_NAME="VARIABLE_DYNAMIC",e.PROCEDURE_CATEGORY_NAME="PROCEDURE",e.RENAME_VARIABLE_ID="RENAME_VARIABLE_ID",e.DELETE_VARIABLE_ID="DELETE_VARIABLE_ID",e.constants.COLLAPSED_INPUT_NAME="_TEMP_COLLAPSED_INPUT",e.constants.COLLAPSED_FIELD_NAME="_TEMP_COLLAPSED_FIELD",e.utils={},e.utils.global=function(){return"object"===typeof self?self:"object"===typeof window?window:"object"===typeof n.g?n.g:this}(),e.Msg={},e.utils.global.Blockly||(e.utils.global.Blockly={}),e.utils.global.Blockly.Msg||(e.utils.global.Blockly.Msg=e.Msg),e.utils.colour={},e.utils.colour.parse=function(t){t=String(t).toLowerCase().trim();var n=e.utils.colour.names[t];if(n)return n;if(n="#"==(n="0x"==t.substring(0,2)?"#"+t.substring(2):t)[0]?n:"#"+n,/^#[0-9a-f]{6}$/.test(n))return n;if(/^#[0-9a-f]{3}$/.test(n))return["#",n[1],n[1],n[2],n[2],n[3],n[3]].join("");var r=t.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return r&&(t=Number(r[1]),n=Number(r[2]),r=Number(r[3]),0<=t&&256>t&&0<=n&&256>n&&0<=r&&256>r)?e.utils.colour.rgbToHex(t,n,r):null},e.utils.colour.rgbToHex=function(e,t,n){return t=e<<16|t<<8|n,16>e?"#"+(16777216|t).toString(16).substr(1):"#"+t.toString(16)},e.utils.colour.hexToRgb=function(t){return(t=e.utils.colour.parse(t))?[(t=parseInt(t.substr(1),16))>>16,t>>8&255,255&t]:[0,0,0]},e.utils.colour.hsvToHex=function(t,n,r){var i=0,o=0,s=0;if(0==n)s=o=i=r;else{var a=Math.floor(t/60),l=t/60-a;t=r*(1-n);var c=r*(1-n*l);switch(n=r*(1-n*(1-l)),a){case 1:i=c,o=r,s=t;break;case 2:i=t,o=r,s=n;break;case 3:i=t,o=c,s=r;break;case 4:i=n,o=t,s=r;break;case 5:i=r,o=t,s=c;break;case 6:case 0:i=r,o=n,s=t}}return e.utils.colour.rgbToHex(Math.floor(i),Math.floor(o),Math.floor(s))},e.utils.colour.blend=function(t,n,r){return(t=e.utils.colour.parse(t))&&(n=e.utils.colour.parse(n))?(t=e.utils.colour.hexToRgb(t),n=e.utils.colour.hexToRgb(n),e.utils.colour.rgbToHex(Math.round(n[0]+r*(t[0]-n[0])),Math.round(n[1]+r*(t[1]-n[1])),Math.round(n[2]+r*(t[2]-n[2])))):null},e.utils.colour.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"},e.utils.Coordinate=function(e,t){this.x=e,this.y=t},e.utils.Coordinate.equals=function(e,t){return e==t||!(!e||!t)&&e.x==t.x&&e.y==t.y},e.utils.Coordinate.distance=function(e,t){var n=e.x-t.x;return e=e.y-t.y,Math.sqrt(n*n+e*e)},e.utils.Coordinate.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},e.utils.Coordinate.difference=function(t,n){return new e.utils.Coordinate(t.x-n.x,t.y-n.y)},e.utils.Coordinate.sum=function(t,n){return new e.utils.Coordinate(t.x+n.x,t.y+n.y)},e.utils.Coordinate.prototype.clone=function(){return new e.utils.Coordinate(this.x,this.y)},e.utils.Coordinate.prototype.scale=function(e){return this.x*=e,this.y*=e,this},e.utils.Coordinate.prototype.translate=function(e,t){return this.x+=e,this.y+=t,this},e.utils.Rect=function(e,t,n,r){this.top=e,this.bottom=t,this.left=n,this.right=r},e.utils.Rect.prototype.contains=function(e,t){return e>=this.left&&e<=this.right&&t>=this.top&&t<=this.bottom},e.utils.Rect.prototype.intersects=function(e){return!(this.left>e.right||this.right<e.left||this.top>e.bottom||this.bottom<e.top)},e.utils.string={},e.utils.string.startsWith=function(e,t){return 0==e.lastIndexOf(t,0)},e.utils.string.shortestStringLength=function(e){return e.length?e.reduce((function(e,t){return e.length<t.length?e:t})).length:0},e.utils.string.commonWordPrefix=function(t,n){if(!t.length)return 0;if(1==t.length)return t[0].length;var r=0;n=n||e.utils.string.shortestStringLength(t);for(var i=0;i<n;i++){for(var o=t[0][i],s=1;s<t.length;s++)if(o!=t[s][i])return r;" "==o&&(r=i+1)}for(s=1;s<t.length;s++)if((o=t[s][i])&&" "!=o)return r;return n},e.utils.string.commonWordSuffix=function(t,n){if(!t.length)return 0;if(1==t.length)return t[0].length;var r=0;n=n||e.utils.string.shortestStringLength(t);for(var i=0;i<n;i++){for(var o=t[0].substr(-i-1,1),s=1;s<t.length;s++)if(o!=t[s].substr(-i-1,1))return r;" "==o&&(r=i+1)}for(s=1;s<t.length;s++)if((o=t[s].charAt(t[s].length-i-1))&&" "!=o)return r;return n},e.utils.string.wrap=function(t,n){t=t.split("\n");for(var r=0;r<t.length;r++)t[r]=e.utils.string.wrapLine_(t[r],n);return t.join("\n")},e.utils.string.wrapLine_=function(t,n){if(t.length<=n)return t;for(var r=t.trim().split(/\s+/),i=0;i<r.length;i++)r[i].length>n&&(n=r[i].length);i=-1/0;var o=1;do{var s=i,a=t;t=[];var l=r.length/o,c=1;for(i=0;i<r.length-1;i++)c<(i+1.5)/l?(c++,t[i]=!0):t[i]=!1;t=e.utils.string.wrapMutate_(r,t,n),i=e.utils.string.wrapScore_(r,t,n),t=e.utils.string.wrapToText_(r,t),o++}while(i>s);return a},e.utils.string.wrapScore_=function(e,t,n){for(var r=[0],i=[],o=0;o<e.length;o++)r[r.length-1]+=e[o].length,!0===t[o]?(r.push(0),i.push(e[o].charAt(e[o].length-1))):!1===t[o]&&r[r.length-1]++;for(e=Math.max.apply(Math,r),o=t=0;o<r.length;o++)t-=2*Math.pow(Math.abs(n-r[o]),1.5),t-=Math.pow(e-r[o],1.5),-1!=".?!".indexOf(i[o])?t+=n/3:-1!=",;)]}".indexOf(i[o])&&(t+=n/4);return 1<r.length&&r[r.length-1]<=r[r.length-2]&&(t+=.5),t},e.utils.string.wrapMutate_=function(t,n,r){for(var i,o=e.utils.string.wrapScore_(t,n,r),s=0;s<n.length-1;s++)if(n[s]!=n[s+1]){var a=[].concat(n);a[s]=!a[s],a[s+1]=!a[s+1];var l=e.utils.string.wrapScore_(t,a,r);l>o&&(o=l,i=a)}return i?e.utils.string.wrapMutate_(t,i,r):n},e.utils.string.wrapToText_=function(e,t){for(var n=[],r=0;r<e.length;r++)n.push(e[r]),void 0!==t[r]&&n.push(t[r]?"\n":" ");return n.join("")},e.utils.Size=function(e,t){this.width=e,this.height=t},e.utils.Size.equals=function(e,t){return e==t||!(!e||!t)&&e.width==t.width&&e.height==t.height},e.utils.style={},e.utils.style.getSize=function(t){if("none"!=e.utils.style.getStyle_(t,"display"))return e.utils.style.getSizeWithDisplay_(t);var n=t.style,r=n.display,i=n.visibility,o=n.position;n.visibility="hidden",n.position="absolute",n.display="inline";var s=t.offsetWidth;return t=t.offsetHeight,n.display=r,n.position=o,n.visibility=i,new e.utils.Size(s,t)},e.utils.style.getSizeWithDisplay_=function(t){return new e.utils.Size(t.offsetWidth,t.offsetHeight)},e.utils.style.getStyle_=function(t,n){return e.utils.style.getComputedStyle(t,n)||e.utils.style.getCascadedStyle(t,n)||t.style&&t.style[n]},e.utils.style.getComputedStyle=function(e,t){return document.defaultView&&document.defaultView.getComputedStyle&&(e=document.defaultView.getComputedStyle(e,null))&&(e[t]||e.getPropertyValue(t))||""},e.utils.style.getCascadedStyle=function(e,t){return e.currentStyle?e.currentStyle[t]:null},e.utils.style.getPageOffset=function(t){var n=new e.utils.Coordinate(0,0);t=t.getBoundingClientRect();var r=document.documentElement;return r=new e.utils.Coordinate(window.pageXOffset||r.scrollLeft,window.pageYOffset||r.scrollTop),n.x=t.left+r.x,n.y=t.top+r.y,n},e.utils.style.getViewportPageOffset=function(){var t=document.body,n=document.documentElement;return new e.utils.Coordinate(t.scrollLeft||n.scrollLeft,t.scrollTop||n.scrollTop)},e.utils.style.setElementShown=function(e,t){e.style.display=t?"":"none"},e.utils.style.isRightToLeft=function(t){return"rtl"==e.utils.style.getStyle_(t,"direction")},e.utils.style.getBorderBox=function(t){var n=e.utils.style.getComputedStyle(t,"borderLeftWidth"),r=e.utils.style.getComputedStyle(t,"borderRightWidth"),i=e.utils.style.getComputedStyle(t,"borderTopWidth");return t=e.utils.style.getComputedStyle(t,"borderBottomWidth"),{top:parseFloat(i),right:parseFloat(r),bottom:parseFloat(t),left:parseFloat(n)}},e.utils.style.scrollIntoContainerView=function(t,n,r){t=e.utils.style.getContainerOffsetToScrollInto(t,n,r),n.scrollLeft=t.x,n.scrollTop=t.y},e.utils.style.getContainerOffsetToScrollInto=function(t,n,r){var i=e.utils.style.getPageOffset(t),o=e.utils.style.getPageOffset(n),s=e.utils.style.getBorderBox(n),a=i.x-o.x-s.left;return i=i.y-o.y-s.top,o=e.utils.style.getSizeWithDisplay_(t),t=n.clientWidth-o.width,o=n.clientHeight-o.height,s=n.scrollLeft,n=n.scrollTop,r?(s+=a-t/2,n+=i-o/2):(s+=Math.min(a,Math.max(a-t,0)),n+=Math.min(i,Math.max(i-o,0))),new e.utils.Coordinate(s,n)},e.utils.userAgent={},function(t){function n(e){return-1!=r.indexOf(e.toUpperCase())}e.utils.userAgent.raw=t;var r=e.utils.userAgent.raw.toUpperCase();e.utils.userAgent.IE=n("Trident")||n("MSIE"),e.utils.userAgent.EDGE=n("Edge"),e.utils.userAgent.JAVA_FX=n("JavaFX"),e.utils.userAgent.CHROME=(n("Chrome")||n("CriOS"))&&!e.utils.userAgent.EDGE,e.utils.userAgent.WEBKIT=n("WebKit")&&!e.utils.userAgent.EDGE,e.utils.userAgent.GECKO=n("Gecko")&&!e.utils.userAgent.WEBKIT&&!e.utils.userAgent.IE&&!e.utils.userAgent.EDGE,e.utils.userAgent.ANDROID=n("Android"),t=e.utils.global.navigator&&e.utils.global.navigator.maxTouchPoints,e.utils.userAgent.IPAD=n("iPad")||n("Macintosh")&&0<t,e.utils.userAgent.IPOD=n("iPod"),e.utils.userAgent.IPHONE=n("iPhone")&&!e.utils.userAgent.IPAD&&!e.utils.userAgent.IPOD,e.utils.userAgent.MAC=n("Macintosh"),e.utils.userAgent.TABLET=e.utils.userAgent.IPAD||e.utils.userAgent.ANDROID&&!n("Mobile")||n("Silk"),e.utils.userAgent.MOBILE=!e.utils.userAgent.TABLET&&(e.utils.userAgent.IPOD||e.utils.userAgent.IPHONE||e.utils.userAgent.ANDROID||n("IEMobile"))}(e.utils.global.navigator&&e.utils.global.navigator.userAgent||""),e.utils.noEvent=function(e){e.preventDefault(),e.stopPropagation()},e.utils.isTargetInput=function(e){return"textarea"==e.target.type||"text"==e.target.type||"number"==e.target.type||"email"==e.target.type||"password"==e.target.type||"search"==e.target.type||"tel"==e.target.type||"url"==e.target.type||e.target.isContentEditable||e.target.dataset&&"true"==e.target.dataset.isTextInput},e.utils.getRelativeXY=function(t){var n=new e.utils.Coordinate(0,0),r=t.getAttribute("x");return r&&(n.x=parseInt(r,10)),(r=t.getAttribute("y"))&&(n.y=parseInt(r,10)),(r=(r=t.getAttribute("transform"))&&r.match(e.utils.getRelativeXY.XY_REGEX_))&&(n.x+=Number(r[1]),r[3]&&(n.y+=Number(r[3]))),(t=t.getAttribute("style"))&&-1<t.indexOf("translate")&&(t=t.match(e.utils.getRelativeXY.XY_STYLE_REGEX_))&&(n.x+=Number(t[1]),t[3]&&(n.y+=Number(t[3]))),n},e.utils.getInjectionDivXY_=function(t){for(var n=0,r=0;t;){var i=e.utils.getRelativeXY(t);if(n+=i.x,r+=i.y,-1!=(" "+(t.getAttribute("class")||"")+" ").indexOf(" injectionDiv "))break;t=t.parentNode}return new e.utils.Coordinate(n,r)},e.utils.getRelativeXY.XY_REGEX_=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/,e.utils.getRelativeXY.XY_STYLE_REGEX_=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/,e.utils.isRightButton=function(t){return!(!t.ctrlKey||!e.utils.userAgent.MAC)||2==t.button},e.utils.mouseToSvg=function(e,t,n){var r=t.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,n||(n=t.getScreenCTM().inverse()),r.matrixTransform(n)},e.utils.getScrollDeltaPixels=function(t){switch(t.deltaMode){default:return{x:t.deltaX,y:t.deltaY};case 1:return{x:t.deltaX*e.LINE_MODE_MULTIPLIER,y:t.deltaY*e.LINE_MODE_MULTIPLIER};case 2:return{x:t.deltaX*e.PAGE_MODE_MULTIPLIER,y:t.deltaY*e.PAGE_MODE_MULTIPLIER}}},e.utils.tokenizeInterpolation=function(t){return e.utils.tokenizeInterpolation_(t,!0)},e.utils.replaceMessageReferences=function(t){return"string"!=typeof t?t:(t=e.utils.tokenizeInterpolation_(t,!1)).length?String(t[0]):""},e.utils.checkMessageReferences=function(t){for(var n=!0,r=e.Msg,i=t.match(/%{BKY_[A-Z]\w*}/gi),o=0;o<i.length;o++)void 0==r[i[o].toUpperCase().slice(6,-1)]&&(console.warn("No message string for "+i[o]+" in "+t),n=!1);return n},e.utils.tokenizeInterpolation_=function(t,n){var r=[],i=t.split("");i.push("");var o=0;t=[];for(var s=null,a=0;a<i.length;a++){var l=i[a];0==o?"%"==l?((l=t.join(""))&&r.push(l),t.length=0,o=1):t.push(l):1==o?"%"==l?(t.push(l),o=0):n&&"0"<=l&&"9">=l?(o=2,s=l,(l=t.join(""))&&r.push(l),t.length=0):"{"==l?o=3:(t.push("%",l),o=0):2==o?"0"<=l&&"9">=l?s+=l:(r.push(parseInt(s,10)),a--,o=0):3==o&&(""==l?(t.splice(0,0,"%{"),a--,o=0):"}"!=l?t.push(l):(o=t.join(""),/[A-Z]\w*/i.test(o)?(l=o.toUpperCase(),(l=e.utils.string.startsWith(l,"BKY_")?l.substring(4):null)&&l in e.Msg?"string"==typeof(o=e.Msg[l])?Array.prototype.push.apply(r,e.utils.tokenizeInterpolation_(o,n)):n?r.push(String(o)):r.push(o):r.push("%{"+o+"}")):r.push("%{"+o+"}"),o=t.length=0))}for((l=t.join(""))&&r.push(l),n=[],a=t.length=0;a<r.length;++a)"string"==typeof r[a]?t.push(r[a]):((l=t.join(""))&&n.push(l),t.length=0,n.push(r[a]));return(l=t.join(""))&&n.push(l),t.length=0,n},e.utils.genUid=function(){for(var t=e.utils.genUid.soup_.length,n=[],r=0;20>r;r++)n[r]=e.utils.genUid.soup_.charAt(Math.random()*t);return n.join("")},e.utils.genUid.soup_="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e.utils.is3dSupported=function(){if(void 0!==e.utils.is3dSupported.cached_)return e.utils.is3dSupported.cached_;if(!e.utils.global.getComputedStyle)return!1;var t=document.createElement("p"),n="none",r={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};for(var i in document.body.insertBefore(t,null),r)if(void 0!==t.style[i]){if(t.style[i]="translate3d(1px,1px,1px)",!(n=e.utils.global.getComputedStyle(t)))return document.body.removeChild(t),!1;n=n.getPropertyValue(r[i])}return document.body.removeChild(t),e.utils.is3dSupported.cached_="none"!==n,e.utils.is3dSupported.cached_},e.utils.runAfterPageLoad=function(e){if("object"!=typeof document)throw Error("Blockly.utils.runAfterPageLoad() requires browser document.");if("complete"==document.readyState)e();else var t=setInterval((function(){"complete"==document.readyState&&(clearInterval(t),e())}),10)},e.utils.getViewportBBox=function(){var t=e.utils.style.getViewportPageOffset();return new e.utils.Rect(t.y,document.documentElement.clientHeight+t.y,t.x,document.documentElement.clientWidth+t.x)},e.utils.arrayRemove=function(e,t){return-1!=(t=e.indexOf(t))&&(e.splice(t,1),!0)},e.utils.getDocumentScroll=function(){var t=document.documentElement,n=window;return e.utils.userAgent.IE&&n.pageYOffset!=t.scrollTop?new e.utils.Coordinate(t.scrollLeft,t.scrollTop):new e.utils.Coordinate(n.pageXOffset||t.scrollLeft,n.pageYOffset||t.scrollTop)},e.utils.getBlockTypeCounts=function(e,t){var n=Object.create(null),r=e.getDescendants(!0);for(t&&(e=e.getNextBlock())&&(e=r.indexOf(e),r.splice(e,r.length-e)),e=0;t=r[e];e++)n[t.type]?n[t.type]++:n[t.type]=1;return n},e.utils.screenToWsCoordinates=function(t,n){var r=n.x;n=n.y;var i=t.getInjectionDiv().getBoundingClientRect();return r=new e.utils.Coordinate(r-i.left,n-i.top),n=t.getOriginOffsetInPixels(),e.utils.Coordinate.difference(r,n).scale(1/t.scale)},e.utils.parseBlockColour=function(t){var n="string"==typeof t?e.utils.replaceMessageReferences(t):t,r=Number(n);if(!isNaN(r)&&0<=r&&360>=r)return{hue:r,hex:e.utils.colour.hsvToHex(r,e.HSV_SATURATION,255*e.HSV_VALUE)};if(r=e.utils.colour.parse(n))return{hue:null,hex:r};throw r='Invalid colour: "'+n+'"',t!=n&&(r+=' (from "'+t+'")'),Error(r)},e.Touch={},e.Touch.TOUCH_ENABLED="ontouchstart"in e.utils.global||!!(e.utils.global.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!e.utils.global.navigator||!e.utils.global.navigator.maxTouchPoints&&!e.utils.global.navigator.msMaxTouchPoints),e.Touch.touchIdentifier_=null,e.Touch.TOUCH_MAP={},e.utils.global.PointerEvent?e.Touch.TOUCH_MAP={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]}:e.Touch.TOUCH_ENABLED&&(e.Touch.TOUCH_MAP={mousedown:["touchstart"],mousemove:["touchmove"],mouseup:["touchend","touchcancel"]}),e.longPid_=0,e.longStart=function(t,n){e.longStop_(),t.changedTouches&&1!=t.changedTouches.length||(e.longPid_=setTimeout((function(){t.changedTouches&&(t.button=2,t.clientX=t.changedTouches[0].clientX,t.clientY=t.changedTouches[0].clientY),n&&n.handleRightClick(t)}),e.LONGPRESS))},e.longStop_=function(){e.longPid_&&(clearTimeout(e.longPid_),e.longPid_=0)},e.Touch.clearTouchIdentifier=function(){e.Touch.touchIdentifier_=null},e.Touch.shouldHandleEvent=function(t){return!e.Touch.isMouseOrTouchEvent(t)||e.Touch.checkTouchIdentifier(t)},e.Touch.getTouchIdentifierFromEvent=function(e){return void 0!=e.pointerId?e.pointerId:e.changedTouches&&e.changedTouches[0]&&void 0!==e.changedTouches[0].identifier&&null!==e.changedTouches[0].identifier?e.changedTouches[0].identifier:"mouse"},e.Touch.checkTouchIdentifier=function(t){var n=e.Touch.getTouchIdentifierFromEvent(t);return void 0!==e.Touch.touchIdentifier_&&null!==e.Touch.touchIdentifier_?e.Touch.touchIdentifier_==n:("mousedown"==t.type||"touchstart"==t.type||"pointerdown"==t.type)&&(e.Touch.touchIdentifier_=n,!0)},e.Touch.setClientFromTouch=function(t){if(e.utils.string.startsWith(t.type,"touch")){var n=t.changedTouches[0];t.clientX=n.clientX,t.clientY=n.clientY}},e.Touch.isMouseOrTouchEvent=function(t){return e.utils.string.startsWith(t.type,"touch")||e.utils.string.startsWith(t.type,"mouse")||e.utils.string.startsWith(t.type,"pointer")},e.Touch.isTouchEvent=function(t){return e.utils.string.startsWith(t.type,"touch")||e.utils.string.startsWith(t.type,"pointer")},e.Touch.splitEventByTouches=function(e){var t=[];if(e.changedTouches)for(var n=0;n<e.changedTouches.length;n++)t[n]={type:e.type,changedTouches:[e.changedTouches[n]],target:e.target,stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()}};else t.push(e);return t},e.browserEvents={},e.browserEvents.conditionalBind=function(t,n,r,i,o,s){var a=!1,l=function(t){var n=!o;t=e.Touch.splitEventByTouches(t);for(var s,l=0;s=t[l];l++)n&&!e.Touch.shouldHandleEvent(s)||(e.Touch.setClientFromTouch(s),r?i.call(r,s):i(s),a=!0)},c=[];if(e.utils.global.PointerEvent&&n in e.Touch.TOUCH_MAP)for(var u,h=0;u=e.Touch.TOUCH_MAP[n][h];h++)t.addEventListener(u,l,!1),c.push([t,u,l]);else if(t.addEventListener(n,l,!1),c.push([t,n,l]),n in e.Touch.TOUCH_MAP){var p=function(e){l(e),a&&!s&&e.preventDefault()};for(h=0;u=e.Touch.TOUCH_MAP[n][h];h++)t.addEventListener(u,p,!1),c.push([t,u,p])}return c},e.browserEvents.bind=function(t,n,r,i){var o=function(e){r?i.call(r,e):i(e)},s=[];if(e.utils.global.PointerEvent&&n in e.Touch.TOUCH_MAP)for(var a,l=0;a=e.Touch.TOUCH_MAP[n][l];l++)t.addEventListener(a,o,!1),s.push([t,a,o]);else if(t.addEventListener(n,o,!1),s.push([t,n,o]),n in e.Touch.TOUCH_MAP){var c=function(e){if(e.changedTouches&&1==e.changedTouches.length){var t=e.changedTouches[0];e.clientX=t.clientX,e.clientY=t.clientY}o(e),e.preventDefault()};for(l=0;a=e.Touch.TOUCH_MAP[n][l];l++)t.addEventListener(a,c,!1),s.push([t,a,c])}return s},e.browserEvents.unbind=function(e){for(;e.length;){var t=e.pop(),n=t[2];t[0].removeEventListener(t[1],n,!1)}return n},e.ComponentManager=function(){this.componentData_=Object.create(null),this.capabilityToComponentIds_=Object.create(null)},e.ComponentManager.prototype.addComponent=function(e,t){var n=e.component.id;if(!t&&this.componentData_[n])throw Error('Plugin "'+n+'" with capabilities "'+this.componentData_[n].capabilities+'" already added.');this.componentData_[n]=e,t=[];for(var r=0;r<e.capabilities.length;r++){var i=String(e.capabilities[r]).toLowerCase();t.push(i),void 0===this.capabilityToComponentIds_[i]?this.capabilityToComponentIds_[i]=[n]:this.capabilityToComponentIds_[i].push(n)}this.componentData_[n].capabilities=t},e.ComponentManager.prototype.removeComponent=function(e){var t=this.componentData_[e];if(t){for(var n=0;n<t.capabilities.length;n++){var r=String(t.capabilities[n]).toLowerCase();this.capabilityToComponentIds_[r].splice(this.capabilityToComponentIds_[r].indexOf(e),1)}delete this.componentData_[e]}},e.ComponentManager.prototype.addCapability=function(e,t){if(!this.getComponent(e))throw Error('Cannot add capability, "'+t+'". Plugin "'+e+'" has not been added to the ComponentManager');this.hasCapability(e,t)?console.warn('Plugin "'+e+'already has capability "'+t+'"'):(t=String(t).toLowerCase(),this.componentData_[e].capabilities.push(t),this.capabilityToComponentIds_[t].push(e))},e.ComponentManager.prototype.removeCapability=function(e,t){if(!this.getComponent(e))throw Error('Cannot remove capability, "'+t+'". Plugin "'+e+'" has not been added to the ComponentManager');this.hasCapability(e,t)?(t=String(t).toLowerCase(),this.componentData_[e].capabilities.splice(this.componentData_[e].capabilities.indexOf(t),1),this.capabilityToComponentIds_[t].splice(this.capabilityToComponentIds_[t].indexOf(e),1)):console.warn('Plugin "'+e+"doesn't have capability \""+t+'" to remove')},e.ComponentManager.prototype.hasCapability=function(e,t){return t=String(t).toLowerCase(),-1!==this.componentData_[e].capabilities.indexOf(t)},e.ComponentManager.prototype.getComponent=function(e){return this.componentData_[e]&&this.componentData_[e].component},e.ComponentManager.prototype.getComponents=function(e,t){if(e=String(e).toLowerCase(),!(e=this.capabilityToComponentIds_[e]))return[];var n=[];if(t){var r=[],i=this.componentData_;e.forEach((function(e){r.push(i[e])})),r.sort((function(e,t){return e.weight-t.weight})),r.forEach((function(e){n.push(e.component)}))}else i=this.componentData_,e.forEach((function(e){n.push(i[e].component)}));return n},e.ComponentManager.Capability=function(e){this.name_=e},e.ComponentManager.Capability.prototype.toString=function(){return this.name_},e.ComponentManager.Capability.POSITIONABLE=new e.ComponentManager.Capability("positionable"),e.ComponentManager.Capability.DRAG_TARGET=new e.ComponentManager.Capability("drag_target"),e.ComponentManager.Capability.DELETE_AREA=new e.ComponentManager.Capability("delete_area"),e.ComponentManager.Capability.AUTOHIDEABLE=new e.ComponentManager.Capability("autohideable"),e.utils.Svg=function(e){this.tagName_=e},e.utils.Svg.prototype.toString=function(){return this.tagName_},e.utils.Svg.ANIMATE=new e.utils.Svg("animate"),e.utils.Svg.CIRCLE=new e.utils.Svg("circle"),e.utils.Svg.CLIPPATH=new e.utils.Svg("clipPath"),e.utils.Svg.DEFS=new e.utils.Svg("defs"),e.utils.Svg.FECOMPOSITE=new e.utils.Svg("feComposite"),e.utils.Svg.FECOMPONENTTRANSFER=new e.utils.Svg("feComponentTransfer"),e.utils.Svg.FEFLOOD=new e.utils.Svg("feFlood"),e.utils.Svg.FEFUNCA=new e.utils.Svg("feFuncA"),e.utils.Svg.FEGAUSSIANBLUR=new e.utils.Svg("feGaussianBlur"),e.utils.Svg.FEPOINTLIGHT=new e.utils.Svg("fePointLight"),e.utils.Svg.FESPECULARLIGHTING=new e.utils.Svg("feSpecularLighting"),e.utils.Svg.FILTER=new e.utils.Svg("filter"),e.utils.Svg.FOREIGNOBJECT=new e.utils.Svg("foreignObject"),e.utils.Svg.G=new e.utils.Svg("g"),e.utils.Svg.IMAGE=new e.utils.Svg("image"),e.utils.Svg.LINE=new e.utils.Svg("line"),e.utils.Svg.PATH=new e.utils.Svg("path"),e.utils.Svg.PATTERN=new e.utils.Svg("pattern"),e.utils.Svg.POLYGON=new e.utils.Svg("polygon"),e.utils.Svg.RECT=new e.utils.Svg("rect"),e.utils.Svg.SVG=new e.utils.Svg("svg"),e.utils.Svg.TEXT=new e.utils.Svg("text"),e.utils.Svg.TSPAN=new e.utils.Svg("tspan"),e.utils.dom={},e.utils.dom.SVG_NS="http://www.w3.org/2000/svg",e.utils.dom.HTML_NS="http://www.w3.org/1999/xhtml",e.utils.dom.XLINK_NS="http://www.w3.org/1999/xlink",e.utils.dom.NodeType={ELEMENT_NODE:1,TEXT_NODE:3,COMMENT_NODE:8,DOCUMENT_POSITION_CONTAINED_BY:16},e.utils.dom.cacheWidths_=null,e.utils.dom.cacheReference_=0,e.utils.dom.canvasContext_=null,e.utils.dom.createSvgElement=function(t,n,r){for(var i in t=document.createElementNS(e.utils.dom.SVG_NS,String(t)),n)t.setAttribute(i,n[i]);return document.body.runtimeStyle&&(t.runtimeStyle=t.currentStyle=t.style),r&&r.appendChild(t),t},e.utils.dom.addClass=function(e,t){var n=e.getAttribute("class")||"";return-1==(" "+n+" ").indexOf(" "+t+" ")&&(n&&(n+=" "),e.setAttribute("class",n+t),!0)},e.utils.dom.removeClasses=function(t,n){n=n.split(" ");for(var r=0;r<n.length;r++)e.utils.dom.removeClass(t,n[r])},e.utils.dom.removeClass=function(e,t){var n=e.getAttribute("class");if(-1==(" "+n+" ").indexOf(" "+t+" "))return!1;n=n.split(/\s+/);for(var r=0;r<n.length;r++)n[r]&&n[r]!=t||(n.splice(r,1),r--);return n.length?e.setAttribute("class",n.join(" ")):e.removeAttribute("class"),!0},e.utils.dom.hasClass=function(e,t){return-1!=(" "+e.getAttribute("class")+" ").indexOf(" "+t+" ")},e.utils.dom.removeNode=function(e){return e&&e.parentNode?e.parentNode.removeChild(e):null},e.utils.dom.insertAfter=function(e,t){var n=t.nextSibling;if(!(t=t.parentNode))throw Error("Reference node has no parent.");n?t.insertBefore(e,n):t.appendChild(e)},e.utils.dom.containsNode=function(t,n){return!!(t.compareDocumentPosition(n)&e.utils.dom.NodeType.DOCUMENT_POSITION_CONTAINED_BY)},e.utils.dom.setCssTransform=function(e,t){e.style.transform=t,e.style["-webkit-transform"]=t},e.utils.dom.startTextWidthCache=function(){e.utils.dom.cacheReference_++,e.utils.dom.cacheWidths_||(e.utils.dom.cacheWidths_=Object.create(null))},e.utils.dom.stopTextWidthCache=function(){e.utils.dom.cacheReference_--,e.utils.dom.cacheReference_||(e.utils.dom.cacheWidths_=null)},e.utils.dom.getTextWidth=function(t){var n,r=t.textContent+"\n"+t.className.baseVal;if(e.utils.dom.cacheWidths_&&(n=e.utils.dom.cacheWidths_[r]))return n;try{n=e.utils.userAgent.IE||e.utils.userAgent.EDGE?t.getBBox().width:t.getComputedTextLength()}catch(i){return 8*t.textContent.length}return e.utils.dom.cacheWidths_&&(e.utils.dom.cacheWidths_[r]=n),n},e.utils.dom.getFastTextWidth=function(t,n,r,i){return e.utils.dom.getFastTextWidthWithSizeString(t,n+"pt",r,i)},e.utils.dom.getFastTextWidthWithSizeString=function(t,n,r,i){var o,s=t.textContent;return t=s+"\n"+t.className.baseVal,e.utils.dom.cacheWidths_&&(o=e.utils.dom.cacheWidths_[t])||(e.utils.dom.canvasContext_||((o=document.createElement("canvas")).className="blocklyComputeCanvas",document.body.appendChild(o),e.utils.dom.canvasContext_=o.getContext("2d")),e.utils.dom.canvasContext_.font=r+" "+n+" "+i,o=e.utils.dom.canvasContext_.measureText(s).width,e.utils.dom.cacheWidths_&&(e.utils.dom.cacheWidths_[t]=o)),o},e.utils.dom.measureFontMetrics=function(e,t,n,r){var i=document.createElement("span");i.style.font=n+" "+t+" "+r,i.textContent=e,(e=document.createElement("div")).style.width="1px",e.style.height="0px",(t=document.createElement("div")).setAttribute("style","position: fixed; top: 0; left: 0; display: flex;"),t.appendChild(i),t.appendChild(e),document.body.appendChild(t);try{n={},t.style.alignItems="baseline",n.baseline=e.offsetTop-i.offsetTop,t.style.alignItems="flex-end",n.height=e.offsetTop-i.offsetTop}finally{document.body.removeChild(t)}return n},e.utils.math={},e.utils.math.toRadians=function(e){return e*Math.PI/180},e.utils.math.toDegrees=function(e){return 180*e/Math.PI},e.utils.math.clamp=function(e,t,n){if(n<e){var r=n;n=e,e=r}return Math.max(e,Math.min(t,n))},e.DropDownDiv=function(){},e.DropDownDiv.boundsElement_=null,e.DropDownDiv.owner_=null,e.DropDownDiv.positionToField_=null,e.DropDownDiv.ARROW_SIZE=16,e.DropDownDiv.BORDER_SIZE=1,e.DropDownDiv.ARROW_HORIZONTAL_PADDING=12,e.DropDownDiv.PADDING_Y=16,e.DropDownDiv.ANIMATION_TIME=.25,e.DropDownDiv.animateOutTimer_=null,e.DropDownDiv.onHide_=null,e.DropDownDiv.rendererClassName_="",e.DropDownDiv.themeClassName_="",e.DropDownDiv.createDom=function(){if(!e.DropDownDiv.DIV_){var t=document.createElement("div");t.className="blocklyDropDownDiv",(e.parentContainer||document.body).appendChild(t),e.DropDownDiv.DIV_=t;var n=document.createElement("div");n.className="blocklyDropDownContent",t.appendChild(n),e.DropDownDiv.content_=n,(n=document.createElement("div")).className="blocklyDropDownArrow",t.appendChild(n),e.DropDownDiv.arrow_=n,e.DropDownDiv.DIV_.style.opacity=0,e.DropDownDiv.DIV_.style.transition="transform "+e.DropDownDiv.ANIMATION_TIME+"s, opacity "+e.DropDownDiv.ANIMATION_TIME+"s",t.addEventListener("focusin",(function(){e.utils.dom.addClass(t,"blocklyFocused")})),t.addEventListener("focusout",(function(){e.utils.dom.removeClass(t,"blocklyFocused")}))}},e.DropDownDiv.setBoundsElement=function(t){e.DropDownDiv.boundsElement_=t},e.DropDownDiv.getContentDiv=function(){return e.DropDownDiv.content_},e.DropDownDiv.clearContent=function(){e.DropDownDiv.content_.textContent="",e.DropDownDiv.content_.style.width=""},e.DropDownDiv.setColour=function(t,n){e.DropDownDiv.DIV_.style.backgroundColor=t,e.DropDownDiv.DIV_.style.borderColor=n},e.DropDownDiv.showPositionedByBlock=function(t,n,r,i){return e.DropDownDiv.showPositionedByRect_(e.DropDownDiv.getScaledBboxOfBlock_(n),t,r,i)},e.DropDownDiv.showPositionedByField=function(t,n,r){return e.DropDownDiv.positionToField_=!0,e.DropDownDiv.showPositionedByRect_(e.DropDownDiv.getScaledBboxOfField_(t),t,n,r)},e.DropDownDiv.getScaledBboxOfBlock_=function(t){var n=t.getSvgRoot(),r=n.getBBox(),i=t.workspace.scale;return t=r.height*i,r=r.width*i,n=e.utils.style.getPageOffset(n),new e.utils.Rect(n.y,n.y+t,n.x,n.x+r)},e.DropDownDiv.getScaledBboxOfField_=function(t){return t=t.getScaledBBox(),new e.utils.Rect(t.top,t.bottom,t.left,t.right)},e.DropDownDiv.showPositionedByRect_=function(t,n,r,i){var o=t.left+(t.right-t.left)/2,s=t.bottom;t=t.top,i&&(t+=i);for(var a=(i=n.getSourceBlock()).workspace;a.options.parentWorkspace;)a=a.options.parentWorkspace;return e.DropDownDiv.setBoundsElement(a.getParentSvg().parentNode),e.DropDownDiv.show(n,i.RTL,o,s,o,t,r)},e.DropDownDiv.show=function(t,n,r,i,o,s,a){return e.DropDownDiv.owner_=t,e.DropDownDiv.onHide_=a||null,(t=e.DropDownDiv.DIV_).style.direction=n?"rtl":"ltr",n=e.getMainWorkspace(),e.DropDownDiv.rendererClassName_=n.getRenderer().getClassName(),e.DropDownDiv.themeClassName_=n.getTheme().getClassName(),e.utils.dom.addClass(t,e.DropDownDiv.rendererClassName_),e.utils.dom.addClass(t,e.DropDownDiv.themeClassName_),e.DropDownDiv.positionInternal_(r,i,o,s)},e.DropDownDiv.getBoundsInfo_=function(){var t=e.utils.style.getPageOffset(e.DropDownDiv.boundsElement_),n=e.utils.style.getSize(e.DropDownDiv.boundsElement_);return{left:t.x,right:t.x+n.width,top:t.y,bottom:t.y+n.height,width:n.width,height:n.height}},e.DropDownDiv.getPositionMetrics_=function(t,n,r,i){var o=e.DropDownDiv.getBoundsInfo_(),s=e.utils.style.getSize(e.DropDownDiv.DIV_);return n+s.height<o.bottom?e.DropDownDiv.getPositionBelowMetrics_(t,n,o,s):i-s.height>o.top?e.DropDownDiv.getPositionAboveMetrics_(r,i,o,s):n+s.height<document.documentElement.clientHeight?e.DropDownDiv.getPositionBelowMetrics_(t,n,o,s):i-s.height>document.documentElement.clientTop?e.DropDownDiv.getPositionAboveMetrics_(r,i,o,s):e.DropDownDiv.getPositionTopOfPageMetrics_(t,o,s)},e.DropDownDiv.getPositionBelowMetrics_=function(t,n,r,i){return{initialX:(t=e.DropDownDiv.getPositionX(t,r.left,r.right,i.width)).divX,initialY:n,finalX:t.divX,finalY:n+e.DropDownDiv.PADDING_Y,arrowX:t.arrowX,arrowY:-(e.DropDownDiv.ARROW_SIZE/2+e.DropDownDiv.BORDER_SIZE),arrowAtTop:!0,arrowVisible:!0}},e.DropDownDiv.getPositionAboveMetrics_=function(t,n,r,i){return{initialX:(t=e.DropDownDiv.getPositionX(t,r.left,r.right,i.width)).divX,initialY:n-i.height,finalX:t.divX,finalY:n-i.height-e.DropDownDiv.PADDING_Y,arrowX:t.arrowX,arrowY:i.height-2*e.DropDownDiv.BORDER_SIZE-e.DropDownDiv.ARROW_SIZE/2,arrowAtTop:!1,arrowVisible:!0}},e.DropDownDiv.getPositionTopOfPageMetrics_=function(t,n,r){return{initialX:(t=e.DropDownDiv.getPositionX(t,n.left,n.right,r.width)).divX,initialY:0,finalX:t.divX,finalY:0,arrowAtTop:null,arrowX:null,arrowY:null,arrowVisible:!1}},e.DropDownDiv.getPositionX=function(t,n,r,i){var o=t;return t=e.utils.math.clamp(n,t-i/2,r-i),o-=e.DropDownDiv.ARROW_SIZE/2,n=e.DropDownDiv.ARROW_HORIZONTAL_PADDING,{arrowX:i=e.utils.math.clamp(n,o-t,i-n-e.DropDownDiv.ARROW_SIZE),divX:t}},e.DropDownDiv.isVisible=function(){return!!e.DropDownDiv.owner_},e.DropDownDiv.hideIfOwner=function(t,n){return e.DropDownDiv.owner_===t&&(n?e.DropDownDiv.hideWithoutAnimation():e.DropDownDiv.hide(),!0)},e.DropDownDiv.hide=function(){var t=e.DropDownDiv.DIV_;t.style.transform="translate(0, 0)",t.style.opacity=0,e.DropDownDiv.animateOutTimer_=setTimeout((function(){e.DropDownDiv.hideWithoutAnimation()}),1e3*e.DropDownDiv.ANIMATION_TIME),e.DropDownDiv.onHide_&&(e.DropDownDiv.onHide_(),e.DropDownDiv.onHide_=null)},e.DropDownDiv.hideWithoutAnimation=function(){if(e.DropDownDiv.isVisible()){e.DropDownDiv.animateOutTimer_&&clearTimeout(e.DropDownDiv.animateOutTimer_);var t=e.DropDownDiv.DIV_;t.style.transform="",t.style.left="",t.style.top="",t.style.opacity=0,t.style.display="none",t.style.backgroundColor="",t.style.borderColor="",e.DropDownDiv.onHide_&&(e.DropDownDiv.onHide_(),e.DropDownDiv.onHide_=null),e.DropDownDiv.clearContent(),e.DropDownDiv.owner_=null,e.DropDownDiv.rendererClassName_&&(e.utils.dom.removeClass(t,e.DropDownDiv.rendererClassName_),e.DropDownDiv.rendererClassName_=""),e.DropDownDiv.themeClassName_&&(e.utils.dom.removeClass(t,e.DropDownDiv.themeClassName_),e.DropDownDiv.themeClassName_=""),e.getMainWorkspace().markFocused()}},e.DropDownDiv.positionInternal_=function(t,n,r,i){(t=e.DropDownDiv.getPositionMetrics_(t,n,r,i)).arrowVisible?(e.DropDownDiv.arrow_.style.display="",e.DropDownDiv.arrow_.style.transform="translate("+t.arrowX+"px,"+t.arrowY+"px) rotate(45deg)",e.DropDownDiv.arrow_.setAttribute("class",t.arrowAtTop?"blocklyDropDownArrow blocklyArrowTop":"blocklyDropDownArrow blocklyArrowBottom")):e.DropDownDiv.arrow_.style.display="none",n=Math.floor(t.initialX),r=Math.floor(t.initialY),i=Math.floor(t.finalX);var o=Math.floor(t.finalY),s=e.DropDownDiv.DIV_;return s.style.left=n+"px",s.style.top=r+"px",s.style.display="block",s.style.opacity=1,s.style.transform="translate("+(i-n)+"px,"+(o-r)+"px)",!!t.arrowAtTop},e.DropDownDiv.repositionForWindowResize=function(){if(e.DropDownDiv.owner_){var t=e.DropDownDiv.owner_,n=t.getSourceBlock();n=(t=e.DropDownDiv.positionToField_?e.DropDownDiv.getScaledBboxOfField_(t):e.DropDownDiv.getScaledBboxOfBlock_(n)).left+(t.right-t.left)/2,e.DropDownDiv.positionInternal_(n,t.bottom,n,t.top)}else e.DropDownDiv.hide()},e.registry={},e.registry.typeMap_=Object.create(null),e.registry.DEFAULT="default",e.registry.Type=function(e){this.name_=e},e.registry.Type.prototype.toString=function(){return this.name_},e.registry.Type.CONNECTION_CHECKER=new e.registry.Type("connectionChecker"),e.registry.Type.CURSOR=new e.registry.Type("cursor"),e.registry.Type.EVENT=new e.registry.Type("event"),e.registry.Type.FIELD=new e.registry.Type("field"),e.registry.Type.RENDERER=new e.registry.Type("renderer"),e.registry.Type.TOOLBOX=new e.registry.Type("toolbox"),e.registry.Type.THEME=new e.registry.Type("theme"),e.registry.Type.TOOLBOX_ITEM=new e.registry.Type("toolboxItem"),e.registry.Type.FLYOUTS_VERTICAL_TOOLBOX=new e.registry.Type("flyoutsVerticalToolbox"),e.registry.Type.FLYOUTS_HORIZONTAL_TOOLBOX=new e.registry.Type("flyoutsHorizontalToolbox"),e.registry.Type.METRICS_MANAGER=new e.registry.Type("metricsManager"),e.registry.Type.BLOCK_DRAGGER=new e.registry.Type("blockDragger"),e.registry.register=function(t,n,r,i){if(!(t instanceof e.registry.Type)&&"string"!=typeof t||""==String(t).trim())throw Error('Invalid type "'+t+'". The type must be a non-empty string or a Blockly.registry.Type.');if(t=String(t).toLowerCase(),"string"!=typeof n||""==n.trim())throw Error('Invalid name "'+n+'". The name must be a non-empty string.');if(n=n.toLowerCase(),!r)throw Error("Can not register a null value");var o=e.registry.typeMap_[t];if(o||(o=e.registry.typeMap_[t]=Object.create(null)),e.registry.validate_(t,r),!i&&o[n])throw Error('Name "'+n+'" with type "'+t+'" already registered.');o[n]=r},e.registry.validate_=function(t,n){if(t===String(e.registry.Type.FIELD)&&"function"!=typeof n.fromJson)throw Error('Type "'+t+'" must have a fromJson function')},e.registry.unregister=function(t,n){t=String(t).toLowerCase(),n=n.toLowerCase();var r=e.registry.typeMap_[t];r&&r[n]?delete e.registry.typeMap_[t][n]:console.warn("Unable to unregister ["+n+"]["+t+"] from the registry.")},e.registry.getItem_=function(t,n,r){t=String(t).toLowerCase(),n=n.toLowerCase();var i=e.registry.typeMap_[t];if(!i||!i[n]){if(n="Unable to find ["+n+"]["+t+"] in the registry.",r)throw Error(n+" You must require or register a "+t+" plugin.");return console.warn(n),null}return i[n]},e.registry.hasItem=function(t,n){return t=String(t).toLowerCase(),n=n.toLowerCase(),!!(t=e.registry.typeMap_[t])&&!!t[n]},e.registry.getClass=function(t,n,r){return e.registry.getItem_(t,n,r)},e.registry.getObject=function(t,n,r){return e.registry.getItem_(t,n,r)},e.registry.getClassFromOptions=function(t,n,r){return"function"==typeof(n=n.plugins[t.toString()]||e.registry.DEFAULT)?n:e.registry.getClass(t,n,r)},e.Events={},e.Events.group_="",e.Events.recordUndo=!0,e.Events.disabled_=0,e.Events.CREATE="create",e.Events.BLOCK_CREATE=e.Events.CREATE,e.Events.DELETE="delete",e.Events.BLOCK_DELETE=e.Events.DELETE,e.Events.CHANGE="change",e.Events.BLOCK_CHANGE=e.Events.CHANGE,e.Events.MOVE="move",e.Events.BLOCK_MOVE=e.Events.MOVE,e.Events.VAR_CREATE="var_create",e.Events.VAR_DELETE="var_delete",e.Events.VAR_RENAME="var_rename",e.Events.UI="ui",e.Events.BLOCK_DRAG="drag",e.Events.SELECTED="selected",e.Events.CLICK="click",e.Events.MARKER_MOVE="marker_move",e.Events.BUBBLE_OPEN="bubble_open",e.Events.TRASHCAN_OPEN="trashcan_open",e.Events.TOOLBOX_ITEM_SELECT="toolbox_item_select",e.Events.THEME_CHANGE="theme_change",e.Events.VIEWPORT_CHANGE="viewport_change",e.Events.COMMENT_CREATE="comment_create",e.Events.COMMENT_DELETE="comment_delete",e.Events.COMMENT_CHANGE="comment_change",e.Events.COMMENT_MOVE="comment_move",e.Events.FINISHED_LOADING="finished_loading",e.Events.BUMP_EVENTS=[e.Events.BLOCK_CREATE,e.Events.BLOCK_MOVE,e.Events.COMMENT_CREATE,e.Events.COMMENT_MOVE],e.Events.FIRE_QUEUE_=[],e.Events.fire=function(t){e.Events.isEnabled()&&(e.Events.FIRE_QUEUE_.length||setTimeout(e.Events.fireNow_,0),e.Events.FIRE_QUEUE_.push(t))},e.Events.fireNow_=function(){for(var t,n=e.Events.filter(e.Events.FIRE_QUEUE_,!0),r=e.Events.FIRE_QUEUE_.length=0;t=n[r];r++)if(t.workspaceId){var i=e.Workspace.getById(t.workspaceId);i&&i.fireChangeListener(t)}},e.Events.filter=function(t,n){t=t.slice(),n||t.reverse();for(var r,i=[],o=Object.create(null),s=0;r=t[s];s++)if(!r.isNull()){var a=[r.isUiEvent?e.Events.UI:r.type,r.blockId,r.workspaceId].join(" "),l=o[a],c=l?l.event:null;l?r.type==e.Events.MOVE&&l.index==s-1?(c.newParentId=r.newParentId,c.newInputName=r.newInputName,c.newCoordinate=r.newCoordinate,l.index=s):r.type==e.Events.CHANGE&&r.element==c.element&&r.name==c.name?c.newValue=r.newValue:r.type==e.Events.VIEWPORT_CHANGE?(c.viewTop=r.viewTop,c.viewLeft=r.viewLeft,c.scale=r.scale,c.oldScale=r.oldScale):r.type==e.Events.CLICK&&c.type==e.Events.BUBBLE_OPEN||(o[a]={event:r,index:s},i.push(r)):(o[a]={event:r,index:s},i.push(r))}for(t=i.filter((function(e){return!e.isNull()})),n||t.reverse(),s=1;r=t[s];s++)r.type==e.Events.CHANGE&&"mutation"==r.element&&t.unshift(t.splice(s,1)[0]);return t},e.Events.clearPendingUndo=function(){for(var t,n=0;t=e.Events.FIRE_QUEUE_[n];n++)t.recordUndo=!1},e.Events.disable=function(){e.Events.disabled_++},e.Events.enable=function(){e.Events.disabled_--},e.Events.isEnabled=function(){return 0==e.Events.disabled_},e.Events.getGroup=function(){return e.Events.group_},e.Events.setGroup=function(t){e.Events.group_="boolean"==typeof t?t?e.utils.genUid():"":t},e.Events.getDescendantIds=function(e){var t=[];e=e.getDescendants(!1);for(var n,r=0;n=e[r];r++)t[r]=n.id;return t},e.Events.fromJson=function(t,n){var r=e.Events.get(t.type);if(!r)throw Error("Unknown event type.");return(r=new r).fromJson(t),r.workspaceId=n.id,r},e.Events.get=function(t){return e.registry.getClass(e.registry.Type.EVENT,t)},e.Events.disableOrphans=function(t){if((t.type==e.Events.MOVE||t.type==e.Events.CREATE)&&t.workspaceId){var n=e.Workspace.getById(t.workspaceId),r=n.getBlockById(t.blockId);if(r){t=e.Events.recordUndo;try{e.Events.recordUndo=!1;var i=r.getParent();if(i&&i.isEnabled()){var o,s=r.getDescendants(!1);for(n=0;o=s[n];n++)o.setEnabled(!0)}else if((r.outputConnection||r.previousConnection)&&!n.isDragging())do{r.setEnabled(!1),r=r.getNextBlock()}while(r)}finally{e.Events.recordUndo=t}}}},e.Events.Abstract=function(){this.isBlank=null,this.workspaceId=void 0,this.group=e.Events.getGroup(),this.recordUndo=e.Events.recordUndo},e.Events.Abstract.prototype.isUiEvent=!1,e.Events.Abstract.prototype.toJson=function(){var e={type:this.type};return this.group&&(e.group=this.group),e},e.Events.Abstract.prototype.fromJson=function(e){this.isBlank=!1,this.group=e.group},e.Events.Abstract.prototype.isNull=function(){return!1},e.Events.Abstract.prototype.run=function(e){},e.Events.Abstract.prototype.getEventWorkspace_=function(){if(this.workspaceId)var t=e.Workspace.getById(this.workspaceId);if(!t)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return t},e.utils.object={},e.utils.object.inherits=function(e,t){e.superClass_=t.prototype,e.prototype=Object.create(t.prototype),e.prototype.constructor=e},e.utils.object.mixin=function(e,t){for(var n in t)e[n]=t[n]},e.utils.object.deepMerge=function(t,n){for(var r in n)t[r]=null!=n[r]&&"object"===typeof n[r]?e.utils.object.deepMerge(t[r]||Object.create(null),n[r]):n[r];return t},e.utils.object.values=function(e){return Object.values?Object.values(e):Object.keys(e).map((function(t){return e[t]}))},e.utils.xml={},e.utils.xml.NAME_SPACE="https://developers.google.com/blockly/xml",e.utils.xml.document=function(){return document},e.utils.xml.createElement=function(t){return e.utils.xml.document().createElementNS(e.utils.xml.NAME_SPACE,t)},e.utils.xml.createTextNode=function(t){return e.utils.xml.document().createTextNode(t)},e.utils.xml.textToDomDocument=function(e){return(new DOMParser).parseFromString(e,"text/xml")},e.utils.xml.domToText=function(e){return(new XMLSerializer).serializeToString(e)},e.inputTypes={VALUE:e.connectionTypes.INPUT_VALUE,STATEMENT:e.connectionTypes.NEXT_STATEMENT,DUMMY:5},e.Xml={},e.Xml.workspaceToDom=function(t,n){var r=e.utils.xml.createElement("xml"),i=e.Xml.variablesToDom(e.Variables.allUsedVarModels(t));i.hasChildNodes()&&r.appendChild(i);var o,s=t.getTopComments(!0);for(i=0;o=s[i];i++)r.appendChild(o.toXmlWithXY(n));for(t=t.getTopBlocks(!0),i=0;s=t[i];i++)r.appendChild(e.Xml.blockToDomWithXY(s,n));return r},e.Xml.variablesToDom=function(t){for(var n,r=e.utils.xml.createElement("variables"),i=0;n=t[i];i++){var o=e.utils.xml.createElement("variable");o.appendChild(e.utils.xml.createTextNode(n.name)),n.type&&o.setAttribute("type",n.type),o.id=n.getId(),r.appendChild(o)}return r},e.Xml.blockToDomWithXY=function(t,n){if(t.isInsertionMarker()&&!(t=t.getChildren(!1)[0]))return new DocumentFragment;var r;t.workspace.RTL&&(r=t.workspace.getWidth()),n=e.Xml.blockToDom(t,n);var i=t.getRelativeToSurfaceXY();return n.setAttribute("x",Math.round(t.workspace.RTL?r-i.x:i.x)),n.setAttribute("y",Math.round(i.y)),n},e.Xml.fieldToDom_=function(t){if(t.isSerializable()){var n=e.utils.xml.createElement("field");return n.setAttribute("name",t.name||""),t.toXml(n)}return null},e.Xml.allFieldsToDom_=function(t,n){for(var r,i=0;r=t.inputList[i];i++)for(var o,s=0;o=r.fieldRow[s];s++)(o=e.Xml.fieldToDom_(o))&&n.appendChild(o)},e.Xml.blockToDom=function(t,n){if(t.isInsertionMarker())return(t=t.getChildren(!1)[0])?e.Xml.blockToDom(t):new DocumentFragment;var r=e.utils.xml.createElement(t.isShadow()?"shadow":"block");if(r.setAttribute("type",t.type),n||r.setAttribute("id",t.id),t.mutationToDom){var i=t.mutationToDom();i&&(i.hasChildNodes()||i.hasAttributes())&&r.appendChild(i)}if(e.Xml.allFieldsToDom_(t,r),i=t.getCommentText()){var o=t.commentModel.size,s=t.commentModel.pinned,a=e.utils.xml.createElement("comment");a.appendChild(e.utils.xml.createTextNode(i)),a.setAttribute("pinned",s),a.setAttribute("h",o.height),a.setAttribute("w",o.width),r.appendChild(a)}for(t.data&&((i=e.utils.xml.createElement("data")).appendChild(e.utils.xml.createTextNode(t.data)),r.appendChild(i)),i=0;o=t.inputList[i];i++){var l;if(s=!0,o.type!=e.inputTypes.DUMMY){var c=o.connection.targetBlock();o.type==e.inputTypes.VALUE?l=e.utils.xml.createElement("value"):o.type==e.inputTypes.STATEMENT&&(l=e.utils.xml.createElement("statement")),!(a=o.connection.getShadowDom())||c&&c.isShadow()||l.appendChild(e.Xml.cloneShadow_(a,n)),c&&(a=e.Xml.blockToDom(c,n)).nodeType==e.utils.dom.NodeType.ELEMENT_NODE&&(l.appendChild(a),s=!1),l.setAttribute("name",o.name),s||r.appendChild(l)}}return void 0!=t.inputsInline&&t.inputsInline!=t.inputsInlineDefault&&r.setAttribute("inline",t.inputsInline),t.isCollapsed()&&r.setAttribute("collapsed",!0),t.isEnabled()||r.setAttribute("disabled",!0),t.isDeletable()||t.isShadow()||r.setAttribute("deletable",!1),t.isMovable()||t.isShadow()||r.setAttribute("movable",!1),t.isEditable()||r.setAttribute("editable",!1),(i=t.getNextBlock())&&(a=e.Xml.blockToDom(i,n)).nodeType==e.utils.dom.NodeType.ELEMENT_NODE&&((l=e.utils.xml.createElement("next")).appendChild(a),r.appendChild(l)),!(a=t.nextConnection&&t.nextConnection.getShadowDom())||i&&i.isShadow()||l.appendChild(e.Xml.cloneShadow_(a,n)),r},e.Xml.cloneShadow_=function(t,n){for(var r,i=t=t.cloneNode(!0);i;)if(n&&"shadow"==i.nodeName&&i.removeAttribute("id"),i.firstChild)i=i.firstChild;else{for(;i&&!i.nextSibling;)r=i,i=i.parentNode,r.nodeType==e.utils.dom.NodeType.TEXT_NODE&&""==r.data.trim()&&i.firstChild!=r&&e.utils.dom.removeNode(r);i&&(r=i,i=i.nextSibling,r.nodeType==e.utils.dom.NodeType.TEXT_NODE&&""==r.data.trim()&&e.utils.dom.removeNode(r))}return t},e.Xml.domToText=function(t){return e.utils.xml.domToText(t).replace(/<(\w+)([^<]*)\/>/g,"<$1$2></$1>")},e.Xml.domToPrettyText=function(t){t=e.Xml.domToText(t).split("<");for(var n="",r=1;r<t.length;r++){var i=t[r];"/"==i[0]&&(n=n.substring(2)),t[r]=n+"<"+i,"/"!=i[0]&&"/>"!=i.slice(-2)&&(n+="  ")}return(t=(t=t.join("\n")).replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>")).replace(/^\n/,"")},e.Xml.textToDom=function(t){var n=e.utils.xml.textToDomDocument(t);if(!n||!n.documentElement||n.getElementsByTagName("parsererror").length)throw Error("textToDom was unable to parse: "+t);return n.documentElement},e.Xml.clearWorkspaceAndLoadFromXml=function(t,n){return n.setResizesEnabled(!1),n.clear(),t=e.Xml.domToWorkspace(t,n),n.setResizesEnabled(!0),t},e.Xml.domToWorkspace=function(t,n){if(t instanceof e.Workspace){var r=t;t=n,n=r,console.warn("Deprecated call to Blockly.Xml.domToWorkspace, swap the arguments.")}var i;n.RTL&&(i=n.getWidth()),r=[],e.utils.dom.startTextWidthCache();var o=e.Events.getGroup();o||e.Events.setGroup(!0),n.setResizesEnabled&&n.setResizesEnabled(!1);var s=!0;try{for(var a,l=0;a=t.childNodes[l];l++){var c=a.nodeName.toLowerCase(),u=a;if("block"==c||"shadow"==c&&!e.Events.recordUndo){var h=e.Xml.domToBlock(u,n);r.push(h.id);var p=u.hasAttribute("x")?parseInt(u.getAttribute("x"),10):10,f=u.hasAttribute("y")?parseInt(u.getAttribute("y"),10):10;isNaN(p)||isNaN(f)||h.moveBy(n.RTL?i-p:p,f),s=!1}else{if("shadow"==c)throw TypeError("Shadow block cannot be a top-level block.");if("comment"==c)n.rendered?e.WorkspaceCommentSvg?e.WorkspaceCommentSvg.fromXml(u,n,i):console.warn("Missing require for Blockly.WorkspaceCommentSvg, ignoring workspace comment."):e.WorkspaceComment?e.WorkspaceComment.fromXml(u,n):console.warn("Missing require for Blockly.WorkspaceComment, ignoring workspace comment.");else if("variables"==c){if(!s)throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");e.Xml.domToVariables(u,n),s=!1}}}}finally{o||e.Events.setGroup(!1),e.utils.dom.stopTextWidthCache()}return n.setResizesEnabled&&n.setResizesEnabled(!0),e.Events.fire(new(e.Events.get(e.Events.FINISHED_LOADING))(n)),r},e.Xml.appendDomToWorkspace=function(t,n){var r;if(Object.prototype.hasOwnProperty.call(n,"scale")&&(r=n.getBlocksBoundingBox()),t=e.Xml.domToWorkspace(t,n),r&&r.top!=r.bottom){var i=r.bottom,o=n.RTL?r.right:r.left,s=1/0,a=-1/0,l=1/0;for(r=0;r<t.length;r++){var c=n.getBlockById(t[r]).getRelativeToSurfaceXY();c.y<l&&(l=c.y),c.x<s&&(s=c.x),c.x>a&&(a=c.x)}for(i=i-l+10,o=n.RTL?o-a:o-s,r=0;r<t.length;r++)n.getBlockById(t[r]).moveBy(o,i)}return t},e.Xml.domToBlock=function(t,n){if(t instanceof e.Workspace){var r=t;t=n,n=r,console.warn("Deprecated call to Blockly.Xml.domToBlock, swap the arguments.")}e.Events.disable(),r=n.getAllVariables();try{var i=e.Xml.domToBlockHeadless_(t,n),o=i.getDescendants(!1);if(n.rendered){i.setConnectionTracking(!1);for(var s=o.length-1;0<=s;s--)o[s].initSvg();for(s=o.length-1;0<=s;s--)o[s].render(!1);setTimeout((function(){i.disposed||i.setConnectionTracking(!0)}),1),i.updateDisabled(),n.resizeContents()}else for(s=o.length-1;0<=s;s--)o[s].initModel()}finally{e.Events.enable()}if(e.Events.isEnabled()){for(t=e.Variables.getAddedVariables(n,r),s=0;s<t.length;s++)n=t[s],e.Events.fire(new(e.Events.get(e.Events.VAR_CREATE))(n));e.Events.fire(new(e.Events.get(e.Events.CREATE))(i))}return i},e.Xml.domToVariables=function(t,n){for(var r,i=0;r=t.childNodes[i];i++)if(r.nodeType==e.utils.dom.NodeType.ELEMENT_NODE){var o=r.getAttribute("type"),s=r.getAttribute("id");n.createVariable(r.textContent,o,s)}},e.Xml.mapSupportedXmlTags_=function(t){for(var n,r={mutation:[],comment:[],data:[],field:[],input:[],next:[]},i=0;n=t.childNodes[i];i++)if(n.nodeType!=e.utils.dom.NodeType.TEXT_NODE)switch(n.nodeName.toLowerCase()){case"mutation":r.mutation.push(n);break;case"comment":if(!e.Comment){console.warn("Missing require for Blockly.Comment, ignoring block comment.");break}r.comment.push(n);break;case"data":r.data.push(n);break;case"title":case"field":r.field.push(n);break;case"value":case"statement":r.input.push(n);break;case"next":r.next.push(n);break;default:console.warn("Ignoring unknown tag: "+n.nodeName)}return r},e.Xml.applyMutationTagNodes_=function(e,t){for(var n,r=!1,i=0;n=e[i];i++)t.domToMutation&&(t.domToMutation(n),t.initSvg&&(r=!0));return r},e.Xml.applyCommentTagNodes_=function(t,n){for(var r,i=0;r=t[i];i++){var o=r.textContent,s="true"==r.getAttribute("pinned"),a=parseInt(r.getAttribute("w"),10);r=parseInt(r.getAttribute("h"),10),n.setCommentText(o),n.commentModel.pinned=s,isNaN(a)||isNaN(r)||(n.commentModel.size=new e.utils.Size(a,r)),s&&n.getCommentIcon&&!n.isInFlyout&&setTimeout((function(){n.getCommentIcon().setVisible(!0)}),1)}},e.Xml.applyDataTagNodes_=function(e,t){for(var n,r=0;n=e[r];r++)t.data=n.textContent},e.Xml.applyFieldTagNodes_=function(t,n){for(var r,i=0;r=t[i];i++){var o=r.getAttribute("name");e.Xml.domToField_(n,o,r)}},e.Xml.findChildBlocks_=function(t){for(var n,r={childBlockElement:null,childShadowElement:null},i=0;n=t.childNodes[i];i++)n.nodeType==e.utils.dom.NodeType.ELEMENT_NODE&&("block"==n.nodeName.toLowerCase()?r.childBlockElement=n:"shadow"==n.nodeName.toLowerCase()&&(r.childShadowElement=n));return r},e.Xml.applyInputTagNodes_=function(t,n,r,i){for(var o,s=0;o=t[s];s++){var a=o.getAttribute("name"),l=r.getInput(a);if(!l){console.warn("Ignoring non-existent input "+a+" in block "+i);break}if((o=e.Xml.findChildBlocks_(o)).childBlockElement){if(!l.connection)throw TypeError("Input connection does not exist.");e.Xml.domToBlockHeadless_(o.childBlockElement,n,l.connection,!1)}o.childShadowElement&&l.connection.setShadowDom(o.childShadowElement)}},e.Xml.applyNextTagNodes_=function(t,n,r){for(var i,o=0;i=t[o];o++){if((i=e.Xml.findChildBlocks_(i)).childBlockElement){if(!r.nextConnection)throw TypeError("Next statement does not exist.");if(r.nextConnection.isConnected())throw TypeError("Next statement is already connected.");e.Xml.domToBlockHeadless_(i.childBlockElement,n,r.nextConnection,!0)}i.childShadowElement&&r.nextConnection&&r.nextConnection.setShadowDom(i.childShadowElement)}},e.Xml.domToBlockHeadless_=function(t,n,r,i){var o=t.getAttribute("type");if(!o)throw TypeError("Block type unspecified: "+t.outerHTML);var s=t.getAttribute("id");s=n.newBlock(o,s);var a=e.Xml.mapSupportedXmlTags_(t),l=e.Xml.applyMutationTagNodes_(a.mutation,s);if(e.Xml.applyCommentTagNodes_(a.comment,s),e.Xml.applyDataTagNodes_(a.data,s),r)if(i){if(!s.previousConnection)throw TypeError("Next block does not have previous statement.");r.connect(s.previousConnection)}else if(s.outputConnection)r.connect(s.outputConnection);else{if(!s.previousConnection)throw TypeError("Child block does not have output or previous statement.");r.connect(s.previousConnection)}if(e.Xml.applyFieldTagNodes_(a.field,s),e.Xml.applyInputTagNodes_(a.input,n,s,o),e.Xml.applyNextTagNodes_(a.next,n,s),l&&s.initSvg(),(n=t.getAttribute("inline"))&&s.setInputsInline("true"==n),(n=t.getAttribute("disabled"))&&s.setEnabled("true"!=n&&"disabled"!=n),(n=t.getAttribute("deletable"))&&s.setDeletable("true"==n),(n=t.getAttribute("movable"))&&s.setMovable("true"==n),(n=t.getAttribute("editable"))&&s.setEditable("true"==n),(n=t.getAttribute("collapsed"))&&s.setCollapsed("true"==n),"shadow"==t.nodeName.toLowerCase()){for(t=s.getChildren(!1),n=0;r=t[n];n++)if(!r.isShadow())throw TypeError("Shadow block not allowed non-shadow child.");if(s.getVarModels().length)throw TypeError("Shadow blocks cannot have variable references.");s.setShadow(!0)}return s},e.Xml.domToField_=function(e,t,n){var r=e.getField(t);r?r.fromXml(n):console.warn("Ignoring non-existent field "+t+" in block "+e.type)},e.Xml.deleteNext=function(e){for(var t,n=0;t=e.childNodes[n];n++)if("next"==t.nodeName.toLowerCase()){e.removeChild(t);break}},e.Events.BlockBase=function(t){e.Events.BlockBase.superClass_.constructor.call(this),this.blockId=(this.isBlank="undefined"==typeof t)?"":t.id,this.workspaceId=this.isBlank?"":t.workspace.id},e.utils.object.inherits(e.Events.BlockBase,e.Events.Abstract),e.Events.BlockBase.prototype.toJson=function(){var t=e.Events.BlockBase.superClass_.toJson.call(this);return t.blockId=this.blockId,t},e.Events.BlockBase.prototype.fromJson=function(t){e.Events.BlockBase.superClass_.fromJson.call(this,t),this.blockId=t.blockId},e.Events.BlockChange=function(t,n,r,i,o){e.Events.Change.superClass_.constructor.call(this,t),t&&(this.element="undefined"==typeof n?"":n,this.name="undefined"==typeof r?"":r,this.oldValue="undefined"==typeof i?"":i,this.newValue="undefined"==typeof o?"":o)},e.utils.object.inherits(e.Events.BlockChange,e.Events.BlockBase),e.Events.Change=e.Events.BlockChange,e.Events.BlockChange.prototype.type=e.Events.CHANGE,e.Events.BlockChange.prototype.toJson=function(){var t=e.Events.BlockChange.superClass_.toJson.call(this);return t.element=this.element,this.name&&(t.name=this.name),t.oldValue=this.oldValue,t.newValue=this.newValue,t},e.Events.BlockChange.prototype.fromJson=function(t){e.Events.BlockChange.superClass_.fromJson.call(this,t),this.element=t.element,this.name=t.name,this.oldValue=t.oldValue,this.newValue=t.newValue},e.Events.BlockChange.prototype.isNull=function(){return this.oldValue==this.newValue},e.Events.BlockChange.prototype.run=function(t){var n=this.getEventWorkspace_().getBlockById(this.blockId);if(n)switch(n.mutator&&n.mutator.setVisible(!1),t=t?this.newValue:this.oldValue,this.element){case"field":(n=n.getField(this.name))?n.setValue(t):console.warn("Can't set non-existent field: "+this.name);break;case"comment":n.setCommentText(t||null);break;case"collapsed":n.setCollapsed(!!t);break;case"disabled":n.setEnabled(!t);break;case"inline":n.setInputsInline(!!t);break;case"mutation":var r="";if(n.mutationToDom&&(r=(r=n.mutationToDom())&&e.Xml.domToText(r)),n.domToMutation){var i=e.Xml.textToDom(t||"<mutation/>");n.domToMutation(i)}e.Events.fire(new e.Events.BlockChange(n,"mutation",null,r,t));break;default:console.warn("Unknown change type: "+this.element)}else console.warn("Can't change non-existent block: "+this.blockId)},e.Events.Create=function(t){e.Events.Create.superClass_.constructor.call(this,t),t&&(t.isShadow()&&(this.recordUndo=!1),this.xml=t.workspace.rendered?e.Xml.blockToDomWithXY(t):e.Xml.blockToDom(t),this.ids=e.Events.getDescendantIds(t))},e.utils.object.inherits(e.Events.Create,e.Events.BlockBase),e.Events.BlockCreate=e.Events.Create,e.Events.Create.prototype.type=e.Events.CREATE,e.Events.Create.prototype.toJson=function(){var t=e.Events.Create.superClass_.toJson.call(this);return t.xml=e.Xml.domToText(this.xml),t.ids=this.ids,this.recordUndo||(t.recordUndo=this.recordUndo),t},e.Events.Create.prototype.fromJson=function(t){e.Events.Create.superClass_.fromJson.call(this,t),this.xml=e.Xml.textToDom(t.xml),this.ids=t.ids,void 0!==t.recordUndo&&(this.recordUndo=t.recordUndo)},e.Events.Create.prototype.run=function(t){var n=this.getEventWorkspace_();if(t)(t=e.utils.xml.createElement("xml")).appendChild(this.xml),e.Xml.domToWorkspace(t,n);else{t=0;for(var r;r=this.ids[t];t++){var i=n.getBlockById(r);i?i.dispose(!1):r==this.blockId&&console.warn("Can't uncreate non-existent block: "+r)}}},e.Events.Delete=function(t){if(e.Events.Delete.superClass_.constructor.call(this,t),t){if(t.getParent())throw Error("Connected blocks cannot be deleted.");t.isShadow()&&(this.recordUndo=!1),this.oldXml=t.workspace.rendered?e.Xml.blockToDomWithXY(t):e.Xml.blockToDom(t),this.ids=e.Events.getDescendantIds(t)}},e.utils.object.inherits(e.Events.Delete,e.Events.BlockBase),e.Events.BlockDelete=e.Events.Delete,e.Events.Delete.prototype.type=e.Events.DELETE,e.Events.Delete.prototype.toJson=function(){var t=e.Events.Delete.superClass_.toJson.call(this);return t.oldXml=e.Xml.domToText(this.oldXml),t.ids=this.ids,this.recordUndo||(t.recordUndo=this.recordUndo),t},e.Events.Delete.prototype.fromJson=function(t){e.Events.Delete.superClass_.fromJson.call(this,t),this.oldXml=e.Xml.textToDom(t.oldXml),this.ids=t.ids,void 0!==t.recordUndo&&(this.recordUndo=t.recordUndo)},e.Events.Delete.prototype.run=function(t){var n=this.getEventWorkspace_();if(t){t=0;for(var r;r=this.ids[t];t++){var i=n.getBlockById(r);i?i.dispose(!1):r==this.blockId&&console.warn("Can't delete non-existent block: "+r)}}else(t=e.utils.xml.createElement("xml")).appendChild(this.oldXml),e.Xml.domToWorkspace(t,n)},e.Events.Move=function(t){e.Events.Move.superClass_.constructor.call(this,t),t&&(t.isShadow()&&(this.recordUndo=!1),t=this.currentLocation_(),this.oldParentId=t.parentId,this.oldInputName=t.inputName,this.oldCoordinate=t.coordinate)},e.utils.object.inherits(e.Events.Move,e.Events.BlockBase),e.Events.BlockMove=e.Events.Move,e.Events.Move.prototype.type=e.Events.MOVE,e.Events.Move.prototype.toJson=function(){var t=e.Events.Move.superClass_.toJson.call(this);return this.newParentId&&(t.newParentId=this.newParentId),this.newInputName&&(t.newInputName=this.newInputName),this.newCoordinate&&(t.newCoordinate=Math.round(this.newCoordinate.x)+","+Math.round(this.newCoordinate.y)),this.recordUndo||(t.recordUndo=this.recordUndo),t},e.Events.Move.prototype.fromJson=function(t){if(e.Events.Move.superClass_.fromJson.call(this,t),this.newParentId=t.newParentId,this.newInputName=t.newInputName,t.newCoordinate){var n=t.newCoordinate.split(",");this.newCoordinate=new e.utils.Coordinate(Number(n[0]),Number(n[1]))}void 0!==t.recordUndo&&(this.recordUndo=t.recordUndo)},e.Events.Move.prototype.recordNew=function(){var e=this.currentLocation_();this.newParentId=e.parentId,this.newInputName=e.inputName,this.newCoordinate=e.coordinate},e.Events.Move.prototype.currentLocation_=function(){var e=this.getEventWorkspace_().getBlockById(this.blockId),t={},n=e.getParent();return n?(t.parentId=n.id,(e=n.getInputWithBlock(e))&&(t.inputName=e.name)):t.coordinate=e.getRelativeToSurfaceXY(),t},e.Events.Move.prototype.isNull=function(){return this.oldParentId==this.newParentId&&this.oldInputName==this.newInputName&&e.utils.Coordinate.equals(this.oldCoordinate,this.newCoordinate)},e.Events.Move.prototype.run=function(t){var n=this.getEventWorkspace_(),r=n.getBlockById(this.blockId);if(r){var i=t?this.newParentId:this.oldParentId,o=t?this.newInputName:this.oldInputName,s=t?this.newCoordinate:this.oldCoordinate;if(t=null,i&&!(t=n.getBlockById(i)))return void console.warn("Can't connect to non-existent block: "+i);if(r.getParent()&&r.unplug(),s)o=r.getRelativeToSurfaceXY(),r.moveBy(s.x-o.x,s.y-o.y);else{if(n=(r=r.outputConnection||r.previousConnection).type,o){if(t=t.getInput(o))var a=t.connection}else n==e.connectionTypes.PREVIOUS_STATEMENT&&(a=t.nextConnection);a?r.connect(a):console.warn("Can't connect to non-existent input: "+o)}}else console.warn("Can't move non-existent block: "+this.blockId)},e.registry.register(e.registry.Type.EVENT,e.Events.CREATE,e.Events.Create),e.registry.register(e.registry.Type.EVENT,e.Events.DELETE,e.Events.Delete),e.registry.register(e.registry.Type.EVENT,e.Events.CHANGE,e.Events.BlockChange),e.registry.register(e.registry.Type.EVENT,e.Events.MOVE,e.Events.Move),e.Events.FinishedLoading=function(t){this.isBlank="undefined"==typeof t,this.workspaceId=t?t.id:"",this.group=e.Events.getGroup(),this.recordUndo=!1},e.utils.object.inherits(e.Events.FinishedLoading,e.Events.Abstract),e.Events.FinishedLoading.prototype.type=e.Events.FINISHED_LOADING,e.Events.FinishedLoading.prototype.toJson=function(){var e={type:this.type};return this.group&&(e.group=this.group),this.workspaceId&&(e.workspaceId=this.workspaceId),e},e.Events.FinishedLoading.prototype.fromJson=function(e){this.isBlank=!1,this.workspaceId=e.workspaceId,this.group=e.group},e.registry.register(e.registry.Type.EVENT,e.Events.FINISHED_LOADING,e.Events.FinishedLoading),e.Events.UiBase=function(t){e.Events.UiBase.superClass_.constructor.call(this),this.isBlank="undefined"==typeof t,this.workspaceId=t||"",this.recordUndo=!1},e.utils.object.inherits(e.Events.UiBase,e.Events.Abstract),e.Events.UiBase.prototype.isUiEvent=!0,e.Events.Ui=function(t,n,r,i){e.Events.Ui.superClass_.constructor.call(this,t?t.workspace.id:void 0),this.blockId=t?t.id:null,this.element="undefined"==typeof n?"":n,this.oldValue="undefined"==typeof r?"":r,this.newValue="undefined"==typeof i?"":i},e.utils.object.inherits(e.Events.Ui,e.Events.UiBase),e.Events.Ui.prototype.type=e.Events.UI,e.Events.Ui.prototype.toJson=function(){var t=e.Events.Ui.superClass_.toJson.call(this);return t.element=this.element,void 0!==this.newValue&&(t.newValue=this.newValue),this.blockId&&(t.blockId=this.blockId),t},e.Events.Ui.prototype.fromJson=function(t){e.Events.Ui.superClass_.fromJson.call(this,t),this.element=t.element,this.newValue=t.newValue,this.blockId=t.blockId},e.registry.register(e.registry.Type.EVENT,e.Events.UI,e.Events.Ui),e.Events.VarBase=function(t){e.Events.VarBase.superClass_.constructor.call(this),this.varId=(this.isBlank="undefined"==typeof t)?"":t.getId(),this.workspaceId=this.isBlank?"":t.workspace.id},e.utils.object.inherits(e.Events.VarBase,e.Events.Abstract),e.Events.VarBase.prototype.toJson=function(){var t=e.Events.VarBase.superClass_.toJson.call(this);return t.varId=this.varId,t},e.Events.VarBase.prototype.fromJson=function(t){e.Events.VarBase.superClass_.toJson.call(this),this.varId=t.varId},e.Events.VarCreate=function(t){e.Events.VarCreate.superClass_.constructor.call(this,t),t&&(this.varType=t.type,this.varName=t.name)},e.utils.object.inherits(e.Events.VarCreate,e.Events.VarBase),e.Events.VarCreate.prototype.type=e.Events.VAR_CREATE,e.Events.VarCreate.prototype.toJson=function(){var t=e.Events.VarCreate.superClass_.toJson.call(this);return t.varType=this.varType,t.varName=this.varName,t},e.Events.VarCreate.prototype.fromJson=function(t){e.Events.VarCreate.superClass_.fromJson.call(this,t),this.varType=t.varType,this.varName=t.varName},e.Events.VarCreate.prototype.run=function(e){var t=this.getEventWorkspace_();e?t.createVariable(this.varName,this.varType,this.varId):t.deleteVariableById(this.varId)},e.Events.VarDelete=function(t){e.Events.VarDelete.superClass_.constructor.call(this,t),t&&(this.varType=t.type,this.varName=t.name)},e.utils.object.inherits(e.Events.VarDelete,e.Events.VarBase),e.Events.VarDelete.prototype.type=e.Events.VAR_DELETE,e.Events.VarDelete.prototype.toJson=function(){var t=e.Events.VarDelete.superClass_.toJson.call(this);return t.varType=this.varType,t.varName=this.varName,t},e.Events.VarDelete.prototype.fromJson=function(t){e.Events.VarDelete.superClass_.fromJson.call(this,t),this.varType=t.varType,this.varName=t.varName},e.Events.VarDelete.prototype.run=function(e){var t=this.getEventWorkspace_();e?t.deleteVariableById(this.varId):t.createVariable(this.varName,this.varType,this.varId)},e.Events.VarRename=function(t,n){e.Events.VarRename.superClass_.constructor.call(this,t),t&&(this.oldName=t.name,this.newName="undefined"==typeof n?"":n)},e.utils.object.inherits(e.Events.VarRename,e.Events.VarBase),e.Events.VarRename.prototype.type=e.Events.VAR_RENAME,e.Events.VarRename.prototype.toJson=function(){var t=e.Events.VarRename.superClass_.toJson.call(this);return t.oldName=this.oldName,t.newName=this.newName,t},e.Events.VarRename.prototype.fromJson=function(t){e.Events.VarRename.superClass_.fromJson.call(this,t),this.oldName=t.oldName,this.newName=t.newName},e.Events.VarRename.prototype.run=function(e){var t=this.getEventWorkspace_();e?t.renameVariableById(this.varId,this.newName):t.renameVariableById(this.varId,this.oldName)},e.registry.register(e.registry.Type.EVENT,e.Events.VAR_CREATE,e.Events.VarCreate),e.registry.register(e.registry.Type.EVENT,e.Events.VAR_DELETE,e.Events.VarDelete),e.registry.register(e.registry.Type.EVENT,e.Events.VAR_RENAME,e.Events.VarRename),e.BlockDragSurfaceSvg=function(e){this.container_=e,this.createDom()},e.BlockDragSurfaceSvg.prototype.SVG_=null,e.BlockDragSurfaceSvg.prototype.dragGroup_=null,e.BlockDragSurfaceSvg.prototype.container_=null,e.BlockDragSurfaceSvg.prototype.scale_=1,e.BlockDragSurfaceSvg.prototype.surfaceXY_=null,e.BlockDragSurfaceSvg.prototype.childSurfaceXY_=new e.utils.Coordinate(0,0),e.BlockDragSurfaceSvg.prototype.createDom=function(){this.SVG_||(this.SVG_=e.utils.dom.createSvgElement(e.utils.Svg.SVG,{xmlns:e.utils.dom.SVG_NS,"xmlns:html":e.utils.dom.HTML_NS,"xmlns:xlink":e.utils.dom.XLINK_NS,version:"1.1",class:"blocklyBlockDragSurface"},this.container_),this.dragGroup_=e.utils.dom.createSvgElement(e.utils.Svg.G,{},this.SVG_))},e.BlockDragSurfaceSvg.prototype.setBlocksAndShow=function(t){if(this.dragGroup_.childNodes.length)throw Error("Already dragging a block.");this.dragGroup_.appendChild(t),this.SVG_.style.display="block",this.surfaceXY_=new e.utils.Coordinate(0,0)},e.BlockDragSurfaceSvg.prototype.translateAndScaleGroup=function(e,t,n){this.scale_=n,e=e.toFixed(0),t=t.toFixed(0),this.childSurfaceXY_.x=parseInt(e,10),this.childSurfaceXY_.y=parseInt(t,10),this.dragGroup_.setAttribute("transform","translate("+e+","+t+") scale("+n+")")},e.BlockDragSurfaceSvg.prototype.translateSurfaceInternal_=function(){var t=this.surfaceXY_.x,n=this.surfaceXY_.y;t=t.toFixed(0),n=n.toFixed(0),this.SVG_.style.display="block",e.utils.dom.setCssTransform(this.SVG_,"translate3d("+t+"px, "+n+"px, 0px)")},e.BlockDragSurfaceSvg.prototype.translateBy=function(t,n){this.surfaceXY_=new e.utils.Coordinate(this.surfaceXY_.x+t,this.surfaceXY_.y+n),this.translateSurfaceInternal_()},e.BlockDragSurfaceSvg.prototype.translateSurface=function(t,n){this.surfaceXY_=new e.utils.Coordinate(t*this.scale_,n*this.scale_),this.translateSurfaceInternal_()},e.BlockDragSurfaceSvg.prototype.getSurfaceTranslation=function(){var t=e.utils.getRelativeXY(this.SVG_);return new e.utils.Coordinate(t.x/this.scale_,t.y/this.scale_)},e.BlockDragSurfaceSvg.prototype.getGroup=function(){return this.dragGroup_},e.BlockDragSurfaceSvg.prototype.getSvgRoot=function(){return this.SVG_},e.BlockDragSurfaceSvg.prototype.getCurrentBlock=function(){return this.dragGroup_.firstChild},e.BlockDragSurfaceSvg.prototype.getWsTranslation=function(){return this.childSurfaceXY_.clone()},e.BlockDragSurfaceSvg.prototype.clearAndHide=function(e){if(e?e.appendChild(this.getCurrentBlock()):this.dragGroup_.removeChild(this.getCurrentBlock()),this.SVG_.style.display="none",this.dragGroup_.childNodes.length)throw Error("Drag group was not cleared.");this.surfaceXY_=null},e.Css={},e.Css.injected_=!1,e.Css.register=function(t){if(e.Css.injected_)throw Error("CSS already injected");Array.prototype.push.apply(e.Css.CONTENT,t),t.length=0},e.Css.inject=function(t,n){if(!e.Css.injected_){e.Css.injected_=!0;var r=e.Css.CONTENT.join("\n");e.Css.CONTENT.length=0,t&&(t=n.replace(/[\\/]$/,""),r=r.replace(/<<<PATH>>>/g,t),(t=document.createElement("style")).id="blockly-common-style",r=document.createTextNode(r),t.appendChild(r),document.head.insertBefore(t,document.head.firstChild))}},e.Css.CONTENT=[".blocklySvg {","background-color: #fff;","outline: none;","overflow: hidden;","position: absolute;","display: block;","}",".blocklyWidgetDiv {","display: none;","position: absolute;","z-index: 99999;","}",".injectionDiv {","height: 100%;","position: relative;","overflow: hidden;","touch-action: none;","}",".blocklyNonSelectable {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","}",".blocklyWsDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","}",".blocklyWsDragSurface.blocklyOverflowVisible {","overflow: visible;","}",".blocklyBlockDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","right: 0;","bottom: 0;","overflow: visible !important;","z-index: 50;","}",".blocklyBlockCanvas.blocklyCanvasTransitioning,",".blocklyBubbleCanvas.blocklyCanvasTransitioning {","transition: transform .5s;","}",".blocklyTooltipDiv {","background-color: #ffffc7;","border: 1px solid #ddc;","box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);","color: #000;","display: none;","font: 9pt sans-serif;","opacity: .9;","padding: 2px;","position: absolute;","z-index: 100000;","}",".blocklyDropDownDiv {","position: absolute;","left: 0;","top: 0;","z-index: 1000;","display: none;","border: 1px solid;","border-color: #dadce0;","background-color: #fff;","border-radius: 2px;","padding: 4px;","box-shadow: 0 0 3px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv.blocklyFocused {","box-shadow: 0 0 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownContent {","max-height: 300px;","overflow: auto;","overflow-x: hidden;","position: relative;","}",".blocklyDropDownArrow {","position: absolute;","left: 0;","top: 0;","width: 16px;","height: 16px;","z-index: -1;","background-color: inherit;","border-color: inherit;","}",".blocklyDropDownButton {","display: inline-block;","float: left;","padding: 0;","margin: 4px;","border-radius: 4px;","outline: none;","border: 1px solid;","transition: box-shadow .1s;","cursor: pointer;","}",".blocklyArrowTop {","border-top: 1px solid;","border-left: 1px solid;","border-top-left-radius: 4px;","border-color: inherit;","}",".blocklyArrowBottom {","border-bottom: 1px solid;","border-right: 1px solid;","border-bottom-right-radius: 4px;","border-color: inherit;","}",".blocklyResizeSE {","cursor: se-resize;","fill: #aaa;","}",".blocklyResizeSW {","cursor: sw-resize;","fill: #aaa;","}",".blocklyResizeLine {","stroke: #515A5A;","stroke-width: 1;","}",".blocklyHighlightedConnectionPath {","fill: none;","stroke: #fc3;","stroke-width: 4px;","}",".blocklyPathLight {","fill: none;","stroke-linecap: round;","stroke-width: 1;","}",".blocklySelected>.blocklyPathLight {","display: none;","}",".blocklyDraggable {",'cursor: url("<<<PATH>>>/handopen.cur"), auto;',"cursor: grab;","cursor: -webkit-grab;","}",".blocklyDragging {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDraggable:active {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyBlockDragSurface .blocklyDraggable {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging.blocklyDraggingDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyDragging>.blocklyPath,",".blocklyDragging>.blocklyPathLight {","fill-opacity: .8;","stroke-opacity: .8;","}",".blocklyDragging>.blocklyPathDark {","display: none;","}",".blocklyDisabled>.blocklyPath {","fill-opacity: .5;","stroke-opacity: .5;","}",".blocklyDisabled>.blocklyPathLight,",".blocklyDisabled>.blocklyPathDark {","display: none;","}",".blocklyInsertionMarker>.blocklyPath,",".blocklyInsertionMarker>.blocklyPathLight,",".blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: .2;","stroke: none;","}",".blocklyMultilineText {","font-family: monospace;","}",".blocklyNonEditableText>text {","pointer-events: none;","}",".blocklyFlyout {","position: absolute;","z-index: 20;","}",".blocklyText text {","cursor: default;","}",".blocklySvg text,",".blocklyBlockDragSurface text {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","cursor: inherit;","}",".blocklyHidden {","display: none;","}",".blocklyFieldDropdown:not(.blocklyHidden) {","display: block;","}",".blocklyIconGroup {","cursor: default;","}",".blocklyIconGroup:not(:hover),",".blocklyIconGroupReadonly {","opacity: .6;","}",".blocklyIconShape {","fill: #00f;","stroke: #fff;","stroke-width: 1px;","}",".blocklyIconSymbol {","fill: #fff;","}",".blocklyMinimalBody {","margin: 0;","padding: 0;","}",".blocklyHtmlInput {","border: none;","border-radius: 4px;","height: 100%;","margin: 0;","outline: none;","padding: 0;","width: 100%;","text-align: center;","display: block;","box-sizing: border-box;","}",".blocklyHtmlInput::-ms-clear {","display: none;","}",".blocklyMainBackground {","stroke-width: 1;","stroke: #c6c6c6;","}",".blocklyMutatorBackground {","fill: #fff;","stroke: #ddd;","stroke-width: 1;","}",".blocklyFlyoutBackground {","fill: #ddd;","fill-opacity: .8;","}",".blocklyMainWorkspaceScrollbar {","z-index: 20;","}",".blocklyFlyoutScrollbar {","z-index: 30;","}",".blocklyScrollbarHorizontal,",".blocklyScrollbarVertical {","position: absolute;","outline: none;","}",".blocklyScrollbarBackground {","opacity: 0;","}",".blocklyScrollbarHandle {","fill: #ccc;","}",".blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyScrollbarHandle:hover {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarHandle {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyFlyout .blocklyScrollbarHandle:hover {","fill: #aaa;","}",".blocklyInvalidInput {","background: #faa;","}",".blocklyVerticalMarker {","stroke-width: 3px;","fill: rgba(255,255,255,.5);","pointer-events: none;","}",".blocklyComputeCanvas {","position: absolute;","width: 0;","height: 0;","}",".blocklyNoPointerEvents {","pointer-events: none;","}",".blocklyContextMenu {","border-radius: 4px;","max-height: 100%;","}",".blocklyDropdownMenu {","border-radius: 2px;","padding: 0 !important;","}",".blocklyDropdownMenu .blocklyMenuItem {","padding-left: 28px;","}",".blocklyDropdownMenu .blocklyMenuItemRtl {","padding-left: 5px;","padding-right: 28px;","}",".blocklyWidgetDiv .blocklyMenu {","background: #fff;","border: 1px solid transparent;","box-shadow: 0 0 3px 1px rgba(0,0,0,.3);","font: normal 13px Arial, sans-serif;","margin: 0;","outline: none;","padding: 4px 0;","position: absolute;","overflow-y: auto;","overflow-x: hidden;","max-height: 100%;","z-index: 20000;","}",".blocklyWidgetDiv .blocklyMenu.blocklyFocused {","box-shadow: 0 0 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv .blocklyMenu {","background: inherit;","border: inherit;",'font: normal 13px "Helvetica Neue", Helvetica, sans-serif;',"outline: none;","position: relative;","z-index: 20000;","}",".blocklyMenuItem {","border: none;","color: #000;","cursor: pointer;","list-style: none;","margin: 0;","min-width: 7em;","padding: 6px 15px;","white-space: nowrap;","}",".blocklyMenuItemDisabled {","color: #ccc;","cursor: inherit;","}",".blocklyMenuItemHighlight {","background-color: rgba(0,0,0,.1);","}",".blocklyMenuItemCheckbox {","height: 16px;","position: absolute;","width: 16px;","}",".blocklyMenuItemSelected .blocklyMenuItemCheckbox {","background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;","float: left;","margin-left: -24px;","position: static;","}",".blocklyMenuItemRtl .blocklyMenuItemCheckbox {","float: right;","margin-right: -24px;","}"],e.Grid=function(e,t){this.gridPattern_=e,this.spacing_=t.spacing,this.length_=t.length,this.line2_=(this.line1_=e.firstChild)&&this.line1_.nextSibling,this.snapToGrid_=t.snap},e.Grid.prototype.scale_=1,e.Grid.prototype.dispose=function(){this.gridPattern_=null},e.Grid.prototype.shouldSnap=function(){return this.snapToGrid_},e.Grid.prototype.getSpacing=function(){return this.spacing_},e.Grid.prototype.getPatternId=function(){return this.gridPattern_.id},e.Grid.prototype.update=function(e){this.scale_=e;var t=this.spacing_*e||100;this.gridPattern_.setAttribute("width",t),this.gridPattern_.setAttribute("height",t);var n=(t=Math.floor(this.spacing_/2)+.5)-this.length_/2,r=t+this.length_/2;t*=e,n*=e,r*=e,this.setLineAttributes_(this.line1_,e,n,r,t,t),this.setLineAttributes_(this.line2_,e,t,t,n,r)},e.Grid.prototype.setLineAttributes_=function(e,t,n,r,i,o){e&&(e.setAttribute("stroke-width",t),e.setAttribute("x1",n),e.setAttribute("y1",i),e.setAttribute("x2",r),e.setAttribute("y2",o))},e.Grid.prototype.moveTo=function(t,n){this.gridPattern_.setAttribute("x",t),this.gridPattern_.setAttribute("y",n),(e.utils.userAgent.IE||e.utils.userAgent.EDGE)&&this.update(this.scale_)},e.Grid.createDom=function(t,n,r){return t=e.utils.dom.createSvgElement(e.utils.Svg.PATTERN,{id:"blocklyGridPattern"+t,patternUnits:"userSpaceOnUse"},r),0<n.length&&0<n.spacing?(e.utils.dom.createSvgElement(e.utils.Svg.LINE,{stroke:n.colour},t),1<n.length&&e.utils.dom.createSvgElement(e.utils.Svg.LINE,{stroke:n.colour},t)):e.utils.dom.createSvgElement(e.utils.Svg.LINE,{},t),t},e.Theme=function(t,n,r,i){this.name=t,this.blockStyles=n||Object.create(null),this.categoryStyles=r||Object.create(null),this.componentStyles=i||Object.create(null),this.fontStyle=Object.create(null),this.startHats=null,e.registry.register(e.registry.Type.THEME,t,this)},e.Theme.prototype.getClassName=function(){return this.name+"-theme"},e.Theme.prototype.setBlockStyle=function(e,t){this.blockStyles[e]=t},e.Theme.prototype.setCategoryStyle=function(e,t){this.categoryStyles[e]=t},e.Theme.prototype.getComponentStyle=function(e){return(e=this.componentStyles[e])&&"string"==typeof e&&this.getComponentStyle(e)?this.getComponentStyle(e):e?String(e):null},e.Theme.prototype.setComponentStyle=function(e,t){this.componentStyles[e]=t},e.Theme.prototype.setFontStyle=function(e){this.fontStyle=e},e.Theme.prototype.setStartHats=function(e){this.startHats=e},e.Theme.defineTheme=function(t,n){var r=new e.Theme(t),i=n.base;return i&&("string"==typeof i&&(i=e.registry.getObject(e.registry.Type.THEME,i)),i instanceof e.Theme&&(e.utils.object.deepMerge(r,i),r.name=t)),e.utils.object.deepMerge(r.blockStyles,n.blockStyles),e.utils.object.deepMerge(r.categoryStyles,n.categoryStyles),e.utils.object.deepMerge(r.componentStyles,n.componentStyles),e.utils.object.deepMerge(r.fontStyle,n.fontStyle),null!=n.startHats&&(r.startHats=n.startHats),r},e.Themes={},e.Themes.Classic={},e.Themes.Classic.defaultBlockStyles={colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},variable_dynamic_blocks:{colourPrimary:"310"},hat_blocks:{colourPrimary:"330",hat:"cap"}},e.Themes.Classic.categoryStyles={colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"},variable_dynamic_category:{colour:"310"}},e.Themes.Classic=new e.Theme("classic",e.Themes.Classic.defaultBlockStyles,e.Themes.Classic.categoryStyles),e.utils.IdGenerator={},e.utils.IdGenerator.nextId_=0,e.utils.IdGenerator.getNextUniqueId=function(){return"blockly-"+(e.utils.IdGenerator.nextId_++).toString(36)},e.utils.Metrics=function(){},e.utils.toolbox={},e.utils.toolbox.CATEGORY_TOOLBOX_KIND="categoryToolbox",e.utils.toolbox.FLYOUT_TOOLBOX_KIND="flyoutToolbox",e.utils.toolbox.Position={TOP:0,BOTTOM:1,LEFT:2,RIGHT:3},e.utils.toolbox.convertToolboxDefToJson=function(t){return t?((t instanceof Element||"string"==typeof t)&&(t=e.utils.toolbox.parseToolboxTree(t),t=e.utils.toolbox.convertToToolboxJson_(t)),e.utils.toolbox.validateToolbox_(t),t):null},e.utils.toolbox.validateToolbox_=function(t){var n=t.kind;if(t=t.contents,n&&n!=e.utils.toolbox.FLYOUT_TOOLBOX_KIND&&n!=e.utils.toolbox.CATEGORY_TOOLBOX_KIND)throw Error("Invalid toolbox kind "+n+". Please supply either "+e.utils.toolbox.FLYOUT_TOOLBOX_KIND+" or "+e.utils.toolbox.CATEGORY_TOOLBOX_KIND);if(!t)throw Error("Toolbox must have a contents attribute.")},e.utils.toolbox.convertFlyoutDefToJsonArray=function(t){return t?t.contents?t.contents:Array.isArray(t)&&0<t.length&&!t[0].nodeType?t:e.utils.toolbox.xmlToJsonArray_(t):[]},e.utils.toolbox.hasCategories=function(t){if(!t)return!1;var n=t.kind;return n?n==e.utils.toolbox.CATEGORY_TOOLBOX_KIND:!!t.contents.filter((function(e){return"CATEGORY"==e.kind.toUpperCase()})).length},e.utils.toolbox.isCategoryCollapsible=function(e){return!(!e||!e.contents)&&!!e.contents.filter((function(e){return"CATEGORY"==e.kind.toUpperCase()})).length},e.utils.toolbox.convertToToolboxJson_=function(t){var n={contents:e.utils.toolbox.xmlToJsonArray_(t)};return t instanceof Node&&e.utils.toolbox.addAttributes_(t,n),n},e.utils.toolbox.xmlToJsonArray_=function(t){var n,r=[],i=t.childNodes;for(i||(i=t),t=0;n=i[t];t++)if(n.tagName){var o={},s=n.tagName.toUpperCase();o.kind=s,"BLOCK"==s?o.blockxml=n:n.childNodes&&0<n.childNodes.length&&(o.contents=e.utils.toolbox.xmlToJsonArray_(n)),e.utils.toolbox.addAttributes_(n,o),r.push(o)}return r},e.utils.toolbox.addAttributes_=function(e,t){for(var n=0;n<e.attributes.length;n++){var r=e.attributes[n];-1<r.nodeName.indexOf("css-")?(t.cssconfig=t.cssconfig||{},t.cssconfig[r.nodeName.replace("css-","")]=r.value):t[r.nodeName]=r.value}},e.utils.toolbox.parseToolboxTree=function(t){if(t){if("string"!=typeof t&&(e.utils.userAgent.IE&&t.outerHTML?t=t.outerHTML:t instanceof Element||(t=null)),"string"==typeof t&&"xml"!=(t=e.Xml.textToDom(t)).nodeName.toLowerCase())throw TypeError("Toolbox should be an <xml> document.")}else t=null;return t},e.Options=function(t){var n=!!t.readOnly;if(n)var r=null,i=!1,o=!1,s=!1,a=!1,l=!1,c=!1;else{r=e.utils.toolbox.convertToolboxDefToJson(t.toolbox),i=e.utils.toolbox.hasCategories(r),void 0===(o=t.trashcan)&&(o=i);var u=t.maxTrashcanContents;o?void 0===u&&(u=32):u=0,void 0===(s=t.collapse)&&(s=i),void 0===(a=t.comments)&&(a=i),void 0===(l=t.disable)&&(l=i),void 0===(c=t.sounds)&&(c=!0)}var h=!!t.rtl,p=t.horizontalLayout;void 0===p&&(p=!1);var f=t.toolboxPosition;f="end"!==f,f=p?f?e.utils.toolbox.Position.TOP:e.utils.toolbox.Position.BOTTOM:f==h?e.utils.toolbox.Position.RIGHT:e.utils.toolbox.Position.LEFT;var d=t.css;void 0===d&&(d=!0);var g="https://blockly-demo.appspot.com/static/media/";t.media?g=t.media:t.path&&(g=t.path+"media/");var _=void 0===t.oneBasedIndex||!!t.oneBasedIndex,v=t.renderer||"geras",m=t.plugins||{};this.RTL=h,this.oneBasedIndex=_,this.collapse=s,this.comments=a,this.disable=l,this.readOnly=n,this.maxBlocks=t.maxBlocks||1/0,this.maxInstances=t.maxInstances,this.pathToMedia=g,this.hasCategories=i,this.moveOptions=e.Options.parseMoveOptions_(t,i),this.hasScrollbars=!!this.moveOptions.scrollbars,this.hasTrashcan=o,this.maxTrashcanContents=u,this.hasSounds=c,this.hasCss=d,this.horizontalLayout=p,this.languageTree=r,this.gridOptions=e.Options.parseGridOptions_(t),this.zoomOptions=e.Options.parseZoomOptions_(t),this.toolboxPosition=f,this.theme=e.Options.parseThemeOptions_(t),this.renderer=v,this.rendererOverrides=t.rendererOverrides,this.gridPattern=null,this.parentWorkspace=t.parentWorkspace,this.plugins=m},e.BlocklyOptions=function(){},e.Options.parseMoveOptions_=function(e,t){var n=e.move||{},r={};return void 0===n.scrollbars&&void 0===e.scrollbars?r.scrollbars=t:"object"==typeof n.scrollbars?(r.scrollbars={},r.scrollbars.horizontal=!!n.scrollbars.horizontal,r.scrollbars.vertical=!!n.scrollbars.vertical,r.scrollbars.horizontal&&r.scrollbars.vertical?r.scrollbars=!0:r.scrollbars.horizontal||r.scrollbars.vertical||(r.scrollbars=!1)):r.scrollbars=!!n.scrollbars||!!e.scrollbars,r.wheel=r.scrollbars&&void 0!==n.wheel?!!n.wheel:"object"==typeof r.scrollbars,r.drag=!!r.scrollbars&&(void 0===n.drag||!!n.drag),r},e.Options.parseZoomOptions_=function(e){e=e.zoom||{};var t={};return t.controls=void 0!==e.controls&&!!e.controls,t.wheel=void 0!==e.wheel&&!!e.wheel,t.startScale=void 0===e.startScale?1:Number(e.startScale),t.maxScale=void 0===e.maxScale?3:Number(e.maxScale),t.minScale=void 0===e.minScale?.3:Number(e.minScale),t.scaleSpeed=void 0===e.scaleSpeed?1.2:Number(e.scaleSpeed),t.pinch=void 0===e.pinch?t.wheel||t.controls:!!e.pinch,t},e.Options.parseGridOptions_=function(e){e=e.grid||{};var t={};return t.spacing=Number(e.spacing)||0,t.colour=e.colour||"#888",t.length=void 0===e.length?1:Number(e.length),t.snap=0<t.spacing&&!!e.snap,t},e.Options.parseThemeOptions_=function(t){return"string"==typeof(t=t.theme||e.Themes.Classic)?e.registry.getObject(e.registry.Type.THEME,t):t instanceof e.Theme?t:e.Theme.defineTheme(t.name||"builtin"+e.utils.IdGenerator.getNextUniqueId(),t)},e.Options.parseToolboxTree=function(t){return e.utils.deprecation.warn("Blockly.Options.parseToolboxTree","September 2020","September 2021","Blockly.utils.toolbox.parseToolboxTree"),e.utils.toolbox.parseToolboxTree(t)},e.ScrollbarPair=function(t,n,r,i,o){this.workspace_=t,r=void 0===r||r;var s=(n=void 0===n||n)&&r;n&&(this.hScroll=new e.Scrollbar(t,!0,s,i,o)),r&&(this.vScroll=new e.Scrollbar(t,!1,s,i,o)),s&&(this.corner_=e.utils.dom.createSvgElement(e.utils.Svg.RECT,{height:e.Scrollbar.scrollbarThickness,width:e.Scrollbar.scrollbarThickness,class:"blocklyScrollbarBackground"},null),e.utils.dom.insertAfter(this.corner_,t.getBubbleCanvas())),this.oldHostMetrics_=null},e.ScrollbarPair.prototype.dispose=function(){e.utils.dom.removeNode(this.corner_),this.oldHostMetrics_=this.workspace_=this.corner_=null,this.hScroll&&(this.hScroll.dispose(),this.hScroll=null),this.vScroll&&(this.vScroll.dispose(),this.vScroll=null)},e.ScrollbarPair.prototype.resize=function(){var t=this.workspace_.getMetrics();if(t){var n=!1,r=!1;if(this.oldHostMetrics_&&this.oldHostMetrics_.viewWidth==t.viewWidth&&this.oldHostMetrics_.viewHeight==t.viewHeight&&this.oldHostMetrics_.absoluteTop==t.absoluteTop&&this.oldHostMetrics_.absoluteLeft==t.absoluteLeft?(this.oldHostMetrics_&&this.oldHostMetrics_.scrollWidth==t.scrollWidth&&this.oldHostMetrics_.viewLeft==t.viewLeft&&this.oldHostMetrics_.scrollLeft==t.scrollLeft||(n=!0),this.oldHostMetrics_&&this.oldHostMetrics_.scrollHeight==t.scrollHeight&&this.oldHostMetrics_.viewTop==t.viewTop&&this.oldHostMetrics_.scrollTop==t.scrollTop||(r=!0)):r=n=!0,n||r){try{e.Events.disable(),this.hScroll&&n&&this.hScroll.resize(t),this.vScroll&&r&&this.vScroll.resize(t)}finally{e.Events.enable()}this.workspace_.maybeFireViewportChangeEvent()}this.hScroll&&this.vScroll&&(this.oldHostMetrics_&&this.oldHostMetrics_.viewWidth==t.viewWidth&&this.oldHostMetrics_.absoluteLeft==t.absoluteLeft||this.corner_.setAttribute("x",this.vScroll.position.x),this.oldHostMetrics_&&this.oldHostMetrics_.viewHeight==t.viewHeight&&this.oldHostMetrics_.absoluteTop==t.absoluteTop||this.corner_.setAttribute("y",this.hScroll.position.y)),this.oldHostMetrics_=t}},e.ScrollbarPair.prototype.canScrollHorizontally=function(){return!!this.hScroll},e.ScrollbarPair.prototype.canScrollVertically=function(){return!!this.vScroll},e.ScrollbarPair.prototype.setOrigin=function(e,t){this.hScroll&&this.hScroll.setOrigin(e,t),this.vScroll&&this.vScroll.setOrigin(e,t)},e.ScrollbarPair.prototype.set=function(e,t,n){this.hScroll&&this.hScroll.set(e,!1),this.vScroll&&this.vScroll.set(t,!1),(n||void 0===n)&&(e={},this.hScroll&&(e.x=this.hScroll.getRatio_()),this.vScroll&&(e.y=this.vScroll.getRatio_()),this.workspace_.setMetrics(e))},e.ScrollbarPair.prototype.setX=function(e){this.hScroll&&this.hScroll.set(e,!0)},e.ScrollbarPair.prototype.setY=function(e){this.vScroll&&this.vScroll.set(e,!0)},e.ScrollbarPair.prototype.setContainerVisible=function(e){this.hScroll&&this.hScroll.setContainerVisible(e),this.vScroll&&this.vScroll.setContainerVisible(e)},e.ScrollbarPair.prototype.isVisible=function(){var e=!1;return this.hScroll&&(e=this.hScroll.isVisible()),this.vScroll&&(e=e||this.vScroll.isVisible()),e},e.ScrollbarPair.prototype.resizeContent=function(e){this.hScroll&&this.hScroll.resizeContentHorizontal(e),this.vScroll&&this.vScroll.resizeContentVertical(e)},e.ScrollbarPair.prototype.resizeView=function(e){this.hScroll&&this.hScroll.resizeViewHorizontal(e),this.vScroll&&this.vScroll.resizeViewVertical(e)},e.Scrollbar=function(t,n,r,i,o){this.workspace_=t,this.pair_=r||!1,this.horizontal_=n,this.margin_=void 0!==o?o:e.Scrollbar.DEFAULT_SCROLLBAR_MARGIN,this.ratio=this.oldHostMetrics_=null,this.createDom_(i),this.position=new e.utils.Coordinate(0,0),t=e.Scrollbar.scrollbarThickness,n?(this.svgBackground_.setAttribute("height",t),this.outerSvg_.setAttribute("height",t),this.svgHandle_.setAttribute("height",t-5),this.svgHandle_.setAttribute("y",2.5),this.lengthAttribute_="width",this.positionAttribute_="x"):(this.svgBackground_.setAttribute("width",t),this.outerSvg_.setAttribute("width",t),this.svgHandle_.setAttribute("width",t-5),this.svgHandle_.setAttribute("x",2.5),this.lengthAttribute_="height",this.positionAttribute_="y"),this.onMouseDownBarWrapper_=e.browserEvents.conditionalBind(this.svgBackground_,"mousedown",this,this.onMouseDownBar_),this.onMouseDownHandleWrapper_=e.browserEvents.conditionalBind(this.svgHandle_,"mousedown",this,this.onMouseDownHandle_)},e.Scrollbar.prototype.origin_=new e.utils.Coordinate(0,0),e.Scrollbar.prototype.startDragMouse_=0,e.Scrollbar.prototype.scrollbarLength_=0,e.Scrollbar.prototype.handleLength_=0,e.Scrollbar.prototype.handlePosition_=0,e.Scrollbar.prototype.isVisible_=!0,e.Scrollbar.prototype.containerVisible_=!0,e.Scrollbar.scrollbarThickness=15,e.Touch.TOUCH_ENABLED&&(e.Scrollbar.scrollbarThickness=25),e.Scrollbar.DEFAULT_SCROLLBAR_MARGIN=.5,e.Scrollbar.metricsAreEquivalent_=function(e,t){return e.viewWidth==t.viewWidth&&e.viewHeight==t.viewHeight&&e.viewLeft==t.viewLeft&&e.viewTop==t.viewTop&&e.absoluteTop==t.absoluteTop&&e.absoluteLeft==t.absoluteLeft&&e.scrollWidth==t.scrollWidth&&e.scrollHeight==t.scrollHeight&&e.scrollLeft==t.scrollLeft&&e.scrollTop==t.scrollTop},e.Scrollbar.prototype.dispose=function(){this.cleanUp_(),e.browserEvents.unbind(this.onMouseDownBarWrapper_),this.onMouseDownBarWrapper_=null,e.browserEvents.unbind(this.onMouseDownHandleWrapper_),this.onMouseDownHandleWrapper_=null,e.utils.dom.removeNode(this.outerSvg_),this.svgBackground_=this.svgGroup_=this.outerSvg_=null,this.svgHandle_&&(this.workspace_.getThemeManager().unsubscribe(this.svgHandle_),this.svgHandle_=null),this.workspace_=null},e.Scrollbar.prototype.constrainHandleLength_=function(e){return 0>=e||isNaN(e)?0:Math.min(e,this.scrollbarLength_)},e.Scrollbar.prototype.setHandleLength_=function(e){this.handleLength_=e,this.svgHandle_.setAttribute(this.lengthAttribute_,this.handleLength_)},e.Scrollbar.prototype.constrainHandlePosition_=function(e){return 0>=e||isNaN(e)?0:Math.min(e,this.scrollbarLength_-this.handleLength_)},e.Scrollbar.prototype.setHandlePosition=function(e){this.handlePosition_=e,this.svgHandle_.setAttribute(this.positionAttribute_,this.handlePosition_)},e.Scrollbar.prototype.setScrollbarLength_=function(e){this.scrollbarLength_=e,this.outerSvg_.setAttribute(this.lengthAttribute_,this.scrollbarLength_),this.svgBackground_.setAttribute(this.lengthAttribute_,this.scrollbarLength_)},e.Scrollbar.prototype.setPosition=function(t,n){this.position.x=t,this.position.y=n,e.utils.dom.setCssTransform(this.outerSvg_,"translate("+(this.position.x+this.origin_.x)+"px,"+(this.position.y+this.origin_.y)+"px)")},e.Scrollbar.prototype.resize=function(t){(t||(t=this.workspace_.getMetrics()))&&(this.oldHostMetrics_&&e.Scrollbar.metricsAreEquivalent_(t,this.oldHostMetrics_)||(this.horizontal_?this.resizeHorizontal_(t):this.resizeVertical_(t),this.oldHostMetrics_=t,this.updateMetrics_()))},e.Scrollbar.prototype.requiresViewResize_=function(e){return!this.oldHostMetrics_||this.oldHostMetrics_.viewWidth!==e.viewWidth||this.oldHostMetrics_.viewHeight!==e.viewHeight||this.oldHostMetrics_.absoluteLeft!==e.absoluteLeft||this.oldHostMetrics_.absoluteTop!==e.absoluteTop},e.Scrollbar.prototype.resizeHorizontal_=function(e){this.requiresViewResize_(e)?this.resizeViewHorizontal(e):this.resizeContentHorizontal(e)},e.Scrollbar.prototype.resizeViewHorizontal=function(t){var n=t.viewWidth-2*this.margin_;this.pair_&&(n-=e.Scrollbar.scrollbarThickness),this.setScrollbarLength_(Math.max(0,n)),n=t.absoluteLeft+this.margin_,this.pair_&&this.workspace_.RTL&&(n+=e.Scrollbar.scrollbarThickness),this.setPosition(n,t.absoluteTop+t.viewHeight-e.Scrollbar.scrollbarThickness-this.margin_),this.resizeContentHorizontal(t)},e.Scrollbar.prototype.resizeContentHorizontal=function(e){if(e.viewWidth>=e.scrollWidth)this.setHandleLength_(this.scrollbarLength_),this.setHandlePosition(0),this.pair_||this.setVisible(!1);else{this.pair_||this.setVisible(!0);var t=this.scrollbarLength_*e.viewWidth/e.scrollWidth;t=this.constrainHandleLength_(t),this.setHandleLength_(t),t=e.scrollWidth-e.viewWidth;var n=this.scrollbarLength_-this.handleLength_;e=(e.viewLeft-e.scrollLeft)/t*n,e=this.constrainHandlePosition_(e),this.setHandlePosition(e),this.ratio=n/t}},e.Scrollbar.prototype.resizeVertical_=function(e){this.requiresViewResize_(e)?this.resizeViewVertical(e):this.resizeContentVertical(e)},e.Scrollbar.prototype.resizeViewVertical=function(t){var n=t.viewHeight-2*this.margin_;this.pair_&&(n-=e.Scrollbar.scrollbarThickness),this.setScrollbarLength_(Math.max(0,n)),this.setPosition(this.workspace_.RTL?t.absoluteLeft+this.margin_:t.absoluteLeft+t.viewWidth-e.Scrollbar.scrollbarThickness-this.margin_,t.absoluteTop+this.margin_),this.resizeContentVertical(t)},e.Scrollbar.prototype.resizeContentVertical=function(e){if(e.viewHeight>=e.scrollHeight)this.setHandleLength_(this.scrollbarLength_),this.setHandlePosition(0),this.pair_||this.setVisible(!1);else{this.pair_||this.setVisible(!0);var t=this.scrollbarLength_*e.viewHeight/e.scrollHeight;t=this.constrainHandleLength_(t),this.setHandleLength_(t),t=e.scrollHeight-e.viewHeight;var n=this.scrollbarLength_-this.handleLength_;e=(e.viewTop-e.scrollTop)/t*n,e=this.constrainHandlePosition_(e),this.setHandlePosition(e),this.ratio=n/t}},e.Scrollbar.prototype.createDom_=function(t){var n="blocklyScrollbar"+(this.horizontal_?"Horizontal":"Vertical");t&&(n+=" "+t),this.outerSvg_=e.utils.dom.createSvgElement(e.utils.Svg.SVG,{class:n},null),this.svgGroup_=e.utils.dom.createSvgElement(e.utils.Svg.G,{},this.outerSvg_),this.svgBackground_=e.utils.dom.createSvgElement(e.utils.Svg.RECT,{class:"blocklyScrollbarBackground"},this.svgGroup_),t=Math.floor((e.Scrollbar.scrollbarThickness-5)/2),this.svgHandle_=e.utils.dom.createSvgElement(e.utils.Svg.RECT,{class:"blocklyScrollbarHandle",rx:t,ry:t},this.svgGroup_),this.workspace_.getThemeManager().subscribe(this.svgHandle_,"scrollbarColour","fill"),this.workspace_.getThemeManager().subscribe(this.svgHandle_,"scrollbarOpacity","fill-opacity"),e.utils.dom.insertAfter(this.outerSvg_,this.workspace_.getParentSvg())},e.Scrollbar.prototype.isVisible=function(){return this.isVisible_},e.Scrollbar.prototype.setContainerVisible=function(e){var t=e!=this.containerVisible_;this.containerVisible_=e,t&&this.updateDisplay_()},e.Scrollbar.prototype.setVisible=function(e){var t=e!=this.isVisible();if(this.pair_)throw Error("Unable to toggle visibility of paired scrollbars.");this.isVisible_=e,t&&this.updateDisplay_()},e.Scrollbar.prototype.updateDisplay_=function(){this.containerVisible_&&this.isVisible()?this.outerSvg_.setAttribute("display","block"):this.outerSvg_.setAttribute("display","none")},e.Scrollbar.prototype.onMouseDownBar_=function(t){if(this.workspace_.markFocused(),e.Touch.clearTouchIdentifier(),this.cleanUp_(),e.utils.isRightButton(t))t.stopPropagation();else{var n=e.utils.mouseToSvg(t,this.workspace_.getParentSvg(),this.workspace_.getInverseScreenCTM());n=this.horizontal_?n.x:n.y;var r=e.utils.getInjectionDivXY_(this.svgHandle_);r=this.horizontal_?r.x:r.y;var i=this.handlePosition_,o=.95*this.handleLength_;n<=r?i-=o:n>=r+this.handleLength_&&(i+=o),this.setHandlePosition(this.constrainHandlePosition_(i)),this.updateMetrics_(),t.stopPropagation(),t.preventDefault()}},e.Scrollbar.prototype.onMouseDownHandle_=function(t){this.workspace_.markFocused(),this.cleanUp_(),e.utils.isRightButton(t)?t.stopPropagation():(this.startDragHandle=this.handlePosition_,this.workspace_.setupDragSurface(),this.startDragMouse_=this.horizontal_?t.clientX:t.clientY,e.Scrollbar.onMouseUpWrapper_=e.browserEvents.conditionalBind(document,"mouseup",this,this.onMouseUpHandle_),e.Scrollbar.onMouseMoveWrapper_=e.browserEvents.conditionalBind(document,"mousemove",this,this.onMouseMoveHandle_),t.stopPropagation(),t.preventDefault())},e.Scrollbar.prototype.onMouseMoveHandle_=function(e){this.setHandlePosition(this.constrainHandlePosition_(this.startDragHandle+((this.horizontal_?e.clientX:e.clientY)-this.startDragMouse_))),this.updateMetrics_()},e.Scrollbar.prototype.onMouseUpHandle_=function(){this.workspace_.resetDragSurface(),e.Touch.clearTouchIdentifier(),this.cleanUp_()},e.Scrollbar.prototype.cleanUp_=function(){e.hideChaff(!0),e.Scrollbar.onMouseUpWrapper_&&(e.browserEvents.unbind(e.Scrollbar.onMouseUpWrapper_),e.Scrollbar.onMouseUpWrapper_=null),e.Scrollbar.onMouseMoveWrapper_&&(e.browserEvents.unbind(e.Scrollbar.onMouseMoveWrapper_),e.Scrollbar.onMouseMoveWrapper_=null)},e.Scrollbar.prototype.getRatio_=function(){var e=this.handlePosition_/(this.scrollbarLength_-this.handleLength_);return isNaN(e)&&(e=0),e},e.Scrollbar.prototype.updateMetrics_=function(){var e=this.getRatio_(),t={};this.horizontal_?t.x=e:t.y=e,this.workspace_.setMetrics(t)},e.Scrollbar.prototype.set=function(e,t){this.setHandlePosition(this.constrainHandlePosition_(e*this.ratio)),(t||void 0===t)&&this.updateMetrics_()},e.Scrollbar.prototype.setOrigin=function(t,n){this.origin_=new e.utils.Coordinate(t,n)},e.Tooltip={},e.Tooltip.visible=!1,e.Tooltip.blocked_=!1,e.Tooltip.LIMIT=50,e.Tooltip.mouseOutPid_=0,e.Tooltip.showPid_=0,e.Tooltip.lastX_=0,e.Tooltip.lastY_=0,e.Tooltip.element_=null,e.Tooltip.poisonedElement_=null,e.Tooltip.OFFSET_X=0,e.Tooltip.OFFSET_Y=10,e.Tooltip.RADIUS_OK=10,e.Tooltip.HOVER_MS=750,e.Tooltip.MARGINS=5,e.Tooltip.DIV=null,e.Tooltip.getTooltipOfObject=function(t){if(t=e.Tooltip.getTargetObject_(t)){for(t=t.tooltip;"function"==typeof t;)t=t();if("string"!=typeof t)throw Error("Tooltip function must return a string.");return t}return""},e.Tooltip.getTargetObject_=function(e){for(;e&&e.tooltip;){if("string"==typeof e.tooltip||"function"==typeof e.tooltip)return e;e=e.tooltip}return null},e.Tooltip.createDom=function(){e.Tooltip.DIV||(e.Tooltip.DIV=document.createElement("div"),e.Tooltip.DIV.className="blocklyTooltipDiv",(e.parentContainer||document.body).appendChild(e.Tooltip.DIV))},e.Tooltip.bindMouseEvents=function(t){t.mouseOverWrapper_=e.browserEvents.bind(t,"mouseover",null,e.Tooltip.onMouseOver_),t.mouseOutWrapper_=e.browserEvents.bind(t,"mouseout",null,e.Tooltip.onMouseOut_),t.addEventListener("mousemove",e.Tooltip.onMouseMove_,!1)},e.Tooltip.unbindMouseEvents=function(t){t&&(e.browserEvents.unbind(t.mouseOverWrapper_),e.browserEvents.unbind(t.mouseOutWrapper_),t.removeEventListener("mousemove",e.Tooltip.onMouseMove_))},e.Tooltip.onMouseOver_=function(t){e.Tooltip.blocked_||(t=e.Tooltip.getTargetObject_(t.currentTarget),e.Tooltip.element_!=t&&(e.Tooltip.hide(),e.Tooltip.poisonedElement_=null,e.Tooltip.element_=t),clearTimeout(e.Tooltip.mouseOutPid_))},e.Tooltip.onMouseOut_=function(t){e.Tooltip.blocked_||(e.Tooltip.mouseOutPid_=setTimeout((function(){e.Tooltip.element_=null,e.Tooltip.poisonedElement_=null,e.Tooltip.hide()}),1),clearTimeout(e.Tooltip.showPid_))},e.Tooltip.onMouseMove_=function(t){if(e.Tooltip.element_&&e.Tooltip.element_.tooltip&&!e.Tooltip.blocked_)if(e.Tooltip.visible){var n=e.Tooltip.lastX_-t.pageX;t=e.Tooltip.lastY_-t.pageY,Math.sqrt(n*n+t*t)>e.Tooltip.RADIUS_OK&&e.Tooltip.hide()}else e.Tooltip.poisonedElement_!=e.Tooltip.element_&&(clearTimeout(e.Tooltip.showPid_),e.Tooltip.lastX_=t.pageX,e.Tooltip.lastY_=t.pageY,e.Tooltip.showPid_=setTimeout(e.Tooltip.show_,e.Tooltip.HOVER_MS))},e.Tooltip.dispose=function(){e.Tooltip.element_=null,e.Tooltip.poisonedElement_=null,e.Tooltip.hide()},e.Tooltip.hide=function(){e.Tooltip.visible&&(e.Tooltip.visible=!1,e.Tooltip.DIV&&(e.Tooltip.DIV.style.display="none")),e.Tooltip.showPid_&&clearTimeout(e.Tooltip.showPid_)},e.Tooltip.block=function(){e.Tooltip.hide(),e.Tooltip.blocked_=!0},e.Tooltip.unblock=function(){e.Tooltip.blocked_=!1},e.Tooltip.show_=function(){if(!e.Tooltip.blocked_&&(e.Tooltip.poisonedElement_=e.Tooltip.element_,e.Tooltip.DIV)){e.Tooltip.DIV.textContent="";var t=e.Tooltip.getTooltipOfObject(e.Tooltip.element_);t=(t=e.utils.string.wrap(t,e.Tooltip.LIMIT)).split("\n");for(var n=0;n<t.length;n++){var r=document.createElement("div");r.appendChild(document.createTextNode(t[n])),e.Tooltip.DIV.appendChild(r)}t=e.Tooltip.element_.RTL,n=document.documentElement.clientWidth,r=document.documentElement.clientHeight,e.Tooltip.DIV.style.direction=t?"rtl":"ltr",e.Tooltip.DIV.style.display="block",e.Tooltip.visible=!0;var i=e.Tooltip.lastX_;i=t?i-(e.Tooltip.OFFSET_X+e.Tooltip.DIV.offsetWidth):i+e.Tooltip.OFFSET_X;var o=e.Tooltip.lastY_+e.Tooltip.OFFSET_Y;o+e.Tooltip.DIV.offsetHeight>r+window.scrollY&&(o-=e.Tooltip.DIV.offsetHeight+2*e.Tooltip.OFFSET_Y),t?i=Math.max(e.Tooltip.MARGINS-window.scrollX,i):i+e.Tooltip.DIV.offsetWidth>n+window.scrollX-2*e.Tooltip.MARGINS&&(i=n-e.Tooltip.DIV.offsetWidth-2*e.Tooltip.MARGINS),e.Tooltip.DIV.style.top=o+"px",e.Tooltip.DIV.style.left=i+"px"}},e.utils.aria={},e.utils.aria.ARIA_PREFIX_="aria-",e.utils.aria.ROLE_ATTRIBUTE_="role",e.utils.aria.Role={GRID:"grid",GRIDCELL:"gridcell",GROUP:"group",LISTBOX:"listbox",MENU:"menu",MENUITEM:"menuitem",MENUITEMCHECKBOX:"menuitemcheckbox",OPTION:"option",PRESENTATION:"presentation",ROW:"row",TREE:"tree",TREEITEM:"treeitem"},e.utils.aria.State={ACTIVEDESCENDANT:"activedescendant",COLCOUNT:"colcount",DISABLED:"disabled",EXPANDED:"expanded",INVALID:"invalid",LABEL:"label",LABELLEDBY:"labelledby",LEVEL:"level",ORIENTATION:"orientation",POSINSET:"posinset",ROWCOUNT:"rowcount",SELECTED:"selected",SETSIZE:"setsize",VALUEMAX:"valuemax",VALUEMIN:"valuemin"},e.utils.aria.setRole=function(t,n){t.setAttribute(e.utils.aria.ROLE_ATTRIBUTE_,n)},e.utils.aria.setState=function(t,n,r){Array.isArray(r)&&(r=r.join(" ")),t.setAttribute(e.utils.aria.ARIA_PREFIX_+n,r)},e.IASTNodeLocation=function(){},e.IASTNodeLocationSvg=function(){},e.IASTNodeLocationWithBlock=function(){},e.IKeyboardAccessible=function(){},e.utils.deprecation={},e.utils.deprecation.warn=function(e,t,n,r){e=e+" was deprecated on "+t+" and will be deleted on "+n+".",r&&(e+="\nUse "+r+" instead."),console.warn(e)},e.Connection=function(e,t){this.sourceBlock_=e,this.type=t},e.Connection.CAN_CONNECT=0,e.Connection.REASON_SELF_CONNECTION=1,e.Connection.REASON_WRONG_TYPE=2,e.Connection.REASON_TARGET_NULL=3,e.Connection.REASON_CHECKS_FAILED=4,e.Connection.REASON_DIFFERENT_WORKSPACES=5,e.Connection.REASON_SHADOW_PARENT=6,e.Connection.REASON_DRAG_CHECKS_FAILED=7,e.Connection.prototype.targetConnection=null,e.Connection.prototype.disposed=!1,e.Connection.prototype.check_=null,e.Connection.prototype.shadowDom_=null,e.Connection.prototype.x=0,e.Connection.prototype.y=0,e.Connection.prototype.connect_=function(t){var n,r=e.connectionTypes.INPUT_VALUE,i=this.getSourceBlock(),o=t.getSourceBlock();if(t.isConnected()&&t.disconnect(),this.isConnected()){var s=this.getShadowDom(!0);this.shadowDom_=null;var a=this.targetBlock();if(a.isShadow())a.dispose(!1);else{this.disconnect();var l=a}this.shadowDom_=s}e.Events.isEnabled()&&(n=new(e.Events.get(e.Events.BLOCK_MOVE))(o)),e.Connection.connectReciprocally_(this,t),o.setParent(i),n&&(n.recordNew(),e.Events.fire(n)),l&&(t=this.type===r?l.outputConnection:l.previousConnection,(o=e.Connection.getConnectionForOrphanedConnection(o,t))?t.connect(o):t.onFailedConnect(this))},e.Connection.prototype.dispose=function(){if(this.isConnected()){this.setShadowDom(null);var e=this.targetBlock();e&&e.unplug()}this.disposed=!0},e.Connection.prototype.getSourceBlock=function(){return this.sourceBlock_},e.Connection.prototype.isSuperior=function(){return this.type==e.connectionTypes.INPUT_VALUE||this.type==e.connectionTypes.NEXT_STATEMENT},e.Connection.prototype.isConnected=function(){return!!this.targetConnection},e.Connection.prototype.canConnectWithReason=function(t){return e.utils.deprecation.warn("Connection.prototype.canConnectWithReason","July 2020","July 2021","the workspace's connection checker"),this.getConnectionChecker().canConnectWithReason(this,t,!1)},e.Connection.prototype.checkConnection=function(t){e.utils.deprecation.warn("Connection.prototype.checkConnection","July 2020","July 2021","the workspace's connection checker");var n=this.getConnectionChecker(),r=n.canConnectWithReason(this,t,!1);if(r!=e.Connection.CAN_CONNECT)throw Error(n.getErrorMessage(r,this,t))},e.Connection.prototype.getConnectionChecker=function(){return this.sourceBlock_.workspace.connectionChecker},e.Connection.prototype.isConnectionAllowed=function(t){return e.utils.deprecation.warn("Connection.prototype.isConnectionAllowed","July 2020","July 2021","the workspace's connection checker"),this.getConnectionChecker().canConnect(this,t,!0)},e.Connection.prototype.onFailedConnect=function(e){},e.Connection.prototype.connect=function(t){if(this.targetConnection!=t&&this.getConnectionChecker().canConnect(this,t,!1)){var n=e.Events.getGroup();n||e.Events.setGroup(!0),this.isSuperior()?this.connect_(t):t.connect_(this),n||e.Events.setGroup(!1)}},e.Connection.connectReciprocally_=function(e,t){if(!e||!t)throw Error("Cannot connect null connections.");e.targetConnection=t,t.targetConnection=e},e.Connection.getSingleConnection_=function(e,t){for(var n,r=null,i=(t=t.outputConnection).getConnectionChecker(),o=0;n=e.inputList[o];o++)if((n=n.connection)&&i.canConnect(t,n,!1)){if(r)return null;r=n}return r},e.Connection.getConnectionForOrphanedOutput_=function(t,n){for(var r;r=e.Connection.getSingleConnection_(t,n);)if(!(t=r.targetBlock())||t.isShadow())return r;return null},e.Connection.getConnectionForOrphanedConnection=function(t,n){if(n.type===e.connectionTypes.OUTPUT_VALUE)return e.Connection.getConnectionForOrphanedOutput_(t,n.getSourceBlock());t=t.lastConnectionInStack(!0);var r=n.getConnectionChecker();return t&&r.canConnect(n,t,!1)?t:null},e.Connection.prototype.disconnect=function(){var t=this.targetConnection;if(!t)throw Error("Source connection not connected.");if(t.targetConnection!=this)throw Error("Target connection not connected to source connection.");if(this.isSuperior()){var n=this.sourceBlock_,r=t.getSourceBlock();t=this}else n=t.getSourceBlock(),r=this.sourceBlock_;var i=e.Events.getGroup();i||e.Events.setGroup(!0),this.disconnectInternal_(n,r),r.isShadow()||t.respawnShadow_(),i||e.Events.setGroup(!1)},e.Connection.prototype.disconnectInternal_=function(t,n){var r;e.Events.isEnabled()&&(r=new(e.Events.get(e.Events.BLOCK_MOVE))(n)),this.targetConnection=this.targetConnection.targetConnection=null,n.setParent(null),r&&(r.recordNew(),e.Events.fire(r))},e.Connection.prototype.respawnShadow_=function(){var t=this.getSourceBlock(),n=this.getShadowDom();if(t.workspace&&n)if((t=e.Xml.domToBlock(n,t.workspace)).outputConnection)this.connect(t.outputConnection);else{if(!t.previousConnection)throw Error("Child block does not have output or previous statement.");this.connect(t.previousConnection)}},e.Connection.prototype.targetBlock=function(){return this.isConnected()?this.targetConnection.getSourceBlock():null},e.Connection.prototype.checkType=function(t){return e.utils.deprecation.warn("Connection.prototype.checkType","October 2019","January 2021","the workspace's connection checker"),this.getConnectionChecker().canConnect(this,t,!1)},e.Connection.prototype.checkType_=function(t){return e.utils.deprecation.warn("Connection.prototype.checkType_","October 2019","January 2021","the workspace's connection checker"),this.checkType(t)},e.Connection.prototype.onCheckChanged_=function(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,this.targetConnection,!1)||(this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug()},e.Connection.prototype.setCheck=function(e){return e?(Array.isArray(e)||(e=[e]),this.check_=e,this.onCheckChanged_()):this.check_=null,this},e.Connection.prototype.getCheck=function(){return this.check_},e.Connection.prototype.setShadowDom=function(e){this.shadowDom_=e,(e=this.targetBlock())?e.isShadow()&&(e.dispose(!1),this.respawnShadow_()):this.respawnShadow_()},e.Connection.prototype.getShadowDom=function(t){return t&&this.targetBlock().isShadow()?e.Xml.blockToDom(this.targetBlock()):this.shadowDom_},e.Connection.prototype.neighbours=function(e){return[]},e.Connection.prototype.getParentInput=function(){for(var e=null,t=this.sourceBlock_.inputList,n=0;n<t.length;n++)if(t[n].connection===this){e=t[n];break}return e},e.Connection.prototype.toString=function(){var e=this.sourceBlock_;if(!e)return"Orphan Connection";if(e.outputConnection==this)var t="Output Connection of ";else if(e.previousConnection==this)t="Previous Connection of ";else if(e.nextConnection==this)t="Next Connection of ";else{t=null;for(var n,r=0;n=e.inputList[r];r++)if(n.connection==this){t=n;break}if(!t)return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection";t='Input "'+t.name+'" connection on '}return t+e.toDevString()},e.IConnectionChecker=function(){},e.ConnectionChecker=function(){},e.ConnectionChecker.prototype.canConnect=function(t,n,r,i){return this.canConnectWithReason(t,n,r,i)==e.Connection.CAN_CONNECT},e.ConnectionChecker.prototype.canConnectWithReason=function(t,n,r,i){var o=this.doSafetyChecks(t,n);return o!=e.Connection.CAN_CONNECT?o:this.doTypeChecks(t,n)?r&&!this.doDragChecks(t,n,i||0)?e.Connection.REASON_DRAG_CHECKS_FAILED:e.Connection.CAN_CONNECT:e.Connection.REASON_CHECKS_FAILED},e.ConnectionChecker.prototype.getErrorMessage=function(t,n,r){switch(t){case e.Connection.REASON_SELF_CONNECTION:return"Attempted to connect a block to itself.";case e.Connection.REASON_DIFFERENT_WORKSPACES:return"Blocks not on same workspace.";case e.Connection.REASON_WRONG_TYPE:return"Attempt to connect incompatible types.";case e.Connection.REASON_TARGET_NULL:return"Target connection is null.";case e.Connection.REASON_CHECKS_FAILED:return"Connection checks failed. "+n+" expected "+n.getCheck()+", found "+r.getCheck();case e.Connection.REASON_SHADOW_PARENT:return"Connecting non-shadow to shadow block.";case e.Connection.REASON_DRAG_CHECKS_FAILED:return"Drag checks failed.";default:return"Unknown connection failure: this should never happen!"}},e.ConnectionChecker.prototype.doSafetyChecks=function(t,n){if(!t||!n)return e.Connection.REASON_TARGET_NULL;if(t.isSuperior())var r=t.getSourceBlock(),i=n.getSourceBlock();else i=t.getSourceBlock(),r=n.getSourceBlock();return r==i?e.Connection.REASON_SELF_CONNECTION:n.type!=e.OPPOSITE_TYPE[t.type]?e.Connection.REASON_WRONG_TYPE:r.workspace!==i.workspace?e.Connection.REASON_DIFFERENT_WORKSPACES:r.isShadow()&&!i.isShadow()?e.Connection.REASON_SHADOW_PARENT:e.Connection.CAN_CONNECT},e.ConnectionChecker.prototype.doTypeChecks=function(e,t){if(e=e.getCheck(),t=t.getCheck(),!e||!t)return!0;for(var n=0;n<e.length;n++)if(-1!=t.indexOf(e[n]))return!0;return!1},e.ConnectionChecker.prototype.doDragChecks=function(t,n,r){if(t.distanceFrom(n)>r||n.getSourceBlock().isInsertionMarker())return!1;switch(n.type){case e.connectionTypes.PREVIOUS_STATEMENT:return this.canConnectToPrevious_(t,n);case e.connectionTypes.OUTPUT_VALUE:if(n.isConnected()&&!n.targetBlock().isInsertionMarker()||t.isConnected())return!1;break;case e.connectionTypes.INPUT_VALUE:if(n.isConnected()&&!n.targetBlock().isMovable()&&!n.targetBlock().isShadow())return!1;break;case e.connectionTypes.NEXT_STATEMENT:if(n.isConnected()&&!t.getSourceBlock().nextConnection&&!n.targetBlock().isShadow()&&n.targetBlock().nextConnection)return!1;break;default:return!1}return-1==e.draggingConnections.indexOf(n)},e.ConnectionChecker.prototype.canConnectToPrevious_=function(t,n){return!t.targetConnection&&-1==e.draggingConnections.indexOf(n)&&(!n.targetConnection||!!(t=n.targetBlock()).isInsertionMarker()&&!t.getPreviousBlock())},e.registry.register(e.registry.Type.CONNECTION_CHECKER,e.registry.DEFAULT,e.ConnectionChecker),e.VariableMap=function(e){this.variableMap_=Object.create(null),this.workspace=e},e.VariableMap.prototype.clear=function(){this.variableMap_=Object.create(null)},e.VariableMap.prototype.renameVariable=function(t,n){var r=this.getVariable(n,t.type),i=this.workspace.getAllBlocks(!1);e.Events.setGroup(!0);try{r&&r.getId()!=t.getId()?this.renameVariableWithConflict_(t,n,r,i):this.renameVariableAndUses_(t,n,i)}finally{e.Events.setGroup(!1)}},e.VariableMap.prototype.renameVariableById=function(e,t){var n=this.getVariableById(e);if(!n)throw Error("Tried to rename a variable that didn't exist. ID: "+e);this.renameVariable(n,t)},e.VariableMap.prototype.renameVariableAndUses_=function(t,n,r){for(e.Events.fire(new(e.Events.get(e.Events.VAR_RENAME))(t,n)),t.name=n,n=0;n<r.length;n++)r[n].updateVarName(t)},e.VariableMap.prototype.renameVariableWithConflict_=function(t,n,r,i){var o=t.type;for(n!=r.name&&this.renameVariableAndUses_(r,n,i),n=0;n<i.length;n++)i[n].renameVarById(t.getId(),r.getId());e.Events.fire(new(e.Events.get(e.Events.VAR_DELETE))(t)),t=this.getVariablesOfType(o).indexOf(t),this.variableMap_[o].splice(t,1)},e.VariableMap.prototype.createVariable=function(t,n,r){var i=this.getVariable(t,n);if(i){if(r&&i.getId()!=r)throw Error('Variable "'+t+'" is already in use and its id is "'+i.getId()+'" which conflicts with the passed in id, "'+r+'".');return i}if(r&&this.getVariableById(r))throw Error('Variable id, "'+r+'", is already in use.');return i=r||e.utils.genUid(),n=n||"",i=new e.VariableModel(this.workspace,t,n,i),(t=this.variableMap_[n]||[]).push(i),delete this.variableMap_[n],this.variableMap_[n]=t,i},e.VariableMap.prototype.deleteVariable=function(t){for(var n,r=this.variableMap_[t.type],i=0;n=r[i];i++)if(n.getId()==t.getId()){r.splice(i,1),e.Events.fire(new(e.Events.get(e.Events.VAR_DELETE))(t));break}},e.VariableMap.prototype.deleteVariableById=function(t){var n=this.getVariableById(t);if(n){var r,i=n.name,o=this.getVariableUsesById(t);for(t=0;r=o[t];t++)if("procedures_defnoreturn"==r.type||"procedures_defreturn"==r.type)return t=r.getFieldValue("NAME"),i=e.Msg.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",i).replace("%2",t),void e.alert(i);var s=this;1<o.length?(i=e.Msg.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(o.length)).replace("%2",i),e.confirm(i,(function(e){e&&n&&s.deleteVariableInternal(n,o)}))):s.deleteVariableInternal(n,o)}else console.warn("Can't delete non-existent variable: "+t)},e.VariableMap.prototype.deleteVariableInternal=function(t,n){var r=e.Events.getGroup();r||e.Events.setGroup(!0);try{for(var i=0;i<n.length;i++)n[i].dispose(!0);this.deleteVariable(t)}finally{r||e.Events.setGroup(!1)}},e.VariableMap.prototype.getVariable=function(t,n){if(n=this.variableMap_[n||""])for(var r,i=0;r=n[i];i++)if(e.Names.equals(r.name,t))return r;return null},e.VariableMap.prototype.getVariableById=function(e){for(var t=Object.keys(this.variableMap_),n=0;n<t.length;n++)for(var r,i=t[n],o=0;r=this.variableMap_[i][o];o++)if(r.getId()==e)return r;return null},e.VariableMap.prototype.getVariablesOfType=function(e){return(e=this.variableMap_[e||""])?e.slice():[]},e.VariableMap.prototype.getVariableTypes=function(t){var n={};e.utils.object.mixin(n,this.variableMap_),t&&t.getPotentialVariableMap()&&e.utils.object.mixin(n,t.getPotentialVariableMap().variableMap_),t=Object.keys(n),n=!1;for(var r=0;r<t.length;r++)""==t[r]&&(n=!0);return n||t.push(""),t},e.VariableMap.prototype.getAllVariables=function(){var e,t=[];for(e in this.variableMap_)t=t.concat(this.variableMap_[e]);return t},e.VariableMap.prototype.getAllVariableNames=function(){var e,t=[];for(e in this.variableMap_)for(var n,r=this.variableMap_[e],i=0;n=r[i];i++)t.push(n.name);return t},e.VariableMap.prototype.getVariableUsesById=function(e){for(var t=[],n=this.workspace.getAllBlocks(!1),r=0;r<n.length;r++){var i=n[r].getVarModels();if(i)for(var o=0;o<i.length;o++)i[o].getId()==e&&t.push(n[r])}return t},e.Workspace=function(t){this.id=e.utils.genUid(),e.Workspace.WorkspaceDB_[this.id]=this,this.options=t||new e.Options({}),this.RTL=!!this.options.RTL,this.horizontalLayout=!!this.options.horizontalLayout,this.toolboxPosition=this.options.toolboxPosition,this.connectionChecker=new(e.registry.getClassFromOptions(e.registry.Type.CONNECTION_CHECKER,this.options,!0))(this),this.topBlocks_=[],this.topComments_=[],this.commentDB_=Object.create(null),this.listeners_=[],this.undoStack_=[],this.redoStack_=[],this.blockDB_=Object.create(null),this.typedBlocksDB_=Object.create(null),this.variableMap_=new e.VariableMap(this),this.potentialVariableMap_=null},e.Workspace.prototype.rendered=!1,e.Workspace.prototype.isClearing=!1,e.Workspace.prototype.MAX_UNDO=1024,e.Workspace.prototype.connectionDBList=null,e.Workspace.prototype.dispose=function(){this.listeners_.length=0,this.clear(),delete e.Workspace.WorkspaceDB_[this.id]},e.Workspace.SCAN_ANGLE=3,e.Workspace.prototype.sortObjects_=function(t,n){return t=t.getRelativeToSurfaceXY(),n=n.getRelativeToSurfaceXY(),t.y+e.Workspace.prototype.sortObjects_.offset*t.x-(n.y+e.Workspace.prototype.sortObjects_.offset*n.x)},e.Workspace.prototype.addTopBlock=function(e){this.topBlocks_.push(e)},e.Workspace.prototype.removeTopBlock=function(t){if(!e.utils.arrayRemove(this.topBlocks_,t))throw Error("Block not present in workspace's list of top-most blocks.")},e.Workspace.prototype.getTopBlocks=function(t){var n=[].concat(this.topBlocks_);return t&&1<n.length&&(this.sortObjects_.offset=Math.sin(e.utils.math.toRadians(e.Workspace.SCAN_ANGLE)),this.RTL&&(this.sortObjects_.offset*=-1),n.sort(this.sortObjects_)),n},e.Workspace.prototype.addTypedBlock=function(e){this.typedBlocksDB_[e.type]||(this.typedBlocksDB_[e.type]=[]),this.typedBlocksDB_[e.type].push(e)},e.Workspace.prototype.removeTypedBlock=function(e){this.typedBlocksDB_[e.type].splice(this.typedBlocksDB_[e.type].indexOf(e),1),this.typedBlocksDB_[e.type].length||delete this.typedBlocksDB_[e.type]},e.Workspace.prototype.getBlocksByType=function(t,n){return this.typedBlocksDB_[t]?(t=this.typedBlocksDB_[t].slice(0),n&&1<t.length&&(this.sortObjects_.offset=Math.sin(e.utils.math.toRadians(e.Workspace.SCAN_ANGLE)),this.RTL&&(this.sortObjects_.offset*=-1),t.sort(this.sortObjects_)),t):[]},e.Workspace.prototype.addTopComment=function(e){this.topComments_.push(e),this.commentDB_[e.id]&&console.warn('Overriding an existing comment on this workspace, with id "'+e.id+'"'),this.commentDB_[e.id]=e},e.Workspace.prototype.removeTopComment=function(t){if(!e.utils.arrayRemove(this.topComments_,t))throw Error("Comment not present in workspace's list of top-most comments.");delete this.commentDB_[t.id]},e.Workspace.prototype.getTopComments=function(t){var n=[].concat(this.topComments_);return t&&1<n.length&&(this.sortObjects_.offset=Math.sin(e.utils.math.toRadians(e.Workspace.SCAN_ANGLE)),this.RTL&&(this.sortObjects_.offset*=-1),n.sort(this.sortObjects_)),n},e.Workspace.prototype.getAllBlocks=function(e){if(e){e=this.getTopBlocks(!0);for(var t=[],n=0;n<e.length;n++)t.push.apply(t,e[n].getDescendants(!0))}else for(t=this.getTopBlocks(!1),n=0;n<t.length;n++)t.push.apply(t,t[n].getChildren(!1));return t.filter((function(e){return!e.isInsertionMarker()}))},e.Workspace.prototype.clear=function(){this.isClearing=!0;try{var t=e.Events.getGroup();for(t||e.Events.setGroup(!0);this.topBlocks_.length;)this.topBlocks_[0].dispose(!1);for(;this.topComments_.length;)this.topComments_[this.topComments_.length-1].dispose(!1);t||e.Events.setGroup(!1),this.variableMap_.clear(),this.potentialVariableMap_&&this.potentialVariableMap_.clear()}finally{this.isClearing=!1}},e.Workspace.prototype.renameVariableById=function(e,t){this.variableMap_.renameVariableById(e,t)},e.Workspace.prototype.createVariable=function(e,t,n){return this.variableMap_.createVariable(e,t,n)},e.Workspace.prototype.getVariableUsesById=function(e){return this.variableMap_.getVariableUsesById(e)},e.Workspace.prototype.deleteVariableById=function(e){this.variableMap_.deleteVariableById(e)},e.Workspace.prototype.getVariable=function(e,t){return this.variableMap_.getVariable(e,t)},e.Workspace.prototype.getVariableById=function(e){return this.variableMap_.getVariableById(e)},e.Workspace.prototype.getVariablesOfType=function(e){return this.variableMap_.getVariablesOfType(e)},e.Workspace.prototype.getVariableTypes=function(){return this.variableMap_.getVariableTypes(this)},e.Workspace.prototype.getAllVariables=function(){return this.variableMap_.getAllVariables()},e.Workspace.prototype.getAllVariableNames=function(){return this.variableMap_.getAllVariableNames()},e.Workspace.prototype.getWidth=function(){return 0},e.Workspace.prototype.newBlock=function(t,n){return new e.Block(this,t,n)},e.Workspace.prototype.remainingCapacity=function(){return isNaN(this.options.maxBlocks)?1/0:this.options.maxBlocks-this.getAllBlocks(!1).length},e.Workspace.prototype.remainingCapacityOfType=function(e){return this.options.maxInstances?(void 0!==this.options.maxInstances[e]?this.options.maxInstances[e]:1/0)-this.getBlocksByType(e,!1).length:1/0},e.Workspace.prototype.isCapacityAvailable=function(e){if(!this.hasBlockLimits())return!0;var t,n=0;for(t in e){if(e[t]>this.remainingCapacityOfType(t))return!1;n+=e[t]}return!(n>this.remainingCapacity())},e.Workspace.prototype.hasBlockLimits=function(){return 1/0!=this.options.maxBlocks||!!this.options.maxInstances},e.Workspace.prototype.getUndoStack=function(){return this.undoStack_},e.Workspace.prototype.getRedoStack=function(){return this.redoStack_},e.Workspace.prototype.undo=function(t){var n=t?this.redoStack_:this.undoStack_,r=t?this.undoStack_:this.redoStack_,i=n.pop();if(i){for(var o=[i];n.length&&i.group&&i.group==n[n.length-1].group;)o.push(n.pop());for(n=0;i=o[n];n++)r.push(i);o=e.Events.filter(o,t),e.Events.recordUndo=!1;try{for(n=0;i=o[n];n++)i.run(t)}finally{e.Events.recordUndo=!0}}},e.Workspace.prototype.clearUndo=function(){this.undoStack_.length=0,this.redoStack_.length=0,e.Events.clearPendingUndo()},e.Workspace.prototype.addChangeListener=function(e){return this.listeners_.push(e),e},e.Workspace.prototype.removeChangeListener=function(t){e.utils.arrayRemove(this.listeners_,t)},e.Workspace.prototype.fireChangeListener=function(e){if(e.recordUndo)for(this.undoStack_.push(e),this.redoStack_.length=0;this.undoStack_.length>this.MAX_UNDO&&0<=this.MAX_UNDO;)this.undoStack_.shift();for(var t,n=0;t=this.listeners_[n];n++)t(e)},e.Workspace.prototype.getBlockById=function(e){return this.blockDB_[e]||null},e.Workspace.prototype.setBlockById=function(e,t){this.blockDB_[e]=t},e.Workspace.prototype.removeBlockById=function(e){delete this.blockDB_[e]},e.Workspace.prototype.getCommentById=function(e){return this.commentDB_[e]||null},e.Workspace.prototype.allInputsFilled=function(e){for(var t,n=this.getTopBlocks(!1),r=0;t=n[r];r++)if(!t.allInputsFilled(e))return!1;return!0},e.Workspace.prototype.getPotentialVariableMap=function(){return this.potentialVariableMap_},e.Workspace.prototype.createPotentialVariableMap=function(){this.potentialVariableMap_=new e.VariableMap(this)},e.Workspace.prototype.getVariableMap=function(){return this.variableMap_},e.Workspace.prototype.setVariableMap=function(e){this.variableMap_=e},e.Workspace.WorkspaceDB_=Object.create(null),e.Workspace.getById=function(t){return e.Workspace.WorkspaceDB_[t]||null},e.Workspace.getAll=function(){var t,n=[];for(t in e.Workspace.WorkspaceDB_)n.push(e.Workspace.WorkspaceDB_[t]);return n},e.WorkspaceDragSurfaceSvg=function(e){this.container_=e,this.createDom()},e.WorkspaceDragSurfaceSvg.prototype.SVG_=null,e.WorkspaceDragSurfaceSvg.prototype.container_=null,e.WorkspaceDragSurfaceSvg.prototype.createDom=function(){this.SVG_||(this.SVG_=e.utils.dom.createSvgElement(e.utils.Svg.SVG,{xmlns:e.utils.dom.SVG_NS,"xmlns:html":e.utils.dom.HTML_NS,"xmlns:xlink":e.utils.dom.XLINK_NS,version:"1.1",class:"blocklyWsDragSurface blocklyOverflowVisible"},null),this.container_.appendChild(this.SVG_))},e.WorkspaceDragSurfaceSvg.prototype.translateSurface=function(t,n){t=t.toFixed(0),n=n.toFixed(0),this.SVG_.style.display="block",e.utils.dom.setCssTransform(this.SVG_,"translate3d("+t+"px, "+n+"px, 0px)")},e.WorkspaceDragSurfaceSvg.prototype.getSurfaceTranslation=function(){return e.utils.getRelativeXY(this.SVG_)},e.WorkspaceDragSurfaceSvg.prototype.clearAndHide=function(t){if(!t)throw Error("Couldn't clear and hide the drag surface: missing new surface.");var n=this.SVG_.childNodes[0],r=this.SVG_.childNodes[1];if(!(n&&r&&e.utils.dom.hasClass(n,"blocklyBlockCanvas")&&e.utils.dom.hasClass(r,"blocklyBubbleCanvas")))throw Error("Couldn't clear and hide the drag surface. A node was missing.");if(null!=this.previousSibling_?e.utils.dom.insertAfter(n,this.previousSibling_):t.insertBefore(n,t.firstChild),e.utils.dom.insertAfter(r,n),this.SVG_.style.display="none",this.SVG_.childNodes.length)throw Error("Drag surface was not cleared.");e.utils.dom.setCssTransform(this.SVG_,""),this.previousSibling_=null},e.WorkspaceDragSurfaceSvg.prototype.setContentsAndShow=function(e,t,n,r,i,o){if(this.SVG_.childNodes.length)throw Error("Already dragging a block.");this.previousSibling_=n,e.setAttribute("transform","translate(0, 0) scale("+o+")"),t.setAttribute("transform","translate(0, 0) scale("+o+")"),this.SVG_.setAttribute("width",r),this.SVG_.setAttribute("height",i),this.SVG_.appendChild(e),this.SVG_.appendChild(t),this.SVG_.style.display="block"},e.blockRendering={},e.blockRendering.useDebugger=!1,e.blockRendering.register=function(t,n){e.registry.register(e.registry.Type.RENDERER,t,n)},e.blockRendering.unregister=function(t){e.registry.unregister(e.registry.Type.RENDERER,t)},e.blockRendering.startDebugger=function(){e.blockRendering.useDebugger=!0},e.blockRendering.stopDebugger=function(){e.blockRendering.useDebugger=!1},e.blockRendering.init=function(t,n,r){return(t=new(e.registry.getClass(e.registry.Type.RENDERER,t))(t)).init(n,r),t},e.ASTNode=function(t,n,r){if(!n)throw Error("Cannot create a node without a location.");this.type_=t,this.isConnection_=e.ASTNode.isConnectionType_(t),this.location_=n,this.wsCoordinate_=null,this.processParams_(r||null)},e.ASTNode.types={FIELD:"field",BLOCK:"block",INPUT:"input",OUTPUT:"output",NEXT:"next",PREVIOUS:"previous",STACK:"stack",WORKSPACE:"workspace"},e.ASTNode.NAVIGATE_ALL_FIELDS=!1,e.ASTNode.DEFAULT_OFFSET_Y=-20,e.ASTNode.isConnectionType_=function(t){switch(t){case e.ASTNode.types.PREVIOUS:case e.ASTNode.types.NEXT:case e.ASTNode.types.INPUT:case e.ASTNode.types.OUTPUT:return!0}return!1},e.ASTNode.createFieldNode=function(t){return t?new e.ASTNode(e.ASTNode.types.FIELD,t):null},e.ASTNode.createConnectionNode=function(t){if(!t)return null;var n=t.type;return n==e.connectionTypes.INPUT_VALUE||n==e.connectionTypes.NEXT_STATEMENT&&t.getParentInput()?e.ASTNode.createInputNode(t.getParentInput()):n==e.connectionTypes.NEXT_STATEMENT?new e.ASTNode(e.ASTNode.types.NEXT,t):n==e.connectionTypes.OUTPUT_VALUE?new e.ASTNode(e.ASTNode.types.OUTPUT,t):n==e.connectionTypes.PREVIOUS_STATEMENT?new e.ASTNode(e.ASTNode.types.PREVIOUS,t):null},e.ASTNode.createInputNode=function(t){return t&&t.connection?new e.ASTNode(e.ASTNode.types.INPUT,t.connection):null},e.ASTNode.createBlockNode=function(t){return t?new e.ASTNode(e.ASTNode.types.BLOCK,t):null},e.ASTNode.createStackNode=function(t){return t?new e.ASTNode(e.ASTNode.types.STACK,t):null},e.ASTNode.createWorkspaceNode=function(t,n){return n&&t?new e.ASTNode(e.ASTNode.types.WORKSPACE,t,{wsCoordinate:n}):null},e.ASTNode.createTopNode=function(t){var n=t.previousConnection||t.outputConnection;return n?e.ASTNode.createConnectionNode(n):e.ASTNode.createBlockNode(t)},e.ASTNode.prototype.processParams_=function(e){e&&e.wsCoordinate&&(this.wsCoordinate_=e.wsCoordinate)},e.ASTNode.prototype.getLocation=function(){return this.location_},e.ASTNode.prototype.getType=function(){return this.type_},e.ASTNode.prototype.getWsCoordinate=function(){return this.wsCoordinate_},e.ASTNode.prototype.isConnection=function(){return this.isConnection_},e.ASTNode.prototype.findNextForInput_=function(){var t,n=this.location_.getParentInput(),r=n.getSourceBlock();for(n=r.inputList.indexOf(n)+1;t=r.inputList[n];n++){for(var i,o=t.fieldRow,s=0;i=o[s];s++)if(i.isClickable()||e.ASTNode.NAVIGATE_ALL_FIELDS)return e.ASTNode.createFieldNode(i);if(t.connection)return e.ASTNode.createInputNode(t)}return null},e.ASTNode.prototype.findNextForField_=function(){var t=this.location_,n=t.getParentInput(),r=t.getSourceBlock(),i=r.inputList.indexOf(n);for(t=n.fieldRow.indexOf(t)+1;n=r.inputList[i];i++){for(var o=n.fieldRow;t<o.length;){if(o[t].isClickable()||e.ASTNode.NAVIGATE_ALL_FIELDS)return e.ASTNode.createFieldNode(o[t]);t++}if(t=0,n.connection)return e.ASTNode.createInputNode(n)}return null},e.ASTNode.prototype.findPrevForInput_=function(){for(var t,n=this.location_.getParentInput(),r=n.getSourceBlock(),i=r.inputList.indexOf(n);t=r.inputList[i];i--){if(t.connection&&t!==n)return e.ASTNode.createInputNode(t);for(var o,s=(t=t.fieldRow).length-1;o=t[s];s--)if(o.isClickable()||e.ASTNode.NAVIGATE_ALL_FIELDS)return e.ASTNode.createFieldNode(o)}return null},e.ASTNode.prototype.findPrevForField_=function(){var t,n=this.location_,r=n.getParentInput(),i=n.getSourceBlock(),o=i.inputList.indexOf(r);for(n=r.fieldRow.indexOf(n)-1;t=i.inputList[o];o--){if(t.connection&&t!==r)return e.ASTNode.createInputNode(t);for(t=t.fieldRow;-1<n;){if(t[n].isClickable()||e.ASTNode.NAVIGATE_ALL_FIELDS)return e.ASTNode.createFieldNode(t[n]);n--}0<=o-1&&(n=i.inputList[o-1].fieldRow.length-1)}return null},e.ASTNode.prototype.navigateBetweenStacks_=function(t){var n=this.getLocation();if(n instanceof e.Block||(n=n.getSourceBlock()),!n||!n.workspace)return null;var r=n.getRootBlock();n=r.workspace.getTopBlocks(!0);for(var i,o=0;i=n[o];o++)if(r.id==i.id)return-1==(t=o+(t?1:-1))||t==n.length?null:e.ASTNode.createStackNode(n[t]);throw Error("Couldn't find "+(t?"next":"previous")+" stack?!")},e.ASTNode.prototype.findTopASTNodeForBlock_=function(t){var n=t.previousConnection||t.outputConnection;return n?e.ASTNode.createConnectionNode(n):e.ASTNode.createBlockNode(t)},e.ASTNode.prototype.getOutAstNodeForBlock_=function(t){if(!t)return null;var n=(t=t.getTopStackBlock()).previousConnection||t.outputConnection;return n&&n.targetConnection&&n.targetConnection.getParentInput()?e.ASTNode.createInputNode(n.targetConnection.getParentInput()):e.ASTNode.createStackNode(t)},e.ASTNode.prototype.findFirstFieldOrInput_=function(t){t=t.inputList;for(var n,r=0;n=t[r];r++){for(var i,o=n.fieldRow,s=0;i=o[s];s++)if(i.isClickable()||e.ASTNode.NAVIGATE_ALL_FIELDS)return e.ASTNode.createFieldNode(i);if(n.connection)return e.ASTNode.createInputNode(n)}return null},e.ASTNode.prototype.getSourceBlock=function(){return this.getType()===e.ASTNode.types.BLOCK||this.getType()===e.ASTNode.types.STACK?this.getLocation():this.getType()===e.ASTNode.types.WORKSPACE?null:this.getLocation().getSourceBlock()},e.ASTNode.prototype.next=function(){switch(this.type_){case e.ASTNode.types.STACK:return this.navigateBetweenStacks_(!0);case e.ASTNode.types.OUTPUT:var t=this.location_;return e.ASTNode.createBlockNode(t.getSourceBlock());case e.ASTNode.types.FIELD:return this.findNextForField_();case e.ASTNode.types.INPUT:return this.findNextForInput_();case e.ASTNode.types.BLOCK:return e.ASTNode.createConnectionNode(this.location_.nextConnection);case e.ASTNode.types.PREVIOUS:return t=this.location_,e.ASTNode.createBlockNode(t.getSourceBlock());case e.ASTNode.types.NEXT:return t=this.location_,e.ASTNode.createConnectionNode(t.targetConnection)}return null},e.ASTNode.prototype.in=function(){switch(this.type_){case e.ASTNode.types.WORKSPACE:var t=this.location_.getTopBlocks(!0);if(0<t.length)return e.ASTNode.createStackNode(t[0]);break;case e.ASTNode.types.STACK:return t=this.location_,this.findTopASTNodeForBlock_(t);case e.ASTNode.types.BLOCK:return t=this.location_,this.findFirstFieldOrInput_(t);case e.ASTNode.types.INPUT:return e.ASTNode.createConnectionNode(this.location_.targetConnection)}return null},e.ASTNode.prototype.prev=function(){switch(this.type_){case e.ASTNode.types.STACK:return this.navigateBetweenStacks_(!1);case e.ASTNode.types.FIELD:return this.findPrevForField_();case e.ASTNode.types.INPUT:return this.findPrevForInput_();case e.ASTNode.types.BLOCK:var t=this.location_;return e.ASTNode.createConnectionNode(t.previousConnection||t.outputConnection);case e.ASTNode.types.PREVIOUS:if((t=(t=this.location_).targetConnection)&&!t.getParentInput())return e.ASTNode.createConnectionNode(t);break;case e.ASTNode.types.NEXT:return t=this.location_,e.ASTNode.createBlockNode(t.getSourceBlock())}return null},e.ASTNode.prototype.out=function(){switch(this.type_){case e.ASTNode.types.STACK:var t=this.location_,n=t.getRelativeToSurfaceXY();return n=new e.utils.Coordinate(n.x,n.y+e.ASTNode.DEFAULT_OFFSET_Y),e.ASTNode.createWorkspaceNode(t.workspace,n);case e.ASTNode.types.OUTPUT:return(n=(t=this.location_).targetConnection)?e.ASTNode.createConnectionNode(n):e.ASTNode.createStackNode(t.getSourceBlock());case e.ASTNode.types.FIELD:return e.ASTNode.createBlockNode(this.location_.getSourceBlock());case e.ASTNode.types.INPUT:return t=this.location_,e.ASTNode.createBlockNode(t.getSourceBlock());case e.ASTNode.types.BLOCK:return t=this.location_,this.getOutAstNodeForBlock_(t);case e.ASTNode.types.PREVIOUS:case e.ASTNode.types.NEXT:return t=this.location_,this.getOutAstNodeForBlock_(t.getSourceBlock())}return null},e.Blocks=Object.create(null),e.Extensions={},e.Extensions.ALL_=Object.create(null),e.Extensions.register=function(t,n){if("string"!=typeof t||""==t.trim())throw Error('Error: Invalid extension name "'+t+'"');if(e.Extensions.ALL_[t])throw Error('Error: Extension "'+t+'" is already registered.');if("function"!=typeof n)throw Error('Error: Extension "'+t+'" must be a function');e.Extensions.ALL_[t]=n},e.Extensions.registerMixin=function(t,n){if(!n||"object"!=typeof n)throw Error('Error: Mixin "'+t+'" must be a object');e.Extensions.register(t,(function(){this.mixin(n)}))},e.Extensions.registerMutator=function(t,n,r,i){var o='Error when registering mutator "'+t+'": ';e.Extensions.checkHasFunction_(o,n.domToMutation,"domToMutation"),e.Extensions.checkHasFunction_(o,n.mutationToDom,"mutationToDom");var s=e.Extensions.checkMutatorDialog_(n,o);if(r&&"function"!=typeof r)throw Error('Extension "'+t+'" is not a function');e.Extensions.register(t,(function(){if(s){if(!e.Mutator)throw Error(o+"Missing require for Blockly.Mutator");this.setMutator(new e.Mutator(i||[]))}this.mixin(n),r&&r.apply(this)}))},e.Extensions.unregister=function(t){e.Extensions.ALL_[t]?delete e.Extensions.ALL_[t]:console.warn('No extension mapping for name "'+t+'" found to unregister')},e.Extensions.apply=function(t,n,r){var i=e.Extensions.ALL_[t];if("function"!=typeof i)throw Error('Error: Extension "'+t+'" not found.');if(r)e.Extensions.checkNoMutatorProperties_(t,n);else var o=e.Extensions.getMutatorProperties_(n);if(i.apply(n),r)e.Extensions.checkBlockHasMutatorProperties_('Error after applying mutator "'+t+'": ',n);else if(!e.Extensions.mutatorPropertiesMatch_(o,n))throw Error('Error when applying extension "'+t+'": mutation properties changed when applying a non-mutator extension.')},e.Extensions.checkHasFunction_=function(e,t,n){if(!t)throw Error(e+'missing required property "'+n+'"');if("function"!=typeof t)throw Error(e+'" required property "'+n+'" must be a function')},e.Extensions.checkNoMutatorProperties_=function(t,n){if(e.Extensions.getMutatorProperties_(n).length)throw Error('Error: tried to apply mutation "'+t+'" to a block that already has mutator functions.  Block id: '+n.id)},e.Extensions.checkMutatorDialog_=function(e,t){var n=void 0!==e.compose,r=void 0!==e.decompose;if(n&&r){if("function"!=typeof e.compose)throw Error(t+"compose must be a function.");if("function"!=typeof e.decompose)throw Error(t+"decompose must be a function.");return!0}if(!n&&!r)return!1;throw Error(t+'Must have both or neither of "compose" and "decompose"')},e.Extensions.checkBlockHasMutatorProperties_=function(t,n){if("function"!=typeof n.domToMutation)throw Error(t+'Applying a mutator didn\'t add "domToMutation"');if("function"!=typeof n.mutationToDom)throw Error(t+'Applying a mutator didn\'t add "mutationToDom"');e.Extensions.checkMutatorDialog_(n,t)},e.Extensions.getMutatorProperties_=function(e){var t=[];return void 0!==e.domToMutation&&t.push(e.domToMutation),void 0!==e.mutationToDom&&t.push(e.mutationToDom),void 0!==e.compose&&t.push(e.compose),void 0!==e.decompose&&t.push(e.decompose),t},e.Extensions.mutatorPropertiesMatch_=function(t,n){if((n=e.Extensions.getMutatorProperties_(n)).length!=t.length)return!1;for(var r=0;r<n.length;r++)if(t[r]!=n[r])return!1;return!0},e.Extensions.buildTooltipForDropdown=function(t,n){var r=[];return"object"==typeof document&&e.utils.runAfterPageLoad((function(){for(var t in n)e.utils.checkMessageReferences(n[t])})),function(){this.type&&-1==r.indexOf(this.type)&&(e.Extensions.checkDropdownOptionsInTable_(this,t,n),r.push(this.type)),this.setTooltip(function(){var i=String(this.getFieldValue(t)),o=n[i];return null==o?-1==r.indexOf(this.type)&&(i="No tooltip mapping for value "+i+" of field "+t,null!=this.type&&(i+=" of block type "+this.type),console.warn(i+".")):o=e.utils.replaceMessageReferences(o),o}.bind(this))}},e.Extensions.checkDropdownOptionsInTable_=function(e,t,n){var r=e.getField(t);if(!r.isOptionListDynamic()){r=r.getOptions();for(var i=0;i<r.length;++i){var o=r[i][1];null==n[o]&&console.warn("No tooltip mapping for value "+o+" of field "+t+" of block type "+e.type)}}},e.Extensions.buildTooltipWithFieldText=function(t,n){return"object"==typeof document&&e.utils.runAfterPageLoad((function(){e.utils.checkMessageReferences(t)})),function(){this.setTooltip(function(){var r=this.getField(n);return e.utils.replaceMessageReferences(t).replace("%1",r?r.getText():"")}.bind(this))}},e.Extensions.extensionParentTooltip_=function(){this.tooltipWhenNotConnected_=this.tooltip,this.setTooltip(function(){var e=this.getParent();return e&&e.getInputsInline()&&e.tooltip||this.tooltipWhenNotConnected_}.bind(this))},e.Extensions.register("parent_tooltip_when_inline",e.Extensions.extensionParentTooltip_),e.fieldRegistry={},e.fieldRegistry.register=function(t,n){e.registry.register(e.registry.Type.FIELD,t,n)},e.fieldRegistry.unregister=function(t){e.registry.unregister(e.registry.Type.FIELD,t)},e.fieldRegistry.fromJson=function(t){var n=e.registry.getObject(e.registry.Type.FIELD,t.type);return n?n.fromJson(t):(console.warn("Blockly could not create a field of type "+t.type+". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached."),null)},e.IDeletable=function(){},e.blockAnimations={},e.blockAnimations.disconnectPid_=0,e.blockAnimations.disconnectGroup_=null,e.blockAnimations.disposeUiEffect=function(t){var n=t.workspace,r=t.getSvgRoot();n.getAudioManager().play("delete"),t=n.getSvgXY(r),(r=r.cloneNode(!0)).translateX_=t.x,r.translateY_=t.y,r.setAttribute("transform","translate("+t.x+","+t.y+")"),n.getParentSvg().appendChild(r),r.bBox_=r.getBBox(),e.blockAnimations.disposeUiStep_(r,n.RTL,new Date,n.scale)},e.blockAnimations.disposeUiStep_=function(t,n,r,i){var o=(new Date-r)/150;1<o?e.utils.dom.removeNode(t):(t.setAttribute("transform","translate("+(t.translateX_+(n?-1:1)*t.bBox_.width*i/2*o)+","+(t.translateY_+t.bBox_.height*i*o)+") scale("+(1-o)*i+")"),setTimeout(e.blockAnimations.disposeUiStep_,10,t,n,r,i))},e.blockAnimations.connectionUiEffect=function(t){var n=t.workspace,r=n.scale;if(n.getAudioManager().play("click"),!(1>r)){var i=n.getSvgXY(t.getSvgRoot());t.outputConnection?(i.x+=(t.RTL?3:-3)*r,i.y+=13*r):t.previousConnection&&(i.x+=(t.RTL?-23:23)*r,i.y+=3*r),t=e.utils.dom.createSvgElement(e.utils.Svg.CIRCLE,{cx:i.x,cy:i.y,r:0,fill:"none",stroke:"#888","stroke-width":10},n.getParentSvg()),e.blockAnimations.connectionUiStep_(t,new Date,r)}},e.blockAnimations.connectionUiStep_=function(t,n,r){var i=(new Date-n)/150;1<i?e.utils.dom.removeNode(t):(t.setAttribute("r",25*i*r),t.style.opacity=1-i,e.blockAnimations.disconnectPid_=setTimeout(e.blockAnimations.connectionUiStep_,10,t,n,r))},e.blockAnimations.disconnectUiEffect=function(t){if(t.workspace.getAudioManager().play("disconnect"),!(1>t.workspace.scale)){var n=t.getHeightWidth().height;n=Math.atan(10/n)/Math.PI*180,t.RTL||(n*=-1),e.blockAnimations.disconnectUiStep_(t.getSvgRoot(),n,new Date)}},e.blockAnimations.disconnectUiStep_=function(t,n,r){var i=(new Date-r)/200;1<i?t.skew_="":(t.skew_="skewX("+Math.round(Math.sin(i*Math.PI*3)*(1-i)*n)+")",e.blockAnimations.disconnectGroup_=t,e.blockAnimations.disconnectPid_=setTimeout(e.blockAnimations.disconnectUiStep_,10,t,n,r)),t.setAttribute("transform",t.translate_+t.skew_)},e.blockAnimations.disconnectUiStop=function(){if(e.blockAnimations.disconnectGroup_){clearTimeout(e.blockAnimations.disconnectPid_);var t=e.blockAnimations.disconnectGroup_;t.skew_="",t.setAttribute("transform",t.translate_),e.blockAnimations.disconnectGroup_=null}},e.Events.BlockDrag=function(t,n,r){e.Events.BlockDrag.superClass_.constructor.call(this,t?t.workspace.id:void 0),this.blockId=t?t.id:null,this.isStart=n,this.blocks=r},e.utils.object.inherits(e.Events.BlockDrag,e.Events.UiBase),e.Events.BlockDrag.prototype.type=e.Events.BLOCK_DRAG,e.Events.BlockDrag.prototype.toJson=function(){var t=e.Events.BlockDrag.superClass_.toJson.call(this);return t.isStart=this.isStart,t.blockId=this.blockId,t.blocks=this.blocks,t},e.Events.BlockDrag.prototype.fromJson=function(t){e.Events.BlockDrag.superClass_.fromJson.call(this,t),this.isStart=t.isStart,this.blockId=t.blockId,this.blocks=t.blocks},e.registry.register(e.registry.Type.EVENT,e.Events.BLOCK_DRAG,e.Events.BlockDrag),e.IBlockDragger=function(){},e.InsertionMarkerManager=function(t){this.topBlock_=e.selected=t,this.workspace_=t.workspace,this.lastMarker_=this.lastOnStack_=null,this.firstMarker_=this.createMarkerBlock_(this.topBlock_),this.localConnection_=this.closestConnection_=null,this.wouldDeleteBlock_=!1,this.fadedBlock_=this.highlightedBlock_=this.markerConnection_=null,this.availableConnections_=this.initAvailableConnections_()},e.InsertionMarkerManager.PREVIEW_TYPE={INSERTION_MARKER:0,INPUT_OUTLINE:1,REPLACEMENT_FADE:2},e.InsertionMarkerManager.DUPLICATE_BLOCK_ERROR="The insertion marker manager tried to create a marker but the result is missing %1. If you are using a mutator, make sure your domToMutation method is properly defined.",e.InsertionMarkerManager.prototype.dispose=function(){this.availableConnections_.length=0,e.Events.disable();try{this.firstMarker_&&this.firstMarker_.dispose(),this.lastMarker_&&this.lastMarker_.dispose()}finally{e.Events.enable()}},e.InsertionMarkerManager.prototype.updateAvailableConnections=function(){this.availableConnections_=this.initAvailableConnections_()},e.InsertionMarkerManager.prototype.wouldDeleteBlock=function(){return this.wouldDeleteBlock_},e.InsertionMarkerManager.prototype.wouldConnectBlock=function(){return!!this.closestConnection_},e.InsertionMarkerManager.prototype.applyConnections=function(){if(this.closestConnection_&&(e.Events.disable(),this.hidePreview_(),e.Events.enable(),this.localConnection_.connect(this.closestConnection_),this.topBlock_.rendered)){var t=this.localConnection_.isSuperior()?this.closestConnection_:this.localConnection_;e.blockAnimations.connectionUiEffect(t.getSourceBlock()),this.topBlock_.getRootBlock().bringToFront()}},e.InsertionMarkerManager.prototype.update=function(t,n){var r=this.getCandidate_(t);((this.wouldDeleteBlock_=this.shouldDelete_(r,n))||this.shouldUpdatePreviews_(r,t))&&(e.Events.disable(),this.maybeHidePreview_(r),this.maybeShowPreview_(r),e.Events.enable())},e.InsertionMarkerManager.prototype.createMarkerBlock_=function(t){var n=t.type;e.Events.disable();try{var r=this.workspace_.newBlock(n);if(r.setInsertionMarker(!0),t.mutationToDom){var i=t.mutationToDom();i&&r.domToMutation(i)}for(n=0;n<t.inputList.length;n++){var o=t.inputList[n];if(o.name!=e.constants.COLLAPSED_INPUT_NAME){var s=r.inputList[n];if(!s)throw Error(e.InsertionMarkerManager.DUPLICATE_BLOCK_ERROR.replace("%1","an input"));for(i=0;i<o.fieldRow.length;i++){var a=o.fieldRow[i],l=s.fieldRow[i];if(!l)throw Error(e.InsertionMarkerManager.DUPLICATE_BLOCK_ERROR.replace("%1","a field"));l.setValue(a.getValue())}}}r.setCollapsed(t.isCollapsed()),r.setInputsInline(t.getInputsInline()),r.initSvg(),r.getSvgRoot().setAttribute("visibility","hidden")}finally{e.Events.enable()}return r},e.InsertionMarkerManager.prototype.initAvailableConnections_=function(){var t=this.topBlock_.getConnections_(!1),n=this.topBlock_.lastConnectionInStack(!0);if(n&&n!=this.topBlock_.nextConnection){if(t.push(n),this.lastOnStack_=n,this.lastMarker_){e.Events.disable();try{this.lastMarker_.dispose()}finally{e.Events.enable()}}this.lastMarker_=this.createMarkerBlock_(n.getSourceBlock())}return t},e.InsertionMarkerManager.prototype.shouldUpdatePreviews_=function(t,n){var r=t.local,i=t.closest;return t=t.radius,r&&i?this.localConnection_&&this.closestConnection_?(this.closestConnection_!=i||this.localConnection_!=r)&&(r=this.localConnection_.x+n.x-this.closestConnection_.x,n=this.localConnection_.y+n.y-this.closestConnection_.y,n=Math.sqrt(r*r+n*n),!(i&&t>n-e.CURRENT_CONNECTION_PREFERENCE)):!this.localConnection_&&!this.closestConnection_||(console.error("Only one of localConnection_ and closestConnection_ was set."),console.error("Returning true from shouldUpdatePreviews, but it's not clear why."),!0):!(!this.localConnection_||!this.closestConnection_)},e.InsertionMarkerManager.prototype.getCandidate_=function(e){for(var t=this.getStartRadius_(),n=null,r=null,i=0;i<this.availableConnections_.length;i++){var o=this.availableConnections_[i],s=o.closest(t,e);s.connection&&(n=s.connection,r=o,t=s.radius)}return{closest:n,local:r,radius:t}},e.InsertionMarkerManager.prototype.getStartRadius_=function(){return this.closestConnection_&&this.localConnection_?e.CONNECTING_SNAP_RADIUS:e.SNAP_RADIUS},e.InsertionMarkerManager.prototype.shouldDelete_=function(t,n){return!(!n||!this.workspace_.getComponentManager().hasCapability(n.id,e.ComponentManager.Capability.DELETE_AREA))&&n.wouldDelete(this.topBlock_,t&&!!t.closest)},e.InsertionMarkerManager.prototype.maybeShowPreview_=function(e){if(!this.wouldDeleteBlock_){var t=e.closest;e=e.local,t&&(t==this.closestConnection_||t.getSourceBlock().isInsertionMarker()?console.log("Trying to connect to an insertion marker"):(this.closestConnection_=t,this.localConnection_=e,this.showPreview_()))}},e.InsertionMarkerManager.prototype.showPreview_=function(){var t=this.closestConnection_,n=this.workspace_.getRenderer();switch(n.getConnectionPreviewMethod(t,this.localConnection_,this.topBlock_)){case e.InsertionMarkerManager.PREVIEW_TYPE.INPUT_OUTLINE:this.showInsertionInputOutline_();break;case e.InsertionMarkerManager.PREVIEW_TYPE.INSERTION_MARKER:this.showInsertionMarker_();break;case e.InsertionMarkerManager.PREVIEW_TYPE.REPLACEMENT_FADE:this.showReplacementFade_()}t&&n.shouldHighlightConnection(t)&&t.highlight()},e.InsertionMarkerManager.prototype.maybeHidePreview_=function(e){if(e.closest){var t=this.closestConnection_!=e.closest;e=this.localConnection_!=e.local,this.closestConnection_&&this.localConnection_&&(t||e||this.wouldDeleteBlock_)&&this.hidePreview_()}else this.hidePreview_();this.localConnection_=this.closestConnection_=this.markerConnection_=null},e.InsertionMarkerManager.prototype.hidePreview_=function(){this.closestConnection_&&this.closestConnection_.targetBlock()&&this.workspace_.getRenderer().shouldHighlightConnection(this.closestConnection_)&&this.closestConnection_.unhighlight(),this.fadedBlock_?this.hideReplacementFade_():this.highlightedBlock_?this.hideInsertionInputOutline_():this.markerConnection_&&this.hideInsertionMarker_()},e.InsertionMarkerManager.prototype.showInsertionMarker_=function(){var e=this.localConnection_,t=this.closestConnection_,n=this.lastOnStack_&&e==this.lastOnStack_?this.lastMarker_:this.firstMarker_;if((e=n.getMatchingConnection(e.getSourceBlock(),e))==this.markerConnection_)throw Error("Made it to showInsertionMarker_ even though the marker isn't changing");n.render(),n.rendered=!0,n.getSvgRoot().setAttribute("visibility","visible"),e&&t&&n.positionNearConnection(e,t),t&&e.connect(t),this.markerConnection_=e},e.InsertionMarkerManager.prototype.hideInsertionMarker_=function(){if(this.markerConnection_){var t=this.markerConnection_,n=t.getSourceBlock(),r=n.nextConnection,i=n.previousConnection,o=n.outputConnection;if(o=t.type==e.connectionTypes.INPUT_VALUE&&!(o&&o.targetConnection),!(t!=r||i&&i.targetConnection)||o?t.targetBlock().unplug(!1):t.type==e.connectionTypes.NEXT_STATEMENT&&t!=r?((r=t.targetConnection).getSourceBlock().unplug(!1),i=i?i.targetConnection:null,n.unplug(!0),i&&i.connect(r)):n.unplug(!0),t.targetConnection)throw Error("markerConnection_ still connected at the end of disconnectInsertionMarker");this.markerConnection_=null,(t=n.getSvgRoot())&&t.setAttribute("visibility","hidden")}else console.log("No insertion marker connection to disconnect")},e.InsertionMarkerManager.prototype.showInsertionInputOutline_=function(){var e=this.closestConnection_;this.highlightedBlock_=e.getSourceBlock(),this.highlightedBlock_.highlightShapeForInput(e,!0)},e.InsertionMarkerManager.prototype.hideInsertionInputOutline_=function(){this.highlightedBlock_.highlightShapeForInput(this.closestConnection_,!1),this.highlightedBlock_=null},e.InsertionMarkerManager.prototype.showReplacementFade_=function(){this.fadedBlock_=this.closestConnection_.targetBlock(),this.fadedBlock_.fadeForReplacement(!0)},e.InsertionMarkerManager.prototype.hideReplacementFade_=function(){this.fadedBlock_.fadeForReplacement(!1),this.fadedBlock_=null},e.InsertionMarkerManager.prototype.getInsertionMarkers=function(){var e=[];return this.firstMarker_&&e.push(this.firstMarker_),this.lastMarker_&&e.push(this.lastMarker_),e},e.BlockDragger=function(t,n){this.draggingBlock_=t,this.workspace_=n,this.draggedConnectionManager_=new e.InsertionMarkerManager(this.draggingBlock_),this.dragTarget_=null,this.wouldDeleteBlock_=!1,this.startXY_=this.draggingBlock_.getRelativeToSurfaceXY(),this.dragIconData_=e.BlockDragger.initIconData_(t)},e.BlockDragger.prototype.dispose=function(){this.dragIconData_.length=0,this.draggedConnectionManager_&&this.draggedConnectionManager_.dispose()},e.BlockDragger.initIconData_=function(e){var t=[];e=e.getDescendants(!1);for(var n,r=0;n=e[r];r++){n=n.getIcons();for(var i=0;i<n.length;i++){var o={location:n[i].getIconLocation(),icon:n[i]};t.push(o)}}return t},e.BlockDragger.prototype.startDrag=function(t,n){e.Events.getGroup()||e.Events.setGroup(!0),this.fireDragStartEvent_(),this.workspace_.isMutator&&this.draggingBlock_.bringToFront(),e.utils.dom.startTextWidthCache(),this.workspace_.setResizesEnabled(!1),e.blockAnimations.disconnectUiStop(),this.shouldDisconnect_(n)&&this.disconnectBlock_(n,t),this.draggingBlock_.setDragging(!0),this.draggingBlock_.moveToDragSurface()},e.BlockDragger.prototype.shouldDisconnect_=function(e){return!!(this.draggingBlock_.getParent()||e&&this.draggingBlock_.nextConnection&&this.draggingBlock_.nextConnection.targetBlock())},e.BlockDragger.prototype.disconnectBlock_=function(t,n){this.draggingBlock_.unplug(t),t=this.pixelsToWorkspaceUnits_(n),t=e.utils.Coordinate.sum(this.startXY_,t),this.draggingBlock_.translate(t.x,t.y),e.blockAnimations.disconnectUiEffect(this.draggingBlock_),this.draggedConnectionManager_.updateAvailableConnections()},e.BlockDragger.prototype.fireDragStartEvent_=function(){var t=new(e.Events.get(e.Events.BLOCK_DRAG))(this.draggingBlock_,!0,this.draggingBlock_.getDescendants(!1));e.Events.fire(t)},e.BlockDragger.prototype.drag=function(t,n){n=this.pixelsToWorkspaceUnits_(n);var r=e.utils.Coordinate.sum(this.startXY_,n);this.draggingBlock_.moveDuringDrag(r),this.dragIcons_(n),r=this.dragTarget_,this.dragTarget_=this.workspace_.getDragTarget(t),this.draggedConnectionManager_.update(n,this.dragTarget_),t=this.wouldDeleteBlock_,this.wouldDeleteBlock_=this.draggedConnectionManager_.wouldDeleteBlock(),t!=this.wouldDeleteBlock_&&this.updateCursorDuringBlockDrag_(),this.dragTarget_!==r&&(r&&r.onDragExit(this.draggingBlock_),this.dragTarget_&&this.dragTarget_.onDragEnter(this.draggingBlock_)),this.dragTarget_&&this.dragTarget_.onDragOver(this.draggingBlock_)},e.BlockDragger.prototype.endDrag=function(t,n){if(this.drag(t,n),this.dragIconData_=[],this.fireDragEndEvent_(),e.utils.dom.stopTextWidthCache(),e.blockAnimations.disconnectUiStop(),this.dragTarget_&&this.dragTarget_.shouldPreventMove(this.draggingBlock_))t=this.startXY_;else{var r=(t=this.getNewLocationAfterDrag_(n)).delta;t=t.newLocation}this.draggingBlock_.moveOffDragSurface(t),this.dragTarget_&&this.dragTarget_.onDrop(this.draggingBlock_),this.maybeDeleteBlock_()||(this.draggingBlock_.setDragging(!1),r?this.updateBlockAfterMove_(r):e.bumpObjectIntoBounds_(this.draggingBlock_.workspace,this.workspace_.getMetricsManager().getScrollMetrics(!0),this.draggingBlock_)),this.workspace_.setResizesEnabled(!0),e.Events.setGroup(!1)},e.BlockDragger.prototype.getNewLocationAfterDrag_=function(t){var n={};return n.delta=this.pixelsToWorkspaceUnits_(t),n.newLocation=e.utils.Coordinate.sum(this.startXY_,n.delta),n},e.BlockDragger.prototype.maybeDeleteBlock_=function(){return!!this.wouldDeleteBlock_&&(this.fireMoveEvent_(),this.draggingBlock_.dispose(!1,!0),e.draggingConnections=[],!0)},e.BlockDragger.prototype.updateBlockAfterMove_=function(e){this.draggingBlock_.moveConnections(e.x,e.y),this.fireMoveEvent_(),this.draggedConnectionManager_.wouldConnectBlock()?this.draggedConnectionManager_.applyConnections():this.draggingBlock_.render(),this.draggingBlock_.scheduleSnapAndBump()},e.BlockDragger.prototype.fireDragEndEvent_=function(){var t=new(e.Events.get(e.Events.BLOCK_DRAG))(this.draggingBlock_,!1,this.draggingBlock_.getDescendants(!1));e.Events.fire(t)},e.BlockDragger.prototype.updateToolboxStyle_=function(e){var t=this.workspace_.getToolbox();if(t){var n=this.draggingBlock_.isDeletable()?"blocklyToolboxDelete":"blocklyToolboxGrab";e&&"function"==typeof t.removeStyle?t.removeStyle(n):e||"function"!=typeof t.addStyle||t.addStyle(n)}},e.BlockDragger.prototype.fireMoveEvent_=function(){var t=new(e.Events.get(e.Events.BLOCK_MOVE))(this.draggingBlock_);t.oldCoordinate=this.startXY_,t.recordNew(),e.Events.fire(t)},e.BlockDragger.prototype.updateCursorDuringBlockDrag_=function(){this.draggingBlock_.setDeleteStyle(this.wouldDeleteBlock_)},e.BlockDragger.prototype.pixelsToWorkspaceUnits_=function(t){return t=new e.utils.Coordinate(t.x/this.workspace_.scale,t.y/this.workspace_.scale),this.workspace_.isMutator&&t.scale(1/this.workspace_.options.parentWorkspace.scale),t},e.BlockDragger.prototype.dragIcons_=function(t){for(var n=0;n<this.dragIconData_.length;n++){var r=this.dragIconData_[n];r.icon.setIconLocation(e.utils.Coordinate.sum(r.location,t))}},e.BlockDragger.prototype.getInsertionMarkers=function(){return this.draggedConnectionManager_&&this.draggedConnectionManager_.getInsertionMarkers?this.draggedConnectionManager_.getInsertionMarkers():[]},e.registry.register(e.registry.Type.BLOCK_DRAGGER,e.registry.DEFAULT,e.BlockDragger),e.IContextMenu=function(){},e.IDraggable=function(){},e.IBubble=function(){},e.Bubble=function(t,n,r,i,o,s){this.workspace_=t,this.content_=n,this.shape_=r,this.onMouseDownResizeWrapper_=this.onMouseDownBubbleWrapper_=this.moveCallback_=this.resizeCallback_=null,this.disposed=!1,r=e.Bubble.ARROW_ANGLE,this.workspace_.RTL&&(r=-r),this.arrow_radians_=e.utils.math.toRadians(r),t.getBubbleCanvas().appendChild(this.createDom_(n,!(!o||!s))),this.setAnchorLocation(i),o&&s||(o=(t=this.content_.getBBox()).width+2*e.Bubble.BORDER_WIDTH,s=t.height+2*e.Bubble.BORDER_WIDTH),this.setBubbleSize(o,s),this.positionBubble_(),this.renderArrow_(),this.rendered_=!0},e.Bubble.BORDER_WIDTH=6,e.Bubble.ARROW_THICKNESS=5,e.Bubble.ARROW_ANGLE=20,e.Bubble.ARROW_BEND=4,e.Bubble.ANCHOR_RADIUS=8,e.Bubble.onMouseUpWrapper_=null,e.Bubble.onMouseMoveWrapper_=null,e.Bubble.unbindDragEvents_=function(){e.Bubble.onMouseUpWrapper_&&(e.browserEvents.unbind(e.Bubble.onMouseUpWrapper_),e.Bubble.onMouseUpWrapper_=null),e.Bubble.onMouseMoveWrapper_&&(e.browserEvents.unbind(e.Bubble.onMouseMoveWrapper_),e.Bubble.onMouseMoveWrapper_=null)},e.Bubble.bubbleMouseUp_=function(t){e.Touch.clearTouchIdentifier(),e.Bubble.unbindDragEvents_()},e.Bubble.prototype.rendered_=!1,e.Bubble.prototype.anchorXY_=null,e.Bubble.prototype.relativeLeft_=0,e.Bubble.prototype.relativeTop_=0,e.Bubble.prototype.width_=0,e.Bubble.prototype.height_=0,e.Bubble.prototype.autoLayout_=!0,e.Bubble.prototype.createDom_=function(t,n){this.bubbleGroup_=e.utils.dom.createSvgElement(e.utils.Svg.G,{},null);var r={filter:"url(#"+this.workspace_.getRenderer().getConstants().embossFilterId+")"};return e.utils.userAgent.JAVA_FX&&(r={}),r=e.utils.dom.createSvgElement(e.utils.Svg.G,r,this.bubbleGroup_),this.bubbleArrow_=e.utils.dom.createSvgElement(e.utils.Svg.PATH,{},r),this.bubbleBack_=e.utils.dom.createSvgElement(e.utils.Svg.RECT,{class:"blocklyDraggable",x:0,y:0,rx:e.Bubble.BORDER_WIDTH,ry:e.Bubble.BORDER_WIDTH},r),n?(this.resizeGroup_=e.utils.dom.createSvgElement(e.utils.Svg.G,{class:this.workspace_.RTL?"blocklyResizeSW":"blocklyResizeSE"},this.bubbleGroup_),n=2*e.Bubble.BORDER_WIDTH,e.utils.dom.createSvgElement(e.utils.Svg.POLYGON,{points:"0,x x,x x,0".replace(/x/g,n.toString())},this.resizeGroup_),e.utils.dom.createSvgElement(e.utils.Svg.LINE,{class:"blocklyResizeLine",x1:n/3,y1:n-1,x2:n-1,y2:n/3},this.resizeGroup_),e.utils.dom.createSvgElement(e.utils.Svg.LINE,{class:"blocklyResizeLine",x1:2*n/3,y1:n-1,x2:n-1,y2:2*n/3},this.resizeGroup_)):this.resizeGroup_=null,this.workspace_.options.readOnly||(this.onMouseDownBubbleWrapper_=e.browserEvents.conditionalBind(this.bubbleBack_,"mousedown",this,this.bubbleMouseDown_),this.resizeGroup_&&(this.onMouseDownResizeWrapper_=e.browserEvents.conditionalBind(this.resizeGroup_,"mousedown",this,this.resizeMouseDown_))),this.bubbleGroup_.appendChild(t),this.bubbleGroup_},e.Bubble.prototype.getSvgRoot=function(){return this.bubbleGroup_},e.Bubble.prototype.setSvgId=function(e){this.bubbleGroup_.dataset&&(this.bubbleGroup_.dataset.blockId=e)},e.Bubble.prototype.bubbleMouseDown_=function(e){var t=this.workspace_.getGesture(e);t&&t.handleBubbleStart(e,this)},e.Bubble.prototype.showContextMenu=function(e){},e.Bubble.prototype.isDeletable=function(){return!1},e.Bubble.prototype.setDeleteStyle=function(e){},e.Bubble.prototype.resizeMouseDown_=function(t){this.promote(),e.Bubble.unbindDragEvents_(),e.utils.isRightButton(t)||(this.workspace_.startDrag(t,new e.utils.Coordinate(this.workspace_.RTL?-this.width_:this.width_,this.height_)),e.Bubble.onMouseUpWrapper_=e.browserEvents.conditionalBind(document,"mouseup",this,e.Bubble.bubbleMouseUp_),e.Bubble.onMouseMoveWrapper_=e.browserEvents.conditionalBind(document,"mousemove",this,this.resizeMouseMove_),e.hideChaff()),t.stopPropagation()},e.Bubble.prototype.resizeMouseMove_=function(e){this.autoLayout_=!1,e=this.workspace_.moveDrag(e),this.setBubbleSize(this.workspace_.RTL?-e.x:e.x,e.y),this.workspace_.RTL&&this.positionBubble_()},e.Bubble.prototype.registerResizeEvent=function(e){this.resizeCallback_=e},e.Bubble.prototype.registerMoveEvent=function(e){this.moveCallback_=e},e.Bubble.prototype.promote=function(){var e=this.bubbleGroup_.parentNode;return e.lastChild!==this.bubbleGroup_&&(e.appendChild(this.bubbleGroup_),!0)},e.Bubble.prototype.setAnchorLocation=function(e){this.anchorXY_=e,this.rendered_&&this.positionBubble_()},e.Bubble.prototype.layoutBubble_=function(){var e=this.workspace_.getMetricsManager().getViewMetrics(!0),t=this.getOptimalRelativeLeft_(e),n=this.getOptimalRelativeTop_(e),r=this.shape_.getBBox(),i={x:t,y:-this.height_-this.workspace_.getRenderer().getConstants().MIN_BLOCK_HEIGHT},o={x:-this.width_-30,y:n};n={x:r.width,y:n};var s={x:t,y:r.height};t=r.width<r.height?n:s,r=r.width<r.height?s:n,n=this.getOverlap_(i,e),s=this.getOverlap_(o,e);var a=this.getOverlap_(t,e);e=this.getOverlap_(r,e),n==(e=Math.max(n,s,a,e))?(this.relativeLeft_=i.x,this.relativeTop_=i.y):s==e?(this.relativeLeft_=o.x,this.relativeTop_=o.y):a==e?(this.relativeLeft_=t.x,this.relativeTop_=t.y):(this.relativeLeft_=r.x,this.relativeTop_=r.y)},e.Bubble.prototype.getOverlap_=function(e,t){var n=this.workspace_.RTL?this.anchorXY_.x-e.x-this.width_:e.x+this.anchorXY_.x;return e=e.y+this.anchorXY_.y,Math.max(0,Math.min(1,(Math.min(n+this.width_,t.left+t.width)-Math.max(n,t.left))*(Math.min(e+this.height_,t.top+t.height)-Math.max(e,t.top))/(this.width_*this.height_)))},e.Bubble.prototype.getOptimalRelativeLeft_=function(t){var n=-this.width_/4;if(this.width_>t.width)return n;if(this.workspace_.RTL)var r=this.anchorXY_.x-n,i=r-this.width_,o=t.left+t.width,s=t.left+e.Scrollbar.scrollbarThickness/this.workspace_.scale;else r=(i=n+this.anchorXY_.x)+this.width_,s=t.left,o=t.left+t.width-e.Scrollbar.scrollbarThickness/this.workspace_.scale;return this.workspace_.RTL?i<s?n=-(s-this.anchorXY_.x+this.width_):r>o&&(n=-(o-this.anchorXY_.x)):i<s?n=s-this.anchorXY_.x:r>o&&(n=o-this.anchorXY_.x-this.width_),n},e.Bubble.prototype.getOptimalRelativeTop_=function(t){var n=-this.height_/4;if(this.height_>t.height)return n;var r=this.anchorXY_.y+n,i=r+this.height_,o=t.top;t=t.top+t.height-e.Scrollbar.scrollbarThickness/this.workspace_.scale;var s=this.anchorXY_.y;return r<o?n=o-s:i>t&&(n=t-s-this.height_),n},e.Bubble.prototype.positionBubble_=function(){var e=this.anchorXY_.x;e=this.workspace_.RTL?e-(this.relativeLeft_+this.width_):e+this.relativeLeft_,this.moveTo(e,this.relativeTop_+this.anchorXY_.y)},e.Bubble.prototype.moveTo=function(e,t){this.bubbleGroup_.setAttribute("transform","translate("+e+","+t+")")},e.Bubble.prototype.setDragging=function(e){!e&&this.moveCallback_&&this.moveCallback_()},e.Bubble.prototype.getBubbleSize=function(){return new e.utils.Size(this.width_,this.height_)},e.Bubble.prototype.setBubbleSize=function(t,n){var r=2*e.Bubble.BORDER_WIDTH;t=Math.max(t,r+45),n=Math.max(n,r+20),this.width_=t,this.height_=n,this.bubbleBack_.setAttribute("width",t),this.bubbleBack_.setAttribute("height",n),this.resizeGroup_&&(this.workspace_.RTL?this.resizeGroup_.setAttribute("transform","translate("+2*e.Bubble.BORDER_WIDTH+","+(n-r)+") scale(-1 1)"):this.resizeGroup_.setAttribute("transform","translate("+(t-r)+","+(n-r)+")")),this.autoLayout_&&this.layoutBubble_(),this.positionBubble_(),this.renderArrow_(),this.resizeCallback_&&this.resizeCallback_()},e.Bubble.prototype.renderArrow_=function(){var t=[],n=this.width_/2,r=this.height_/2,i=-this.relativeLeft_,o=-this.relativeTop_;if(n==i&&r==o)t.push("M "+n+","+r);else{o-=r,i-=n,this.workspace_.RTL&&(i*=-1);var s=Math.sqrt(o*o+i*i),a=Math.acos(i/s);0>o&&(a=2*Math.PI-a);var l=a+Math.PI/2;l>2*Math.PI&&(l-=2*Math.PI);var c=Math.sin(l),u=Math.cos(l),h=this.getBubbleSize();l=(h.width+h.height)/e.Bubble.ARROW_THICKNESS,l=Math.min(l,h.width,h.height)/4,i=n+(h=1-e.Bubble.ANCHOR_RADIUS/s)*i,o=r+h*o,h=n+l*u;var p=r+l*c;n-=l*u,r-=l*c,(c=a+this.arrow_radians_)>2*Math.PI&&(c-=2*Math.PI),a=Math.sin(c)*s/e.Bubble.ARROW_BEND,s=Math.cos(c)*s/e.Bubble.ARROW_BEND,t.push("M"+h+","+p),t.push("C"+(h+s)+","+(p+a)+" "+i+","+o+" "+i+","+o),t.push("C"+i+","+o+" "+(n+s)+","+(r+a)+" "+n+","+r)}t.push("z"),this.bubbleArrow_.setAttribute("d",t.join(" "))},e.Bubble.prototype.setColour=function(e){this.bubbleBack_.setAttribute("fill",e),this.bubbleArrow_.setAttribute("fill",e)},e.Bubble.prototype.dispose=function(){this.onMouseDownBubbleWrapper_&&e.browserEvents.unbind(this.onMouseDownBubbleWrapper_),this.onMouseDownResizeWrapper_&&e.browserEvents.unbind(this.onMouseDownResizeWrapper_),e.Bubble.unbindDragEvents_(),e.utils.dom.removeNode(this.bubbleGroup_),this.disposed=!0},e.Bubble.prototype.moveDuringDrag=function(e,t){e?e.translateSurface(t.x,t.y):this.moveTo(t.x,t.y),this.relativeLeft_=this.workspace_.RTL?this.anchorXY_.x-t.x-this.width_:t.x-this.anchorXY_.x,this.relativeTop_=t.y-this.anchorXY_.y,this.renderArrow_()},e.Bubble.prototype.getRelativeToSurfaceXY=function(){return new e.utils.Coordinate(this.workspace_.RTL?-this.relativeLeft_+this.anchorXY_.x-this.width_:this.anchorXY_.x+this.relativeLeft_,this.anchorXY_.y+this.relativeTop_)},e.Bubble.prototype.setAutoLayout=function(e){this.autoLayout_=e},e.Bubble.textToDom=function(t){var n=e.utils.dom.createSvgElement(e.utils.Svg.TEXT,{class:"blocklyText blocklyBubbleText blocklyNoPointerEvents",y:e.Bubble.BORDER_WIDTH},null);t=t.split("\n");for(var r=0;r<t.length;r++){var i=e.utils.dom.createSvgElement(e.utils.Svg.TSPAN,{dy:"1em",x:e.Bubble.BORDER_WIDTH},n),o=document.createTextNode(t[r]);i.appendChild(o)}return n},e.Bubble.createNonEditableBubble=function(t,n,r){if((r=new e.Bubble(n.workspace,t,n.pathObject.svgPath,r,null,null)).setSvgId(n.id),n.RTL){n=t.getBBox().width;for(var i,o=0;i=t.childNodes[o];o++)i.setAttribute("text-anchor","end"),i.setAttribute("x",n+e.Bubble.BORDER_WIDTH)}return r},e.Events.CommentBase=function(t){this.commentId=(this.isBlank="undefined"==typeof t)?"":t.id,this.workspaceId=this.isBlank?"":t.workspace.id,this.group=e.Events.getGroup(),this.recordUndo=e.Events.recordUndo},e.utils.object.inherits(e.Events.CommentBase,e.Events.Abstract),e.Events.CommentBase.prototype.toJson=function(){var t=e.Events.CommentBase.superClass_.toJson.call(this);return this.commentId&&(t.commentId=this.commentId),t},e.Events.CommentBase.prototype.fromJson=function(t){e.Events.CommentBase.superClass_.fromJson.call(this,t),this.commentId=t.commentId},e.Events.CommentChange=function(t,n,r){e.Events.CommentChange.superClass_.constructor.call(this,t),t&&(this.oldContents_="undefined"==typeof n?"":n,this.newContents_="undefined"==typeof r?"":r)},e.utils.object.inherits(e.Events.CommentChange,e.Events.CommentBase),e.Events.CommentChange.prototype.type=e.Events.COMMENT_CHANGE,e.Events.CommentChange.prototype.toJson=function(){var t=e.Events.CommentChange.superClass_.toJson.call(this);return t.oldContents=this.oldContents_,t.newContents=this.newContents_,t},e.Events.CommentChange.prototype.fromJson=function(t){e.Events.CommentChange.superClass_.fromJson.call(this,t),this.oldContents_=t.oldContents,this.newContents_=t.newContents},e.Events.CommentChange.prototype.isNull=function(){return this.oldContents_==this.newContents_},e.Events.CommentChange.prototype.run=function(e){var t=this.getEventWorkspace_().getCommentById(this.commentId);t?t.setContent(e?this.newContents_:this.oldContents_):console.warn("Can't change non-existent comment: "+this.commentId)},e.Events.CommentCreate=function(t){e.Events.CommentCreate.superClass_.constructor.call(this,t),t&&(this.xml=t.toXmlWithXY())},e.utils.object.inherits(e.Events.CommentCreate,e.Events.CommentBase),e.Events.CommentCreate.prototype.type=e.Events.COMMENT_CREATE,e.Events.CommentCreate.prototype.toJson=function(){var t=e.Events.CommentCreate.superClass_.toJson.call(this);return t.xml=e.Xml.domToText(this.xml),t},e.Events.CommentCreate.prototype.fromJson=function(t){e.Events.CommentCreate.superClass_.fromJson.call(this,t),this.xml=e.Xml.textToDom(t.xml)},e.Events.CommentCreate.prototype.run=function(t){e.Events.CommentCreateDeleteHelper(this,t)},e.Events.CommentCreateDeleteHelper=function(t,n){var r=t.getEventWorkspace_();n?((n=e.utils.xml.createElement("xml")).appendChild(t.xml),e.Xml.domToWorkspace(n,r)):(r=r.getCommentById(t.commentId))?r.dispose(!1,!1):console.warn("Can't uncreate non-existent comment: "+t.commentId)},e.Events.CommentDelete=function(t){e.Events.CommentDelete.superClass_.constructor.call(this,t),t&&(this.xml=t.toXmlWithXY())},e.utils.object.inherits(e.Events.CommentDelete,e.Events.CommentBase),e.Events.CommentDelete.prototype.type=e.Events.COMMENT_DELETE,e.Events.CommentDelete.prototype.toJson=function(){return e.Events.CommentDelete.superClass_.toJson.call(this)},e.Events.CommentDelete.prototype.fromJson=function(t){e.Events.CommentDelete.superClass_.fromJson.call(this,t)},e.Events.CommentDelete.prototype.run=function(t){e.Events.CommentCreateDeleteHelper(this,!t)},e.Events.CommentMove=function(t){e.Events.CommentMove.superClass_.constructor.call(this,t),t&&(this.comment_=t,this.oldCoordinate_=t.getXY(),this.newCoordinate_=null)},e.utils.object.inherits(e.Events.CommentMove,e.Events.CommentBase),e.Events.CommentMove.prototype.recordNew=function(){if(!this.comment_)throw Error("Tried to record the new position of a comment on the same event twice.");this.newCoordinate_=this.comment_.getXY(),this.comment_=null},e.Events.CommentMove.prototype.type=e.Events.COMMENT_MOVE,e.Events.CommentMove.prototype.setOldCoordinate=function(e){this.oldCoordinate_=e},e.Events.CommentMove.prototype.toJson=function(){var t=e.Events.CommentMove.superClass_.toJson.call(this);return this.oldCoordinate_&&(t.oldCoordinate=Math.round(this.oldCoordinate_.x)+","+Math.round(this.oldCoordinate_.y)),this.newCoordinate_&&(t.newCoordinate=Math.round(this.newCoordinate_.x)+","+Math.round(this.newCoordinate_.y)),t},e.Events.CommentMove.prototype.fromJson=function(t){if(e.Events.CommentMove.superClass_.fromJson.call(this,t),t.oldCoordinate){var n=t.oldCoordinate.split(",");this.oldCoordinate_=new e.utils.Coordinate(Number(n[0]),Number(n[1]))}t.newCoordinate&&(n=t.newCoordinate.split(","),this.newCoordinate_=new e.utils.Coordinate(Number(n[0]),Number(n[1])))},e.Events.CommentMove.prototype.isNull=function(){return e.utils.Coordinate.equals(this.oldCoordinate_,this.newCoordinate_)},e.Events.CommentMove.prototype.run=function(e){var t=this.getEventWorkspace_().getCommentById(this.commentId);if(t){e=e?this.newCoordinate_:this.oldCoordinate_;var n=t.getXY();t.moveBy(e.x-n.x,e.y-n.y)}else console.warn("Can't move non-existent comment: "+this.commentId)},e.registry.register(e.registry.Type.EVENT,e.Events.COMMENT_CREATE,e.Events.CommentCreate),e.registry.register(e.registry.Type.EVENT,e.Events.COMMENT_CHANGE,e.Events.CommentChange),e.registry.register(e.registry.Type.EVENT,e.Events.COMMENT_MOVE,e.Events.CommentMove),e.registry.register(e.registry.Type.EVENT,e.Events.COMMENT_DELETE,e.Events.CommentDelete),e.BubbleDragger=function(t,n){this.draggingBubble_=t,this.workspace_=n,this.dragTarget_=null,this.wouldDeleteBubble_=!1,this.startXY_=this.draggingBubble_.getRelativeToSurfaceXY(),this.dragSurface_=e.utils.is3dSupported()&&n.getBlockDragSurface()?n.getBlockDragSurface():null},e.BubbleDragger.prototype.dispose=function(){this.dragSurface_=this.workspace_=this.draggingBubble_=null},e.BubbleDragger.prototype.startBubbleDrag=function(){e.Events.getGroup()||e.Events.setGroup(!0),this.workspace_.setResizesEnabled(!1),this.draggingBubble_.setAutoLayout(!1),this.dragSurface_&&this.moveToDragSurface_(),this.draggingBubble_.setDragging&&this.draggingBubble_.setDragging(!0)},e.BubbleDragger.prototype.dragBubble=function(t,n){n=this.pixelsToWorkspaceUnits_(n),n=e.utils.Coordinate.sum(this.startXY_,n),this.draggingBubble_.moveDuringDrag(this.dragSurface_,n),n=this.dragTarget_,this.dragTarget_=this.workspace_.getDragTarget(t),t=this.wouldDeleteBubble_,this.wouldDeleteBubble_=this.shouldDelete_(this.dragTarget_),t!=this.wouldDeleteBubble_&&this.updateCursorDuringBubbleDrag_(),this.dragTarget_!==n&&(n&&n.onDragExit(this.draggingBubble_),this.dragTarget_&&this.dragTarget_.onDragEnter(this.draggingBubble_)),this.dragTarget_&&this.dragTarget_.onDragOver(this.draggingBubble_)},e.BubbleDragger.prototype.shouldDelete_=function(t){return!(!t||!this.workspace_.getComponentManager().hasCapability(t.id,e.ComponentManager.Capability.DELETE_AREA))&&t.wouldDelete(this.draggingBubble_,!1)},e.BubbleDragger.prototype.updateCursorDuringBubbleDrag_=function(){this.draggingBubble_.setDeleteStyle(this.wouldDeleteBubble_)},e.BubbleDragger.prototype.endBubbleDrag=function(t,n){this.dragBubble(t,n),this.dragTarget_&&this.dragTarget_.shouldPreventMove(this.draggingBubble_)?t=this.startXY_:(t=this.pixelsToWorkspaceUnits_(n),t=e.utils.Coordinate.sum(this.startXY_,t)),this.draggingBubble_.moveTo(t.x,t.y),this.dragTarget_&&this.dragTarget_.onDrop(this.draggingBubble_),this.wouldDeleteBubble_?(this.fireMoveEvent_(),this.draggingBubble_.dispose(!1,!0)):(this.dragSurface_&&this.dragSurface_.clearAndHide(this.workspace_.getBubbleCanvas()),this.draggingBubble_.setDragging&&this.draggingBubble_.setDragging(!1),this.fireMoveEvent_()),this.workspace_.setResizesEnabled(!0),e.Events.setGroup(!1)},e.BubbleDragger.prototype.fireMoveEvent_=function(){if(this.draggingBubble_.isComment){var t=new(e.Events.get(e.Events.COMMENT_MOVE))(this.draggingBubble_);t.setOldCoordinate(this.startXY_),t.recordNew(),e.Events.fire(t)}},e.BubbleDragger.prototype.pixelsToWorkspaceUnits_=function(t){return t=new e.utils.Coordinate(t.x/this.workspace_.scale,t.y/this.workspace_.scale),this.workspace_.isMutator&&t.scale(1/this.workspace_.options.parentWorkspace.scale),t},e.BubbleDragger.prototype.moveToDragSurface_=function(){this.draggingBubble_.moveTo(0,0),this.dragSurface_.translateSurface(this.startXY_.x,this.startXY_.y),this.dragSurface_.setBlocksAndShow(this.draggingBubble_.getSvgRoot())},e.Events.Click=function(t,n,r){e.Events.Click.superClass_.constructor.call(this,t?t.workspace.id:n),this.blockId=t?t.id:null,this.targetType=r},e.utils.object.inherits(e.Events.Click,e.Events.UiBase),e.Events.Click.prototype.type=e.Events.CLICK,e.Events.Click.prototype.toJson=function(){var t=e.Events.Click.superClass_.toJson.call(this);return t.targetType=this.targetType,this.blockId&&(t.blockId=this.blockId),t},e.Events.Click.prototype.fromJson=function(t){e.Events.Click.superClass_.fromJson.call(this,t),this.targetType=t.targetType,this.blockId=t.blockId},e.registry.register(e.registry.Type.EVENT,e.Events.CLICK,e.Events.Click),e.WorkspaceDragger=function(t){this.workspace_=t,this.horizontalScrollEnabled_=this.workspace_.isMovableHorizontally(),this.verticalScrollEnabled_=this.workspace_.isMovableVertically(),this.startScrollXY_=new e.utils.Coordinate(t.scrollX,t.scrollY)},e.WorkspaceDragger.prototype.dispose=function(){this.workspace_=null},e.WorkspaceDragger.prototype.startDrag=function(){e.selected&&e.selected.unselect(),this.workspace_.setupDragSurface()},e.WorkspaceDragger.prototype.endDrag=function(e){this.drag(e),this.workspace_.resetDragSurface()},e.WorkspaceDragger.prototype.drag=function(t){if(t=e.utils.Coordinate.sum(this.startScrollXY_,t),this.horizontalScrollEnabled_&&this.verticalScrollEnabled_)this.workspace_.scroll(t.x,t.y);else if(this.horizontalScrollEnabled_)this.workspace_.scroll(t.x,this.workspace_.scrollY);else{if(!this.verticalScrollEnabled_)throw new TypeError("Invalid state.");this.workspace_.scroll(this.workspace_.scrollX,t.y)}},e.Gesture=function(t,n){this.mouseDownXY_=null,this.currentDragDeltaXY_=new e.utils.Coordinate(0,0),this.startWorkspace_=this.targetBlock_=this.startBlock_=this.startField_=this.startBubble_=null,this.creatorWorkspace_=n,this.isDraggingBubble_=this.isDraggingBlock_=this.isDraggingWorkspace_=this.hasExceededDragRadius_=!1,this.mostRecentEvent_=t,this.flyout_=this.workspaceDragger_=this.blockDragger_=this.bubbleDragger_=this.onUpWrapper_=this.onMoveWrapper_=null,this.isEnding_=this.hasStarted_=this.calledUpdateIsDragging_=!1,this.healStack_=!e.DRAG_STACK},e.Gesture.prototype.dispose=function(){e.Touch.clearTouchIdentifier(),e.Tooltip.unblock(),this.creatorWorkspace_.clearGesture(),this.onMoveWrapper_&&e.browserEvents.unbind(this.onMoveWrapper_),this.onUpWrapper_&&e.browserEvents.unbind(this.onUpWrapper_),this.blockDragger_&&this.blockDragger_.dispose(),this.workspaceDragger_&&this.workspaceDragger_.dispose(),this.bubbleDragger_&&this.bubbleDragger_.dispose()},e.Gesture.prototype.updateFromEvent_=function(t){var n=new e.utils.Coordinate(t.clientX,t.clientY);this.updateDragDelta_(n)&&(this.updateIsDragging_(),e.longStop_()),this.mostRecentEvent_=t},e.Gesture.prototype.updateDragDelta_=function(t){return this.currentDragDeltaXY_=e.utils.Coordinate.difference(t,this.mouseDownXY_),!this.hasExceededDragRadius_&&(this.hasExceededDragRadius_=e.utils.Coordinate.magnitude(this.currentDragDeltaXY_)>(this.flyout_?e.FLYOUT_DRAG_RADIUS:e.DRAG_RADIUS))},e.Gesture.prototype.updateIsDraggingFromFlyout_=function(){return!(!this.targetBlock_||!this.flyout_.isBlockCreatable_(this.targetBlock_))&&!(this.flyout_.isScrollable()&&!this.flyout_.isDragTowardWorkspace(this.currentDragDeltaXY_))&&(this.startWorkspace_=this.flyout_.targetWorkspace,this.startWorkspace_.updateScreenCalculationsIfScrolled(),e.Events.getGroup()||e.Events.setGroup(!0),this.startBlock_=null,this.targetBlock_=this.flyout_.createBlock(this.targetBlock_),this.targetBlock_.select(),!0)},e.Gesture.prototype.updateIsDraggingBubble_=function(){return!!this.startBubble_&&(this.isDraggingBubble_=!0,this.startDraggingBubble_(),!0)},e.Gesture.prototype.updateIsDraggingBlock_=function(){return!!this.targetBlock_&&(this.flyout_?this.isDraggingBlock_=this.updateIsDraggingFromFlyout_():this.targetBlock_.isMovable()&&(this.isDraggingBlock_=!0),!!this.isDraggingBlock_&&(this.startDraggingBlock_(),!0))},e.Gesture.prototype.updateIsDraggingWorkspace_=function(){(this.flyout_?this.flyout_.isScrollable():this.startWorkspace_&&this.startWorkspace_.isDraggable())&&(this.workspaceDragger_=new e.WorkspaceDragger(this.startWorkspace_),this.isDraggingWorkspace_=!0,this.workspaceDragger_.startDrag())},e.Gesture.prototype.updateIsDragging_=function(){if(this.calledUpdateIsDragging_)throw Error("updateIsDragging_ should only be called once per gesture.");this.calledUpdateIsDragging_=!0,this.updateIsDraggingBubble_()||this.updateIsDraggingBlock_()||this.updateIsDraggingWorkspace_()},e.Gesture.prototype.startDraggingBlock_=function(){this.blockDragger_=new(e.registry.getClassFromOptions(e.registry.Type.BLOCK_DRAGGER,this.creatorWorkspace_.options,!0))(this.targetBlock_,this.startWorkspace_),this.blockDragger_.startDrag(this.currentDragDeltaXY_,this.healStack_),this.blockDragger_.drag(this.mostRecentEvent_,this.currentDragDeltaXY_)},e.Gesture.prototype.startDraggingBubble_=function(){this.bubbleDragger_=new e.BubbleDragger(this.startBubble_,this.startWorkspace_),this.bubbleDragger_.startBubbleDrag(),this.bubbleDragger_.dragBubble(this.mostRecentEvent_,this.currentDragDeltaXY_)},e.Gesture.prototype.doStart=function(t){e.utils.isTargetInput(t)?this.cancel():(this.hasStarted_=!0,e.blockAnimations.disconnectUiStop(),this.startWorkspace_.updateScreenCalculationsIfScrolled(),this.startWorkspace_.isMutator&&this.startWorkspace_.resize(),e.hideChaff(!!this.flyout_),this.startWorkspace_.markFocused(),this.mostRecentEvent_=t,e.Tooltip.block(),this.targetBlock_&&this.targetBlock_.select(),e.utils.isRightButton(t)?this.handleRightClick(t):("touchstart"!=t.type.toLowerCase()&&"pointerdown"!=t.type.toLowerCase()||"mouse"==t.pointerType||e.longStart(t,this),this.mouseDownXY_=new e.utils.Coordinate(t.clientX,t.clientY),this.healStack_=t.altKey||t.ctrlKey||t.metaKey,this.bindMouseEvents(t)))},e.Gesture.prototype.bindMouseEvents=function(t){this.onMoveWrapper_=e.browserEvents.conditionalBind(document,"mousemove",null,this.handleMove.bind(this)),this.onUpWrapper_=e.browserEvents.conditionalBind(document,"mouseup",null,this.handleUp.bind(this)),t.preventDefault(),t.stopPropagation()},e.Gesture.prototype.handleMove=function(e){this.updateFromEvent_(e),this.isDraggingWorkspace_?this.workspaceDragger_.drag(this.currentDragDeltaXY_):this.isDraggingBlock_?this.blockDragger_.drag(this.mostRecentEvent_,this.currentDragDeltaXY_):this.isDraggingBubble_&&this.bubbleDragger_.dragBubble(this.mostRecentEvent_,this.currentDragDeltaXY_),e.preventDefault(),e.stopPropagation()},e.Gesture.prototype.handleUp=function(t){this.updateFromEvent_(t),e.longStop_(),this.isEnding_?console.log("Trying to end a gesture recursively."):(this.isEnding_=!0,this.isDraggingBubble_?this.bubbleDragger_.endBubbleDrag(t,this.currentDragDeltaXY_):this.isDraggingBlock_?this.blockDragger_.endDrag(t,this.currentDragDeltaXY_):this.isDraggingWorkspace_?this.workspaceDragger_.endDrag(this.currentDragDeltaXY_):this.isBubbleClick_()?this.doBubbleClick_():this.isFieldClick_()?this.doFieldClick_():this.isBlockClick_()?this.doBlockClick_():this.isWorkspaceClick_()&&this.doWorkspaceClick_(t),t.preventDefault(),t.stopPropagation(),this.dispose())},e.Gesture.prototype.cancel=function(){this.isEnding_||(e.longStop_(),this.isDraggingBubble_?this.bubbleDragger_.endBubbleDrag(this.mostRecentEvent_,this.currentDragDeltaXY_):this.isDraggingBlock_?this.blockDragger_.endDrag(this.mostRecentEvent_,this.currentDragDeltaXY_):this.isDraggingWorkspace_&&this.workspaceDragger_.endDrag(this.currentDragDeltaXY_),this.dispose())},e.Gesture.prototype.handleRightClick=function(t){this.targetBlock_?(this.bringBlockToFront_(),e.hideChaff(!!this.flyout_),this.targetBlock_.showContextMenu(t)):this.startBubble_?this.startBubble_.showContextMenu(t):this.startWorkspace_&&!this.flyout_&&(e.hideChaff(),this.startWorkspace_.showContextMenu(t)),t.preventDefault(),t.stopPropagation(),this.dispose()},e.Gesture.prototype.handleWsStart=function(e,t){if(this.hasStarted_)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");this.setStartWorkspace_(t),this.mostRecentEvent_=e,this.doStart(e)},e.Gesture.prototype.fireWorkspaceClick_=function(t){e.Events.fire(new(e.Events.get(e.Events.CLICK))(null,t.id,"workspace"))},e.Gesture.prototype.handleFlyoutStart=function(e,t){if(this.hasStarted_)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");this.setStartFlyout_(t),this.handleWsStart(e,t.getWorkspace())},e.Gesture.prototype.handleBlockStart=function(e,t){if(this.hasStarted_)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");this.setStartBlock(t),this.mostRecentEvent_=e},e.Gesture.prototype.handleBubbleStart=function(e,t){if(this.hasStarted_)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");this.setStartBubble(t),this.mostRecentEvent_=e},e.Gesture.prototype.doBubbleClick_=function(){this.startBubble_.setFocus&&this.startBubble_.setFocus(),this.startBubble_.select&&this.startBubble_.select()},e.Gesture.prototype.doFieldClick_=function(){this.startField_.showEditor(this.mostRecentEvent_),this.bringBlockToFront_()},e.Gesture.prototype.doBlockClick_=function(){if(this.flyout_&&this.flyout_.autoClose)this.targetBlock_.isEnabled()&&(e.Events.getGroup()||e.Events.setGroup(!0),this.flyout_.createBlock(this.targetBlock_).scheduleSnapAndBump());else{var t=new(e.Events.get(e.Events.CLICK))(this.startBlock_,this.startWorkspace_.id,"block");e.Events.fire(t)}this.bringBlockToFront_(),e.Events.setGroup(!1)},e.Gesture.prototype.doWorkspaceClick_=function(t){t=this.creatorWorkspace_,e.selected&&e.selected.unselect(),this.fireWorkspaceClick_(this.startWorkspace_||t)},e.Gesture.prototype.bringBlockToFront_=function(){this.targetBlock_&&!this.flyout_&&this.targetBlock_.bringToFront()},e.Gesture.prototype.setStartField=function(e){if(this.hasStarted_)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");this.startField_||(this.startField_=e)},e.Gesture.prototype.setStartBubble=function(e){this.startBubble_||(this.startBubble_=e)},e.Gesture.prototype.setStartBlock=function(e){this.startBlock_||this.startBubble_||(this.startBlock_=e,e.isInFlyout&&e!=e.getRootBlock()?this.setTargetBlock_(e.getRootBlock()):this.setTargetBlock_(e))},e.Gesture.prototype.setTargetBlock_=function(e){e.isShadow()?this.setTargetBlock_(e.getParent()):this.targetBlock_=e},e.Gesture.prototype.setStartWorkspace_=function(e){this.startWorkspace_||(this.startWorkspace_=e)},e.Gesture.prototype.setStartFlyout_=function(e){this.flyout_||(this.flyout_=e)},e.Gesture.prototype.isBubbleClick_=function(){return!!this.startBubble_&&!this.hasExceededDragRadius_},e.Gesture.prototype.isBlockClick_=function(){return!!this.startBlock_&&!this.hasExceededDragRadius_&&!this.isFieldClick_()},e.Gesture.prototype.isFieldClick_=function(){return!!this.startField_&&this.startField_.isClickable()&&!this.hasExceededDragRadius_&&(!this.flyout_||!this.flyout_.autoClose)},e.Gesture.prototype.isWorkspaceClick_=function(){return!this.startBlock_&&!this.startBubble_&&!this.startField_&&!this.hasExceededDragRadius_},e.Gesture.prototype.isDragging=function(){return this.isDraggingWorkspace_||this.isDraggingBlock_||this.isDraggingBubble_},e.Gesture.prototype.hasStarted=function(){return this.hasStarted_},e.Gesture.prototype.getInsertionMarkers=function(){return this.blockDragger_?this.blockDragger_.getInsertionMarkers():[]},e.Gesture.prototype.getCurrentDragger=function(){return this.isDraggingBlock_?this.blockDragger_:this.isDraggingWorkspace_?this.workspaceDragger_:this.isDraggingBubble_?this.bubbleDragger_:null},e.Gesture.inProgress=function(){for(var t,n=e.Workspace.getAll(),r=0;t=n[r];r++)if(t.currentGesture_)return!0;return!1},e.IRegistrable=function(){},e.Marker=function(){this.drawer_=this.curNode_=this.colour=null,this.type="marker"},e.Marker.prototype.setDrawer=function(e){this.drawer_=e},e.Marker.prototype.getDrawer=function(){return this.drawer_},e.Marker.prototype.getCurNode=function(){return this.curNode_},e.Marker.prototype.setCurNode=function(e){var t=this.curNode_;this.curNode_=e,this.drawer_&&this.drawer_.draw(t,this.curNode_)},e.Marker.prototype.draw=function(){this.drawer_&&this.drawer_.draw(this.curNode_,this.curNode_)},e.Marker.prototype.hide=function(){this.drawer_&&this.drawer_.hide()},e.Marker.prototype.dispose=function(){this.getDrawer()&&this.getDrawer().dispose()},e.Cursor=function(){e.Cursor.superClass_.constructor.call(this),this.type="cursor"},e.utils.object.inherits(e.Cursor,e.Marker),e.Cursor.prototype.next=function(){var t=this.getCurNode();if(!t)return null;for(t=t.next();t&&t.next()&&(t.getType()==e.ASTNode.types.NEXT||t.getType()==e.ASTNode.types.BLOCK);)t=t.next();return t&&this.setCurNode(t),t},e.Cursor.prototype.in=function(){var t=this.getCurNode();return t?(t.getType()!=e.ASTNode.types.PREVIOUS&&t.getType()!=e.ASTNode.types.OUTPUT||(t=t.next()),(t=t.in())&&this.setCurNode(t),t):null},e.Cursor.prototype.prev=function(){var t=this.getCurNode();if(!t)return null;for(t=t.prev();t&&t.prev()&&(t.getType()==e.ASTNode.types.NEXT||t.getType()==e.ASTNode.types.BLOCK);)t=t.prev();return t&&this.setCurNode(t),t},e.Cursor.prototype.out=function(){var t=this.getCurNode();return t?((t=t.out())&&t.getType()==e.ASTNode.types.BLOCK&&(t=t.prev()||t),t&&this.setCurNode(t),t):null},e.registry.register(e.registry.Type.CURSOR,e.registry.DEFAULT,e.Cursor),e.MarkerManager=function(e){this.cursorSvg_=this.cursor_=null,this.markers_=Object.create(null),this.workspace_=e},e.MarkerManager.LOCAL_MARKER="local_marker_1",e.MarkerManager.prototype.registerMarker=function(e,t){this.markers_[e]&&this.unregisterMarker(e),t.setDrawer(this.workspace_.getRenderer().makeMarkerDrawer(this.workspace_,t)),this.setMarkerSvg(t.getDrawer().createDom()),this.markers_[e]=t},e.MarkerManager.prototype.unregisterMarker=function(e){var t=this.markers_[e];if(!t)throw Error("Marker with ID "+e+" does not exist. Can only unregister markers that exist.");t.dispose(),delete this.markers_[e]},e.MarkerManager.prototype.getCursor=function(){return this.cursor_},e.MarkerManager.prototype.getMarker=function(e){return this.markers_[e]||null},e.MarkerManager.prototype.setCursor=function(e){this.cursor_&&this.cursor_.getDrawer()&&this.cursor_.getDrawer().dispose(),(this.cursor_=e)&&(e=this.workspace_.getRenderer().makeMarkerDrawer(this.workspace_,this.cursor_),this.cursor_.setDrawer(e),this.setCursorSvg(this.cursor_.getDrawer().createDom()))},e.MarkerManager.prototype.setCursorSvg=function(e){e?(this.workspace_.getBlockCanvas().appendChild(e),this.cursorSvg_=e):this.cursorSvg_=null},e.MarkerManager.prototype.setMarkerSvg=function(e){e?this.workspace_.getBlockCanvas()&&(this.cursorSvg_?this.workspace_.getBlockCanvas().insertBefore(e,this.cursorSvg_):this.workspace_.getBlockCanvas().appendChild(e)):this.markerSvg_=null},e.MarkerManager.prototype.updateMarkers=function(){this.workspace_.keyboardAccessibilityMode&&this.cursorSvg_&&this.workspace_.getCursor().draw()},e.MarkerManager.prototype.dispose=function(){for(var e,t=Object.keys(this.markers_),n=0;e=t[n];n++)this.unregisterMarker(e);this.markers_=null,this.cursor_&&(this.cursor_.dispose(),this.cursor_=null)},e.WidgetDiv={},e.WidgetDiv.owner_=null,e.WidgetDiv.dispose_=null,e.WidgetDiv.rendererClassName_="",e.WidgetDiv.themeClassName_="",e.WidgetDiv.createDom=function(){e.WidgetDiv.DIV||(e.WidgetDiv.DIV=document.createElement("div"),e.WidgetDiv.DIV.className="blocklyWidgetDiv",(e.parentContainer||document.body).appendChild(e.WidgetDiv.DIV))},e.WidgetDiv.show=function(t,n,r){e.WidgetDiv.hide(),e.WidgetDiv.owner_=t,e.WidgetDiv.dispose_=r,(t=e.WidgetDiv.DIV).style.direction=n?"rtl":"ltr",t.style.display="block",n=e.getMainWorkspace(),e.WidgetDiv.rendererClassName_=n.getRenderer().getClassName(),e.WidgetDiv.themeClassName_=n.getTheme().getClassName(),e.utils.dom.addClass(t,e.WidgetDiv.rendererClassName_),e.utils.dom.addClass(t,e.WidgetDiv.themeClassName_)},e.WidgetDiv.hide=function(){if(e.WidgetDiv.isVisible()){e.WidgetDiv.owner_=null;var t=e.WidgetDiv.DIV;t.style.display="none",t.style.left="",t.style.top="",e.WidgetDiv.dispose_&&e.WidgetDiv.dispose_(),e.WidgetDiv.dispose_=null,t.textContent="",e.WidgetDiv.rendererClassName_&&(e.utils.dom.removeClass(t,e.WidgetDiv.rendererClassName_),e.WidgetDiv.rendererClassName_=""),e.WidgetDiv.themeClassName_&&(e.utils.dom.removeClass(t,e.WidgetDiv.themeClassName_),e.WidgetDiv.themeClassName_=""),e.getMainWorkspace().markFocused()}},e.WidgetDiv.isVisible=function(){return!!e.WidgetDiv.owner_},e.WidgetDiv.hideIfOwner=function(t){e.WidgetDiv.owner_==t&&e.WidgetDiv.hide()},e.WidgetDiv.positionInternal_=function(t,n,r){e.WidgetDiv.DIV.style.left=t+"px",e.WidgetDiv.DIV.style.top=n+"px",e.WidgetDiv.DIV.style.height=r+"px"},e.WidgetDiv.positionWithAnchor=function(t,n,r,i){var o=e.WidgetDiv.calculateY_(t,n,r);t=e.WidgetDiv.calculateX_(t,n,r,i),0>o?e.WidgetDiv.positionInternal_(t,0,r.height+o):e.WidgetDiv.positionInternal_(t,o,r.height)},e.WidgetDiv.calculateX_=function(e,t,n,r){return r?(t=Math.max(t.right-n.width,e.left),Math.min(t,e.right-n.width)):(t=Math.min(t.left,e.right-n.width),Math.max(t,e.left))},e.WidgetDiv.calculateY_=function(e,t,n){return t.bottom+n.height>=e.bottom?t.top-n.height:t.bottom},e.Field=function(t,n,r){this.value_=this.DEFAULT_VALUE,this.tooltip_=this.validator_=null,this.size_=new e.utils.Size(0,0),this.constants_=this.mouseDownWrapper_=this.textContent_=this.textElement_=this.borderRect_=this.fieldGroup_=this.markerSvg_=this.cursorSvg_=null,r&&this.configure_(r),this.setValue(t),n&&this.setValidator(n)},e.Field.prototype.DEFAULT_VALUE=null,e.Field.prototype.name=void 0,e.Field.prototype.disposed=!1,e.Field.prototype.maxDisplayLength=50,e.Field.prototype.sourceBlock_=null,e.Field.prototype.isDirty_=!0,e.Field.prototype.visible_=!0,e.Field.prototype.clickTarget_=null,e.Field.NBSP="\xa0",e.Field.prototype.EDITABLE=!0,e.Field.prototype.SERIALIZABLE=!1,e.Field.prototype.configure_=function(t){var n=t.tooltip;"string"==typeof n&&(n=e.utils.replaceMessageReferences(t.tooltip)),n&&this.setTooltip(n)},e.Field.prototype.setSourceBlock=function(e){if(this.sourceBlock_)throw Error("Field already bound to a block.");this.sourceBlock_=e},e.Field.prototype.getConstants=function(){return!this.constants_&&this.sourceBlock_&&this.sourceBlock_.workspace&&this.sourceBlock_.workspace.rendered&&(this.constants_=this.sourceBlock_.workspace.getRenderer().getConstants()),this.constants_},e.Field.prototype.getSourceBlock=function(){return this.sourceBlock_},e.Field.prototype.init=function(){this.fieldGroup_||(this.fieldGroup_=e.utils.dom.createSvgElement(e.utils.Svg.G,{},null),this.isVisible()||(this.fieldGroup_.style.display="none"),this.sourceBlock_.getSvgRoot().appendChild(this.fieldGroup_),this.initView(),this.updateEditable(),this.setTooltip(this.tooltip_),this.bindEvents_(),this.initModel())},e.Field.prototype.initView=function(){this.createBorderRect_(),this.createTextElement_()},e.Field.prototype.initModel=function(){},e.Field.prototype.createBorderRect_=function(){this.borderRect_=e.utils.dom.createSvgElement(e.utils.Svg.RECT,{rx:this.getConstants().FIELD_BORDER_RECT_RADIUS,ry:this.getConstants().FIELD_BORDER_RECT_RADIUS,x:0,y:0,height:this.size_.height,width:this.size_.width,class:"blocklyFieldRect"},this.fieldGroup_)},e.Field.prototype.createTextElement_=function(){this.textElement_=e.utils.dom.createSvgElement(e.utils.Svg.TEXT,{class:"blocklyText"},this.fieldGroup_),this.getConstants().FIELD_TEXT_BASELINE_CENTER&&this.textElement_.setAttribute("dominant-baseline","central"),this.textContent_=document.createTextNode(""),this.textElement_.appendChild(this.textContent_)},e.Field.prototype.bindEvents_=function(){e.Tooltip.bindMouseEvents(this.getClickTarget_()),this.mouseDownWrapper_=e.browserEvents.conditionalBind(this.getClickTarget_(),"mousedown",this,this.onMouseDown_)},e.Field.prototype.fromXml=function(e){this.setValue(e.textContent)},e.Field.prototype.toXml=function(e){return e.textContent=this.getValue(),e},e.Field.prototype.dispose=function(){e.DropDownDiv.hideIfOwner(this),e.WidgetDiv.hideIfOwner(this),e.Tooltip.unbindMouseEvents(this.getClickTarget_()),this.mouseDownWrapper_&&e.browserEvents.unbind(this.mouseDownWrapper_),e.utils.dom.removeNode(this.fieldGroup_),this.disposed=!0},e.Field.prototype.updateEditable=function(){var t=this.fieldGroup_;this.EDITABLE&&t&&(this.sourceBlock_.isEditable()?(e.utils.dom.addClass(t,"blocklyEditableText"),e.utils.dom.removeClass(t,"blocklyNonEditableText"),t.style.cursor=this.CURSOR):(e.utils.dom.addClass(t,"blocklyNonEditableText"),e.utils.dom.removeClass(t,"blocklyEditableText"),t.style.cursor=""))},e.Field.prototype.isClickable=function(){return!!this.sourceBlock_&&this.sourceBlock_.isEditable()&&!!this.showEditor_&&"function"===typeof this.showEditor_},e.Field.prototype.isCurrentlyEditable=function(){return this.EDITABLE&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()},e.Field.prototype.isSerializable=function(){var e=!1;return this.name&&(this.SERIALIZABLE?e=!0:this.EDITABLE&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),e=!0)),e},e.Field.prototype.isVisible=function(){return this.visible_},e.Field.prototype.setVisible=function(e){if(this.visible_!=e){this.visible_=e;var t=this.getSvgRoot();t&&(t.style.display=e?"block":"none")}},e.Field.prototype.setValidator=function(e){this.validator_=e},e.Field.prototype.getValidator=function(){return this.validator_},e.Field.prototype.getSvgRoot=function(){return this.fieldGroup_},e.Field.prototype.applyColour=function(){},e.Field.prototype.render_=function(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_()),this.updateSize_()},e.Field.prototype.showEditor=function(e){this.isClickable()&&this.showEditor_(e)},e.Field.prototype.updateSize_=function(t){var n=this.getConstants(),r=2*(t=void 0!=t?t:this.borderRect_?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0),i=n.FIELD_TEXT_HEIGHT,o=0;this.textElement_&&(r+=o=e.utils.dom.getFastTextWidth(this.textElement_,n.FIELD_TEXT_FONTSIZE,n.FIELD_TEXT_FONTWEIGHT,n.FIELD_TEXT_FONTFAMILY)),this.borderRect_&&(i=Math.max(i,n.FIELD_BORDER_RECT_HEIGHT)),this.size_.height=i,this.size_.width=r,this.positionTextElement_(t,o),this.positionBorderRect_()},e.Field.prototype.positionTextElement_=function(e,t){if(this.textElement_){var n=this.getConstants(),r=this.size_.height/2;this.textElement_.setAttribute("x",this.sourceBlock_.RTL?this.size_.width-t-e:e),this.textElement_.setAttribute("y",n.FIELD_TEXT_BASELINE_CENTER?r:r-n.FIELD_TEXT_HEIGHT/2+n.FIELD_TEXT_BASELINE)}},e.Field.prototype.positionBorderRect_=function(){this.borderRect_&&(this.borderRect_.setAttribute("width",this.size_.width),this.borderRect_.setAttribute("height",this.size_.height),this.borderRect_.setAttribute("rx",this.getConstants().FIELD_BORDER_RECT_RADIUS),this.borderRect_.setAttribute("ry",this.getConstants().FIELD_BORDER_RECT_RADIUS))},e.Field.prototype.getSize=function(){return this.isVisible()?(this.isDirty_?(this.render_(),this.isDirty_=!1):this.visible_&&0==this.size_.width&&(console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead."),this.render_()),this.size_):new e.utils.Size(0,0)},e.Field.prototype.getScaledBBox=function(){if(this.borderRect_)t=this.borderRect_.getBoundingClientRect(),r=e.utils.style.getPageOffset(this.borderRect_),i=t.width,t=t.height;else{var t=this.sourceBlock_.getHeightWidth(),n=this.sourceBlock_.workspace.scale,r=this.getAbsoluteXY_(),i=t.width*n;t=t.height*n,e.utils.userAgent.GECKO?(r.x+=1.5*n,r.y+=1.5*n):e.utils.userAgent.EDGE||e.utils.userAgent.IE||(r.x-=.5*n,r.y-=.5*n),i+=1*n,t+=1*n}return new e.utils.Rect(r.y,r.y+t,r.x,r.x+i)},e.Field.prototype.getDisplayText_=function(){var t=this.getText();return t?(t.length>this.maxDisplayLength&&(t=t.substring(0,this.maxDisplayLength-2)+"\u2026"),t=t.replace(/\s/g,e.Field.NBSP),this.sourceBlock_&&this.sourceBlock_.RTL&&(t+="\u200f"),t):e.Field.NBSP},e.Field.prototype.getText=function(){if(this.getText_){var e=this.getText_.call(this);if(null!==e)return String(e)}return String(this.getValue())},e.Field.prototype.markDirty=function(){this.isDirty_=!0,this.constants_=null},e.Field.prototype.forceRerender=function(){this.isDirty_=!0,this.sourceBlock_&&this.sourceBlock_.rendered&&(this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours(),this.updateMarkers_())},e.Field.prototype.setValue=function(t){if(null!==t){var n=this.doClassValidation_(t);if(!((t=this.processValidation_(t,n))instanceof Error)){if((n=this.getValidator())&&(n=n.call(this,t),(t=this.processValidation_(t,n))instanceof Error))return;if(!(n=this.sourceBlock_)||!n.disposed){var r=this.getValue();r===t?this.doValueUpdate_(t):(n&&e.Events.isEnabled()&&e.Events.fire(new(e.Events.get(e.Events.BLOCK_CHANGE))(n,"field",this.name||null,r,t)),this.doValueUpdate_(t),this.isDirty_&&this.forceRerender())}}}},e.Field.prototype.processValidation_=function(e,t){return null===t?(this.doValueInvalid_(e),this.isDirty_&&this.forceRerender(),Error()):(void 0!==t&&(e=t),e)},e.Field.prototype.getValue=function(){return this.value_},e.Field.prototype.doClassValidation_=function(e){return null===e||void 0===e?null:e},e.Field.prototype.doValueUpdate_=function(e){this.value_=e,this.isDirty_=!0},e.Field.prototype.doValueInvalid_=function(e){},e.Field.prototype.onMouseDown_=function(e){this.sourceBlock_&&this.sourceBlock_.workspace&&(e=this.sourceBlock_.workspace.getGesture(e))&&e.setStartField(this)},e.Field.prototype.setTooltip=function(e){e||""===e||(e=this.sourceBlock_);var t=this.getClickTarget_();t?t.tooltip=e:this.tooltip_=e},e.Field.prototype.getTooltip=function(){var t=this.getClickTarget_();return t?e.Tooltip.getTooltipOfObject(t):e.Tooltip.getTooltipOfObject({tooltip:this.tooltip_})},e.Field.prototype.getClickTarget_=function(){return this.clickTarget_||this.getSvgRoot()},e.Field.prototype.getAbsoluteXY_=function(){return e.utils.style.getPageOffset(this.getClickTarget_())},e.Field.prototype.referencesVariables=function(){return!1},e.Field.prototype.getParentInput=function(){for(var e=null,t=this.sourceBlock_,n=t.inputList,r=0;r<t.inputList.length;r++)for(var i=n[r],o=i.fieldRow,s=0;s<o.length;s++)if(o[s]===this){e=i;break}return e},e.Field.prototype.getFlipRtl=function(){return!1},e.Field.prototype.isTabNavigable=function(){return!1},e.Field.prototype.onShortcut=function(e){return!1},e.Field.prototype.setCursorSvg=function(e){e?(this.fieldGroup_.appendChild(e),this.cursorSvg_=e):this.cursorSvg_=null},e.Field.prototype.setMarkerSvg=function(e){e?(this.fieldGroup_.appendChild(e),this.markerSvg_=e):this.markerSvg_=null},e.Field.prototype.updateMarkers_=function(){var t=this.sourceBlock_.workspace;t.keyboardAccessibilityMode&&this.cursorSvg_&&t.getCursor().draw(),t.keyboardAccessibilityMode&&this.markerSvg_&&t.getMarker(e.MarkerManager.LOCAL_MARKER).draw()},e.FieldLabel=function(t,n,r){this.class_=null,e.FieldLabel.superClass_.constructor.call(this,t,null,r),r||(this.class_=n||null)},e.utils.object.inherits(e.FieldLabel,e.Field),e.FieldLabel.prototype.DEFAULT_VALUE="",e.FieldLabel.fromJson=function(t){var n=e.utils.replaceMessageReferences(t.text);return new e.FieldLabel(n,void 0,t)},e.FieldLabel.prototype.EDITABLE=!1,e.FieldLabel.prototype.configure_=function(t){e.FieldLabel.superClass_.configure_.call(this,t),this.class_=t.class},e.FieldLabel.prototype.initView=function(){this.createTextElement_(),this.class_&&e.utils.dom.addClass(this.textElement_,this.class_)},e.FieldLabel.prototype.doClassValidation_=function(e){return null===e||void 0===e?null:String(e)},e.FieldLabel.prototype.setClass=function(t){this.textElement_&&(this.class_&&e.utils.dom.removeClass(this.textElement_,this.class_),t&&e.utils.dom.addClass(this.textElement_,t)),this.class_=t},e.fieldRegistry.register("field_label",e.FieldLabel),e.Input=function(t,n,r,i){if(t!=e.inputTypes.DUMMY&&!n)throw Error("Value inputs and statement inputs must have non-empty name.");this.type=t,this.name=n,this.sourceBlock_=r,this.connection=i,this.fieldRow=[]},e.Input.prototype.align=e.constants.ALIGN.LEFT,e.Input.prototype.visible_=!0,e.Input.prototype.getSourceBlock=function(){return this.sourceBlock_},e.Input.prototype.appendField=function(e,t){return this.insertFieldAt(this.fieldRow.length,e,t),this},e.Input.prototype.insertFieldAt=function(t,n,r){if(0>t||t>this.fieldRow.length)throw Error("index "+t+" out of bounds.");return n||""==n&&r?("string"==typeof n&&(n=e.fieldRegistry.fromJson({type:"field_label",text:n})),n.setSourceBlock(this.sourceBlock_),this.sourceBlock_.rendered&&(n.init(),n.applyColour()),n.name=r,n.setVisible(this.isVisible()),n.prefixField&&(t=this.insertFieldAt(t,n.prefixField)),this.fieldRow.splice(t,0,n),++t,n.suffixField&&(t=this.insertFieldAt(t,n.suffixField)),this.sourceBlock_.rendered&&(this.sourceBlock_=this.sourceBlock_,this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours()),t):t},e.Input.prototype.removeField=function(e,t){for(var n,r=0;n=this.fieldRow[r];r++)if(n.name===e)return n.dispose(),this.fieldRow.splice(r,1),this.sourceBlock_.rendered&&(this.sourceBlock_=this.sourceBlock_,this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours()),!0;if(t)return!1;throw Error('Field "'+e+'" not found.')},e.Input.prototype.isVisible=function(){return this.visible_},e.Input.prototype.setVisible=function(e){var t=[];if(this.visible_==e)return t;this.visible_=e;for(var n,r=0;n=this.fieldRow[r];r++)n.setVisible(e);return this.connection&&(this.connection=this.connection,e?t=this.connection.startTrackingAll():this.connection.stopTrackingAll(),r=this.connection.targetBlock())&&(r.getSvgRoot().style.display=e?"block":"none"),t},e.Input.prototype.markDirty=function(){for(var e,t=0;e=this.fieldRow[t];t++)e.markDirty()},e.Input.prototype.setCheck=function(e){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setCheck(e),this},e.Input.prototype.setAlign=function(e){return this.align=e,this.sourceBlock_.rendered&&(this.sourceBlock_=this.sourceBlock_,this.sourceBlock_.render()),this},e.Input.prototype.setShadowDom=function(e){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setShadowDom(e),this},e.Input.prototype.getShadowDom=function(){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.getShadowDom()},e.Input.prototype.init=function(){if(this.sourceBlock_.workspace.rendered)for(var e=0;e<this.fieldRow.length;e++)this.fieldRow[e].init()},e.Input.prototype.dispose=function(){for(var e,t=0;e=this.fieldRow[t];t++)e.dispose();this.connection&&this.connection.dispose(),this.sourceBlock_=null},e.Block=function(t,n,r){if(e.Generator&&"undefined"!=typeof e.Generator.prototype[n])throw Error('Block prototypeName "'+n+'" conflicts with Blockly.Generator members.');if(this.id=r&&!t.getBlockById(r)?r:e.utils.genUid(),t.setBlockById(this.id,this),this.previousConnection=this.nextConnection=this.outputConnection=null,this.inputList=[],this.inputsInline=void 0,this.disabled=!1,this.tooltip="",this.contextMenu=!0,this.parentBlock_=null,this.childBlocks_=[],this.editable_=this.movable_=this.deletable_=!0,this.collapsed_=this.isShadow_=!1,this.comment=this.outputShape_=null,this.commentModel={text:null,pinned:!1,size:new e.utils.Size(160,80)},this.xy_=new e.utils.Coordinate(0,0),this.workspace=t,this.isInFlyout=t.isFlyout,this.isInMutator=t.isMutator,this.RTL=t.RTL,this.isInsertionMarker_=!1,this.hat=void 0,this.rendered=null,this.statementInputCount=0,n){if(this.type=n,!(r=e.Blocks[n])||"object"!=typeof r)throw TypeError("Unknown block type: "+n);e.utils.object.mixin(this,r)}t.addTopBlock(this),t.addTypedBlock(this),(t=e.Events.getGroup())||e.Events.setGroup(!0),n=e.Events.recordUndo;try{"function"==typeof this.init&&(e.Events.recordUndo=!1,this.init(),e.Events.recordUndo=n),e.Events.isEnabled()&&e.Events.fire(new(e.Events.get(e.Events.BLOCK_CREATE))(this))}finally{t||e.Events.setGroup(!1),e.Events.recordUndo=n}this.inputsInlineDefault=this.inputsInline,"function"==typeof this.onchange&&this.setOnChange(this.onchange)},e.Block.COLLAPSED_INPUT_NAME=e.constants.COLLAPSED_INPUT_NAME,e.Block.COLLAPSED_FIELD_NAME=e.constants.COLLAPSED_FIELD_NAME,e.Block.prototype.data=null,e.Block.prototype.disposed=!1,e.Block.prototype.hue_=null,e.Block.prototype.colour_="#000000",e.Block.prototype.styleName_="",e.Block.prototype.dispose=function(t){if(this.workspace){this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),this.unplug(t),e.Events.isEnabled()&&e.Events.fire(new(e.Events.get(e.Events.BLOCK_DELETE))(this)),e.Events.disable();try{this.workspace&&(this.workspace.removeTopBlock(this),this.workspace.removeTypedBlock(this),this.workspace.removeBlockById(this.id),this.workspace=null),e.selected==this&&(e.selected=null);for(var n=this.childBlocks_.length-1;0<=n;n--)this.childBlocks_[n].dispose(!1);n=0;for(var r;r=this.inputList[n];n++)r.dispose();this.inputList.length=0;var i,o=this.getConnections_(!0);for(n=0;i=o[n];n++)i.dispose()}finally{e.Events.enable(),this.disposed=!0}}},e.Block.prototype.initModel=function(){for(var e,t=0;e=this.inputList[t];t++)for(var n,r=0;n=e.fieldRow[r];r++)n.initModel&&n.initModel()},e.Block.prototype.unplug=function(e){this.outputConnection?this.unplugFromRow_(e):this.previousConnection&&this.unplugFromStack_(e)},e.Block.prototype.unplugFromRow_=function(e){var t=null;this.outputConnection.isConnected()&&(t=this.outputConnection.targetConnection,this.outputConnection.disconnect()),t&&e&&(e=this.getOnlyValueConnection_())&&e.isConnected()&&!e.targetBlock().isShadow()&&((e=e.targetConnection).disconnect(),this.workspace.connectionChecker.canConnect(e,t,!1)?t.connect(e):e.onFailedConnect(t))},e.Block.prototype.getOnlyValueConnection_=function(){for(var t=null,n=0;n<this.inputList.length;n++){var r=this.inputList[n].connection;if(r&&r.type==e.connectionTypes.INPUT_VALUE&&r.targetConnection){if(t)return null;t=r}}return t},e.Block.prototype.unplugFromStack_=function(e){var t=null;this.previousConnection.isConnected()&&(t=this.previousConnection.targetConnection,this.previousConnection.disconnect());var n=this.getNextBlock();e&&n&&!n.isShadow()&&((e=this.nextConnection.targetConnection).disconnect(),t&&this.workspace.connectionChecker.canConnect(t,e,!1)&&t.connect(e))},e.Block.prototype.getConnections_=function(e){e=[],this.outputConnection&&e.push(this.outputConnection),this.previousConnection&&e.push(this.previousConnection),this.nextConnection&&e.push(this.nextConnection);for(var t,n=0;t=this.inputList[n];n++)t.connection&&e.push(t.connection);return e},e.Block.prototype.lastConnectionInStack=function(e){for(var t=this.nextConnection;t;){var n=t.targetBlock();if(!n||e&&n.isShadow())return t;t=n.nextConnection}return null},e.Block.prototype.bumpNeighbours=function(){},e.Block.prototype.getParent=function(){return this.parentBlock_},e.Block.prototype.getInputWithBlock=function(e){for(var t,n=0;t=this.inputList[n];n++)if(t.connection&&t.connection.targetBlock()==e)return t;return null},e.Block.prototype.getSurroundParent=function(){var e=this;do{var t=e;if(!(e=e.getParent()))return null}while(e.getNextBlock()==t);return e},e.Block.prototype.getNextBlock=function(){return this.nextConnection&&this.nextConnection.targetBlock()},e.Block.prototype.getPreviousBlock=function(){return this.previousConnection&&this.previousConnection.targetBlock()},e.Block.prototype.getFirstStatementConnection=function(){for(var t,n=0;t=this.inputList[n];n++)if(t.connection&&t.connection.type==e.connectionTypes.NEXT_STATEMENT)return t.connection;return null},e.Block.prototype.getRootBlock=function(){var e=this;do{var t=e;e=t.parentBlock_}while(e);return t},e.Block.prototype.getTopStackBlock=function(){var e=this;do{var t=e.getPreviousBlock()}while(t&&t.getNextBlock()==e&&(e=t));return e},e.Block.prototype.getChildren=function(e){if(!e)return this.childBlocks_;e=[];for(var t,n=0;t=this.inputList[n];n++)t.connection&&(t=t.connection.targetBlock())&&e.push(t);return(n=this.getNextBlock())&&e.push(n),e},e.Block.prototype.setParent=function(t){if(t!=this.parentBlock_){if(this.parentBlock_){if(e.utils.arrayRemove(this.parentBlock_.childBlocks_,this),this.previousConnection&&this.previousConnection.isConnected())throw Error("Still connected to previous block.");if(this.outputConnection&&this.outputConnection.isConnected())throw Error("Still connected to parent block.");this.parentBlock_=null}else this.workspace.removeTopBlock(this);(this.parentBlock_=t)?t.childBlocks_.push(this):this.workspace.addTopBlock(this)}},e.Block.prototype.getDescendants=function(e){for(var t,n=[this],r=this.getChildren(e),i=0;t=r[i];i++)n.push.apply(n,t.getDescendants(e));return n},e.Block.prototype.isDeletable=function(){return this.deletable_&&!this.isShadow_&&!(this.workspace&&this.workspace.options.readOnly)},e.Block.prototype.setDeletable=function(e){this.deletable_=e},e.Block.prototype.isMovable=function(){return this.movable_&&!this.isShadow_&&!(this.workspace&&this.workspace.options.readOnly)},e.Block.prototype.setMovable=function(e){this.movable_=e},e.Block.prototype.isDuplicatable=function(){return!this.workspace.hasBlockLimits()||this.workspace.isCapacityAvailable(e.utils.getBlockTypeCounts(this,!0))},e.Block.prototype.isShadow=function(){return this.isShadow_},e.Block.prototype.setShadow=function(e){this.isShadow_=e},e.Block.prototype.isInsertionMarker=function(){return this.isInsertionMarker_},e.Block.prototype.setInsertionMarker=function(e){this.isInsertionMarker_=e},e.Block.prototype.isEditable=function(){return this.editable_&&!(this.workspace&&this.workspace.options.readOnly)},e.Block.prototype.setEditable=function(e){this.editable_=e,e=0;for(var t;t=this.inputList[e];e++)for(var n,r=0;n=t.fieldRow[r];r++)n.updateEditable()},e.Block.prototype.isDisposed=function(){return this.disposed},e.Block.prototype.getMatchingConnection=function(e,t){var n=this.getConnections_(!0);if(e=e.getConnections_(!0),n.length!=e.length)throw Error("Connection lists did not match in length.");for(var r=0;r<e.length;r++)if(e[r]==t)return n[r];return null},e.Block.prototype.setHelpUrl=function(e){this.helpUrl=e},e.Block.prototype.setTooltip=function(e){this.tooltip=e},e.Block.prototype.getTooltip=function(){return e.Tooltip.getTooltipOfObject(this)},e.Block.prototype.getColour=function(){return this.colour_},e.Block.prototype.getStyleName=function(){return this.styleName_},e.Block.prototype.getHue=function(){return this.hue_},e.Block.prototype.setColour=function(t){t=e.utils.parseBlockColour(t),this.hue_=t.hue,this.colour_=t.hex},e.Block.prototype.setStyle=function(e){this.styleName_=e},e.Block.prototype.setOnChange=function(e){if(e&&"function"!=typeof e)throw Error("onchange must be a function.");this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),(this.onchange=e)&&(this.onchangeWrapper_=e.bind(this),this.workspace.addChangeListener(this.onchangeWrapper_))},e.Block.prototype.getField=function(e){if("string"!==typeof e)throw TypeError("Blockly.Block.prototype.getField expects a string with the field name but received "+(void 0===e?"nothing":e+" of type "+typeof e)+" instead");for(var t,n=0;t=this.inputList[n];n++)for(var r,i=0;r=t.fieldRow[i];i++)if(r.name===e)return r;return null},e.Block.prototype.getVars=function(){for(var e,t=[],n=0;e=this.inputList[n];n++)for(var r,i=0;r=e.fieldRow[i];i++)r.referencesVariables()&&t.push(r.getValue());return t},e.Block.prototype.getVarModels=function(){for(var e,t=[],n=0;e=this.inputList[n];n++)for(var r,i=0;r=e.fieldRow[i];i++)r.referencesVariables()&&(r=this.workspace.getVariableById(r.getValue()))&&t.push(r);return t},e.Block.prototype.updateVarName=function(e){for(var t,n=0;t=this.inputList[n];n++)for(var r,i=0;r=t.fieldRow[i];i++)r.referencesVariables()&&e.getId()==r.getValue()&&r.refreshVariableName()},e.Block.prototype.renameVarById=function(e,t){for(var n,r=0;n=this.inputList[r];r++)for(var i,o=0;i=n.fieldRow[o];o++)i.referencesVariables()&&e==i.getValue()&&i.setValue(t)},e.Block.prototype.getFieldValue=function(e){return(e=this.getField(e))?e.getValue():null},e.Block.prototype.setFieldValue=function(e,t){var n=this.getField(t);if(!n)throw Error('Field "'+t+'" not found.');n.setValue(e)},e.Block.prototype.setPreviousStatement=function(t,n){if(t){if(void 0===n&&(n=null),!this.previousConnection){if(this.outputConnection)throw Error("Remove output connection prior to adding previous connection.");this.previousConnection=this.makeConnection_(e.connectionTypes.PREVIOUS_STATEMENT)}this.previousConnection.setCheck(n)}else if(this.previousConnection){if(this.previousConnection.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.previousConnection.dispose(),this.previousConnection=null}},e.Block.prototype.setNextStatement=function(t,n){if(t)void 0===n&&(n=null),this.nextConnection||(this.nextConnection=this.makeConnection_(e.connectionTypes.NEXT_STATEMENT)),this.nextConnection.setCheck(n);else if(this.nextConnection){if(this.nextConnection.isConnected())throw Error("Must disconnect next statement before removing connection.");this.nextConnection.dispose(),this.nextConnection=null}},e.Block.prototype.setOutput=function(t,n){if(t){if(void 0===n&&(n=null),!this.outputConnection){if(this.previousConnection)throw Error("Remove previous connection prior to adding output connection.");this.outputConnection=this.makeConnection_(e.connectionTypes.OUTPUT_VALUE)}this.outputConnection.setCheck(n)}else if(this.outputConnection){if(this.outputConnection.isConnected())throw Error("Must disconnect output value before removing connection.");this.outputConnection.dispose(),this.outputConnection=null}},e.Block.prototype.setInputsInline=function(t){this.inputsInline!=t&&(e.Events.fire(new(e.Events.get(e.Events.BLOCK_CHANGE))(this,"inline",null,this.inputsInline,t)),this.inputsInline=t)},e.Block.prototype.getInputsInline=function(){if(void 0!=this.inputsInline)return this.inputsInline;for(var t=1;t<this.inputList.length;t++)if(this.inputList[t-1].type==e.inputTypes.DUMMY&&this.inputList[t].type==e.inputTypes.DUMMY)return!1;for(t=1;t<this.inputList.length;t++)if(this.inputList[t-1].type==e.inputTypes.VALUE&&this.inputList[t].type==e.inputTypes.DUMMY)return!0;return!1},e.Block.prototype.setOutputShape=function(e){this.outputShape_=e},e.Block.prototype.getOutputShape=function(){return this.outputShape_},e.Block.prototype.isEnabled=function(){return!this.disabled},e.Block.prototype.setEnabled=function(t){this.isEnabled()!=t&&(e.Events.fire(new(e.Events.get(e.Events.BLOCK_CHANGE))(this,"disabled",null,this.disabled,!t)),this.disabled=!t)},e.Block.prototype.getInheritedDisabled=function(){for(var e=this.getSurroundParent();e;){if(e.disabled)return!0;e=e.getSurroundParent()}return!1},e.Block.prototype.isCollapsed=function(){return this.collapsed_},e.Block.prototype.setCollapsed=function(t){this.collapsed_!=t&&(e.Events.fire(new(e.Events.get(e.Events.BLOCK_CHANGE))(this,"collapsed",null,this.collapsed_,t)),this.collapsed_=t)},e.Block.prototype.toString=function(t,n){function r(e){var t=e.getCheck();return!t&&e.targetConnection&&(t=e.targetConnection.getCheck()),!!t&&(-1!=t.indexOf("Boolean")||-1!=t.indexOf("Number"))}function i(){a&&a.getType()==l.getType()&&a.getLocation()==l.getLocation()&&(a=null)}var o=[];n=n||"?";var s=e.ASTNode.NAVIGATE_ALL_FIELDS;e.ASTNode.NAVIGATE_ALL_FIELDS=!0;for(var a=e.ASTNode.createBlockNode(this),l=a;a;){switch(a.getType()){case e.ASTNode.types.INPUT:var c=a.getLocation();a.in()?r(c)&&o.push("("):o.push(n);break;case e.ASTNode.types.FIELD:(c=a.getLocation()).name!=e.constants.COLLAPSED_FIELD_NAME&&o.push(c.getText())}if(!(a=(c=a).in()||c.next())){for(a=c.out(),i();a&&!a.next();)a=a.out(),i(),a&&a.getType()==e.ASTNode.types.INPUT&&r(a.getLocation())&&o.push(")");a&&(a=a.next())}}for(e.ASTNode.NAVIGATE_ALL_FIELDS=s,n=2;n<o.length;n++)"("==o[n-2]&&")"==o[n]&&(o[n-2]=o[n-1],o.splice(n-1,2));return o=(o=o.reduce((function(e,t){return e+("("==e.substr(-1)||")"==t?"":" ")+t}),"")).trim()||"???",t&&o.length>t&&(o=o.substring(0,t-3)+"..."),o},e.Block.prototype.appendValueInput=function(t){return this.appendInput_(e.inputTypes.VALUE,t)},e.Block.prototype.appendStatementInput=function(t){return this.appendInput_(e.inputTypes.STATEMENT,t)},e.Block.prototype.appendDummyInput=function(t){return this.appendInput_(e.inputTypes.DUMMY,t||"")},e.Block.prototype.jsonInit=function(t){var n=t.type?'Block "'+t.type+'": ':"";if(t.output&&t.previousStatement)throw Error(n+"Must not have both an output and a previousStatement.");if(t.style&&t.style.hat&&(this.hat=t.style.hat,t.style=null),t.style&&t.colour)throw Error(n+"Must not have both a colour and a style.");t.style?this.jsonInitStyle_(t,n):this.jsonInitColour_(t,n);for(var r=0;void 0!==t["message"+r];)this.interpolate_(t["message"+r],t["args"+r]||[],t["lastDummyAlign"+r],n),r++;if(void 0!==t.inputsInline&&this.setInputsInline(t.inputsInline),void 0!==t.output&&this.setOutput(!0,t.output),void 0!==t.outputShape&&this.setOutputShape(t.outputShape),void 0!==t.previousStatement&&this.setPreviousStatement(!0,t.previousStatement),void 0!==t.nextStatement&&this.setNextStatement(!0,t.nextStatement),void 0!==t.tooltip&&(r=t.tooltip,r=e.utils.replaceMessageReferences(r),this.setTooltip(r)),void 0!==t.enableContextMenu&&(r=t.enableContextMenu,this.contextMenu=!!r),void 0!==t.helpUrl&&(r=t.helpUrl,r=e.utils.replaceMessageReferences(r),this.setHelpUrl(r)),"string"==typeof t.extensions&&(console.warn(n+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+t.type+"' block."),t.extensions=[t.extensions]),void 0!==t.mutator&&e.Extensions.apply(t.mutator,this,!0),t=t.extensions,Array.isArray(t))for(n=0;n<t.length;++n)e.Extensions.apply(t[n],this,!1)},e.Block.prototype.jsonInitColour_=function(e,t){if("colour"in e)if(void 0===e.colour)console.warn(t+"Undefined colour value.");else{e=e.colour;try{this.setColour(e)}catch(n){console.warn(t+"Illegal colour value: ",e)}}},e.Block.prototype.jsonInitStyle_=function(e,t){e=e.style;try{this.setStyle(e)}catch(n){console.warn(t+"Style does not exist: ",e)}},e.Block.prototype.mixin=function(t,n){if(void 0!==n&&"boolean"!=typeof n)throw Error("opt_disableCheck must be a boolean if provided");if(!n){for(var r in n=[],t)void 0!==this[r]&&n.push(r);if(n.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(n))}e.utils.object.mixin(this,t)},e.Block.prototype.interpolate_=function(t,n,r,i){t=e.utils.tokenizeInterpolation(t),this.validateTokens_(t,n.length),n=this.interpolateArguments_(t,n,r),r=[],t=0;for(var o;o=n[t];t++)if(this.isInputKeyword_(o.type)){if(o=this.inputFromJson_(o,i)){for(var s,a=0;s=r[a];a++)o.appendField(s[0],s[1]);r.length=0}}else(a=this.fieldFromJson_(o))&&r.push([a,o.name])},e.Block.prototype.validateTokens_=function(e,t){for(var n=[],r=0,i=0;i<e.length;i++){var o=e[i];if("number"==typeof o){if(1>o||o>t)throw Error('Block "'+this.type+'": Message index %'+o+" out of range.");if(n[o])throw Error('Block "'+this.type+'": Message index %'+o+" duplicated.");n[o]=!0,r++}}if(r!=t)throw Error('Block "'+this.type+'": Message does not reference all '+t+" arg(s).")},e.Block.prototype.interpolateArguments_=function(e,t,n){for(var r=[],i=0;i<e.length;i++){var o=e[i];"number"==typeof o&&(o=t[o-1]),("string"!=typeof o||(o=this.stringToFieldJson_(o)))&&r.push(o)}return(e=r.length)&&!this.isInputKeyword_(r[e-1].type)&&(e={type:"input_dummy"},n&&(e.align=n),r.push(e)),r},e.Block.prototype.fieldFromJson_=function(t){var n=e.fieldRegistry.fromJson(t);return!n&&t.alt?"string"==typeof t.alt?(t=this.stringToFieldJson_(t.alt))?this.fieldFromJson_(t):null:this.fieldFromJson_(t.alt):n},e.Block.prototype.inputFromJson_=function(t,n){var r={LEFT:e.constants.ALIGN.LEFT,RIGHT:e.constants.ALIGN.RIGHT,CENTRE:e.constants.ALIGN.CENTRE,CENTER:e.constants.ALIGN.CENTRE},i=null;switch(t.type){case"input_value":i=this.appendValueInput(t.name);break;case"input_statement":i=this.appendStatementInput(t.name);break;case"input_dummy":i=this.appendDummyInput(t.name)}return i?(t.check&&i.setCheck(t.check),t.align&&(void 0===(r=r[t.align.toUpperCase()])?console.warn(n+"Illegal align value: ",t.align):i.setAlign(r)),i):null},e.Block.prototype.isInputKeyword_=function(e){return"input_value"==e||"input_statement"==e||"input_dummy"==e},e.Block.prototype.stringToFieldJson_=function(e){return(e=e.trim())?{type:"field_label",text:e}:null},e.Block.prototype.appendInput_=function(t,n){var r=null;return t!=e.inputTypes.VALUE&&t!=e.inputTypes.STATEMENT||(r=this.makeConnection_(t)),t==e.inputTypes.STATEMENT&&this.statementInputCount++,t=new e.Input(t,n,this,r),this.inputList.push(t),t},e.Block.prototype.moveInputBefore=function(e,t){if(e!=t){for(var n,r=-1,i=t?-1:this.inputList.length,o=0;n=this.inputList[o];o++)if(n.name==e){if(r=o,-1!=i)break}else if(t&&n.name==t&&(i=o,-1!=r))break;if(-1==r)throw Error('Named input "'+e+'" not found.');if(-1==i)throw Error('Reference input "'+t+'" not found.');this.moveNumberedInputBefore(r,i)}},e.Block.prototype.moveNumberedInputBefore=function(e,t){if(e==t)throw Error("Can't move input to itself.");if(e>=this.inputList.length)throw RangeError("Input index "+e+" out of bounds.");if(t>this.inputList.length)throw RangeError("Reference input "+t+" out of bounds.");var n=this.inputList[e];this.inputList.splice(e,1),e<t&&t--,this.inputList.splice(t,0,n)},e.Block.prototype.removeInput=function(t,n){for(var r,i=0;r=this.inputList[i];i++)if(r.name==t)return r.type==e.inputTypes.STATEMENT&&this.statementInputCount--,r.dispose(),this.inputList.splice(i,1),!0;if(n)return!1;throw Error("Input not found: "+t)},e.Block.prototype.getInput=function(e){for(var t,n=0;t=this.inputList[n];n++)if(t.name==e)return t;return null},e.Block.prototype.getInputTargetBlock=function(e){return(e=this.getInput(e))&&e.connection&&e.connection.targetBlock()},e.Block.prototype.getCommentText=function(){return this.commentModel.text},e.Block.prototype.setCommentText=function(t){this.commentModel.text!=t&&(e.Events.fire(new(e.Events.get(e.Events.BLOCK_CHANGE))(this,"comment",null,this.commentModel.text,t)),this.comment=this.commentModel.text=t)},e.Block.prototype.setWarningText=function(e,t){},e.Block.prototype.setMutator=function(e){},e.Block.prototype.getRelativeToSurfaceXY=function(){return this.xy_},e.Block.prototype.moveBy=function(t,n){if(this.parentBlock_)throw Error("Block has parent.");var r=new(e.Events.get(e.Events.BLOCK_MOVE))(this);this.xy_.translate(t,n),r.recordNew(),e.Events.fire(r)},e.Block.prototype.makeConnection_=function(t){return new e.Connection(this,t)},e.Block.prototype.allInputsFilled=function(e){if(void 0===e&&(e=!0),!e&&this.isShadow())return!1;for(var t,n=0;t=this.inputList[n];n++)if(t.connection&&(!(t=t.connection.targetBlock())||!t.allInputsFilled(e)))return!1;return!(n=this.getNextBlock())||n.allInputsFilled(e)},e.Block.prototype.toDevString=function(){var e=this.type?'"'+this.type+'" block':"Block";return this.id&&(e+=' (id="'+this.id+'")'),e},e.blockRendering.IPathObject=function(e,t){},e.utils.KeyCodes={WIN_KEY_FF_LINUX:0,MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PLUS_SIGN:43,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,FF_SEMICOLON:59,FF_EQUALS:61,FF_DASH:173,FF_HASH:163,QUESTION_MARK:63,AT_SIGN:64,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SCROLL_LOCK:145,FIRST_MEDIA_KEY:166,LAST_MEDIA_KEY:183,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,TILDE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,MAC_WK_CMD_LEFT:91,MAC_WK_CMD_RIGHT:93,WIN_IME:229,VK_NONAME:252,PHANTOM:255},e.Menu=function(){this.menuItems_=[],this.roleName_=this.element_=this.onKeyDownHandler_=this.mouseLeaveHandler_=this.mouseEnterHandler_=this.clickHandler_=this.mouseOverHandler_=this.highlightedItem_=this.openingCoords=null},e.Menu.prototype.addChild=function(e){this.menuItems_.push(e)},e.Menu.prototype.render=function(t){var n=document.createElement("div");n.className="blocklyMenu goog-menu blocklyNonSelectable",n.tabIndex=0,this.roleName_&&e.utils.aria.setRole(n,this.roleName_),this.element_=n;for(var r,i=0;r=this.menuItems_[i];i++)n.appendChild(r.createDom());this.mouseOverHandler_=e.browserEvents.conditionalBind(n,"mouseover",this,this.handleMouseOver_,!0),this.clickHandler_=e.browserEvents.conditionalBind(n,"click",this,this.handleClick_,!0),this.mouseEnterHandler_=e.browserEvents.conditionalBind(n,"mouseenter",this,this.handleMouseEnter_,!0),this.mouseLeaveHandler_=e.browserEvents.conditionalBind(n,"mouseleave",this,this.handleMouseLeave_,!0),this.onKeyDownHandler_=e.browserEvents.conditionalBind(n,"keydown",this,this.handleKeyEvent_),t.appendChild(n)},e.Menu.prototype.getElement=function(){return this.element_},e.Menu.prototype.focus=function(){var t=this.getElement();t&&(t.focus({preventScroll:!0}),e.utils.dom.addClass(t,"blocklyFocused"))},e.Menu.prototype.blur_=function(){var t=this.getElement();t&&(t.blur(),e.utils.dom.removeClass(t,"blocklyFocused"))},e.Menu.prototype.setRole=function(e){this.roleName_=e},e.Menu.prototype.dispose=function(){this.mouseOverHandler_&&(e.browserEvents.unbind(this.mouseOverHandler_),this.mouseOverHandler_=null),this.clickHandler_&&(e.browserEvents.unbind(this.clickHandler_),this.clickHandler_=null),this.mouseEnterHandler_&&(e.browserEvents.unbind(this.mouseEnterHandler_),this.mouseEnterHandler_=null),this.mouseLeaveHandler_&&(e.browserEvents.unbind(this.mouseLeaveHandler_),this.mouseLeaveHandler_=null),this.onKeyDownHandler_&&(e.browserEvents.unbind(this.onKeyDownHandler_),this.onKeyDownHandler_=null);for(var t,n=0;t=this.menuItems_[n];n++)t.dispose();this.element_=null},e.Menu.prototype.getMenuItem_=function(t){for(var n=this.getElement();t&&t!=n;){if(e.utils.dom.hasClass(t,"blocklyMenuItem"))for(var r,i=0;r=this.menuItems_[i];i++)if(r.getElement()==t)return r;t=t.parentElement}return null},e.Menu.prototype.setHighlighted=function(t){var n=this.highlightedItem_;n&&(n.setHighlighted(!1),this.highlightedItem_=null),t&&(t.setHighlighted(!0),this.highlightedItem_=t,n=this.getElement(),e.utils.style.scrollIntoContainerView(t.getElement(),n),e.utils.aria.setState(n,e.utils.aria.State.ACTIVEDESCENDANT,t.getId()))},e.Menu.prototype.highlightNext=function(){var e=this.menuItems_.indexOf(this.highlightedItem_);this.highlightHelper_(e,1)},e.Menu.prototype.highlightPrevious=function(){var e=this.menuItems_.indexOf(this.highlightedItem_);this.highlightHelper_(0>e?this.menuItems_.length:e,-1)},e.Menu.prototype.highlightFirst_=function(){this.highlightHelper_(-1,1)},e.Menu.prototype.highlightLast_=function(){this.highlightHelper_(this.menuItems_.length,-1)},e.Menu.prototype.highlightHelper_=function(e,t){e+=t;for(var n;n=this.menuItems_[e];){if(n.isEnabled()){this.setHighlighted(n);break}e+=t}},e.Menu.prototype.handleMouseOver_=function(e){(e=this.getMenuItem_(e.target))&&(e.isEnabled()?this.highlightedItem_!=e&&this.setHighlighted(e):this.setHighlighted(null))},e.Menu.prototype.handleClick_=function(t){var n=this.openingCoords;if(this.openingCoords=null,n&&"number"==typeof t.clientX){var r=new e.utils.Coordinate(t.clientX,t.clientY);if(1>e.utils.Coordinate.distance(n,r))return}(t=this.getMenuItem_(t.target))&&t.performAction()},e.Menu.prototype.handleMouseEnter_=function(e){this.focus()},e.Menu.prototype.handleMouseLeave_=function(e){this.getElement()&&(this.blur_(),this.setHighlighted(null))},e.Menu.prototype.handleKeyEvent_=function(t){if(this.menuItems_.length&&!(t.shiftKey||t.ctrlKey||t.metaKey||t.altKey)){var n=this.highlightedItem_;switch(t.keyCode){case e.utils.KeyCodes.ENTER:case e.utils.KeyCodes.SPACE:n&&n.performAction();break;case e.utils.KeyCodes.UP:this.highlightPrevious();break;case e.utils.KeyCodes.DOWN:this.highlightNext();break;case e.utils.KeyCodes.PAGE_UP:case e.utils.KeyCodes.HOME:this.highlightFirst_();break;case e.utils.KeyCodes.PAGE_DOWN:case e.utils.KeyCodes.END:this.highlightLast_();break;default:return}t.preventDefault(),t.stopPropagation()}},e.Menu.prototype.getSize=function(){var t=this.getElement(),n=e.utils.style.getSize(t);return n.height=t.scrollHeight,n},e.MenuItem=function(e,t){this.content_=e,this.value_=t,this.enabled_=!0,this.element_=null,this.rightToLeft_=!1,this.roleName_=null,this.highlight_=this.checked_=this.checkable_=!1,this.actionHandler_=null},e.MenuItem.prototype.createDom=function(){var t=document.createElement("div");t.id=e.utils.IdGenerator.getNextUniqueId(),this.element_=t,t.className="blocklyMenuItem goog-menuitem "+(this.enabled_?"":"blocklyMenuItemDisabled goog-menuitem-disabled ")+(this.checked_?"blocklyMenuItemSelected goog-option-selected ":"")+(this.highlight_?"blocklyMenuItemHighlight goog-menuitem-highlight ":"")+(this.rightToLeft_?"blocklyMenuItemRtl goog-menuitem-rtl ":"");var n=document.createElement("div");if(n.className="blocklyMenuItemContent goog-menuitem-content",this.checkable_){var r=document.createElement("div");r.className="blocklyMenuItemCheckbox goog-menuitem-checkbox",n.appendChild(r)}return r=this.content_,"string"==typeof this.content_&&(r=document.createTextNode(this.content_)),n.appendChild(r),t.appendChild(n),this.roleName_&&e.utils.aria.setRole(t,this.roleName_),e.utils.aria.setState(t,e.utils.aria.State.SELECTED,this.checkable_&&this.checked_||!1),e.utils.aria.setState(t,e.utils.aria.State.DISABLED,!this.enabled_),t},e.MenuItem.prototype.dispose=function(){this.element_=null},e.MenuItem.prototype.getElement=function(){return this.element_},e.MenuItem.prototype.getId=function(){return this.element_.id},e.MenuItem.prototype.getValue=function(){return this.value_},e.MenuItem.prototype.setRightToLeft=function(e){this.rightToLeft_=e},e.MenuItem.prototype.setRole=function(e){this.roleName_=e},e.MenuItem.prototype.setCheckable=function(e){this.checkable_=e},e.MenuItem.prototype.setChecked=function(e){this.checked_=e},e.MenuItem.prototype.setHighlighted=function(t){this.highlight_=t;var n=this.getElement();n&&this.isEnabled()&&(t?(e.utils.dom.addClass(n,"blocklyMenuItemHighlight"),e.utils.dom.addClass(n,"goog-menuitem-highlight")):(e.utils.dom.removeClass(n,"blocklyMenuItemHighlight"),e.utils.dom.removeClass(n,"goog-menuitem-highlight")))},e.MenuItem.prototype.isEnabled=function(){return this.enabled_},e.MenuItem.prototype.setEnabled=function(e){this.enabled_=e},e.MenuItem.prototype.performAction=function(){this.isEnabled()&&this.actionHandler_&&this.actionHandler_(this)},e.MenuItem.prototype.onAction=function(e,t){this.actionHandler_=e.bind(t)},e.ContextMenu={},e.ContextMenu.currentBlock=null,e.ContextMenu.menu_=null,e.ContextMenu.show=function(t,n,r){if(e.WidgetDiv.show(e.ContextMenu,r,e.ContextMenu.dispose),n.length){var i=e.ContextMenu.populate_(n,r);e.ContextMenu.menu_=i,e.ContextMenu.position_(i,t,r),setTimeout((function(){i.focus()}),1),e.ContextMenu.currentBlock=null}else e.ContextMenu.hide()},e.ContextMenu.populate_=function(t,n){var r=new e.Menu;r.setRole(e.utils.aria.Role.MENU);for(var i,o=0;i=t[o];o++){var s=new e.MenuItem(i.text);s.setRightToLeft(n),s.setRole(e.utils.aria.Role.MENUITEM),r.addChild(s),s.setEnabled(i.enabled),i.enabled&&s.onAction((function(t){e.ContextMenu.hide(),this.callback(this.scope)}),i)}return r},e.ContextMenu.position_=function(t,n,r){var i=e.utils.getViewportBBox();n=new e.utils.Rect(n.clientY+i.top,n.clientY+i.top,n.clientX+i.left,n.clientX+i.left),e.ContextMenu.createWidget_(t);var o=t.getSize();r&&(n.left+=o.width,n.right+=o.width,i.left+=o.width,i.right+=o.width),e.WidgetDiv.positionWithAnchor(i,n,o,r),t.focus()},e.ContextMenu.createWidget_=function(t){t.render(e.WidgetDiv.DIV);var n=t.getElement();e.utils.dom.addClass(n,"blocklyContextMenu"),e.browserEvents.conditionalBind(n,"contextmenu",null,e.utils.noEvent),t.focus()},e.ContextMenu.hide=function(){e.WidgetDiv.hideIfOwner(e.ContextMenu),e.ContextMenu.currentBlock=null},e.ContextMenu.dispose=function(){e.ContextMenu.menu_&&(e.ContextMenu.menu_.dispose(),e.ContextMenu.menu_=null)},e.ContextMenu.callbackFactory=function(t,n){return function(){e.Events.disable();try{var r=e.Xml.domToBlock(n,t.workspace),i=t.getRelativeToSurfaceXY();i.x=t.RTL?i.x-e.SNAP_RADIUS:i.x+e.SNAP_RADIUS,i.y+=2*e.SNAP_RADIUS,r.moveBy(i.x,i.y)}finally{e.Events.enable()}e.Events.isEnabled()&&!r.isShadow()&&e.Events.fire(new(e.Events.get(e.Events.BLOCK_CREATE))(r)),r.select()}},e.ContextMenu.commentDeleteOption=function(t){return{text:e.Msg.REMOVE_COMMENT,enabled:!0,callback:function(){e.Events.setGroup(!0),t.dispose(!0,!0),e.Events.setGroup(!1)}}},e.ContextMenu.commentDuplicateOption=function(t){return{text:e.Msg.DUPLICATE_COMMENT,enabled:!0,callback:function(){e.duplicate(t)}}},e.ContextMenu.workspaceCommentOption=function(t,n){if(!e.WorkspaceCommentSvg)throw Error("Missing require for Blockly.WorkspaceCommentSvg");var r={enabled:!e.utils.userAgent.IE};return r.text=e.Msg.ADD_COMMENT,r.callback=function(){var r=new e.WorkspaceCommentSvg(t,e.Msg.WORKSPACE_COMMENT_DEFAULT_TEXT,e.WorkspaceCommentSvg.DEFAULT_SIZE,e.WorkspaceCommentSvg.DEFAULT_SIZE),i=t.getInjectionDiv().getBoundingClientRect();i=new e.utils.Coordinate(n.clientX-i.left,n.clientY-i.top);var o=t.getOriginOffsetInPixels();(i=e.utils.Coordinate.difference(i,o)).scale(1/t.scale),r.moveBy(i.x,i.y),t.rendered&&(r.initSvg(),r.render(),r.select())},r},e.ContextMenuRegistry=function(){e.ContextMenuRegistry.registry=this,this.registry_=Object.create(null)},e.ContextMenuRegistry.ScopeType={BLOCK:"block",WORKSPACE:"workspace"},e.ContextMenuRegistry.registry=null,e.ContextMenuRegistry.prototype.register=function(e){if(this.registry_[e.id])throw Error('Menu item with ID "'+e.id+'" is already registered.');this.registry_[e.id]=e},e.ContextMenuRegistry.prototype.unregister=function(e){if(!this.registry_[e])throw Error('Menu item with ID "'+e+'" not found.');delete this.registry_[e]},e.ContextMenuRegistry.prototype.getItem=function(e){return this.registry_[e]||null},e.ContextMenuRegistry.prototype.getContextMenuOptions=function(e,t){var n=[],r=this.registry_;return Object.keys(r).forEach((function(i){if(i=r[i],e==i.scopeType){var o=i.preconditionFn(t);"hidden"!=o&&(i={text:"function"==typeof i.displayText?i.displayText(t):i.displayText,enabled:"enabled"==o,callback:i.callback,scope:t,weight:i.weight},n.push(i))}})),n.sort((function(e,t){return e.weight-t.weight})),n},new e.ContextMenuRegistry,e.Events.Selected=function(t,n,r){e.Events.Selected.superClass_.constructor.call(this,r),this.oldElementId=t,this.newElementId=n},e.utils.object.inherits(e.Events.Selected,e.Events.UiBase),e.Events.Selected.prototype.type=e.Events.SELECTED,e.Events.Selected.prototype.toJson=function(){var t=e.Events.Selected.superClass_.toJson.call(this);return t.oldElementId=this.oldElementId,t.newElementId=this.newElementId,t},e.Events.Selected.prototype.fromJson=function(t){e.Events.Selected.superClass_.fromJson.call(this,t),this.oldElementId=t.oldElementId,this.newElementId=t.newElementId},e.registry.register(e.registry.Type.EVENT,e.Events.SELECTED,e.Events.Selected),e.IBoundedElement=function(){},e.ICopyable=function(){},e.RenderedConnection=function(t,n){e.RenderedConnection.superClass_.constructor.call(this,t,n),this.db_=t.workspace.connectionDBList[n],this.dbOpposite_=t.workspace.connectionDBList[e.OPPOSITE_TYPE[n]],this.offsetInBlock_=new e.utils.Coordinate(0,0),this.trackedState_=e.RenderedConnection.TrackedState.WILL_TRACK,this.targetConnection=null},e.utils.object.inherits(e.RenderedConnection,e.Connection),e.RenderedConnection.TrackedState={WILL_TRACK:-1,UNTRACKED:0,TRACKED:1},e.RenderedConnection.prototype.dispose=function(){e.RenderedConnection.superClass_.dispose.call(this),this.trackedState_==e.RenderedConnection.TrackedState.TRACKED&&this.db_.removeConnection(this,this.y)},e.RenderedConnection.prototype.getSourceBlock=function(){return e.RenderedConnection.superClass_.getSourceBlock.call(this)},e.RenderedConnection.prototype.targetBlock=function(){return e.RenderedConnection.superClass_.targetBlock.call(this)},e.RenderedConnection.prototype.distanceFrom=function(e){var t=this.x-e.x;return e=this.y-e.y,Math.sqrt(t*t+e*e)},e.RenderedConnection.prototype.bumpAwayFrom=function(t){if(!this.sourceBlock_.workspace.isDragging()){var n=this.sourceBlock_.getRootBlock();if(!n.isInFlyout){var r=!1;if(!n.isMovable()){if(!(n=t.getSourceBlock().getRootBlock()).isMovable())return;t=this,r=!0}var i=e.selected==n;i||n.addSelect();var o=t.x+e.SNAP_RADIUS+Math.floor(Math.random()*e.BUMP_RANDOMNESS)-this.x,s=t.y+e.SNAP_RADIUS+Math.floor(Math.random()*e.BUMP_RANDOMNESS)-this.y;r&&(s=-s),n.RTL&&(o=t.x-e.SNAP_RADIUS-Math.floor(Math.random()*e.BUMP_RANDOMNESS)-this.x),n.moveBy(o,s),i||n.removeSelect()}}},e.RenderedConnection.prototype.moveTo=function(t,n){this.trackedState_==e.RenderedConnection.TrackedState.WILL_TRACK?(this.db_.addConnection(this,n),this.trackedState_=e.RenderedConnection.TrackedState.TRACKED):this.trackedState_==e.RenderedConnection.TrackedState.TRACKED&&(this.db_.removeConnection(this,this.y),this.db_.addConnection(this,n)),this.x=t,this.y=n},e.RenderedConnection.prototype.moveBy=function(e,t){this.moveTo(this.x+e,this.y+t)},e.RenderedConnection.prototype.moveToOffset=function(e){this.moveTo(e.x+this.offsetInBlock_.x,e.y+this.offsetInBlock_.y)},e.RenderedConnection.prototype.setOffsetInBlock=function(e,t){this.offsetInBlock_.x=e,this.offsetInBlock_.y=t},e.RenderedConnection.prototype.getOffsetInBlock=function(){return this.offsetInBlock_},e.RenderedConnection.prototype.tighten=function(){var t=this.targetConnection.x-this.x,n=this.targetConnection.y-this.y;if(0!=t||0!=n){var r=this.targetBlock(),i=r.getSvgRoot();if(!i)throw Error("block is not rendered.");i=e.utils.getRelativeXY(i),r.getSvgRoot().setAttribute("transform","translate("+(i.x-t)+","+(i.y-n)+")"),r.moveConnections(-t,-n)}},e.RenderedConnection.prototype.closest=function(e,t){return this.dbOpposite_.searchForClosest(this,e,t)},e.RenderedConnection.prototype.highlight=function(){var t=this.sourceBlock_.workspace.getRenderer().getConstants(),n=t.shapeFor(this);this.type==e.connectionTypes.INPUT_VALUE||this.type==e.connectionTypes.OUTPUT_VALUE?(t=t.TAB_OFFSET_FROM_TOP,n=e.utils.svgPaths.moveBy(0,-t)+e.utils.svgPaths.lineOnAxis("v",t)+n.pathDown+e.utils.svgPaths.lineOnAxis("v",t)):(t=t.NOTCH_OFFSET_LEFT-t.CORNER_RADIUS,n=e.utils.svgPaths.moveBy(-t,0)+e.utils.svgPaths.lineOnAxis("h",t)+n.pathLeft+e.utils.svgPaths.lineOnAxis("h",t)),t=this.sourceBlock_.getRelativeToSurfaceXY(),e.Connection.highlightedPath_=e.utils.dom.createSvgElement(e.utils.Svg.PATH,{class:"blocklyHighlightedConnectionPath",d:n,transform:"translate("+(this.x-t.x)+","+(this.y-t.y)+")"+(this.sourceBlock_.RTL?" scale(-1 1)":"")},this.sourceBlock_.getSvgRoot())},e.RenderedConnection.prototype.unhighlight=function(){e.utils.dom.removeNode(e.Connection.highlightedPath_),delete e.Connection.highlightedPath_},e.RenderedConnection.prototype.setTracking=function(t){t&&this.trackedState_==e.RenderedConnection.TrackedState.TRACKED||!t&&this.trackedState_==e.RenderedConnection.TrackedState.UNTRACKED||this.sourceBlock_.isInFlyout||(t?(this.db_.addConnection(this,this.y),this.trackedState_=e.RenderedConnection.TrackedState.TRACKED):(this.trackedState_==e.RenderedConnection.TrackedState.TRACKED&&this.db_.removeConnection(this,this.y),this.trackedState_=e.RenderedConnection.TrackedState.UNTRACKED))},e.RenderedConnection.prototype.stopTrackingAll=function(){if(this.setTracking(!1),this.targetConnection)for(var e=this.targetBlock().getDescendants(!1),t=0;t<e.length;t++){for(var n=e[t],r=n.getConnections_(!0),i=0;i<r.length;i++)r[i].setTracking(!1);for(n=n.getIcons(),i=0;i<n.length;i++)n[i].setVisible(!1)}},e.RenderedConnection.prototype.startTrackingAll=function(){this.setTracking(!0);var t=[];if(this.type!=e.connectionTypes.INPUT_VALUE&&this.type!=e.connectionTypes.NEXT_STATEMENT)return t;var n=this.targetBlock();if(n){if(n.isCollapsed()){var r=[];n.outputConnection&&r.push(n.outputConnection),n.nextConnection&&r.push(n.nextConnection),n.previousConnection&&r.push(n.previousConnection)}else r=n.getConnections_(!0);for(var i=0;i<r.length;i++)t.push.apply(t,r[i].startTrackingAll());t.length||(t[0]=n)}return t},e.RenderedConnection.prototype.isConnectionAllowed=function(t,n){return e.utils.deprecation.warn("RenderedConnection.prototype.isConnectionAllowed","July 2020","July 2021","Blockly.Workspace.prototype.getConnectionChecker().canConnect"),!(this.distanceFrom(t)>n)&&e.RenderedConnection.superClass_.isConnectionAllowed.call(this,t)},e.RenderedConnection.prototype.onFailedConnect=function(t){var n=this.getSourceBlock();if(e.Events.recordUndo){var r=e.Events.getGroup();setTimeout(function(){n.isDisposed()||n.getParent()||(e.Events.setGroup(r),this.bumpAwayFrom(t),e.Events.setGroup(!1))}.bind(this),e.BUMP_DELAY)}},e.RenderedConnection.prototype.disconnectInternal_=function(t,n){e.RenderedConnection.superClass_.disconnectInternal_.call(this,t,n),t.rendered&&t.render(),n.rendered&&(n.updateDisabled(),n.render(),n.getSvgRoot().style.display="block")},e.RenderedConnection.prototype.respawnShadow_=function(){e.RenderedConnection.superClass_.respawnShadow_.call(this);var t=this.targetBlock();t&&(t.initSvg(),t.render(!1),(t=this.getSourceBlock()).rendered&&t.render())},e.RenderedConnection.prototype.neighbours=function(e){return this.dbOpposite_.getNeighbours(this,e)},e.RenderedConnection.prototype.connect_=function(t){e.RenderedConnection.superClass_.connect_.call(this,t);var n=this.getSourceBlock();t=t.getSourceBlock();var r=n.rendered,i=t.rendered;r&&n.updateDisabled(),i&&t.updateDisabled(),r&&i&&(this.type==e.connectionTypes.NEXT_STATEMENT||this.type==e.connectionTypes.PREVIOUS_STATEMENT?t.render():n.render()),(n=n.getInputWithBlock(t))&&(n=n.isVisible(),t.getSvgRoot().style.display=n?"block":"none")},e.RenderedConnection.prototype.onCheckChanged_=function(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,this.targetConnection,!1)||((this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug(),this.sourceBlock_.bumpNeighbours())},e.BasicCursor=function(){e.BasicCursor.superClass_.constructor.call(this)},e.utils.object.inherits(e.BasicCursor,e.Cursor),e.BasicCursor.registrationName="basicCursor",e.BasicCursor.prototype.next=function(){var e=this.getCurNode();return e?((e=this.getNextNode_(e,this.validNode_))&&this.setCurNode(e),e):null},e.BasicCursor.prototype.in=function(){return this.next()},e.BasicCursor.prototype.prev=function(){var e=this.getCurNode();return e?((e=this.getPreviousNode_(e,this.validNode_))&&this.setCurNode(e),e):null},e.BasicCursor.prototype.out=function(){return this.prev()},e.BasicCursor.prototype.getNextNode_=function(e,t){if(!e)return null;var n=e.in()||e.next();return t(n)?n:n?this.getNextNode_(n,t):t(e=this.findSiblingOrParent_(e.out()))?e:e?this.getNextNode_(e,t):null},e.BasicCursor.prototype.getPreviousNode_=function(e,t){if(!e)return null;var n=e.prev();return t(n=n?this.getRightMostChild_(n):e.out())?n:n?this.getPreviousNode_(n,t):null},e.BasicCursor.prototype.validNode_=function(t){var n=!1;return(t=t&&t.getType())!=e.ASTNode.types.OUTPUT&&t!=e.ASTNode.types.INPUT&&t!=e.ASTNode.types.FIELD&&t!=e.ASTNode.types.NEXT&&t!=e.ASTNode.types.PREVIOUS&&t!=e.ASTNode.types.WORKSPACE||(n=!0),n},e.BasicCursor.prototype.findSiblingOrParent_=function(e){if(!e)return null;var t=e.next();return t||this.findSiblingOrParent_(e.out())},e.BasicCursor.prototype.getRightMostChild_=function(e){if(!e.in())return e;for(e=e.in();e.next();)e=e.next();return this.getRightMostChild_(e)},e.registry.register(e.registry.Type.CURSOR,e.BasicCursor.registrationName,e.BasicCursor),e.TabNavigateCursor=function(){e.TabNavigateCursor.superClass_.constructor.call(this)},e.utils.object.inherits(e.TabNavigateCursor,e.BasicCursor),e.TabNavigateCursor.prototype.validNode_=function(t){var n=!1,r=t&&t.getType();return t&&(t=t.getLocation(),r==e.ASTNode.types.FIELD&&t&&t.isTabNavigable()&&t.isClickable()&&(n=!0)),n},e.BlockSvg=function(t,n,r){this.svgGroup_=e.utils.dom.createSvgElement(e.utils.Svg.G,{},null),this.svgGroup_.translate_="",this.style=t.getRenderer().getConstants().getBlockStyle(null),this.pathObject=t.getRenderer().makePathObject(this.svgGroup_,this.style),this.renderIsInProgress_=this.rendered=!1,this.workspace=t,this.previousConnection=this.nextConnection=this.outputConnection=null,this.useDragSurface_=e.utils.is3dSupported()&&!!t.getBlockDragSurface();var i=this.pathObject.svgPath;i.tooltip=this,e.Tooltip.bindMouseEvents(i),e.BlockSvg.superClass_.constructor.call(this,t,n,r),this.svgGroup_.dataset?this.svgGroup_.dataset.id=this.id:e.utils.userAgent.IE&&this.svgGroup_.setAttribute("data-id",this.id)},e.utils.object.inherits(e.BlockSvg,e.Block),e.BlockSvg.prototype.height=0,e.BlockSvg.prototype.width=0,e.BlockSvg.prototype.warningTextDb_=null,e.BlockSvg.INLINE=-1,e.BlockSvg.COLLAPSED_WARNING_ID="TEMP_COLLAPSED_WARNING_",e.BlockSvg.prototype.initSvg=function(){if(!this.workspace.rendered)throw TypeError("Workspace is headless.");for(var t,n=0;t=this.inputList[n];n++)t.init();for(t=this.getIcons(),n=0;n<t.length;n++)t[n].createIcon();this.applyColour(),this.pathObject.updateMovable(this.isMovable()),n=this.getSvgRoot(),this.workspace.options.readOnly||this.eventsInit_||!n||e.browserEvents.conditionalBind(n,"mousedown",this,this.onMouseDown_),this.eventsInit_=!0,n.parentNode||this.workspace.getCanvas().appendChild(n)},e.BlockSvg.prototype.getColourSecondary=function(){return this.style.colourSecondary},e.BlockSvg.prototype.getColourTertiary=function(){return this.style.colourTertiary},e.BlockSvg.prototype.getColourShadow=function(){return e.utils.deprecation.warn("BlockSvg.prototype.getColourShadow","January 2020","January 2021","style.colourSecondary"),this.getColourSecondary()},e.BlockSvg.prototype.getColourBorder=function(){return e.utils.deprecation.warn("BlockSvg.prototype.getColourBorder","January 2020","January 2021","style.colourTertiary"),{colourBorder:this.getColourTertiary(),colourLight:null,colourDark:null}},e.BlockSvg.prototype.select=function(){if(this.isShadow()&&this.getParent())this.getParent().select();else if(e.selected!=this){var t=null;if(e.selected){t=e.selected.id,e.Events.disable();try{e.selected.unselect()}finally{e.Events.enable()}}t=new(e.Events.get(e.Events.SELECTED))(t,this.id,this.workspace.id),e.Events.fire(t),e.selected=this,this.addSelect()}},e.BlockSvg.prototype.unselect=function(){if(e.selected==this){var t=new(e.Events.get(e.Events.SELECTED))(this.id,null,this.workspace.id);t.workspaceId=this.workspace.id,e.Events.fire(t),e.selected=null,this.removeSelect()}},e.BlockSvg.prototype.mutator=null,e.BlockSvg.prototype.comment=null,e.BlockSvg.prototype.commentIcon_=null,e.BlockSvg.prototype.warning=null,e.BlockSvg.prototype.getIcons=function(){var e=[];return this.mutator&&e.push(this.mutator),this.commentIcon_&&e.push(this.commentIcon_),this.warning&&e.push(this.warning),e},e.BlockSvg.prototype.setParent=function(t){var n=this.parentBlock_;if(t!=n){e.utils.dom.startTextWidthCache(),e.BlockSvg.superClass_.setParent.call(this,t),e.utils.dom.stopTextWidthCache();var r=this.getSvgRoot();if(!this.workspace.isClearing&&r){var i=this.getRelativeToSurfaceXY();t?(t.getSvgRoot().appendChild(r),t=this.getRelativeToSurfaceXY(),this.moveConnections(t.x-i.x,t.y-i.y)):n&&(this.workspace.getCanvas().appendChild(r),this.translate(i.x,i.y)),this.applyColour()}}},e.BlockSvg.prototype.getRelativeToSurfaceXY=function(){var t=0,n=0,r=this.useDragSurface_?this.workspace.getBlockDragSurface().getGroup():null,i=this.getSvgRoot();if(i)do{var o=e.utils.getRelativeXY(i);t+=o.x,n+=o.y,this.useDragSurface_&&this.workspace.getBlockDragSurface().getCurrentBlock()==i&&(t+=(o=this.workspace.getBlockDragSurface().getSurfaceTranslation()).x,n+=o.y),i=i.parentNode}while(i&&i!=this.workspace.getCanvas()&&i!=r);return new e.utils.Coordinate(t,n)},e.BlockSvg.prototype.moveBy=function(t,n){if(this.parentBlock_)throw Error("Block has parent.");var r=e.Events.isEnabled();if(r)var i=new(e.Events.get(e.Events.BLOCK_MOVE))(this);var o=this.getRelativeToSurfaceXY();this.translate(o.x+t,o.y+n),this.moveConnections(t,n),r&&(i.recordNew(),e.Events.fire(i)),this.workspace.resizeContents()},e.BlockSvg.prototype.translate=function(e,t){this.getSvgRoot().setAttribute("transform","translate("+e+","+t+")")},e.BlockSvg.prototype.moveToDragSurface=function(){if(this.useDragSurface_){var e=this.getRelativeToSurfaceXY();this.clearTransformAttributes_(),this.workspace.getBlockDragSurface().translateSurface(e.x,e.y),(e=this.getSvgRoot())&&this.workspace.getBlockDragSurface().setBlocksAndShow(e)}},e.BlockSvg.prototype.moveTo=function(e){var t=this.getRelativeToSurfaceXY();this.moveBy(e.x-t.x,e.y-t.y)},e.BlockSvg.prototype.moveOffDragSurface=function(e){this.useDragSurface_&&(this.translate(e.x,e.y),this.workspace.getBlockDragSurface().clearAndHide(this.workspace.getCanvas()))},e.BlockSvg.prototype.moveDuringDrag=function(e){this.useDragSurface_?this.workspace.getBlockDragSurface().translateSurface(e.x,e.y):(this.svgGroup_.translate_="translate("+e.x+","+e.y+")",this.svgGroup_.setAttribute("transform",this.svgGroup_.translate_+this.svgGroup_.skew_))},e.BlockSvg.prototype.clearTransformAttributes_=function(){this.getSvgRoot().removeAttribute("transform")},e.BlockSvg.prototype.snapToGrid=function(){if(this.workspace&&!this.workspace.isDragging()&&!this.getParent()&&!this.isInFlyout){var e=this.workspace.getGrid();if(e&&e.shouldSnap()){var t=e.getSpacing(),n=t/2,r=this.getRelativeToSurfaceXY();e=Math.round((r.x-n)/t)*t+n-r.x,t=Math.round((r.y-n)/t)*t+n-r.y,e=Math.round(e),t=Math.round(t),0==e&&0==t||this.moveBy(e,t)}}},e.BlockSvg.prototype.getBoundingRectangle=function(){var t=this.getRelativeToSurfaceXY(),n=this.getHeightWidth();if(this.RTL)var r=t.x-n.width,i=t.x;else r=t.x,i=t.x+n.width;return new e.utils.Rect(t.y,t.y+n.height,r,i)},e.BlockSvg.prototype.markDirty=function(){this.pathObject.constants=this.workspace.getRenderer().getConstants();for(var e,t=0;e=this.inputList[t];t++)e.markDirty()},e.BlockSvg.prototype.setCollapsed=function(t){this.collapsed_!=t&&(e.BlockSvg.superClass_.setCollapsed.call(this,t),t?this.rendered&&this.render():this.updateCollapsed_())},e.BlockSvg.prototype.updateCollapsed_=function(){for(var t,n=this.isCollapsed(),r=e.constants.COLLAPSED_INPUT_NAME,i=e.constants.COLLAPSED_FIELD_NAME,o=0;t=this.inputList[o];o++)t.name!=r&&t.setVisible(!n);if(n){for(t=this.getIcons(),o=0;n=t[o];o++)n.setVisible(!1);o=this.toString(e.COLLAPSE_CHARS),(t=this.getField(i))?t.setValue(o):(t=this.getInput(r)||this.appendDummyInput(r)).appendField(new e.FieldLabel(o),i)}else this.updateDisabled(),this.removeInput(r)},e.BlockSvg.prototype.tab=function(t,n){var r=new e.TabNavigateCursor;r.setCurNode(e.ASTNode.createFieldNode(t)),t=r.getCurNode(),n?r.next():r.prev(),(n=r.getCurNode())&&n!==t&&(n.getLocation().showEditor(),this.workspace.keyboardAccessibilityMode&&this.workspace.getCursor().setCurNode(n))},e.BlockSvg.prototype.onMouseDown_=function(e){var t=this.workspace&&this.workspace.getGesture(e);t&&t.handleBlockStart(e,this)},e.BlockSvg.prototype.showHelp=function(){var e="function"==typeof this.helpUrl?this.helpUrl():this.helpUrl;e&&window.open(e)},e.BlockSvg.prototype.generateContextMenu=function(){if(this.workspace.options.readOnly||!this.contextMenu)return null;var t=e.ContextMenuRegistry.registry.getContextMenuOptions(e.ContextMenuRegistry.ScopeType.BLOCK,{block:this});return this.customContextMenu&&this.customContextMenu(t),t},e.BlockSvg.prototype.showContextMenu=function(t){var n=this.generateContextMenu();n&&n.length&&(e.ContextMenu.show(t,n,this.RTL),e.ContextMenu.currentBlock=this)},e.BlockSvg.prototype.moveConnections=function(e,t){if(this.rendered){for(var n=this.getConnections_(!1),r=0;r<n.length;r++)n[r].moveBy(e,t);for(n=this.getIcons(),r=0;r<n.length;r++)n[r].computeIconLocation();for(r=0;r<this.childBlocks_.length;r++)this.childBlocks_[r].moveConnections(e,t)}},e.BlockSvg.prototype.setDragging=function(t){if(t){var n=this.getSvgRoot();n.translate_="",n.skew_="",e.draggingConnections=e.draggingConnections.concat(this.getConnections_(!0)),e.utils.dom.addClass(this.svgGroup_,"blocklyDragging")}else e.draggingConnections=[],e.utils.dom.removeClass(this.svgGroup_,"blocklyDragging");for(n=0;n<this.childBlocks_.length;n++)this.childBlocks_[n].setDragging(t)},e.BlockSvg.prototype.setMovable=function(t){e.BlockSvg.superClass_.setMovable.call(this,t),this.pathObject.updateMovable(t)},e.BlockSvg.prototype.setEditable=function(t){e.BlockSvg.superClass_.setEditable.call(this,t),t=this.getIcons();for(var n=0;n<t.length;n++)t[n].updateEditable()},e.BlockSvg.prototype.setShadow=function(t){e.BlockSvg.superClass_.setShadow.call(this,t),this.applyColour()},e.BlockSvg.prototype.setInsertionMarker=function(e){this.isInsertionMarker_!=e&&(this.isInsertionMarker_=e)&&(this.setColour(this.workspace.getRenderer().getConstants().INSERTION_MARKER_COLOUR),this.pathObject.updateInsertionMarker(!0))},e.BlockSvg.prototype.getSvgRoot=function(){return this.svgGroup_},e.BlockSvg.prototype.dispose=function(t,n){if(this.workspace){e.Tooltip.dispose(),e.Tooltip.unbindMouseEvents(this.pathObject.svgPath),e.utils.dom.startTextWidthCache();var r=this.workspace;if(e.selected==this&&(this.unselect(),this.workspace.cancelCurrentGesture()),e.ContextMenu.currentBlock==this&&e.ContextMenu.hide(),n&&this.rendered&&(this.unplug(t),e.blockAnimations.disposeUiEffect(this)),this.rendered=!1,this.warningTextDb_){for(var i in this.warningTextDb_)clearTimeout(this.warningTextDb_[i]);this.warningTextDb_=null}for(n=this.getIcons(),i=0;i<n.length;i++)n[i].dispose();e.BlockSvg.superClass_.dispose.call(this,!!t),e.utils.dom.removeNode(this.svgGroup_),r.resizeContents(),this.svgGroup_=null,e.utils.dom.stopTextWidthCache()}},e.BlockSvg.prototype.toCopyData=function(){if(this.isInsertionMarker_)return null;var t=e.Xml.blockToDom(this,!0);e.Xml.deleteNext(t);var n=this.getRelativeToSurfaceXY();return t.setAttribute("x",this.RTL?-n.x:n.x),t.setAttribute("y",n.y),{xml:t,source:this.workspace,typeCounts:e.utils.getBlockTypeCounts(this,!0)}},e.BlockSvg.prototype.applyColour=function(){this.pathObject.applyColour(this);for(var e=this.getIcons(),t=0;t<e.length;t++)e[t].applyColour();for(e=0;t=this.inputList[e];e++)for(var n,r=0;n=t.fieldRow[r];r++)n.applyColour()},e.BlockSvg.prototype.updateDisabled=function(){var e=this.getChildren(!1);if(this.applyColour(),!this.isCollapsed())for(var t,n=0;t=e[n];n++)t.rendered&&t.updateDisabled()},e.BlockSvg.prototype.getCommentIcon=function(){return this.commentIcon_},e.BlockSvg.prototype.setCommentText=function(t){if(!e.Comment)throw Error("Missing require for Blockly.Comment");this.commentModel.text!=t&&(e.BlockSvg.superClass_.setCommentText.call(this,t),t=null!=t,!!this.commentIcon_==t?this.commentIcon_.updateText():(t?this.comment=this.commentIcon_=new e.Comment(this):(this.commentIcon_.dispose(),this.comment=this.commentIcon_=null),this.rendered&&(this.render(),this.bumpNeighbours())))},e.BlockSvg.prototype.setWarningText=function(t,n){if(!e.Warning)throw Error("Missing require for Blockly.Warning");this.warningTextDb_||(this.warningTextDb_=Object.create(null));var r=n||"";if(r)this.warningTextDb_[r]&&(clearTimeout(this.warningTextDb_[r]),delete this.warningTextDb_[r]);else for(var i in this.warningTextDb_)clearTimeout(this.warningTextDb_[i]),delete this.warningTextDb_[i];if(this.workspace.isDragging()){var o=this;this.warningTextDb_[r]=setTimeout((function(){o.workspace&&(delete o.warningTextDb_[r],o.setWarningText(t,r))}),100)}else{if(this.isInFlyout&&(t=null),n=!1,"string"==typeof t){i=this.getSurroundParent();for(var s=null;i;)i.isCollapsed()&&(s=i),i=i.getSurroundParent();s&&s.setWarningText(e.Msg.COLLAPSED_WARNINGS_WARNING,e.BlockSvg.COLLAPSED_WARNING_ID),this.warning||(this.warning=new e.Warning(this),n=!0),this.warning.setText(t,r)}else this.warning&&!r?(this.warning.dispose(),n=!0):this.warning&&(n=this.warning.getText(),this.warning.setText("",r),(i=this.warning.getText())||this.warning.dispose(),n=n!=i);n&&this.rendered&&(this.render(),this.bumpNeighbours())}},e.BlockSvg.prototype.setMutator=function(e){this.mutator&&this.mutator!==e&&this.mutator.dispose(),e&&(e.setBlock(this),this.mutator=e,e.createIcon()),this.rendered&&(this.render(),this.bumpNeighbours())},e.BlockSvg.prototype.setEnabled=function(t){this.isEnabled()!=t&&(e.BlockSvg.superClass_.setEnabled.call(this,t),this.rendered&&!this.getInheritedDisabled()&&this.updateDisabled())},e.BlockSvg.prototype.setHighlighted=function(e){this.rendered&&this.pathObject.updateHighlighted(e)},e.BlockSvg.prototype.addSelect=function(){this.pathObject.updateSelected(!0)},e.BlockSvg.prototype.removeSelect=function(){this.pathObject.updateSelected(!1)},e.BlockSvg.prototype.setDeleteStyle=function(e){this.pathObject.updateDraggingDelete(e)},e.BlockSvg.prototype.getColour=function(){return this.style.colourPrimary},e.BlockSvg.prototype.setColour=function(t){e.BlockSvg.superClass_.setColour.call(this,t),t=this.workspace.getRenderer().getConstants().getBlockStyleForColour(this.colour_),this.pathObject.setStyle(t.style),this.style=t.style,this.styleName_=t.name,this.applyColour()},e.BlockSvg.prototype.setStyle=function(e){var t=this.workspace.getRenderer().getConstants().getBlockStyle(e);if(this.styleName_=e,!t)throw Error("Invalid style name: "+e);this.hat=t.hat,this.pathObject.setStyle(t),this.colour_=t.colourPrimary,this.style=t,this.applyColour()},e.BlockSvg.prototype.bringToFront=function(){var e=this;do{var t=e.getSvgRoot(),n=t.parentNode,r=n.childNodes;r[r.length-1]!==t&&n.appendChild(t),e=e.getParent()}while(e)},e.BlockSvg.prototype.setPreviousStatement=function(t,n){e.BlockSvg.superClass_.setPreviousStatement.call(this,t,n),this.rendered&&(this.render(),this.bumpNeighbours())},e.BlockSvg.prototype.setNextStatement=function(t,n){e.BlockSvg.superClass_.setNextStatement.call(this,t,n),this.rendered&&(this.render(),this.bumpNeighbours())},e.BlockSvg.prototype.setOutput=function(t,n){e.BlockSvg.superClass_.setOutput.call(this,t,n),this.rendered&&(this.render(),this.bumpNeighbours())},e.BlockSvg.prototype.setInputsInline=function(t){e.BlockSvg.superClass_.setInputsInline.call(this,t),this.rendered&&(this.render(),this.bumpNeighbours())},e.BlockSvg.prototype.removeInput=function(t,n){return t=e.BlockSvg.superClass_.removeInput.call(this,t,n),this.rendered&&(this.render(),this.bumpNeighbours()),t},e.BlockSvg.prototype.moveNumberedInputBefore=function(t,n){e.BlockSvg.superClass_.moveNumberedInputBefore.call(this,t,n),this.rendered&&(this.render(),this.bumpNeighbours())},e.BlockSvg.prototype.appendInput_=function(t,n){return t=e.BlockSvg.superClass_.appendInput_.call(this,t,n),this.rendered&&(this.render(),this.bumpNeighbours()),t},e.BlockSvg.prototype.setConnectionTracking=function(e){if(this.previousConnection&&this.previousConnection.setTracking(e),this.outputConnection&&this.outputConnection.setTracking(e),this.nextConnection){this.nextConnection.setTracking(e);var t=this.nextConnection.targetBlock();t&&t.setConnectionTracking(e)}if(!this.collapsed_)for(t=0;t<this.inputList.length;t++){var n=this.inputList[t].connection;n&&(n.setTracking(e),(n=n.targetBlock())&&n.setConnectionTracking(e))}},e.BlockSvg.prototype.getConnections_=function(e){var t=[];if((e||this.rendered)&&(this.outputConnection&&t.push(this.outputConnection),this.previousConnection&&t.push(this.previousConnection),this.nextConnection&&t.push(this.nextConnection),e||!this.collapsed_)){e=0;for(var n;n=this.inputList[e];e++)n.connection&&t.push(n.connection)}return t},e.BlockSvg.prototype.lastConnectionInStack=function(t){return e.BlockSvg.superClass_.lastConnectionInStack.call(this,t)},e.BlockSvg.prototype.getMatchingConnection=function(t,n){return e.BlockSvg.superClass_.getMatchingConnection.call(this,t,n)},e.BlockSvg.prototype.makeConnection_=function(t){return new e.RenderedConnection(this,t)},e.BlockSvg.prototype.bumpNeighbours=function(){if(this.workspace&&!this.workspace.isDragging()){var t=this.getRootBlock();if(!t.isInFlyout)for(var n,r=this.getConnections_(!1),i=0;n=r[i];i++){n.isConnected()&&n.isSuperior()&&n.targetBlock().bumpNeighbours();for(var o,s=n.neighbours(e.SNAP_RADIUS),a=0;o=s[a];a++)n.isConnected()&&o.isConnected()||o.getSourceBlock().getRootBlock()!=t&&(n.isSuperior()?o.bumpAwayFrom(n):n.bumpAwayFrom(o))}}},e.BlockSvg.prototype.scheduleSnapAndBump=function(){var t=this,n=e.Events.getGroup();setTimeout((function(){e.Events.setGroup(n),t.snapToGrid(),e.Events.setGroup(!1)}),e.BUMP_DELAY/2),setTimeout((function(){e.Events.setGroup(n),t.bumpNeighbours(),e.Events.setGroup(!1)}),e.BUMP_DELAY)},e.BlockSvg.prototype.positionNearConnection=function(t,n){t.type!=e.connectionTypes.NEXT_STATEMENT&&t.type!=e.connectionTypes.INPUT_VALUE||this.moveBy(n.x-t.x,n.y-t.y)},e.BlockSvg.prototype.getParent=function(){return e.BlockSvg.superClass_.getParent.call(this)},e.BlockSvg.prototype.getRootBlock=function(){return e.BlockSvg.superClass_.getRootBlock.call(this)},e.BlockSvg.prototype.render=function(t){if(!this.renderIsInProgress_){this.renderIsInProgress_=!0;try{if(this.rendered=!0,e.utils.dom.startTextWidthCache(),this.isCollapsed()&&this.updateCollapsed_(),this.workspace.getRenderer().render(this),this.updateConnectionLocations_(),!1!==t){var n=this.getParent();n?n.render(!0):this.workspace.resizeContents()}e.utils.dom.stopTextWidthCache(),this.updateMarkers_()}finally{this.renderIsInProgress_=!1}}},e.BlockSvg.prototype.updateMarkers_=function(){this.workspace.keyboardAccessibilityMode&&this.pathObject.cursorSvg&&this.workspace.getCursor().draw(),this.workspace.keyboardAccessibilityMode&&this.pathObject.markerSvg&&this.workspace.getMarker(e.MarkerManager.LOCAL_MARKER).draw()},e.BlockSvg.prototype.updateConnectionLocations_=function(){var e=this.getRelativeToSurfaceXY();this.previousConnection&&this.previousConnection.moveToOffset(e),this.outputConnection&&this.outputConnection.moveToOffset(e);for(var t=0;t<this.inputList.length;t++){var n=this.inputList[t].connection;n&&(n.moveToOffset(e),n.isConnected()&&n.tighten())}this.nextConnection&&(this.nextConnection.moveToOffset(e),this.nextConnection.isConnected()&&this.nextConnection.tighten())},e.BlockSvg.prototype.setCursorSvg=function(e){this.pathObject.setCursorSvg(e)},e.BlockSvg.prototype.setMarkerSvg=function(e){this.pathObject.setMarkerSvg(e)},e.BlockSvg.prototype.getHeightWidth=function(){var e=this.height,t=this.width,n=this.getNextBlock();if(n){n=n.getHeightWidth();var r=this.workspace.getRenderer().getConstants().NOTCH_HEIGHT;e+=n.height-r,t=Math.max(t,n.width)}return{height:e,width:t}},e.BlockSvg.prototype.fadeForReplacement=function(e){this.pathObject.updateReplacementFade(e)},e.BlockSvg.prototype.highlightShapeForInput=function(e,t){this.pathObject.updateShapeForInputHighlight(e,t)},e.ConnectionDB=function(e){this.connections_=[],this.connectionChecker_=e},e.ConnectionDB.prototype.addConnection=function(e,t){t=this.calculateIndexForYPos_(t),this.connections_.splice(t,0,e)},e.ConnectionDB.prototype.findIndexOfConnection_=function(e,t){if(!this.connections_.length)return-1;var n=this.calculateIndexForYPos_(t);if(n>=this.connections_.length)return-1;t=e.y;for(var r=n;0<=r&&this.connections_[r].y==t;){if(this.connections_[r]==e)return r;r--}for(r=n;r<this.connections_.length&&this.connections_[r].y==t;){if(this.connections_[r]==e)return r;r++}return-1},e.ConnectionDB.prototype.calculateIndexForYPos_=function(e){if(!this.connections_.length)return 0;for(var t=0,n=this.connections_.length;t<n;){var r=Math.floor((t+n)/2);if(this.connections_[r].y<e)t=r+1;else{if(!(this.connections_[r].y>e)){t=r;break}n=r}}return t},e.ConnectionDB.prototype.removeConnection=function(e,t){if(-1==(e=this.findIndexOfConnection_(e,t)))throw Error("Unable to find connection in connectionDB.");this.connections_.splice(e,1)},e.ConnectionDB.prototype.getNeighbours=function(e,t){function n(e){var n=i-r[e].x,s=o-r[e].y;return Math.sqrt(n*n+s*s)<=t&&l.push(r[e]),s<t}var r=this.connections_,i=e.x,o=e.y;e=0;for(var s=r.length-2,a=s;e<a;)r[a].y<o?e=a:s=a,a=Math.floor((e+s)/2);var l=[];if(s=e=a,r.length){for(;0<=e&&n(e);)e--;do{s++}while(s<r.length&&n(s))}return l},e.ConnectionDB.prototype.isInYRange_=function(e,t,n){return Math.abs(this.connections_[e].y-t)<=n},e.ConnectionDB.prototype.searchForClosest=function(e,t,n){if(!this.connections_.length)return{connection:null,radius:t};var r=e.y,i=e.x;e.x=i+n.x,e.y=r+n.y;var o=this.calculateIndexForYPos_(e.y);n=null;for(var s,a=t,l=o-1;0<=l&&this.isInYRange_(l,e.y,t);)s=this.connections_[l],this.connectionChecker_.canConnect(e,s,!0,a)&&(n=s,a=s.distanceFrom(e)),l--;for(;o<this.connections_.length&&this.isInYRange_(o,e.y,t);)s=this.connections_[o],this.connectionChecker_.canConnect(e,s,!0,a)&&(n=s,a=s.distanceFrom(e)),o++;return e.x=i,e.y=r,{connection:n,radius:a}},e.ConnectionDB.init=function(t){var n=[];return n[e.connectionTypes.INPUT_VALUE]=new e.ConnectionDB(t),n[e.connectionTypes.OUTPUT_VALUE]=new e.ConnectionDB(t),n[e.connectionTypes.NEXT_STATEMENT]=new e.ConnectionDB(t),n[e.connectionTypes.PREVIOUS_STATEMENT]=new e.ConnectionDB(t),n},e.Events.ThemeChange=function(t,n){e.Events.ThemeChange.superClass_.constructor.call(this,n),this.themeName=t},e.utils.object.inherits(e.Events.ThemeChange,e.Events.UiBase),e.Events.ThemeChange.prototype.type=e.Events.THEME_CHANGE,e.Events.ThemeChange.prototype.toJson=function(){var t=e.Events.ThemeChange.superClass_.toJson.call(this);return t.themeName=this.themeName,t},e.Events.ThemeChange.prototype.fromJson=function(t){e.Events.ThemeChange.superClass_.fromJson.call(this,t),this.themeName=t.themeName},e.registry.register(e.registry.Type.EVENT,e.Events.THEME_CHANGE,e.Events.ThemeChange),e.Events.ViewportChange=function(t,n,r,i,o){e.Events.ViewportChange.superClass_.constructor.call(this,i),this.viewTop=t,this.viewLeft=n,this.scale=r,this.oldScale=o},e.utils.object.inherits(e.Events.ViewportChange,e.Events.UiBase),e.Events.ViewportChange.prototype.type=e.Events.VIEWPORT_CHANGE,e.Events.ViewportChange.prototype.toJson=function(){var t=e.Events.ViewportChange.superClass_.toJson.call(this);return t.viewTop=this.viewTop,t.viewLeft=this.viewLeft,t.scale=this.scale,t.oldScale=this.oldScale,t},e.Events.ViewportChange.prototype.fromJson=function(t){e.Events.ViewportChange.superClass_.fromJson.call(this,t),this.viewTop=t.viewTop,this.viewLeft=t.viewLeft,this.scale=t.scale,this.oldScale=t.oldScale},e.registry.register(e.registry.Type.EVENT,e.Events.VIEWPORT_CHANGE,e.Events.ViewportChange),e.IMetricsManager=function(){},e.MetricsManager=function(e){this.workspace_=e},e.MetricsManager.prototype.getDimensionsPx_=function(t){var n=0,r=0;return t&&(n=t.getWidth(),r=t.getHeight()),new e.utils.Size(n,r)},e.MetricsManager.prototype.getFlyoutMetrics=function(e){return{width:(e=this.getDimensionsPx_(this.workspace_.getFlyout(e))).width,height:e.height,position:this.workspace_.toolboxPosition}},e.MetricsManager.prototype.getToolboxMetrics=function(){var e=this.getDimensionsPx_(this.workspace_.getToolbox());return{width:e.width,height:e.height,position:this.workspace_.toolboxPosition}},e.MetricsManager.prototype.getSvgMetrics=function(){return this.workspace_.getCachedParentSvgSize()},e.MetricsManager.prototype.getAbsoluteMetrics=function(){var t=0,n=this.getToolboxMetrics(),r=this.getFlyoutMetrics(!0),i=!!this.workspace_.getToolbox(),o=!!this.workspace_.getFlyout(!0),s=i?n.position:r.position,a=s==e.utils.toolbox.Position.LEFT;return s=s==e.utils.toolbox.Position.TOP,i&&a?t=n.width:o&&a&&(t=r.width),a=0,i&&s?a=n.height:o&&s&&(a=r.height),{top:a,left:t}},e.MetricsManager.prototype.getViewMetrics=function(t){t=t?this.workspace_.scale:1;var n=this.getSvgMetrics(),r=this.getToolboxMetrics(),i=this.getFlyoutMetrics(!0),o=this.workspace_.getToolbox()?r.position:i.position;return this.workspace_.getToolbox()?o==e.utils.toolbox.Position.TOP||o==e.utils.toolbox.Position.BOTTOM?n.height-=r.height:o!=e.utils.toolbox.Position.LEFT&&o!=e.utils.toolbox.Position.RIGHT||(n.width-=r.width):this.workspace_.getFlyout(!0)&&(o==e.utils.toolbox.Position.TOP||o==e.utils.toolbox.Position.BOTTOM?n.height-=i.height:o!=e.utils.toolbox.Position.LEFT&&o!=e.utils.toolbox.Position.RIGHT||(n.width-=i.width)),{height:n.height/t,width:n.width/t,top:-this.workspace_.scrollY/t,left:-this.workspace_.scrollX/t}},e.MetricsManager.prototype.getContentMetrics=function(e){e=e?1:this.workspace_.scale;var t=this.workspace_.getBlocksBoundingBox();return{height:(t.bottom-t.top)*e,width:(t.right-t.left)*e,top:t.top*e,left:t.left*e}},e.MetricsManager.prototype.hasFixedEdges=function(){return!this.workspace_.isMovableHorizontally()||!this.workspace_.isMovableVertically()},e.MetricsManager.prototype.getComputedFixedEdges_=function(e){if(!this.hasFixedEdges())return{};var t=this.workspace_.isMovableHorizontally(),n=this.workspace_.isMovableVertically();e=e||this.getViewMetrics(!1);var r={};return n||(r.top=e.top,r.bottom=e.top+e.height),t||(r.left=e.left,r.right=e.left+e.width),r},e.MetricsManager.prototype.getPaddedContent_=function(e,t){var n=t.top+t.height,r=t.left+t.width,i=e.width,o=i/2,s=(e=e.height)/2;return{top:Math.min(t.top-s,n-e),bottom:Math.max(n+s,t.top+e),left:Math.min(t.left-o,r-i),right:Math.max(r+o,t.left+i)}},e.MetricsManager.prototype.getScrollMetrics=function(e,t,n){e=e?this.workspace_.scale:1,t=t||this.getViewMetrics(!1);var r=n||this.getContentMetrics();n=this.getComputedFixedEdges_(t),t=this.getPaddedContent_(t,r),r=void 0!==n.top?n.top:t.top;var i=void 0!==n.left?n.left:t.left;return{top:r/e,left:i/e,width:((void 0!==n.right?n.right:t.right)-i)/e,height:((void 0!==n.bottom?n.bottom:t.bottom)-r)/e}},e.MetricsManager.prototype.getUiMetrics=function(){return{viewMetrics:this.getViewMetrics(),absoluteMetrics:this.getAbsoluteMetrics(),toolboxMetrics:this.getToolboxMetrics()}},e.MetricsManager.prototype.getMetrics=function(){var e=this.getToolboxMetrics(),t=this.getFlyoutMetrics(!0),n=this.getSvgMetrics(),r=this.getAbsoluteMetrics(),i=this.getViewMetrics(),o=this.getContentMetrics(),s=this.getScrollMetrics(!1,i,o);return{contentHeight:o.height,contentWidth:o.width,contentTop:o.top,contentLeft:o.left,scrollHeight:s.height,scrollWidth:s.width,scrollTop:s.top,scrollLeft:s.left,viewHeight:i.height,viewWidth:i.width,viewTop:i.top,viewLeft:i.left,absoluteTop:r.top,absoluteLeft:r.left,svgHeight:n.height,svgWidth:n.width,toolboxWidth:e.width,toolboxHeight:e.height,toolboxPosition:e.position,flyoutWidth:t.width,flyoutHeight:t.height}},e.registry.register(e.registry.Type.METRICS_MANAGER,e.registry.DEFAULT,e.MetricsManager),e.FlyoutMetricsManager=function(t,n){this.flyout_=n,e.FlyoutMetricsManager.superClass_.constructor.call(this,t)},e.utils.object.inherits(e.FlyoutMetricsManager,e.MetricsManager),e.FlyoutMetricsManager.prototype.getBoundingBox_=function(){try{var e=this.workspace_.getCanvas().getBBox()}catch(t){e={height:0,y:0,width:0,x:0}}return e},e.FlyoutMetricsManager.prototype.getContentMetrics=function(e){var t=this.getBoundingBox_();return e=e?1:this.workspace_.scale,{height:t.height*e,width:t.width*e,top:t.y*e,left:t.x*e}},e.FlyoutMetricsManager.prototype.getScrollMetrics=function(e,t,n){return t=n||this.getContentMetrics(),n=this.flyout_.MARGIN*this.workspace_.scale,e=e?this.workspace_.scale:1,{height:(t.height+2*n)/e,width:(t.width+t.left+n)/e,top:0,left:0}},e.ThemeManager=function(e,t){this.workspace_=e,this.theme_=t,this.subscribedWorkspaces_=[],this.componentDB_=Object.create(null)},e.ThemeManager.prototype.getTheme=function(){return this.theme_},e.ThemeManager.prototype.setTheme=function(t){var n,r=this.theme_;for(this.theme_=t,(t=this.workspace_.getInjectionDiv())&&(r&&e.utils.dom.removeClass(t,r.getClassName()),e.utils.dom.addClass(t,this.theme_.getClassName())),r=0;t=this.subscribedWorkspaces_[r];r++)t.refreshTheme();for(r=0,t=Object.keys(this.componentDB_);n=t[r];r++)for(var i,o=0;i=this.componentDB_[n][o];o++){var s=i.element;i=i.propertyName;var a=this.theme_&&this.theme_.getComponentStyle(n);s.style[i]=a||""}e.hideChaff()},e.ThemeManager.prototype.subscribeWorkspace=function(e){this.subscribedWorkspaces_.push(e)},e.ThemeManager.prototype.unsubscribeWorkspace=function(e){if(0>(e=this.subscribedWorkspaces_.indexOf(e)))throw Error("Cannot unsubscribe a workspace that hasn't been subscribed.");this.subscribedWorkspaces_.splice(e,1)},e.ThemeManager.prototype.subscribe=function(e,t,n){this.componentDB_[t]||(this.componentDB_[t]=[]),this.componentDB_[t].push({element:e,propertyName:n}),t=this.theme_&&this.theme_.getComponentStyle(t),e.style[n]=t||""},e.ThemeManager.prototype.unsubscribe=function(e){if(e)for(var t,n=Object.keys(this.componentDB_),r=0;t=n[r];r++){for(var i=this.componentDB_[t],o=i.length-1;0<=o;o--)i[o].element===e&&i.splice(o,1);this.componentDB_[t].length||delete this.componentDB_[t]}},e.ThemeManager.prototype.dispose=function(){this.componentDB_=this.subscribedWorkspaces_=this.theme_=this.owner_=null},e.TouchGesture=function(t,n){e.TouchGesture.superClass_.constructor.call(this,t,n),this.isMultiTouch_=!1,this.cachedPoints_=Object.create(null),this.startDistance_=this.previousScale_=0,this.isPinchZoomEnabled_=this.onStartWrapper_=null},e.utils.object.inherits(e.TouchGesture,e.Gesture),e.TouchGesture.ZOOM_IN_MULTIPLIER=5,e.TouchGesture.ZOOM_OUT_MULTIPLIER=6,e.TouchGesture.prototype.doStart=function(t){this.isPinchZoomEnabled_=this.startWorkspace_.options.zoomOptions&&this.startWorkspace_.options.zoomOptions.pinch,e.TouchGesture.superClass_.doStart.call(this,t),!this.isEnding_&&e.Touch.isTouchEvent(t)&&this.handleTouchStart(t)},e.TouchGesture.prototype.bindMouseEvents=function(t){this.onStartWrapper_=e.browserEvents.conditionalBind(document,"mousedown",null,this.handleStart.bind(this),!0),this.onMoveWrapper_=e.browserEvents.conditionalBind(document,"mousemove",null,this.handleMove.bind(this),!0),this.onUpWrapper_=e.browserEvents.conditionalBind(document,"mouseup",null,this.handleUp.bind(this),!0),t.preventDefault(),t.stopPropagation()},e.TouchGesture.prototype.handleStart=function(t){!this.isDragging()&&e.Touch.isTouchEvent(t)&&(this.handleTouchStart(t),this.isMultiTouch()&&e.longStop_())},e.TouchGesture.prototype.handleMove=function(t){this.isDragging()?e.Touch.shouldHandleEvent(t)&&e.TouchGesture.superClass_.handleMove.call(this,t):this.isMultiTouch()?(e.Touch.isTouchEvent(t)&&this.handleTouchMove(t),e.longStop_()):e.TouchGesture.superClass_.handleMove.call(this,t)},e.TouchGesture.prototype.handleUp=function(t){e.Touch.isTouchEvent(t)&&!this.isDragging()&&this.handleTouchEnd(t),!this.isMultiTouch()||this.isDragging()?e.Touch.shouldHandleEvent(t)&&e.TouchGesture.superClass_.handleUp.call(this,t):(t.preventDefault(),t.stopPropagation(),this.dispose())},e.TouchGesture.prototype.isMultiTouch=function(){return this.isMultiTouch_},e.TouchGesture.prototype.dispose=function(){e.TouchGesture.superClass_.dispose.call(this),this.onStartWrapper_&&e.browserEvents.unbind(this.onStartWrapper_)},e.TouchGesture.prototype.handleTouchStart=function(t){var n=e.Touch.getTouchIdentifierFromEvent(t);this.cachedPoints_[n]=this.getTouchPoint(t),2==(n=Object.keys(this.cachedPoints_)).length&&(this.startDistance_=e.utils.Coordinate.distance(this.cachedPoints_[n[0]],this.cachedPoints_[n[1]]),this.isMultiTouch_=!0,t.preventDefault())},e.TouchGesture.prototype.handleTouchMove=function(t){var n=e.Touch.getTouchIdentifierFromEvent(t);this.cachedPoints_[n]=this.getTouchPoint(t),n=Object.keys(this.cachedPoints_),this.isPinchZoomEnabled_&&2===n.length?this.handlePinch_(t):e.TouchGesture.superClass_.handleMove.call(this,t)},e.TouchGesture.prototype.handlePinch_=function(t){var n=Object.keys(this.cachedPoints_);if(n=e.utils.Coordinate.distance(this.cachedPoints_[n[0]],this.cachedPoints_[n[1]])/this.startDistance_,0<this.previousScale_&&1/0>this.previousScale_){var r=n-this.previousScale_;r=0<r?r*e.TouchGesture.ZOOM_IN_MULTIPLIER:r*e.TouchGesture.ZOOM_OUT_MULTIPLIER;var i=this.startWorkspace_,o=e.utils.mouseToSvg(t,i.getParentSvg(),i.getInverseScreenCTM());i.zoom(o.x,o.y,r)}this.previousScale_=n,t.preventDefault()},e.TouchGesture.prototype.handleTouchEnd=function(t){t=e.Touch.getTouchIdentifierFromEvent(t),this.cachedPoints_[t]&&delete this.cachedPoints_[t],2>Object.keys(this.cachedPoints_).length&&(this.cachedPoints_=Object.create(null),this.previousScale_=0)},e.TouchGesture.prototype.getTouchPoint=function(t){return this.startWorkspace_?new e.utils.Coordinate(t.pageX?t.pageX:t.changedTouches[0].pageX,t.pageY?t.pageY:t.changedTouches[0].pageY):null},e.WorkspaceAudio=function(e){this.parentWorkspace_=e,this.SOUNDS_=Object.create(null)},e.WorkspaceAudio.prototype.lastSound_=null,e.WorkspaceAudio.prototype.dispose=function(){this.SOUNDS_=this.parentWorkspace_=null},e.WorkspaceAudio.prototype.load=function(t,n){if(t.length){try{var r=new e.utils.global.Audio}catch(l){return}for(var i,o=0;o<t.length;o++){var s=t[o],a=s.match(/\.(\w+)$/);if(a&&r.canPlayType("audio/"+a[1])){i=new e.utils.global.Audio(s);break}}i&&i.play&&(this.SOUNDS_[n]=i)}},e.WorkspaceAudio.prototype.preload=function(){for(var t in this.SOUNDS_){var n=this.SOUNDS_[t];n.volume=.01;var r=n.play();if(void 0!==r?r.then(n.pause).catch((function(){})):n.pause(),e.utils.userAgent.IPAD||e.utils.userAgent.IPHONE)break}},e.WorkspaceAudio.prototype.play=function(t,n){var r=this.SOUNDS_[t];r?(t=new Date,null!=this.lastSound_&&t-this.lastSound_<e.SOUND_LIMIT||(this.lastSound_=t,(r=e.utils.userAgent.IPAD||e.utils.userAgent.ANDROID?r:r.cloneNode()).volume=void 0===n?1:n,r.play())):this.parentWorkspace_&&this.parentWorkspace_.getAudioManager().play(t,n)},e.WorkspaceSvg=function(t,n,r){e.WorkspaceSvg.superClass_.constructor.call(this,t),this.metricsManager_=new(e.registry.getClassFromOptions(e.registry.Type.METRICS_MANAGER,t,!0))(this),this.getMetrics=t.getMetrics||this.metricsManager_.getMetrics.bind(this.metricsManager_),this.setMetrics=t.setMetrics||e.WorkspaceSvg.setTopLevelWorkspaceMetrics_,this.componentManager_=new e.ComponentManager,this.connectionDBList=e.ConnectionDB.init(this.connectionChecker),n&&(this.blockDragSurface_=n),r&&(this.workspaceDragSurface_=r),this.useWorkspaceDragSurface_=!!this.workspaceDragSurface_&&e.utils.is3dSupported(),this.highlightedBlocks_=[],this.audioManager_=new e.WorkspaceAudio(t.parentWorkspace),this.grid_=this.options.gridPattern?new e.Grid(this.options.gridPattern,t.gridOptions):null,this.markerManager_=new e.MarkerManager(this),this.toolboxCategoryCallbacks_=Object.create(null),this.flyoutButtonCallbacks_=Object.create(null),e.Variables&&e.Variables.flyoutCategory&&this.registerToolboxCategoryCallback(e.VARIABLE_CATEGORY_NAME,e.Variables.flyoutCategory),e.VariablesDynamic&&e.VariablesDynamic.flyoutCategory&&this.registerToolboxCategoryCallback(e.VARIABLE_DYNAMIC_CATEGORY_NAME,e.VariablesDynamic.flyoutCategory),e.Procedures&&e.Procedures.flyoutCategory&&(this.registerToolboxCategoryCallback(e.PROCEDURE_CATEGORY_NAME,e.Procedures.flyoutCategory),this.addChangeListener(e.Procedures.mutatorOpenListener)),this.themeManager_=this.options.parentWorkspace?this.options.parentWorkspace.getThemeManager():new e.ThemeManager(this,this.options.theme||e.Themes.Classic),this.themeManager_.subscribeWorkspace(this),this.renderer_=e.blockRendering.init(this.options.renderer||"geras",this.getTheme(),this.options.rendererOverrides),this.cachedParentSvg_=null,this.keyboardAccessibilityMode=!1,this.topBoundedElements_=[],this.dragTargetAreas_=[],this.cachedParentSvgSize_=new e.utils.Size(0,0)},e.utils.object.inherits(e.WorkspaceSvg,e.Workspace),e.WorkspaceSvg.prototype.resizeHandlerWrapper_=null,e.WorkspaceSvg.prototype.rendered=!0,e.WorkspaceSvg.prototype.isVisible_=!0,e.WorkspaceSvg.prototype.isFlyout=!1,e.WorkspaceSvg.prototype.isMutator=!1,e.WorkspaceSvg.prototype.resizesEnabled_=!0,e.WorkspaceSvg.prototype.scrollX=0,e.WorkspaceSvg.prototype.scrollY=0,e.WorkspaceSvg.prototype.startScrollX=0,e.WorkspaceSvg.prototype.startScrollY=0,e.WorkspaceSvg.prototype.dragDeltaXY_=null,e.WorkspaceSvg.prototype.scale=1,e.WorkspaceSvg.prototype.oldScale_=1,e.WorkspaceSvg.prototype.oldTop_=0,e.WorkspaceSvg.prototype.oldLeft_=0,e.WorkspaceSvg.prototype.trashcan=null,e.WorkspaceSvg.prototype.scrollbar=null,e.WorkspaceSvg.prototype.flyout_=null,e.WorkspaceSvg.prototype.toolbox_=null,e.WorkspaceSvg.prototype.currentGesture_=null,e.WorkspaceSvg.prototype.blockDragSurface_=null,e.WorkspaceSvg.prototype.workspaceDragSurface_=null,e.WorkspaceSvg.prototype.useWorkspaceDragSurface_=!1,e.WorkspaceSvg.prototype.isDragSurfaceActive_=!1,e.WorkspaceSvg.prototype.injectionDiv_=null,e.WorkspaceSvg.prototype.lastRecordedPageScroll_=null,e.WorkspaceSvg.prototype.targetWorkspace=null,e.WorkspaceSvg.prototype.inverseScreenCTM_=null,e.WorkspaceSvg.prototype.inverseScreenCTMDirty_=!0,e.WorkspaceSvg.prototype.getMarkerManager=function(){return this.markerManager_},e.WorkspaceSvg.prototype.getMetricsManager=function(){return this.metricsManager_},e.WorkspaceSvg.prototype.setMetricsManager=function(e){this.metricsManager_=e,this.getMetrics=this.metricsManager_.getMetrics.bind(this.metricsManager_)},e.WorkspaceSvg.prototype.getComponentManager=function(){return this.componentManager_},e.WorkspaceSvg.prototype.setCursorSvg=function(e){this.markerManager_.setCursorSvg(e)},e.WorkspaceSvg.prototype.setMarkerSvg=function(e){this.markerManager_.setMarkerSvg(e)},e.WorkspaceSvg.prototype.getMarker=function(e){return this.markerManager_?this.markerManager_.getMarker(e):null},e.WorkspaceSvg.prototype.getCursor=function(){return this.markerManager_?this.markerManager_.getCursor():null},e.WorkspaceSvg.prototype.getRenderer=function(){return this.renderer_},e.WorkspaceSvg.prototype.getThemeManager=function(){return this.themeManager_},e.WorkspaceSvg.prototype.getTheme=function(){return this.themeManager_.getTheme()},e.WorkspaceSvg.prototype.setTheme=function(t){t||(t=e.Themes.Classic),this.themeManager_.setTheme(t)},e.WorkspaceSvg.prototype.refreshTheme=function(){this.svgGroup_&&this.renderer_.refreshDom(this.svgGroup_,this.getTheme()),this.updateBlockStyles_(this.getAllBlocks(!1).filter((function(e){return!!e.getStyleName()}))),this.refreshToolboxSelection(),this.toolbox_&&this.toolbox_.refreshTheme(),this.isVisible()&&this.setVisible(!0);var t=new(e.Events.get(e.Events.THEME_CHANGE))(this.getTheme().name,this.id);e.Events.fire(t)},e.WorkspaceSvg.prototype.updateBlockStyles_=function(e){for(var t,n=0;t=e[n];n++){var r=t.getStyleName();r&&(t.setStyle(r),t.mutator&&t.mutator.updateBlockStyle())}},e.WorkspaceSvg.prototype.getInverseScreenCTM=function(){if(this.inverseScreenCTMDirty_){var e=this.getParentSvg().getScreenCTM();e&&(this.inverseScreenCTM_=e.inverse(),this.inverseScreenCTMDirty_=!1)}return this.inverseScreenCTM_},e.WorkspaceSvg.prototype.updateInverseScreenCTM=function(){this.inverseScreenCTMDirty_=!0},e.WorkspaceSvg.prototype.isVisible=function(){return this.isVisible_},e.WorkspaceSvg.prototype.getSvgXY=function(t){var n=0,r=0,i=1;(e.utils.dom.containsNode(this.getCanvas(),t)||e.utils.dom.containsNode(this.getBubbleCanvas(),t))&&(i=this.scale);do{var o=e.utils.getRelativeXY(t);t!=this.getCanvas()&&t!=this.getBubbleCanvas()||(i=1),n+=o.x*i,r+=o.y*i,t=t.parentNode}while(t&&t!=this.getParentSvg());return new e.utils.Coordinate(n,r)},e.WorkspaceSvg.prototype.getCachedParentSvgSize=function(){var t=this.cachedParentSvgSize_;return new e.utils.Size(t.width,t.height)},e.WorkspaceSvg.prototype.getOriginOffsetInPixels=function(){return e.utils.getInjectionDivXY_(this.getCanvas())},e.WorkspaceSvg.prototype.getInjectionDiv=function(){if(!this.injectionDiv_)for(var e=this.svgGroup_;e;){if(-1!=(" "+(e.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")){this.injectionDiv_=e;break}e=e.parentNode}return this.injectionDiv_},e.WorkspaceSvg.prototype.getBlockCanvas=function(){return this.svgBlockCanvas_},e.WorkspaceSvg.prototype.setResizeHandlerWrapper=function(e){this.resizeHandlerWrapper_=e},e.WorkspaceSvg.prototype.createDom=function(t){return this.svgGroup_=e.utils.dom.createSvgElement(e.utils.Svg.G,{class:"blocklyWorkspace"},null),t&&(this.svgBackground_=e.utils.dom.createSvgElement(e.utils.Svg.RECT,{height:"100%",width:"100%",class:t},this.svgGroup_),"blocklyMainBackground"==t&&this.grid_?this.svgBackground_.style.fill="url(#"+this.grid_.getPatternId()+")":this.themeManager_.subscribe(this.svgBackground_,"workspaceBackgroundColour","fill")),this.svgBlockCanvas_=e.utils.dom.createSvgElement(e.utils.Svg.G,{class:"blocklyBlockCanvas"},this.svgGroup_),this.svgBubbleCanvas_=e.utils.dom.createSvgElement(e.utils.Svg.G,{class:"blocklyBubbleCanvas"},this.svgGroup_),this.isFlyout||(e.browserEvents.conditionalBind(this.svgGroup_,"mousedown",this,this.onMouseDown_,!1,!0),e.browserEvents.conditionalBind(this.svgGroup_,"wheel",this,this.onMouseWheel_)),this.options.hasCategories&&(this.toolbox_=new(e.registry.getClassFromOptions(e.registry.Type.TOOLBOX,this.options,!0))(this)),this.grid_&&this.grid_.update(this.scale),this.recordDragTargets(),(t=e.registry.getClassFromOptions(e.registry.Type.CURSOR,this.options))&&this.markerManager_.setCursor(new t),this.renderer_.createDom(this.svgGroup_,this.getTheme()),this.svgGroup_},e.WorkspaceSvg.prototype.dispose=function(){if(this.rendered=!1,this.currentGesture_&&this.currentGesture_.cancel(),this.svgGroup_&&(e.utils.dom.removeNode(this.svgGroup_),this.svgGroup_=null),this.svgBubbleCanvas_=this.svgBlockCanvas_=null,this.toolbox_&&(this.toolbox_.dispose(),this.toolbox_=null),this.flyout_&&(this.flyout_.dispose(),this.flyout_=null),this.trashcan&&(this.trashcan.dispose(),this.trashcan=null),this.scrollbar&&(this.scrollbar.dispose(),this.scrollbar=null),this.zoomControls_&&(this.zoomControls_.dispose(),this.zoomControls_=null),this.audioManager_&&(this.audioManager_.dispose(),this.audioManager_=null),this.grid_&&(this.grid_.dispose(),this.grid_=null),this.renderer_.dispose(),this.markerManager_&&(this.markerManager_.dispose(),this.markerManager_=null),e.WorkspaceSvg.superClass_.dispose.call(this),this.themeManager_&&(this.themeManager_.unsubscribeWorkspace(this),this.themeManager_.unsubscribe(this.svgBackground_),this.options.parentWorkspace||(this.themeManager_.dispose(),this.themeManager_=null)),this.flyoutButtonCallbacks_=this.toolboxCategoryCallbacks_=this.connectionDBList=null,!this.options.parentWorkspace){var t=this.getParentSvg();t&&t.parentNode&&e.utils.dom.removeNode(t.parentNode)}this.resizeHandlerWrapper_&&(e.browserEvents.unbind(this.resizeHandlerWrapper_),this.resizeHandlerWrapper_=null)},e.WorkspaceSvg.prototype.newBlock=function(t,n){return new e.BlockSvg(this,t,n)},e.WorkspaceSvg.prototype.addTrashcan=function(){if(!e.Trashcan)throw Error("Missing require for Blockly.Trashcan");this.trashcan=new e.Trashcan(this);var t=this.trashcan.createDom();this.svgGroup_.insertBefore(t,this.svgBlockCanvas_)},e.WorkspaceSvg.prototype.addZoomControls=function(){if(!e.ZoomControls)throw Error("Missing require for Blockly.ZoomControls");this.zoomControls_=new e.ZoomControls(this);var t=this.zoomControls_.createDom();this.svgGroup_.appendChild(t)},e.WorkspaceSvg.prototype.addFlyout=function(t){var n=new e.Options({parentWorkspace:this,rtl:this.RTL,oneBasedIndex:this.options.oneBasedIndex,horizontalLayout:this.horizontalLayout,renderer:this.options.renderer,rendererOverrides:this.options.rendererOverrides,move:{scrollbars:!0}});return n.toolboxPosition=this.options.toolboxPosition,this.flyout_=this.horizontalLayout?new(e.registry.getClassFromOptions(e.registry.Type.FLYOUTS_HORIZONTAL_TOOLBOX,this.options,!0))(n):new(e.registry.getClassFromOptions(e.registry.Type.FLYOUTS_VERTICAL_TOOLBOX,this.options,!0))(n),this.flyout_.autoClose=!1,this.flyout_.getWorkspace().setVisible(!0),this.flyout_.createDom(t)},e.WorkspaceSvg.prototype.getFlyout=function(e){return this.flyout_||e?this.flyout_:this.toolbox_?this.toolbox_.getFlyout():null},e.WorkspaceSvg.prototype.getToolbox=function(){return this.toolbox_},e.WorkspaceSvg.prototype.updateScreenCalculations_=function(){this.updateInverseScreenCTM(),this.recordDragTargets()},e.WorkspaceSvg.prototype.resizeContents=function(){this.resizesEnabled_&&this.rendered&&(this.scrollbar&&this.scrollbar.resize(),this.updateInverseScreenCTM())},e.WorkspaceSvg.prototype.resize=function(){this.toolbox_&&this.toolbox_.position(),this.flyout_&&this.flyout_.position();for(var t,n=this.componentManager_.getComponents(e.ComponentManager.Capability.POSITIONABLE,!0),r=this.getMetricsManager().getUiMetrics(),i=[],o=0;t=n[o];o++)t.position(r,i),(t=t.getBoundingRectangle())&&i.push(t);this.scrollbar&&this.scrollbar.resize(),this.updateScreenCalculations_()},e.WorkspaceSvg.prototype.updateScreenCalculationsIfScrolled=function(){var t=e.utils.getDocumentScroll();e.utils.Coordinate.equals(this.lastRecordedPageScroll_,t)||(this.lastRecordedPageScroll_=t,this.updateScreenCalculations_())},e.WorkspaceSvg.prototype.getCanvas=function(){return this.svgBlockCanvas_},e.WorkspaceSvg.prototype.setCachedParentSvgSize=function(e,t){var n=this.getParentSvg();e&&(this.cachedParentSvgSize_.width=e,n.cachedWidth_=e),t&&(this.cachedParentSvgSize_.height=t,n.cachedHeight_=t)},e.WorkspaceSvg.prototype.getBubbleCanvas=function(){return this.svgBubbleCanvas_},e.WorkspaceSvg.prototype.getParentSvg=function(){if(!this.cachedParentSvg_)for(var e=this.svgGroup_;e;){if("svg"==e.tagName){this.cachedParentSvg_=e;break}e=e.parentNode}return this.cachedParentSvg_},e.WorkspaceSvg.prototype.maybeFireViewportChangeEvent=function(){if(e.Events.isEnabled()){var t=this.scale,n=-this.scrollY,r=-this.scrollX;if(!(t==this.oldScale_&&1>Math.abs(n-this.oldTop_)&&1>Math.abs(r-this.oldLeft_))){var i=new(e.Events.get(e.Events.VIEWPORT_CHANGE))(n,r,t,this.id,this.oldScale_);this.oldScale_=t,this.oldTop_=n,this.oldLeft_=r,e.Events.fire(i)}}},e.WorkspaceSvg.prototype.translate=function(e,t){if(this.useWorkspaceDragSurface_&&this.isDragSurfaceActive_)this.workspaceDragSurface_.translateSurface(e,t);else{var n="translate("+e+","+t+") scale("+this.scale+")";this.svgBlockCanvas_.setAttribute("transform",n),this.svgBubbleCanvas_.setAttribute("transform",n)}this.blockDragSurface_&&this.blockDragSurface_.translateAndScaleGroup(e,t,this.scale),this.grid_&&this.grid_.moveTo(e,t),this.maybeFireViewportChangeEvent()},e.WorkspaceSvg.prototype.resetDragSurface=function(){if(this.useWorkspaceDragSurface_){this.isDragSurfaceActive_=!1;var e=this.workspaceDragSurface_.getSurfaceTranslation();this.workspaceDragSurface_.clearAndHide(this.svgGroup_),e="translate("+e.x+","+e.y+") scale("+this.scale+")",this.svgBlockCanvas_.setAttribute("transform",e),this.svgBubbleCanvas_.setAttribute("transform",e)}},e.WorkspaceSvg.prototype.setupDragSurface=function(){if(this.useWorkspaceDragSurface_&&!this.isDragSurfaceActive_){this.isDragSurfaceActive_=!0;var t=this.svgBlockCanvas_.previousSibling,n=parseInt(this.getParentSvg().getAttribute("width"),10),r=parseInt(this.getParentSvg().getAttribute("height"),10),i=e.utils.getRelativeXY(this.getCanvas());this.workspaceDragSurface_.setContentsAndShow(this.getCanvas(),this.getBubbleCanvas(),t,n,r,this.scale),this.workspaceDragSurface_.translateSurface(i.x,i.y)}},e.WorkspaceSvg.prototype.getBlockDragSurface=function(){return this.blockDragSurface_},e.WorkspaceSvg.prototype.getWidth=function(){var e=this.getMetrics();return e?e.viewWidth/this.scale:0},e.WorkspaceSvg.prototype.setVisible=function(t){if(this.isVisible_=t,this.svgGroup_)if(this.scrollbar&&this.scrollbar.setContainerVisible(t),this.getFlyout()&&this.getFlyout().setContainerVisible(t),this.getParentSvg().style.display=t?"block":"none",this.toolbox_&&this.toolbox_.setVisible(t),t){for(var n=(t=this.getAllBlocks(!1)).length-1;0<=n;n--)t[n].markDirty();this.render(),this.toolbox_&&this.toolbox_.position()}else e.hideChaff(!0)},e.WorkspaceSvg.prototype.render=function(){for(var e=this.getAllBlocks(!1),t=e.length-1;0<=t;t--)e[t].render(!1);if(this.currentGesture_)for(e=this.currentGesture_.getInsertionMarkers(),t=0;t<e.length;t++)e[t].render(!1);this.markerManager_.updateMarkers()},e.WorkspaceSvg.prototype.highlightBlock=function(t,n){if(void 0===n){for(var r,i=0;r=this.highlightedBlocks_[i];i++)r.setHighlighted(!1);this.highlightedBlocks_.length=0}(r=t?this.getBlockById(t):null)&&((t=void 0===n||n)?-1==this.highlightedBlocks_.indexOf(r)&&this.highlightedBlocks_.push(r):e.utils.arrayRemove(this.highlightedBlocks_,r),r.setHighlighted(t))},e.WorkspaceSvg.prototype.paste=function(e){!this.rendered||!e.tagName||e.getElementsByTagName("block").length>=this.remainingCapacity()||(this.currentGesture_&&this.currentGesture_.cancel(),"comment"==e.tagName.toLowerCase()?this.pasteWorkspaceComment_(e):this.pasteBlock_(e))},e.WorkspaceSvg.prototype.pasteBlock_=function(t){e.Events.disable();try{var n=e.Xml.domToBlock(t,this),r=parseInt(t.getAttribute("x"),10),i=parseInt(t.getAttribute("y"),10);if(!isNaN(r)&&!isNaN(i)){this.RTL&&(r=-r);do{t=!1;for(var o,s=this.getAllBlocks(!1),a=0;o=s[a];a++){var l=o.getRelativeToSurfaceXY();if(1>=Math.abs(r-l.x)&&1>=Math.abs(i-l.y)){t=!0;break}}if(!t){var c,u=n.getConnections_(!1);for(a=0;c=u[a];a++)if(c.closest(e.SNAP_RADIUS,new e.utils.Coordinate(r,i)).connection){t=!0;break}}t&&(r=this.RTL?r-e.SNAP_RADIUS:r+e.SNAP_RADIUS,i+=2*e.SNAP_RADIUS)}while(t);n.moveBy(r,i)}}finally{e.Events.enable()}e.Events.isEnabled()&&!n.isShadow()&&e.Events.fire(new(e.Events.get(e.Events.BLOCK_CREATE))(n)),n.select()},e.WorkspaceSvg.prototype.pasteWorkspaceComment_=function(t){e.Events.disable();try{var n=e.WorkspaceCommentSvg.fromXml(t,this),r=parseInt(t.getAttribute("x"),10),i=parseInt(t.getAttribute("y"),10);isNaN(r)||isNaN(i)||(this.RTL&&(r=-r),n.moveBy(r+50,i+50))}finally{e.Events.enable()}e.Events.isEnabled()&&e.WorkspaceComment.fireCreateEvent(n),n.select()},e.WorkspaceSvg.prototype.refreshToolboxSelection=function(){var e=this.isFlyout?this.targetWorkspace:this;e&&!e.currentGesture_&&e.toolbox_&&e.toolbox_.getFlyout()&&e.toolbox_.refreshSelection()},e.WorkspaceSvg.prototype.renameVariableById=function(t,n){e.WorkspaceSvg.superClass_.renameVariableById.call(this,t,n),this.refreshToolboxSelection()},e.WorkspaceSvg.prototype.deleteVariableById=function(t){e.WorkspaceSvg.superClass_.deleteVariableById.call(this,t),this.refreshToolboxSelection()},e.WorkspaceSvg.prototype.createVariable=function(t,n,r){return t=e.WorkspaceSvg.superClass_.createVariable.call(this,t,n,r),this.refreshToolboxSelection(),t},e.WorkspaceSvg.prototype.recordDeleteAreas=function(){e.utils.deprecation.warn("WorkspaceSvg.prototype.recordDeleteAreas","June 2021","June 2022","WorkspaceSvg.prototype.recordDragTargets"),this.recordDragTargets()},e.WorkspaceSvg.prototype.recordDragTargets=function(){var t=this.componentManager_.getComponents(e.ComponentManager.Capability.DRAG_TARGET,!0);this.dragTargetAreas_=[];for(var n,r=0;n=t[r];r++){var i=n.getClientRect();i&&this.dragTargetAreas_.push({component:n,clientRect:i})}},e.WorkspaceSvg.prototype.getDragTarget=function(e){for(var t,n=0;t=this.dragTargetAreas_[n];n++)if(t.clientRect.contains(e.clientX,e.clientY))return t.component;return null},e.WorkspaceSvg.prototype.onMouseDown_=function(e){var t=this.getGesture(e);t&&t.handleWsStart(e,this)},e.WorkspaceSvg.prototype.startDrag=function(t,n){(t=e.utils.mouseToSvg(t,this.getParentSvg(),this.getInverseScreenCTM())).x/=this.scale,t.y/=this.scale,this.dragDeltaXY_=e.utils.Coordinate.difference(n,t)},e.WorkspaceSvg.prototype.moveDrag=function(t){return(t=e.utils.mouseToSvg(t,this.getParentSvg(),this.getInverseScreenCTM())).x/=this.scale,t.y/=this.scale,e.utils.Coordinate.sum(this.dragDeltaXY_,t)},e.WorkspaceSvg.prototype.isDragging=function(){return null!=this.currentGesture_&&this.currentGesture_.isDragging()},e.WorkspaceSvg.prototype.isDraggable=function(){return this.options.moveOptions&&this.options.moveOptions.drag},e.WorkspaceSvg.prototype.isMovable=function(){return this.options.moveOptions&&!!this.options.moveOptions.scrollbars||this.options.moveOptions&&this.options.moveOptions.wheel||this.options.moveOptions&&this.options.moveOptions.drag||this.options.zoomOptions&&this.options.zoomOptions.wheel||this.options.zoomOptions&&this.options.zoomOptions.pinch},e.WorkspaceSvg.prototype.isMovableHorizontally=function(){var e=!!this.scrollbar;return this.isMovable()&&(!e||e&&this.scrollbar.canScrollHorizontally())},e.WorkspaceSvg.prototype.isMovableVertically=function(){var e=!!this.scrollbar;return this.isMovable()&&(!e||e&&this.scrollbar.canScrollVertically())},e.WorkspaceSvg.prototype.onMouseWheel_=function(t){if(e.Gesture.inProgress())t.preventDefault(),t.stopPropagation();else{var n=this.options.zoomOptions&&this.options.zoomOptions.wheel,r=this.options.moveOptions&&this.options.moveOptions.wheel;if(n||r){var i=e.utils.getScrollDeltaPixels(t);!n||!t.ctrlKey&&r?(n=this.scrollX-i.x,r=this.scrollY-i.y,t.shiftKey&&!i.x&&(n=this.scrollX-i.y,r=this.scrollY),this.scroll(n,r)):(i=-i.y/50,n=e.utils.mouseToSvg(t,this.getParentSvg(),this.getInverseScreenCTM()),this.zoom(n.x,n.y,i)),t.preventDefault()}}},e.WorkspaceSvg.prototype.getBlocksBoundingBox=function(){var t=this.getTopBoundedElements();if(!t.length)return new e.utils.Rect(0,0,0,0);for(var n=t[0].getBoundingRectangle(),r=1;r<t.length;r++){var i=t[r];i.isInsertionMarker&&i.isInsertionMarker()||((i=i.getBoundingRectangle()).top<n.top&&(n.top=i.top),i.bottom>n.bottom&&(n.bottom=i.bottom),i.left<n.left&&(n.left=i.left),i.right>n.right&&(n.right=i.right))}return n},e.WorkspaceSvg.prototype.cleanUp=function(){this.setResizesEnabled(!1),e.Events.setGroup(!0);for(var t,n=this.getTopBlocks(!0),r=0,i=0;t=n[i];i++)if(t.isMovable()){var o=t.getRelativeToSurfaceXY();t.moveBy(-o.x,r-o.y),t.snapToGrid(),r=t.getRelativeToSurfaceXY().y+t.getHeightWidth().height+this.renderer_.getConstants().MIN_BLOCK_HEIGHT}e.Events.setGroup(!1),this.setResizesEnabled(!0)},e.WorkspaceSvg.prototype.showContextMenu=function(t){if(!this.options.readOnly&&!this.isFlyout){var n=e.ContextMenuRegistry.registry.getContextMenuOptions(e.ContextMenuRegistry.ScopeType.WORKSPACE,{workspace:this});this.configureContextMenu&&this.configureContextMenu(n,t),e.ContextMenu.show(t,n,this.RTL)}},e.WorkspaceSvg.prototype.updateToolbox=function(t){if(t=e.utils.toolbox.convertToolboxDefToJson(t)){if(!this.options.languageTree)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(e.utils.toolbox.hasCategories(t)){if(!this.toolbox_)throw Error("Existing toolbox has no categories.  Can't change mode.");this.options.languageTree=t,this.toolbox_.render(t)}else{if(!this.flyout_)throw Error("Existing toolbox has categories.  Can't change mode.");this.options.languageTree=t,this.flyout_.show(t)}}else if(this.options.languageTree)throw Error("Can't nullify an existing toolbox.")},e.WorkspaceSvg.prototype.markFocused=function(){this.options.parentWorkspace?this.options.parentWorkspace.markFocused():(e.mainWorkspace=this,this.setBrowserFocus())},e.WorkspaceSvg.prototype.setBrowserFocus=function(){document.activeElement&&document.activeElement.blur&&document.activeElement.blur();try{this.getParentSvg().focus({preventScroll:!0})}catch(e){try{this.getParentSvg().parentNode.setActive()}catch(t){this.getParentSvg().parentNode.focus({preventScroll:!0})}}},e.WorkspaceSvg.prototype.zoom=function(e,t,n){n=Math.pow(this.options.zoomOptions.scaleSpeed,n);var r=this.scale*n;if(this.scale!=r){r>this.options.zoomOptions.maxScale?n=this.options.zoomOptions.maxScale/this.scale:r<this.options.zoomOptions.minScale&&(n=this.options.zoomOptions.minScale/this.scale);var i=this.getCanvas().getCTM(),o=this.getParentSvg().createSVGPoint();o.x=e,o.y=t,e=(o=o.matrixTransform(i.inverse())).x,t=o.y,i=i.translate(e*(1-n),t*(1-n)).scale(n),this.scrollX=i.e,this.scrollY=i.f,this.setScale(r)}},e.WorkspaceSvg.prototype.zoomCenter=function(e){var t=this.getMetrics();if(this.flyout_){var n=t.svgWidth?t.svgWidth/2:0;t=t.svgHeight?t.svgHeight/2:0}else n=t.viewWidth/2+t.absoluteLeft,t=t.viewHeight/2+t.absoluteTop;this.zoom(n,t,e)},e.WorkspaceSvg.prototype.zoomToFit=function(){if(this.isMovable()){var t=this.getMetrics(),n=t.viewWidth;t=t.viewHeight;var r=this.getBlocksBoundingBox(),i=r.right-r.left;if(r=r.bottom-r.top,i){this.flyout_&&(this.horizontalLayout?(t+=this.flyout_.getHeight(),r+=this.flyout_.getHeight()/this.scale):(n+=this.flyout_.getWidth(),i+=this.flyout_.getWidth()/this.scale)),n/=i,t/=r,e.Events.disable();try{this.setScale(Math.min(n,t)),this.scrollCenter()}finally{e.Events.enable()}this.maybeFireViewportChangeEvent()}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")},e.WorkspaceSvg.prototype.beginCanvasTransition=function(){e.utils.dom.addClass(this.svgBlockCanvas_,"blocklyCanvasTransitioning"),e.utils.dom.addClass(this.svgBubbleCanvas_,"blocklyCanvasTransitioning")},e.WorkspaceSvg.prototype.endCanvasTransition=function(){e.utils.dom.removeClass(this.svgBlockCanvas_,"blocklyCanvasTransitioning"),e.utils.dom.removeClass(this.svgBubbleCanvas_,"blocklyCanvasTransitioning")},e.WorkspaceSvg.prototype.scrollCenter=function(){if(this.isMovable()){var e=this.getMetrics(),t=(e.scrollWidth-e.viewWidth)/2,n=(e.scrollHeight-e.viewHeight)/2;t=-t-e.scrollLeft,n=-n-e.scrollTop,this.scroll(t,n)}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")},e.WorkspaceSvg.prototype.centerOnBlock=function(e){if(this.isMovable()){if(e=e?this.getBlockById(e):null){var t=e.getRelativeToSurfaceXY(),n=e.getHeightWidth(),r=this.scale;e=(t.x+(this.RTL?-1:1)*n.width/2)*r,t=(t.y+n.height/2)*r,n=this.getMetrics(),this.scroll(-(e-n.viewWidth/2),-(t-n.viewHeight/2))}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")},e.WorkspaceSvg.prototype.setScale=function(t){this.options.zoomOptions.maxScale&&t>this.options.zoomOptions.maxScale?t=this.options.zoomOptions.maxScale:this.options.zoomOptions.minScale&&t<this.options.zoomOptions.minScale&&(t=this.options.zoomOptions.minScale),this.scale=t,e.hideChaff(!1),this.flyout_&&(this.flyout_.reflow(),this.recordDragTargets()),this.grid_&&this.grid_.update(this.scale),t=this.getMetrics(),this.scrollX-=t.absoluteLeft,this.scrollY-=t.absoluteTop,t.viewLeft+=t.absoluteLeft,t.viewTop+=t.absoluteTop,this.scroll(this.scrollX,this.scrollY),this.scrollbar&&(this.flyout_?this.scrollbar.resizeView(t):this.scrollbar.resizeContent(t))},e.WorkspaceSvg.prototype.getScale=function(){return this.options.parentWorkspace?this.options.parentWorkspace.getScale():this.scale},e.WorkspaceSvg.prototype.scroll=function(t,n){e.hideChaff(!0);var r=this.getMetrics();t=Math.min(t,-r.scrollLeft),n=Math.min(n,-r.scrollTop);var i=r.scrollTop+Math.max(0,r.scrollHeight-r.viewHeight);t=Math.max(t,-(r.scrollLeft+Math.max(0,r.scrollWidth-r.viewWidth))),n=Math.max(n,-i),this.scrollX=t,this.scrollY=n,this.scrollbar&&this.scrollbar.set(-(t+r.scrollLeft),-(n+r.scrollTop),!1),t+=r.absoluteLeft,n+=r.absoluteTop,this.translate(t,n)},e.WorkspaceSvg.setTopLevelWorkspaceMetrics_=function(e){var t=this.getMetrics();"number"==typeof e.x&&(this.scrollX=-(t.scrollLeft+(t.scrollWidth-t.viewWidth)*e.x)),"number"==typeof e.y&&(this.scrollY=-(t.scrollTop+(t.scrollHeight-t.viewHeight)*e.y)),this.translate(this.scrollX+t.absoluteLeft,this.scrollY+t.absoluteTop)},e.WorkspaceSvg.prototype.getBlockById=function(t){return e.WorkspaceSvg.superClass_.getBlockById.call(this,t)},e.WorkspaceSvg.prototype.getTopBlocks=function(t){return e.WorkspaceSvg.superClass_.getTopBlocks.call(this,t)},e.WorkspaceSvg.prototype.addTopBlock=function(t){this.addTopBoundedElement(t),e.WorkspaceSvg.superClass_.addTopBlock.call(this,t)},e.WorkspaceSvg.prototype.removeTopBlock=function(t){this.removeTopBoundedElement(t),e.WorkspaceSvg.superClass_.removeTopBlock.call(this,t)},e.WorkspaceSvg.prototype.addTopComment=function(t){this.addTopBoundedElement(t),e.WorkspaceSvg.superClass_.addTopComment.call(this,t)},e.WorkspaceSvg.prototype.removeTopComment=function(t){this.removeTopBoundedElement(t),e.WorkspaceSvg.superClass_.removeTopComment.call(this,t)},e.WorkspaceSvg.prototype.addTopBoundedElement=function(e){this.topBoundedElements_.push(e)},e.WorkspaceSvg.prototype.removeTopBoundedElement=function(t){e.utils.arrayRemove(this.topBoundedElements_,t)},e.WorkspaceSvg.prototype.getTopBoundedElements=function(){return[].concat(this.topBoundedElements_)},e.WorkspaceSvg.prototype.setResizesEnabled=function(e){var t=!this.resizesEnabled_&&e;this.resizesEnabled_=e,t&&this.resizeContents()},e.WorkspaceSvg.prototype.clear=function(){this.setResizesEnabled(!1),e.WorkspaceSvg.superClass_.clear.call(this),this.topBoundedElements_=[],this.setResizesEnabled(!0)},e.WorkspaceSvg.prototype.registerButtonCallback=function(e,t){if("function"!=typeof t)throw TypeError("Button callbacks must be functions.");this.flyoutButtonCallbacks_[e]=t},e.WorkspaceSvg.prototype.getButtonCallback=function(e){return(e=this.flyoutButtonCallbacks_[e])?e:null},e.WorkspaceSvg.prototype.removeButtonCallback=function(e){this.flyoutButtonCallbacks_[e]=null},e.WorkspaceSvg.prototype.registerToolboxCategoryCallback=function(e,t){if("function"!=typeof t)throw TypeError("Toolbox category callbacks must be functions.");this.toolboxCategoryCallbacks_[e]=t},e.WorkspaceSvg.prototype.getToolboxCategoryCallback=function(e){return this.toolboxCategoryCallbacks_[e]||null},e.WorkspaceSvg.prototype.removeToolboxCategoryCallback=function(e){this.toolboxCategoryCallbacks_[e]=null},e.WorkspaceSvg.prototype.getGesture=function(t){var n="mousedown"==t.type||"touchstart"==t.type||"pointerdown"==t.type,r=this.currentGesture_;return r?n&&r.hasStarted()?(console.warn("Tried to start the same gesture twice."),r.cancel(),null):r:n?this.currentGesture_=new e.TouchGesture(t,this):null},e.WorkspaceSvg.prototype.clearGesture=function(){this.currentGesture_=null},e.WorkspaceSvg.prototype.cancelCurrentGesture=function(){this.currentGesture_&&this.currentGesture_.cancel()},e.WorkspaceSvg.prototype.getAudioManager=function(){return this.audioManager_},e.WorkspaceSvg.prototype.getGrid=function(){return this.grid_},e.inject=function(t,n){if(e.checkBlockColourConstants(),"string"==typeof t&&(t=document.getElementById(t)||document.querySelector(t)),!t||!e.utils.dom.containsNode(document,t))throw Error("Error: container is not in current document.");n=new e.Options(n||{});var r=document.createElement("div");r.className="injectionDiv",r.tabIndex=0,e.utils.aria.setState(r,e.utils.aria.State.LABEL,e.Msg.WORKSPACE_ARIA_LABEL),t.appendChild(r),t=e.createDom_(r,n);var i=new e.BlockDragSurfaceSvg(r),o=new e.WorkspaceDragSurfaceSvg(r),s=e.createMainWorkspace_(t,n,i,o);return e.init_(s),e.mainWorkspace=s,e.svgResize(s),r.addEventListener("focusin",(function(){e.mainWorkspace=s})),s},e.createDom_=function(t,n){t.setAttribute("dir","LTR"),e.Css.inject(n.hasCss,n.pathToMedia),t=e.utils.dom.createSvgElement(e.utils.Svg.SVG,{xmlns:e.utils.dom.SVG_NS,"xmlns:html":e.utils.dom.HTML_NS,"xmlns:xlink":e.utils.dom.XLINK_NS,version:"1.1",class:"blocklySvg",tabindex:"0"},t);var r=e.utils.dom.createSvgElement(e.utils.Svg.DEFS,{},t),i=String(Math.random()).substring(2);return n.gridPattern=e.Grid.createDom(i,n.gridOptions,r),t},e.createMainWorkspace_=function(t,n,r,i){return n.parentWorkspace=null,r=(n=new e.WorkspaceSvg(n,r,i)).options,n.scale=r.zoomOptions.startScale,t.appendChild(n.createDom("blocklyMainBackground")),e.utils.dom.addClass(n.getInjectionDiv(),n.getRenderer().getClassName()),e.utils.dom.addClass(n.getInjectionDiv(),n.getTheme().getClassName()),!r.hasCategories&&r.languageTree&&(i=n.addFlyout(e.utils.Svg.SVG),e.utils.dom.insertAfter(i,t)),r.hasTrashcan&&n.addTrashcan(),r.zoomOptions&&r.zoomOptions.controls&&n.addZoomControls(),n.getThemeManager().subscribe(t,"workspaceBackgroundColour","background-color"),n.translate(0,0),n.addChangeListener(e.bumpIntoBoundsHandler_(n)),e.svgResize(n),e.WidgetDiv.createDom(),e.DropDownDiv.createDom(),e.Tooltip.createDom(),n},e.extractObjectFromEvent_=function(t,n){var r=null;switch(n.type){case e.Events.BLOCK_CREATE:case e.Events.BLOCK_MOVE:(r=t.getBlockById(n.blockId))&&(r=r.getRootBlock());break;case e.Events.COMMENT_CREATE:case e.Events.COMMENT_MOVE:r=t.getCommentById(n.commentId)}return r},e.bumpTopObjectsIntoBounds_=function(t){var n=t.getMetricsManager();if(n.hasFixedEdges()&&!t.isDragging()){n=n.getScrollMetrics(!0);for(var r,i=t.getTopBoundedElements(),o=0;r=i[o];o++)e.bumpObjectIntoBounds_(t,n,r)}},e.bumpIntoBoundsHandler_=function(t){return function(n){var r=t.getMetricsManager();if(r.hasFixedEdges()&&!t.isDragging())if(-1!==e.Events.BUMP_EVENTS.indexOf(n.type)){r=r.getScrollMetrics(!0);var i=e.extractObjectFromEvent_(t,n);if(i){var o=e.Events.getGroup();e.Events.setGroup(n.group),e.bumpObjectIntoBounds_(t,r,i)&&!n.group&&console.warn("Moved object in bounds but there was no event group. This may break undo."),null!==o&&e.Events.setGroup(o)}}else n.type===e.Events.VIEWPORT_CHANGE&&n.scale>n.oldScale&&e.bumpTopObjectsIntoBounds_(t)}},e.bumpObjectIntoBounds_=function(t,n,r){var i=r.getBoundingRectangle(),o=i.right-i.left,s=e.utils.math.clamp(n.top,i.top,n.top+n.height-(i.bottom-i.top))-i.top,a=n.left;return n=n.left+n.width-o,t.RTL?a=Math.min(n,a):n=Math.max(a,n),!(!(t=e.utils.math.clamp(a,i.left,n)-i.left)&&!s)&&(r.moveBy(t,s),!0)},e.init_=function(t){var n=t.options,r=t.getParentSvg();if(e.browserEvents.conditionalBind(r.parentNode,"contextmenu",null,(function(t){e.utils.isTargetInput(t)||t.preventDefault()})),r=e.browserEvents.conditionalBind(window,"resize",null,(function(){e.hideChaff(!0),e.svgResize(t),e.bumpTopObjectsIntoBounds_(t)})),t.setResizeHandlerWrapper(r),e.inject.bindDocumentEvents_(),n.languageTree){r=t.getToolbox();var i=t.getFlyout(!0);r?r.init():i&&(i.init(t),i.show(n.languageTree),"function"==typeof i.scrollToStart&&i.scrollToStart())}n.hasTrashcan&&t.trashcan.init(),n.zoomOptions&&n.zoomOptions.controls&&t.zoomControls_.init(),n.moveOptions&&n.moveOptions.scrollbars?(t.scrollbar=new e.ScrollbarPair(t,!0===n.moveOptions.scrollbars||!!n.moveOptions.scrollbars.horizontal,!0===n.moveOptions.scrollbars||!!n.moveOptions.scrollbars.vertical,"blocklyMainWorkspaceScrollbar"),t.scrollbar.resize()):t.setMetrics({x:.5,y:.5}),n.hasSounds&&e.inject.loadSounds_(n.pathToMedia,t)},e.inject.bindDocumentEvents_=function(){e.documentEventsBound_||(e.browserEvents.conditionalBind(document,"scroll",null,(function(){for(var t,n=e.Workspace.getAll(),r=0;t=n[r];r++)t.updateInverseScreenCTM&&t.updateInverseScreenCTM()})),e.browserEvents.conditionalBind(document,"keydown",null,e.onKeyDown),e.browserEvents.bind(document,"touchend",null,e.longStop_),e.browserEvents.bind(document,"touchcancel",null,e.longStop_),e.utils.userAgent.IPAD&&e.browserEvents.conditionalBind(window,"orientationchange",document,(function(){e.svgResize(e.getMainWorkspace())}))),e.documentEventsBound_=!0},e.inject.loadSounds_=function(t,n){var r=n.getAudioManager();r.load([t+"click.mp3",t+"click.wav",t+"click.ogg"],"click"),r.load([t+"disconnect.wav",t+"disconnect.mp3",t+"disconnect.ogg"],"disconnect"),r.load([t+"delete.mp3",t+"delete.ogg",t+"delete.wav"],"delete");var i=[];t=function(){for(;i.length;)e.browserEvents.unbind(i.pop());r.preload()},i.push(e.browserEvents.conditionalBind(document,"mousemove",null,t,!0)),i.push(e.browserEvents.conditionalBind(document,"touchstart",null,t,!0))},e.Names=function(e,t){if(this.variablePrefix_=t||"",this.reservedDict_=Object.create(null),e)for(e=e.split(","),t=0;t<e.length;t++)this.reservedDict_[e[t]]=!0;this.reset()},e.Names.DEVELOPER_VARIABLE_TYPE="DEVELOPER_VARIABLE",e.Names.prototype.reset=function(){this.db_=Object.create(null),this.dbReverse_=Object.create(null),this.variableMap_=null},e.Names.prototype.setVariableMap=function(e){this.variableMap_=e},e.Names.prototype.getNameForUserVariable_=function(e){return this.variableMap_?(e=this.variableMap_.getVariableById(e))?e.name:null:(console.warn("Deprecated call to Blockly.Names.prototype.getName without defining a variable map. To fix, add the following code in your generator's init() function:\nBlockly.YourGeneratorName.nameDB_.setVariableMap(workspace.getVariableMap());"),null)},e.Names.prototype.populateVariables=function(t){t=e.Variables.allUsedVarModels(t);for(var n=0;n<t.length;n++)this.getName(t[n].getId(),e.VARIABLE_CATEGORY_NAME)},e.Names.prototype.populateProcedures=function(t){t=(t=e.Procedures.allProcedures(t))[0].concat(t[1]);for(var n=0;n<t.length;n++)this.getName(t[n][0],e.PROCEDURE_CATEGORY_NAME)},e.Names.prototype.getName=function(t,n){var r=t;n==e.VARIABLE_CATEGORY_NAME&&(t=this.getNameForUserVariable_(t))&&(r=t),t=r.toLowerCase();var i=n==e.VARIABLE_CATEGORY_NAME||n==e.Names.DEVELOPER_VARIABLE_TYPE?this.variablePrefix_:"";n in this.db_||(this.db_[n]=Object.create(null));var o=this.db_[n];return t in o?i+o[t]:(n=this.getDistinctName(r,n),o[t]=n.substr(i.length),n)},e.Names.prototype.getUserNames=function(e){return Object.keys(this.db_[e]||{})},e.Names.prototype.getDistinctName=function(t,n){t=this.safeName_(t);for(var r="";this.dbReverse_[t+r]||t+r in this.reservedDict_;)r=r?r+1:2;return t+=r,this.dbReverse_[t]=!0,(n==e.VARIABLE_CATEGORY_NAME||n==e.Names.DEVELOPER_VARIABLE_TYPE?this.variablePrefix_:"")+t},e.Names.prototype.safeName_=function(t){return t?(t=encodeURI(t.replace(/ /g,"_")).replace(/[^\w]/g,"_"),-1!="0123456789".indexOf(t[0])&&(t="my_"+t)):t=e.Msg.UNNAMED_KEY||"unnamed",t},e.Names.equals=function(e,t){return e.toLowerCase()==t.toLowerCase()},e.Procedures={},e.Procedures.NAME_TYPE=e.PROCEDURE_CATEGORY_NAME,e.Procedures.DEFAULT_ARG="x",e.Procedures.allProcedures=function(t){var n=t.getBlocksByType("procedures_defnoreturn",!1).map((function(e){return e.getProcedureDef()}));return t=t.getBlocksByType("procedures_defreturn",!1).map((function(e){return e.getProcedureDef()})),n.sort(e.Procedures.procTupleComparator_),t.sort(e.Procedures.procTupleComparator_),[n,t]},e.Procedures.procTupleComparator_=function(e,t){return e[0].localeCompare(t[0],void 0,{sensitivity:"base"})},e.Procedures.findLegalName=function(t,n){if(n.isInFlyout)return t;for(t=t||e.Msg.UNNAMED_KEY||"unnamed";!e.Procedures.isLegalName_(t,n.workspace,n);){var r=t.match(/^(.*?)(\d+)$/);t=r?r[1]+(parseInt(r[2],10)+1):t+"2"}return t},e.Procedures.isLegalName_=function(t,n,r){return!e.Procedures.isNameUsed(t,n,r)},e.Procedures.isNameUsed=function(t,n,r){n=n.getAllBlocks(!1);for(var i=0;i<n.length;i++)if(n[i]!=r&&n[i].getProcedureDef){var o=n[i].getProcedureDef();if(e.Names.equals(o[0],t))return!0}return!1},e.Procedures.rename=function(t){t=t.trim();var n=e.Procedures.findLegalName(t,this.getSourceBlock()),r=this.getValue();if(r!=t&&r!=n){t=this.getSourceBlock().workspace.getAllBlocks(!1);for(var i=0;i<t.length;i++)t[i].renameProcedure&&t[i].renameProcedure(r,n)}return n},e.Procedures.flyoutCategory=function(t){function n(t,n){for(var i=0;i<t.length;i++){var o=t[i][0],s=t[i][1],a=e.utils.xml.createElement("block");a.setAttribute("type",n),a.setAttribute("gap",16);var l=e.utils.xml.createElement("mutation");for(l.setAttribute("name",o),a.appendChild(l),o=0;o<s.length;o++){var c=e.utils.xml.createElement("arg");c.setAttribute("name",s[o]),l.appendChild(c)}r.push(a)}}var r=[];if(e.Blocks.procedures_defnoreturn){var i=e.utils.xml.createElement("block");i.setAttribute("type","procedures_defnoreturn"),i.setAttribute("gap",16);var o=e.utils.xml.createElement("field");o.setAttribute("name","NAME"),o.appendChild(e.utils.xml.createTextNode(e.Msg.PROCEDURES_DEFNORETURN_PROCEDURE)),i.appendChild(o),r.push(i)}return e.Blocks.procedures_defreturn&&((i=e.utils.xml.createElement("block")).setAttribute("type","procedures_defreturn"),i.setAttribute("gap",16),(o=e.utils.xml.createElement("field")).setAttribute("name","NAME"),o.appendChild(e.utils.xml.createTextNode(e.Msg.PROCEDURES_DEFRETURN_PROCEDURE)),i.appendChild(o),r.push(i)),e.Blocks.procedures_ifreturn&&((i=e.utils.xml.createElement("block")).setAttribute("type","procedures_ifreturn"),i.setAttribute("gap",16),r.push(i)),r.length&&r[r.length-1].setAttribute("gap",24),n((t=e.Procedures.allProcedures(t))[0],"procedures_callnoreturn"),n(t[1],"procedures_callreturn"),r},e.Procedures.updateMutatorFlyout_=function(t){for(var n,r=[],i=t.getBlocksByType("procedures_mutatorarg",!1),o=0;n=i[o];o++)r.push(n.getFieldValue("NAME"));i=e.utils.xml.createElement("xml"),(o=e.utils.xml.createElement("block")).setAttribute("type","procedures_mutatorarg"),(n=e.utils.xml.createElement("field")).setAttribute("name","NAME"),r=e.Variables.generateUniqueNameFromOptions(e.Procedures.DEFAULT_ARG,r),r=e.utils.xml.createTextNode(r),n.appendChild(r),o.appendChild(n),i.appendChild(o),t.updateToolbox(i)},e.Procedures.mutatorOpenListener=function(t){if(t.type==e.Events.BUBBLE_OPEN&&"mutator"===t.bubbleType&&t.isOpen){var n=(t=e.Workspace.getById(t.workspaceId).getBlockById(t.blockId)).type;"procedures_defnoreturn"!=n&&"procedures_defreturn"!=n||(t=t.mutator.getWorkspace(),e.Procedures.updateMutatorFlyout_(t),t.addChangeListener(e.Procedures.mutatorChangeListener_))}},e.Procedures.mutatorChangeListener_=function(t){t.type!=e.Events.BLOCK_CREATE&&t.type!=e.Events.BLOCK_DELETE&&t.type!=e.Events.BLOCK_CHANGE||(t=e.Workspace.getById(t.workspaceId),e.Procedures.updateMutatorFlyout_(t))},e.Procedures.getCallers=function(t,n){var r=[];n=n.getAllBlocks(!1);for(var i=0;i<n.length;i++)if(n[i].getProcedureCall){var o=n[i].getProcedureCall();o&&e.Names.equals(o,t)&&r.push(n[i])}return r},e.Procedures.mutateCallers=function(t){var n,r=e.Events.recordUndo,i=t.getProcedureDef()[0],o=t.mutationToDom(!0);for(t=e.Procedures.getCallers(i,t.workspace),i=0;n=t[i];i++){var s=n.mutationToDom();s=s&&e.Xml.domToText(s),n.domToMutation(o);var a=n.mutationToDom();s!=(a=a&&e.Xml.domToText(a))&&(e.Events.recordUndo=!1,e.Events.fire(new(e.Events.get(e.Events.BLOCK_CHANGE))(n,"mutation",null,s,a)),e.Events.recordUndo=r)}},e.Procedures.getDefinition=function(t,n){n=n.getAllBlocks(!1);for(var r=0;r<n.length;r++)if(n[r].getProcedureDef){var i=n[r].getProcedureDef();if(i&&e.Names.equals(i[0],t))return n[r]}return null},e.ShortcutRegistry=function(){e.ShortcutRegistry.registry=this,this.registry_=Object.create(null),this.keyMap_=Object.create(null)},e.ShortcutRegistry.modifierKeys={Shift:e.utils.KeyCodes.SHIFT,Control:e.utils.KeyCodes.CTRL,Alt:e.utils.KeyCodes.ALT,Meta:e.utils.KeyCodes.META},e.ShortcutRegistry.prototype.register=function(e,t){if(this.registry_[e.name]&&!t)throw Error('Shortcut with name "'+e.name+'" already exists.');this.registry_[e.name]=e},e.ShortcutRegistry.prototype.unregister=function(e){return this.registry_[e]?(this.removeAllKeyMappings(e),delete this.registry_[e],!0):(console.warn('Keyboard shortcut with name "'+e+'" not found.'),!1)},e.ShortcutRegistry.prototype.addKeyMapping=function(e,t,n){e=String(e);var r=this.keyMap_[e];if(r&&!n)throw Error('Shortcut with name "'+t+'" collides with shortcuts '+r.toString());r&&n?r.unshift(t):this.keyMap_[e]=[t]},e.ShortcutRegistry.prototype.removeKeyMapping=function(e,t,n){var r=this.keyMap_[e];if(!r&&!n)return console.warn('No keyboard shortcut with name "'+t+'" registered with key code "'+e+'"'),!1;var i=r.indexOf(t);return-1<i?(r.splice(i,1),0==r.length&&delete this.keyMap_[e],!0):(n||console.warn('No keyboard shortcut with name "'+t+'" registered with key code "'+e+'"'),!1)},e.ShortcutRegistry.prototype.removeAllKeyMappings=function(e){for(var t in this.keyMap_)this.removeKeyMapping(t,e,!0)},e.ShortcutRegistry.prototype.setKeyMap=function(e){this.keyMap_=e},e.ShortcutRegistry.prototype.getKeyMap=function(){return e.utils.object.deepMerge(Object.create(null),this.keyMap_)},e.ShortcutRegistry.prototype.getRegistry=function(){return e.utils.object.deepMerge(Object.create(null),this.registry_)},e.ShortcutRegistry.prototype.onKeyDown=function(e,t){var n=this.serializeKeyEvent_(t);if(!(n=this.getShortcutNamesByKeyCode(n)))return!1;for(var r,i=0;r=n[i];i++)if((!(r=this.registry_[r]).preconditionFn||r.preconditionFn(e))&&r.callback&&r.callback(e,t,r))return!0;return!1},e.ShortcutRegistry.prototype.getShortcutNamesByKeyCode=function(e){return this.keyMap_[e]||[]},e.ShortcutRegistry.prototype.getKeyCodesByShortcutName=function(e){var t,n=[];for(t in this.keyMap_)-1<this.keyMap_[t].indexOf(e)&&n.push(t);return n},e.ShortcutRegistry.prototype.serializeKeyEvent_=function(t){var n,r="";for(n in e.ShortcutRegistry.modifierKeys)t.getModifierState(n)&&(""!=r&&(r+="+"),r+=n);return""!=r&&t.keyCode?r=r+"+"+t.keyCode:t.keyCode&&(r=t.keyCode.toString()),r},e.ShortcutRegistry.prototype.checkModifiers_=function(t){for(var n,r=e.utils.object.values(e.ShortcutRegistry.modifierKeys),i=0;n=t[i];i++)if(0>r.indexOf(n))throw Error(n+" is not a valid modifier key.")},e.ShortcutRegistry.prototype.createSerializedKey=function(t,n){var r="";if(n)for(var i in this.checkModifiers_(n),e.ShortcutRegistry.modifierKeys)-1<n.indexOf(e.ShortcutRegistry.modifierKeys[i])&&(""!=r&&(r+="+"),r+=i);return""!=r&&t?r=r+"+"+t:t&&(r=t.toString()),r},new e.ShortcutRegistry,e.VariableModel=function(t,n,r,i){this.workspace=t,this.name=n,this.type=r||"",this.id_=i||e.utils.genUid(),e.Events.fire(new(e.Events.get(e.Events.VAR_CREATE))(this))},e.VariableModel.prototype.getId=function(){return this.id_},e.VariableModel.compareByName=function(e,t){return e.name.localeCompare(t.name,void 0,{sensitivity:"base"})},e.Variables={},e.Variables.NAME_TYPE=e.VARIABLE_CATEGORY_NAME,e.Variables.allUsedVarModels=function(e){var t=e.getAllBlocks(!1);e=Object.create(null);for(var n=0;n<t.length;n++){var r=t[n].getVarModels();if(r)for(var i=0;i<r.length;i++){var o=r[i],s=o.getId();s&&(e[s]=o)}}for(s in t=[],e)t.push(e[s]);return t},e.Variables.ALL_DEVELOPER_VARS_WARNINGS_BY_BLOCK_TYPE_={},e.Variables.allDeveloperVariables=function(t){t=t.getAllBlocks(!1);for(var n,r=Object.create(null),i=0;n=t[i];i++){var o=n.getDeveloperVariables;if(!o&&n.getDeveloperVars&&(o=n.getDeveloperVars,e.Variables.ALL_DEVELOPER_VARS_WARNINGS_BY_BLOCK_TYPE_[n.type]||(console.warn("Function getDeveloperVars() deprecated. Use getDeveloperVariables() (block type '"+n.type+"')"),e.Variables.ALL_DEVELOPER_VARS_WARNINGS_BY_BLOCK_TYPE_[n.type]=!0)),o)for(n=o(),o=0;o<n.length;o++)r[n[o]]=!0}return Object.keys(r)},e.Variables.flyoutCategory=function(t){var n=[],r=document.createElement("button");return r.setAttribute("text","%{BKY_NEW_VARIABLE}"),r.setAttribute("callbackKey","CREATE_VARIABLE"),t.registerButtonCallback("CREATE_VARIABLE",(function(t){e.Variables.createVariableButtonHandler(t.getTargetWorkspace())})),n.push(r),t=e.Variables.flyoutCategoryBlocks(t),n.concat(t)},e.Variables.flyoutCategoryBlocks=function(t){var n=[];if(0<(t=t.getVariablesOfType("")).length){var r=t[t.length-1];if(e.Blocks.variables_set){var i=e.utils.xml.createElement("block");i.setAttribute("type","variables_set"),i.setAttribute("gap",e.Blocks.math_change?8:24),i.appendChild(e.Variables.generateVariableFieldDom(r)),n.push(i)}if(e.Blocks.math_change&&((i=e.utils.xml.createElement("block")).setAttribute("type","math_change"),i.setAttribute("gap",e.Blocks.variables_get?20:8),i.appendChild(e.Variables.generateVariableFieldDom(r)),r=e.Xml.textToDom('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),i.appendChild(r),n.push(i)),e.Blocks.variables_get){t.sort(e.VariableModel.compareByName),r=0;for(var o;o=t[r];r++)(i=e.utils.xml.createElement("block")).setAttribute("type","variables_get"),i.setAttribute("gap",8),i.appendChild(e.Variables.generateVariableFieldDom(o)),n.push(i)}}return n},e.Variables.VAR_LETTER_OPTIONS="ijkmnopqrstuvwxyzabcdefgh",e.Variables.generateUniqueName=function(t){return e.Variables.generateUniqueNameFromOptions(e.Variables.VAR_LETTER_OPTIONS.charAt(0),t.getAllVariableNames())},e.Variables.generateUniqueNameFromOptions=function(t,n){if(!n.length)return t;for(var r=e.Variables.VAR_LETTER_OPTIONS,i="",o=r.indexOf(t);;){for(var s=!1,a=0;a<n.length;a++)if(n[a].toLowerCase()==t){s=!0;break}if(!s)return t;++o==r.length&&(o=0,i=Number(i)+1),t=r.charAt(o)+i}},e.Variables.createVariableButtonHandler=function(t,n,r){var i=r||"";!function r(o){e.Variables.promptName(e.Msg.NEW_VARIABLE_TITLE,o,(function(o){if(o){var s=e.Variables.nameUsedWithAnyType(o,t);if(s){if(s.type==i)var a=e.Msg.VARIABLE_ALREADY_EXISTS.replace("%1",s.name);else a=(a=e.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE).replace("%1",s.name).replace("%2",s.type);e.alert(a,(function(){r(o)}))}else t.createVariable(o,i),n&&n(o)}else n&&n(null)}))}("")},e.Variables.createVariable=e.Variables.createVariableButtonHandler,e.Variables.renameVariable=function(t,n,r){!function i(o){var s=e.Msg.RENAME_VARIABLE_TITLE.replace("%1",n.name);e.Variables.promptName(s,o,(function(o){if(o){var s=e.Variables.nameUsedWithOtherType_(o,n.type,t);s?(s=e.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",s.name).replace("%2",s.type),e.alert(s,(function(){i(o)}))):(t.renameVariableById(n.getId(),o),r&&r(o))}else r&&r(null)}))}("")},e.Variables.promptName=function(t,n,r){e.prompt(t,n,(function(t){t&&((t=t.replace(/[\s\xa0]+/g," ").trim())==e.Msg.RENAME_VARIABLE||t==e.Msg.NEW_VARIABLE)&&(t=null),r(t)}))},e.Variables.nameUsedWithOtherType_=function(e,t,n){n=n.getVariableMap().getAllVariables(),e=e.toLowerCase();for(var r,i=0;r=n[i];i++)if(r.name.toLowerCase()==e&&r.type!=t)return r;return null},e.Variables.nameUsedWithAnyType=function(e,t){t=t.getVariableMap().getAllVariables(),e=e.toLowerCase();for(var n,r=0;n=t[r];r++)if(n.name.toLowerCase()==e)return n;return null},e.Variables.generateVariableFieldDom=function(t){var n=e.utils.xml.createElement("field");return n.setAttribute("name","VAR"),n.setAttribute("id",t.getId()),n.setAttribute("variabletype",t.type),t=e.utils.xml.createTextNode(t.name),n.appendChild(t),n},e.Variables.getOrCreateVariablePackage=function(t,n,r,i){var o=e.Variables.getVariable(t,n,r,i);return o||(o=e.Variables.createVariable_(t,n,r,i)),o},e.Variables.getVariable=function(e,t,n,r){var i=e.getPotentialVariableMap(),o=null;if(t&&(!(o=e.getVariableById(t))&&i&&(o=i.getVariableById(t)),o))return o;if(n){if(void 0==r)throw Error("Tried to look up a variable by name without a type");!(o=e.getVariable(n,r))&&i&&(o=i.getVariable(n,r))}return o},e.Variables.createVariable_=function(t,n,r,i){var o=t.getPotentialVariableMap();return r||(r=e.Variables.generateUniqueName(t.isFlyout?t.targetWorkspace:t)),o?o.createVariable(r,i,n):t.createVariable(r,i,n)},e.Variables.getAddedVariables=function(e,t){e=e.getAllVariables();var n=[];if(t.length!=e.length)for(var r=0;r<e.length;r++){var i=e[r];-1==t.indexOf(i)&&n.push(i)}return n},e.VERSION="6.20210701.0",e.mainWorkspace=null,e.selected=null,e.draggingConnections=[],e.clipboardXml_=null,e.clipboardSource_=null,e.clipboardTypeCounts_=null,e.cache3dSupported_=null,e.parentContainer=null,e.svgSize=function(t){return e.utils.deprecation.warn("Blockly.svgSize","March 2021","March 2022","workspace.getCachedParentSvgSize"),new e.utils.Size(t.cachedWidth_,t.cachedHeight_)},e.resizeSvgContents=function(e){e.resizeContents()},e.svgResize=function(e){for(;e.options.parentWorkspace;)e=e.options.parentWorkspace;var t=e.getParentSvg(),n=e.getCachedParentSvgSize(),r=t.parentNode;if(r){var i=r.offsetWidth;r=r.offsetHeight,n.width!=i&&(t.setAttribute("width",i+"px"),e.setCachedParentSvgSize(i,null)),n.height!=r&&(t.setAttribute("height",r+"px"),e.setCachedParentSvgSize(null,r)),e.resize()}},e.onKeyDown=function(t){var n=e.mainWorkspace;n&&!(e.utils.isTargetInput(t)||n.rendered&&!n.isVisible())&&e.ShortcutRegistry.registry.onKeyDown(n,t)},e.deleteBlock=function(t){t.workspace.isFlyout||(e.Events.setGroup(!0),e.hideChaff(),t.outputConnection?t.dispose(!1,!0):t.dispose(!0,!0),e.Events.setGroup(!1))},e.copy=function(t){(t=t.toCopyData())&&(e.clipboardXml_=t.xml,e.clipboardSource_=t.source,e.clipboardTypeCounts_=t.typeCounts)},e.paste=function(){if(!e.clipboardXml_)return!1;var t=e.clipboardSource_;return t.isFlyout&&(t=t.targetWorkspace),!(!e.clipboardTypeCounts_||!t.isCapacityAvailable(e.clipboardTypeCounts_))&&(e.Events.setGroup(!0),t.paste(e.clipboardXml_),e.Events.setGroup(!1),!0)},e.duplicate=function(t){var n=e.clipboardXml_,r=e.clipboardSource_;e.copy(t),t.workspace.paste(e.clipboardXml_),e.clipboardXml_=n,e.clipboardSource_=r},e.onContextMenu_=function(t){e.utils.isTargetInput(t)||t.preventDefault()},e.hideChaff=function(t){e.Tooltip.hide(),e.WidgetDiv.hide(),e.DropDownDiv.hideWithoutAnimation();var n=!!t;e.getMainWorkspace().getComponentManager().getComponents(e.ComponentManager.Capability.AUTOHIDEABLE,!0).forEach((function(e){e.autoHide(n)}))},e.getMainWorkspace=function(){return e.mainWorkspace},e.alert=function(e,t){alert(e),t&&t()},e.confirm=function(e,t){t(confirm(e))},e.prompt=function(e,t,n){n(prompt(e,t))},e.jsonInitFactory_=function(e){return function(){this.jsonInit(e)}},e.defineBlocksWithJsonArray=function(t){for(var n=0;n<t.length;n++){var r=t[n];if(r){var i=r.type;null==i||""===i?console.warn("Block definition #"+n+" in JSON array is missing a type attribute. Skipping."):(e.Blocks[i]&&console.warn("Block definition #"+n+' in JSON array overwrites prior definition of "'+i+'".'),e.Blocks[i]={init:e.jsonInitFactory_(r)})}else console.warn("Block definition #"+n+" in JSON array is "+r+". Skipping.")}},e.isNumber=function(e){return/^\s*-?\d+(\.\d+)?\s*$/.test(e)},e.hueToHex=function(t){return e.utils.colour.hsvToHex(t,e.HSV_SATURATION,255*e.HSV_VALUE)},e.checkBlockColourConstants=function(){e.checkBlockColourConstant_("LOGIC_HUE",["Blocks","logic","HUE"],void 0),e.checkBlockColourConstant_("LOGIC_HUE",["Constants","Logic","HUE"],210),e.checkBlockColourConstant_("LOOPS_HUE",["Blocks","loops","HUE"],void 0),e.checkBlockColourConstant_("LOOPS_HUE",["Constants","Loops","HUE"],120),e.checkBlockColourConstant_("MATH_HUE",["Blocks","math","HUE"],void 0),e.checkBlockColourConstant_("MATH_HUE",["Constants","Math","HUE"],230),e.checkBlockColourConstant_("TEXTS_HUE",["Blocks","texts","HUE"],void 0),e.checkBlockColourConstant_("TEXTS_HUE",["Constants","Text","HUE"],160),e.checkBlockColourConstant_("LISTS_HUE",["Blocks","lists","HUE"],void 0),e.checkBlockColourConstant_("LISTS_HUE",["Constants","Lists","HUE"],260),e.checkBlockColourConstant_("COLOUR_HUE",["Blocks","colour","HUE"],void 0),e.checkBlockColourConstant_("COLOUR_HUE",["Constants","Colour","HUE"],20),e.checkBlockColourConstant_("VARIABLES_HUE",["Blocks","variables","HUE"],void 0),e.checkBlockColourConstant_("VARIABLES_HUE",["Constants","Variables","HUE"],330),e.checkBlockColourConstant_("VARIABLES_DYNAMIC_HUE",["Constants","VariablesDynamic","HUE"],310),e.checkBlockColourConstant_("PROCEDURES_HUE",["Blocks","procedures","HUE"],void 0)},e.checkBlockColourConstant_=function(t,n,r){for(var i="Blockly",o=e,s=0;s<n.length;++s)i+="."+n[s],o&&(o=o[n[s]]);o&&o!==r&&(t=(void 0===r?'%1 has been removed. Use Blockly.Msg["%2"].':'%1 is deprecated and unused. Override Blockly.Msg["%2"].').replace("%1",i).replace("%2",t),console.warn(t))},e.setParentContainer=function(t){e.parentContainer=t},e.bindEvent_=e.browserEvents.bind,e.unbindEvent_=e.browserEvents.unbind,e.bindEventWithChecks_=e.browserEvents.conditionalBind,e.ALIGN_LEFT=e.constants.ALIGN.LEFT,e.ALIGN_CENTRE=e.constants.ALIGN.CENTRE,e.ALIGN_RIGHT=e.constants.ALIGN.RIGHT,e.INPUT_VALUE=e.connectionTypes.INPUT_VALUE,e.OUTPUT_VALUE=e.connectionTypes.OUTPUT_VALUE,e.NEXT_STATEMENT=e.connectionTypes.NEXT_STATEMENT,e.PREVIOUS_STATEMENT=e.connectionTypes.PREVIOUS_STATEMENT,e.DUMMY_INPUT=e.inputTypes.DUMMY,e.TOOLBOX_AT_TOP=e.utils.toolbox.Position.TOP,e.TOOLBOX_AT_BOTTOM=e.utils.toolbox.Position.BOTTOM,e.TOOLBOX_AT_LEFT=e.utils.toolbox.Position.LEFT,e.TOOLBOX_AT_RIGHT=e.utils.toolbox.Position.RIGHT,e.Events.BubbleOpen=function(t,n,r){e.Events.BubbleOpen.superClass_.constructor.call(this,t?t.workspace.id:void 0),this.blockId=t?t.id:null,this.isOpen=n,this.bubbleType=r},e.utils.object.inherits(e.Events.BubbleOpen,e.Events.UiBase),e.Events.BubbleOpen.prototype.type=e.Events.BUBBLE_OPEN,e.Events.BubbleOpen.prototype.toJson=function(){var t=e.Events.BubbleOpen.superClass_.toJson.call(this);return t.isOpen=this.isOpen,t.bubbleType=this.bubbleType,t.blockId=this.blockId,t},e.Events.BubbleOpen.prototype.fromJson=function(t){e.Events.BubbleOpen.superClass_.fromJson.call(this,t),this.isOpen=t.isOpen,this.bubbleType=t.bubbleType,this.blockId=t.blockId},e.registry.register(e.registry.Type.EVENT,e.Events.BUBBLE_OPEN,e.Events.BubbleOpen),e.Icon=function(e){this.block_=e,this.iconGroup_=null},e.Icon.prototype.collapseHidden=!0,e.Icon.prototype.SIZE=17,e.Icon.prototype.bubble_=null,e.Icon.prototype.iconXY_=null,e.Icon.prototype.createIcon=function(){this.iconGroup_||(this.iconGroup_=e.utils.dom.createSvgElement(e.utils.Svg.G,{class:"blocklyIconGroup"},null),this.block_.isInFlyout&&e.utils.dom.addClass(this.iconGroup_,"blocklyIconGroupReadonly"),this.drawIcon_(this.iconGroup_),this.block_.getSvgRoot().appendChild(this.iconGroup_),e.browserEvents.conditionalBind(this.iconGroup_,"mouseup",this,this.iconClick_),this.updateEditable())},e.Icon.prototype.dispose=function(){e.utils.dom.removeNode(this.iconGroup_),this.iconGroup_=null,this.setVisible(!1),this.block_=null},e.Icon.prototype.updateEditable=function(){},e.Icon.prototype.isVisible=function(){return!!this.bubble_},e.Icon.prototype.iconClick_=function(t){this.block_.workspace.isDragging()||this.block_.isInFlyout||e.utils.isRightButton(t)||this.setVisible(!this.isVisible())},e.Icon.prototype.applyColour=function(){this.isVisible()&&this.bubble_.setColour(this.block_.style.colourPrimary)},e.Icon.prototype.setIconLocation=function(e){this.iconXY_=e,this.isVisible()&&this.bubble_.setAnchorLocation(e)},e.Icon.prototype.computeIconLocation=function(){var t=this.block_.getRelativeToSurfaceXY(),n=e.utils.getRelativeXY(this.iconGroup_);t=new e.utils.Coordinate(t.x+n.x+this.SIZE/2,t.y+n.y+this.SIZE/2),e.utils.Coordinate.equals(this.getIconLocation(),t)||this.setIconLocation(t)},e.Icon.prototype.getIconLocation=function(){return this.iconXY_},e.Icon.prototype.getCorrectedSize=function(){return new e.utils.Size(e.Icon.prototype.SIZE,e.Icon.prototype.SIZE-2)},e.Warning=function(t){e.Warning.superClass_.constructor.call(this,t),this.createIcon(),this.text_=Object.create(null)},e.utils.object.inherits(e.Warning,e.Icon),e.Warning.prototype.collapseHidden=!1,e.Warning.prototype.drawIcon_=function(t){e.utils.dom.createSvgElement(e.utils.Svg.PATH,{class:"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},t),e.utils.dom.createSvgElement(e.utils.Svg.PATH,{class:"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},t),e.utils.dom.createSvgElement(e.utils.Svg.RECT,{class:"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},t)},e.Warning.prototype.setVisible=function(t){t!=this.isVisible()&&(e.Events.fire(new(e.Events.get(e.Events.BUBBLE_OPEN))(this.block_,t,"warning")),t?this.createBubble_():this.disposeBubble_())},e.Warning.prototype.createBubble_=function(){this.paragraphElement_=e.Bubble.textToDom(this.getText()),this.bubble_=e.Bubble.createNonEditableBubble(this.paragraphElement_,this.block_,this.iconXY_),this.applyColour()},e.Warning.prototype.disposeBubble_=function(){this.bubble_.dispose(),this.paragraphElement_=this.bubble_=null},e.Warning.prototype.setText=function(e,t){this.text_[t]!=e&&(e?this.text_[t]=e:delete this.text_[t],this.isVisible()&&(this.setVisible(!1),this.setVisible(!0)))},e.Warning.prototype.getText=function(){var e,t=[];for(e in this.text_)t.push(this.text_[e]);return t.join("\n")},e.Warning.prototype.dispose=function(){this.block_.warning=null,e.Icon.prototype.dispose.call(this)},e.Comment=function(t){e.Comment.superClass_.constructor.call(this,t),this.model_=t.commentModel,this.model_.text=this.model_.text||"",this.cachedText_="",this.onInputWrapper_=this.onChangeWrapper_=this.onWheelWrapper_=this.onMouseUpWrapper_=null,this.createIcon()},e.utils.object.inherits(e.Comment,e.Icon),e.Comment.prototype.drawIcon_=function(t){e.utils.dom.createSvgElement(e.utils.Svg.CIRCLE,{class:"blocklyIconShape",r:"8",cx:"8",cy:"8"},t),e.utils.dom.createSvgElement(e.utils.Svg.PATH,{class:"blocklyIconSymbol",d:"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z"},t),e.utils.dom.createSvgElement(e.utils.Svg.RECT,{class:"blocklyIconSymbol",x:"6.8",y:"10.78",height:"2",width:"2"},t)},e.Comment.prototype.createEditor_=function(){this.foreignObject_=e.utils.dom.createSvgElement(e.utils.Svg.FOREIGNOBJECT,{x:e.Bubble.BORDER_WIDTH,y:e.Bubble.BORDER_WIDTH},null);var t=document.createElementNS(e.utils.dom.HTML_NS,"body");t.setAttribute("xmlns",e.utils.dom.HTML_NS),t.className="blocklyMinimalBody";var n=this.textarea_=document.createElementNS(e.utils.dom.HTML_NS,"textarea");return n.className="blocklyCommentTextarea",n.setAttribute("dir",this.block_.RTL?"RTL":"LTR"),n.value=this.model_.text,this.resizeTextarea_(),t.appendChild(n),this.foreignObject_.appendChild(t),this.onMouseUpWrapper_=e.browserEvents.conditionalBind(n,"mouseup",this,this.startEdit_,!0,!0),this.onWheelWrapper_=e.browserEvents.conditionalBind(n,"wheel",this,(function(e){e.stopPropagation()})),this.onChangeWrapper_=e.browserEvents.conditionalBind(n,"change",this,(function(t){this.cachedText_!=this.model_.text&&e.Events.fire(new(e.Events.get(e.Events.BLOCK_CHANGE))(this.block_,"comment",null,this.cachedText_,this.model_.text))})),this.onInputWrapper_=e.browserEvents.conditionalBind(n,"input",this,(function(e){this.model_.text=n.value})),setTimeout(n.focus.bind(n),0),this.foreignObject_},e.Comment.prototype.updateEditable=function(){e.Comment.superClass_.updateEditable.call(this),this.isVisible()&&(this.disposeBubble_(),this.createBubble_())},e.Comment.prototype.onBubbleResize_=function(){this.isVisible()&&(this.model_.size=this.bubble_.getBubbleSize(),this.resizeTextarea_())},e.Comment.prototype.resizeTextarea_=function(){var t=this.model_.size,n=2*e.Bubble.BORDER_WIDTH,r=t.width-n;t=t.height-n,this.foreignObject_.setAttribute("width",r),this.foreignObject_.setAttribute("height",t),this.textarea_.style.width=r-4+"px",this.textarea_.style.height=t-4+"px"},e.Comment.prototype.setVisible=function(t){t!=this.isVisible()&&(e.Events.fire(new(e.Events.get(e.Events.BUBBLE_OPEN))(this.block_,t,"comment")),(this.model_.pinned=t)?this.createBubble_():this.disposeBubble_())},e.Comment.prototype.createBubble_=function(){!this.block_.isEditable()||e.utils.userAgent.IE?this.createNonEditableBubble_():this.createEditableBubble_()},e.Comment.prototype.createEditableBubble_=function(){this.bubble_=new e.Bubble(this.block_.workspace,this.createEditor_(),this.block_.pathObject.svgPath,this.iconXY_,this.model_.size.width,this.model_.size.height),this.bubble_.setSvgId(this.block_.id),this.bubble_.registerResizeEvent(this.onBubbleResize_.bind(this)),this.applyColour()},e.Comment.prototype.createNonEditableBubble_=function(){this.paragraphElement_=e.Bubble.textToDom(this.block_.getCommentText()),this.bubble_=e.Bubble.createNonEditableBubble(this.paragraphElement_,this.block_,this.iconXY_),this.applyColour()},e.Comment.prototype.disposeBubble_=function(){this.onMouseUpWrapper_&&(e.browserEvents.unbind(this.onMouseUpWrapper_),this.onMouseUpWrapper_=null),this.onWheelWrapper_&&(e.browserEvents.unbind(this.onWheelWrapper_),this.onWheelWrapper_=null),this.onChangeWrapper_&&(e.browserEvents.unbind(this.onChangeWrapper_),this.onChangeWrapper_=null),this.onInputWrapper_&&(e.browserEvents.unbind(this.onInputWrapper_),this.onInputWrapper_=null),this.bubble_.dispose(),this.paragraphElement_=this.foreignObject_=this.textarea_=this.bubble_=null},e.Comment.prototype.startEdit_=function(e){this.bubble_.promote()&&this.textarea_.focus(),this.cachedText_=this.model_.text},e.Comment.prototype.getBubbleSize=function(){return this.model_.size},e.Comment.prototype.setBubbleSize=function(e,t){this.bubble_?this.bubble_.setBubbleSize(e,t):(this.model_.size.width=e,this.model_.size.height=t)},e.Comment.prototype.updateText=function(){this.textarea_?this.textarea_.value=this.model_.text:this.paragraphElement_&&(this.paragraphElement_.firstChild.textContent=this.model_.text)},e.Comment.prototype.dispose=function(){this.block_.comment=null,e.Icon.prototype.dispose.call(this)},e.Css.register(".blocklyCommentTextarea {,background-color: #fef49c;,border: 0;,outline: 0;,margin: 0;,padding: 3px;,resize: none;,display: block;,text-overflow: hidden;,}".split(",")),e.IComponent=function(){},e.IDragTarget=function(){},e.DragTarget=function(){},e.DragTarget.prototype.onDragEnter=function(e){},e.DragTarget.prototype.onDragOver=function(e){},e.DragTarget.prototype.onDragExit=function(e){},e.DragTarget.prototype.onDrop=function(e){},e.DragTarget.prototype.shouldPreventMove=function(e){return!1},e.IDeleteArea=function(){},e.DeleteArea=function(){e.DeleteArea.superClass_.constructor.call(this),this.wouldDelete_=!1},e.utils.object.inherits(e.DeleteArea,e.DragTarget),e.DeleteArea.prototype.wouldDelete=function(t,n){return t instanceof e.BlockSvg?(t=!t.getParent()&&t.isDeletable(),this.updateWouldDelete_(t&&!n)):this.updateWouldDelete_(t.isDeletable()),this.wouldDelete_},e.DeleteArea.prototype.updateWouldDelete_=function(e){this.wouldDelete_=e},e.IFlyout=function(){},e.Flyout=function(t){e.Flyout.superClass_.constructor.call(this),t.setMetrics=this.setMetrics_.bind(this),this.workspace_=new e.WorkspaceSvg(t),this.workspace_.setMetricsManager(new e.FlyoutMetricsManager(this.workspace_,this)),this.workspace_.isFlyout=!0,this.workspace_.setVisible(this.isVisible_),this.id=e.utils.genUid(),this.RTL=!!t.RTL,this.horizontalLayout=!1,this.toolboxPosition_=t.toolboxPosition,this.eventWrappers_=[],this.mats_=[],this.buttons_=[],this.listeners_=[],this.permanentlyDisabled_=[],this.tabWidth_=this.workspace_.getRenderer().getConstants().TAB_WIDTH,this.targetWorkspace=null},e.utils.object.inherits(e.Flyout,e.DeleteArea),e.Flyout.prototype.autoClose=!0,e.Flyout.prototype.isVisible_=!1,e.Flyout.prototype.containerVisible_=!0,e.Flyout.prototype.CORNER_RADIUS=8,e.Flyout.prototype.MARGIN=e.Flyout.prototype.CORNER_RADIUS,e.Flyout.prototype.GAP_X=3*e.Flyout.prototype.MARGIN,e.Flyout.prototype.GAP_Y=3*e.Flyout.prototype.MARGIN,e.Flyout.prototype.SCROLLBAR_MARGIN=2.5,e.Flyout.prototype.width_=0,e.Flyout.prototype.height_=0,e.Flyout.prototype.dragAngleRange_=70,e.Flyout.prototype.createDom=function(t){return this.svgGroup_=e.utils.dom.createSvgElement(t,{class:"blocklyFlyout",style:"display: none"},null),this.svgBackground_=e.utils.dom.createSvgElement(e.utils.Svg.PATH,{class:"blocklyFlyoutBackground"},this.svgGroup_),this.svgGroup_.appendChild(this.workspace_.createDom()),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutBackgroundColour","fill"),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutOpacity","fill-opacity"),this.svgGroup_},e.Flyout.prototype.init=function(t){this.targetWorkspace=t,this.workspace_.targetWorkspace=t,this.workspace_.scrollbar=new e.ScrollbarPair(this.workspace_,this.horizontalLayout,!this.horizontalLayout,"blocklyFlyoutScrollbar",this.SCROLLBAR_MARGIN),this.hide(),Array.prototype.push.apply(this.eventWrappers_,e.browserEvents.conditionalBind(this.svgGroup_,"wheel",this,this.wheel_)),this.autoClose||(this.filterWrapper_=this.filterForCapacity_.bind(this),this.targetWorkspace.addChangeListener(this.filterWrapper_)),Array.prototype.push.apply(this.eventWrappers_,e.browserEvents.conditionalBind(this.svgBackground_,"mousedown",this,this.onMouseDown_)),this.workspace_.getGesture=this.targetWorkspace.getGesture.bind(this.targetWorkspace),this.workspace_.setVariableMap(this.targetWorkspace.getVariableMap()),this.workspace_.createPotentialVariableMap(),t.getComponentManager().addComponent({component:this,weight:1,capabilities:[e.ComponentManager.Capability.DELETE_AREA,e.ComponentManager.Capability.DRAG_TARGET]})},e.Flyout.prototype.dispose=function(){this.hide(),this.workspace_.getComponentManager().removeComponent(this.id),e.browserEvents.unbind(this.eventWrappers_),this.filterWrapper_&&(this.targetWorkspace.removeChangeListener(this.filterWrapper_),this.filterWrapper_=null),this.workspace_&&(this.workspace_.getThemeManager().unsubscribe(this.svgBackground_),this.workspace_.targetWorkspace=null,this.workspace_.dispose(),this.workspace_=null),this.svgGroup_&&(e.utils.dom.removeNode(this.svgGroup_),this.svgGroup_=null),this.targetWorkspace=this.svgBackground_=null},e.Flyout.prototype.getWidth=function(){return this.width_},e.Flyout.prototype.getHeight=function(){return this.height_},e.Flyout.prototype.getFlyoutScale=function(){return this.targetWorkspace.scale},e.Flyout.prototype.getWorkspace=function(){return this.workspace_},e.Flyout.prototype.isVisible=function(){return this.isVisible_},e.Flyout.prototype.setVisible=function(e){var t=e!=this.isVisible();this.isVisible_=e,t&&(this.autoClose||this.workspace_.recordDragTargets(),this.updateDisplay_())},e.Flyout.prototype.setContainerVisible=function(e){var t=e!=this.containerVisible_;this.containerVisible_=e,t&&this.updateDisplay_()},e.Flyout.prototype.updateDisplay_=function(){var e=!!this.containerVisible_&&this.isVisible();this.svgGroup_.style.display=e?"block":"none",this.workspace_.scrollbar.setContainerVisible(e)},e.Flyout.prototype.positionAt_=function(t,n,r,i){this.svgGroup_.setAttribute("width",t),this.svgGroup_.setAttribute("height",n),this.workspace_.setCachedParentSvgSize(t,n),"svg"==this.svgGroup_.tagName?e.utils.dom.setCssTransform(this.svgGroup_,"translate("+r+"px,"+i+"px)"):this.svgGroup_.setAttribute("transform","translate("+r+","+i+")"),(t=this.workspace_.scrollbar)&&(t.setOrigin(r,i),t.resize(),t.hScroll&&t.hScroll.setPosition(t.hScroll.position.x,t.hScroll.position.y),t.vScroll&&t.vScroll.setPosition(t.vScroll.position.x,t.vScroll.position.y))},e.Flyout.prototype.hide=function(){if(this.isVisible()){this.setVisible(!1);for(var t,n=0;t=this.listeners_[n];n++)e.browserEvents.unbind(t);this.listeners_.length=0,this.reflowWrapper_&&(this.workspace_.removeChangeListener(this.reflowWrapper_),this.reflowWrapper_=null)}},e.Flyout.prototype.show=function(t){this.workspace_.setResizesEnabled(!1),this.hide(),this.clearOldBlocks_(),"string"==typeof t&&(t=this.getDynamicCategoryContents_(t)),this.setVisible(!0),t=e.utils.toolbox.convertFlyoutDefToJsonArray(t),t=this.createFlyoutInfo_(t),this.layout_(t.contents,t.gaps),this.listeners_.push(e.browserEvents.conditionalBind(this.svgBackground_,"mouseover",this,(function(){for(var e,t=this.workspace_.getTopBlocks(!1),n=0;e=t[n];n++)e.removeSelect()}))),this.horizontalLayout?this.height_=0:this.width_=0,this.workspace_.setResizesEnabled(!0),this.reflow(),this.filterForCapacity_(),this.position(),this.reflowWrapper_=this.reflow.bind(this),this.workspace_.addChangeListener(this.reflowWrapper_)},e.Flyout.prototype.createFlyoutInfo_=function(t){var n=[],r=[];this.permanentlyDisabled_.length=0;for(var i,o=this.horizontalLayout?this.GAP_X:this.GAP_Y,s=0;i=t[s];s++)switch(i.custom&&(i=this.getDynamicCategoryContents_(i.custom),i=e.utils.toolbox.convertFlyoutDefToJsonArray(i),t.splice.apply(t,[s,1].concat(i)),i=t[s]),i.kind.toUpperCase()){case"BLOCK":var a=i,l=this.getBlockXml_(a);i=this.createBlock_(l),a=parseInt(a.gap||l.getAttribute("gap"),10),r.push(isNaN(a)?o:a),n.push({type:"block",block:i});break;case"SEP":this.addSeparatorGap_(i,r,o);break;case"LABEL":i=this.createButton_(i,!0),n.push({type:"button",button:i}),r.push(o);break;case"BUTTON":i=this.createButton_(i,!1),n.push({type:"button",button:i}),r.push(o)}return{contents:n,gaps:r}},e.Flyout.prototype.getDynamicCategoryContents_=function(e){if("function"!=typeof(e=this.workspace_.targetWorkspace.getToolboxCategoryCallback(e)))throw TypeError("Couldn't find a callback function when opening a toolbox category.");if(e=e(this.workspace_.targetWorkspace),!Array.isArray(e))throw new TypeError("Result of toolbox category callback must be an array.");return e},e.Flyout.prototype.createButton_=function(t,n){if(!e.FlyoutButton)throw Error("Missing require for Blockly.FlyoutButton");return new e.FlyoutButton(this.workspace_,this.targetWorkspace,t,n)},e.Flyout.prototype.createBlock_=function(t){return(t=e.Xml.domToBlock(t,this.workspace_)).isEnabled()||this.permanentlyDisabled_.push(t),t},e.Flyout.prototype.getBlockXml_=function(t){var n=null,r=t.blockxml;if(r&&"string"!=typeof r?n=r:r&&"string"==typeof r?(n=e.Xml.textToDom(r),t.blockxml=n):t.type&&((n=e.utils.xml.createElement("xml")).setAttribute("type",t.type),n.setAttribute("disabled",t.disabled),t.blockxml=n),!n)throw Error("Error: Invalid block definition. Block definition must have blockxml or type.");return n},e.Flyout.prototype.addSeparatorGap_=function(e,t,n){e=parseInt(e.gap,10),!isNaN(e)&&0<t.length?t[t.length-1]=e:t.push(n)},e.Flyout.prototype.clearOldBlocks_=function(){for(var t,n=this.workspace_.getTopBlocks(!1),r=0;t=n[r];r++)t.workspace==this.workspace_&&t.dispose(!1,!1);for(r=0;r<this.mats_.length;r++)(n=this.mats_[r])&&(e.Tooltip.unbindMouseEvents(n),e.utils.dom.removeNode(n));for(r=this.mats_.length=0;n=this.buttons_[r];r++)n.dispose();this.buttons_.length=0,this.workspace_.getPotentialVariableMap().clear()},e.Flyout.prototype.addBlockListeners_=function(t,n,r){this.listeners_.push(e.browserEvents.conditionalBind(t,"mousedown",null,this.blockMouseDown_(n))),this.listeners_.push(e.browserEvents.conditionalBind(r,"mousedown",null,this.blockMouseDown_(n))),this.listeners_.push(e.browserEvents.bind(t,"mouseenter",n,n.addSelect)),this.listeners_.push(e.browserEvents.bind(t,"mouseleave",n,n.removeSelect)),this.listeners_.push(e.browserEvents.bind(r,"mouseenter",n,n.addSelect)),this.listeners_.push(e.browserEvents.bind(r,"mouseleave",n,n.removeSelect))},e.Flyout.prototype.blockMouseDown_=function(e){var t=this;return function(n){var r=t.targetWorkspace.getGesture(n);r&&(r.setStartBlock(e),r.handleFlyoutStart(n,t))}},e.Flyout.prototype.onMouseDown_=function(e){var t=this.targetWorkspace.getGesture(e);t&&t.handleFlyoutStart(e,this)},e.Flyout.prototype.isBlockCreatable_=function(e){return e.isEnabled()},e.Flyout.prototype.createBlock=function(t){var n=null;e.Events.disable();var r=this.targetWorkspace.getAllVariables();this.targetWorkspace.setResizesEnabled(!1);try{n=this.placeNewBlock_(t)}finally{e.Events.enable()}if(e.hideChaff(),t=e.Variables.getAddedVariables(this.targetWorkspace,r),e.Events.isEnabled()){for(e.Events.setGroup(!0),r=0;r<t.length;r++){var i=t[r];e.Events.fire(new(e.Events.get(e.Events.VAR_CREATE))(i))}e.Events.fire(new(e.Events.get(e.Events.BLOCK_CREATE))(n))}return this.autoClose?this.hide():this.filterForCapacity_(),n},e.Flyout.prototype.initFlyoutButton_=function(t,n,r){var i=t.createDom();t.moveTo(n,r),t.show(),this.listeners_.push(e.browserEvents.conditionalBind(i,"mousedown",this,this.onMouseDown_)),this.buttons_.push(t)},e.Flyout.prototype.createRect_=function(t,n,r,i,o){return(n=e.utils.dom.createSvgElement(e.utils.Svg.RECT,{"fill-opacity":0,x:n,y:r,height:i.height,width:i.width},null)).tooltip=t,e.Tooltip.bindMouseEvents(n),this.workspace_.getCanvas().insertBefore(n,t.getSvgRoot()),t.flyoutRect_=n,this.mats_[o]=n},e.Flyout.prototype.moveRectToBlock_=function(e,t){var n=t.getHeightWidth();e.setAttribute("width",n.width),e.setAttribute("height",n.height),t=t.getRelativeToSurfaceXY(),e.setAttribute("y",t.y),e.setAttribute("x",this.RTL?t.x-n.width:t.x)},e.Flyout.prototype.filterForCapacity_=function(){for(var t,n=this.workspace_.getTopBlocks(!1),r=0;t=n[r];r++)if(-1==this.permanentlyDisabled_.indexOf(t))for(var i=this.targetWorkspace.isCapacityAvailable(e.utils.getBlockTypeCounts(t));t;)t.setEnabled(i),t=t.getNextBlock()},e.Flyout.prototype.reflow=function(){this.reflowWrapper_&&this.workspace_.removeChangeListener(this.reflowWrapper_),this.reflowInternal_(),this.reflowWrapper_&&this.workspace_.addChangeListener(this.reflowWrapper_)},e.Flyout.prototype.isScrollable=function(){return!!this.workspace_.scrollbar&&this.workspace_.scrollbar.isVisible()},e.Flyout.prototype.placeNewBlock_=function(t){var n=this.targetWorkspace;if(!t.getSvgRoot())throw Error("oldBlock is not rendered.");var r=e.Xml.blockToDom(t,!0);if(n.setResizesEnabled(!1),!(r=e.Xml.domToBlock(r,n)).getSvgRoot())throw Error("block is not rendered.");var i=n.getOriginOffsetInPixels(),o=this.workspace_.getOriginOffsetInPixels();return(t=t.getRelativeToSurfaceXY()).scale(this.workspace_.scale),t=e.utils.Coordinate.sum(o,t),(i=e.utils.Coordinate.difference(t,i)).scale(1/n.scale),r.moveBy(i.x,i.y),r},e.HorizontalFlyout=function(t){e.HorizontalFlyout.superClass_.constructor.call(this,t),this.horizontalLayout=!0},e.utils.object.inherits(e.HorizontalFlyout,e.Flyout),e.HorizontalFlyout.prototype.setMetrics_=function(e){if(this.isVisible()){var t=this.workspace_.getMetricsManager(),n=t.getScrollMetrics(),r=t.getViewMetrics();t=t.getAbsoluteMetrics(),"number"==typeof e.x&&(this.workspace_.scrollX=-(n.left+(n.width-r.width)*e.x)),this.workspace_.translate(this.workspace_.scrollX+t.left,this.workspace_.scrollY+t.top)}},e.HorizontalFlyout.prototype.getX=function(){return 0},e.HorizontalFlyout.prototype.getY=function(){if(!this.isVisible())return 0;var t=this.targetWorkspace.getMetricsManager(),n=t.getAbsoluteMetrics(),r=t.getViewMetrics();t=t.getToolboxMetrics();var i=this.toolboxPosition_==e.utils.toolbox.Position.TOP;return this.targetWorkspace.toolboxPosition==this.toolboxPosition_?this.targetWorkspace.getToolbox()?i?t.height:r.height-this.height_:i?0:r.height:i?0:r.height+n.top-this.height_},e.HorizontalFlyout.prototype.position=function(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var e=this.targetWorkspace.getMetricsManager().getViewMetrics();this.width_=e.width,this.setBackgroundPath_(e.width-2*this.CORNER_RADIUS,this.height_-this.CORNER_RADIUS),e=this.getX();var t=this.getY();this.positionAt_(this.width_,this.height_,e,t)}},e.HorizontalFlyout.prototype.setBackgroundPath_=function(t,n){var r=this.toolboxPosition_==e.utils.toolbox.Position.TOP,i=["M 0,"+(r?0:this.CORNER_RADIUS)];r?(i.push("h",t+2*this.CORNER_RADIUS),i.push("v",n),i.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,this.CORNER_RADIUS),i.push("h",-t),i.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,-this.CORNER_RADIUS)):(i.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,-this.CORNER_RADIUS),i.push("h",t),i.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,this.CORNER_RADIUS),i.push("v",n),i.push("h",-t-2*this.CORNER_RADIUS)),i.push("z"),this.svgBackground_.setAttribute("d",i.join(" "))},e.HorizontalFlyout.prototype.scrollToStart=function(){this.workspace_.scrollbar.setX(this.RTL?1/0:0)},e.HorizontalFlyout.prototype.wheel_=function(t){var n=e.utils.getScrollDeltaPixels(t);if(n=n.x||n.y){var r=this.workspace_.getMetricsManager(),i=r.getScrollMetrics();n=r.getViewMetrics().left-i.left+n,this.workspace_.scrollbar.setX(n),e.WidgetDiv.hide(),e.DropDownDiv.hideWithoutAnimation()}t.preventDefault(),t.stopPropagation()},e.HorizontalFlyout.prototype.layout_=function(e,t){this.workspace_.scale=this.targetWorkspace.scale;var n=this.MARGIN,r=n+this.tabWidth_;this.RTL&&(e=e.reverse());for(var i,o=0;i=e[o];o++)if("block"==i.type){for(var s,a=(i=i.block).getDescendants(!1),l=0;s=a[l];l++)s.isInFlyout=!0;i.render(),a=i.getSvgRoot(),l=i.getHeightWidth(),s=i.outputConnection?this.tabWidth_:0,s=this.RTL?r+l.width:r-s,i.moveBy(s,n),s=this.createRect_(i,s,n,l,o),r+=l.width+t[o],this.addBlockListeners_(a,i,s)}else"button"==i.type&&(this.initFlyoutButton_(i.button,r,n),r+=i.button.width+t[o])},e.HorizontalFlyout.prototype.isDragTowardWorkspace=function(e){e=Math.atan2(e.y,e.x)/Math.PI*180;var t=this.dragAngleRange_;return e<90+t&&e>90-t||e>-90-t&&e<-90+t},e.HorizontalFlyout.prototype.getClientRect=function(){if(!this.svgGroup_||this.autoClose||!this.isVisible())return null;var t=this.svgGroup_.getBoundingClientRect(),n=t.top;return this.toolboxPosition_==e.utils.toolbox.Position.TOP?new e.utils.Rect(-1e9,n+t.height,-1e9,1e9):new e.utils.Rect(n,1e9,-1e9,1e9)},e.HorizontalFlyout.prototype.reflowInternal_=function(){this.workspace_.scale=this.getFlyoutScale();for(var t,n=0,r=this.workspace_.getTopBlocks(!1),i=0;t=r[i];i++)n=Math.max(n,t.getHeightWidth().height);if(n+=1.5*this.MARGIN,n*=this.workspace_.scale,n+=e.Scrollbar.scrollbarThickness,this.height_!=n){for(i=0;t=r[i];i++)t.flyoutRect_&&this.moveRectToBlock_(t.flyoutRect_,t);this.targetWorkspace.toolboxPosition!=this.toolboxPosition_||this.toolboxPosition_!=e.utils.toolbox.Position.TOP||this.targetWorkspace.getToolbox()||this.targetWorkspace.translate(this.targetWorkspace.scrollX,this.targetWorkspace.scrollY+n),this.height_=n,this.position(),this.targetWorkspace.recordDragTargets()}},e.registry.register(e.registry.Type.FLYOUTS_HORIZONTAL_TOOLBOX,e.registry.DEFAULT,e.HorizontalFlyout),e.VerticalFlyout=function(t){e.VerticalFlyout.superClass_.constructor.call(this,t)},e.utils.object.inherits(e.VerticalFlyout,e.Flyout),e.VerticalFlyout.registryName="verticalFlyout",e.VerticalFlyout.prototype.setMetrics_=function(e){if(this.isVisible()){var t=this.workspace_.getMetricsManager(),n=t.getScrollMetrics(),r=t.getViewMetrics();t=t.getAbsoluteMetrics(),"number"==typeof e.y&&(this.workspace_.scrollY=-(n.top+(n.height-r.height)*e.y)),this.workspace_.translate(this.workspace_.scrollX+t.left,this.workspace_.scrollY+t.top)}},e.VerticalFlyout.prototype.getX=function(){if(!this.isVisible())return 0;var t=this.targetWorkspace.getMetricsManager(),n=t.getAbsoluteMetrics(),r=t.getViewMetrics();return t=t.getToolboxMetrics(),this.targetWorkspace.toolboxPosition==this.toolboxPosition_?this.targetWorkspace.getToolbox()?this.toolboxPosition_==e.utils.toolbox.Position.LEFT?t.width:r.width-this.width_:this.toolboxPosition_==e.utils.toolbox.Position.LEFT?0:r.width:this.toolboxPosition_==e.utils.toolbox.Position.LEFT?0:r.width+n.left-this.width_},e.VerticalFlyout.prototype.getY=function(){return 0},e.VerticalFlyout.prototype.position=function(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var e=this.targetWorkspace.getMetricsManager().getViewMetrics();this.height_=e.height,this.setBackgroundPath_(this.width_-this.CORNER_RADIUS,e.height-2*this.CORNER_RADIUS),e=this.getX();var t=this.getY();this.positionAt_(this.width_,this.height_,e,t)}},e.VerticalFlyout.prototype.setBackgroundPath_=function(t,n){var r=this.toolboxPosition_==e.utils.toolbox.Position.RIGHT,i=t+this.CORNER_RADIUS;(i=["M "+(r?i:0)+",0"]).push("h",r?-t:t),i.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,r?0:1,r?-this.CORNER_RADIUS:this.CORNER_RADIUS,this.CORNER_RADIUS),i.push("v",Math.max(0,n)),i.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,r?0:1,r?this.CORNER_RADIUS:-this.CORNER_RADIUS,this.CORNER_RADIUS),i.push("h",r?t:-t),i.push("z"),this.svgBackground_.setAttribute("d",i.join(" "))},e.VerticalFlyout.prototype.scrollToStart=function(){this.workspace_.scrollbar.setY(0)},e.VerticalFlyout.prototype.wheel_=function(t){var n=e.utils.getScrollDeltaPixels(t);if(n.y){var r=this.workspace_.getMetricsManager(),i=r.getScrollMetrics();n=r.getViewMetrics().top-i.top+n.y,this.workspace_.scrollbar.setY(n),e.WidgetDiv.hide(),e.DropDownDiv.hideWithoutAnimation()}t.preventDefault(),t.stopPropagation()},e.VerticalFlyout.prototype.layout_=function(e,t){this.workspace_.scale=this.targetWorkspace.scale;for(var n,r=this.MARGIN,i=this.RTL?r:r+this.tabWidth_,o=0;n=e[o];o++)if("block"==n.type){for(var s,a=(n=n.block).getDescendants(!1),l=0;s=a[l];l++)s.isInFlyout=!0;n.render(),a=n.getSvgRoot(),l=n.getHeightWidth(),s=n.outputConnection?i-this.tabWidth_:i,n.moveBy(s,r),s=this.createRect_(n,this.RTL?s-l.width:s,r,l,o),this.addBlockListeners_(a,n,s),r+=l.height+t[o]}else"button"==n.type&&(this.initFlyoutButton_(n.button,i,r),r+=n.button.height+t[o])},e.VerticalFlyout.prototype.isDragTowardWorkspace=function(e){e=Math.atan2(e.y,e.x)/Math.PI*180;var t=this.dragAngleRange_;return e<t&&e>-t||e<-180+t||e>180-t},e.VerticalFlyout.prototype.getClientRect=function(){if(!this.svgGroup_||this.autoClose||!this.isVisible())return null;var t=this.svgGroup_.getBoundingClientRect(),n=t.left;return this.toolboxPosition_==e.utils.toolbox.Position.LEFT?new e.utils.Rect(-1e9,1e9,-1e9,n+t.width):new e.utils.Rect(-1e9,1e9,n,1e9)},e.VerticalFlyout.prototype.reflowInternal_=function(){this.workspace_.scale=this.getFlyoutScale();for(var t,n=0,r=this.workspace_.getTopBlocks(!1),i=0;t=r[i];i++){var o=t.getHeightWidth().width;t.outputConnection&&(o-=this.tabWidth_),n=Math.max(n,o)}for(i=0;t=this.buttons_[i];i++)n=Math.max(n,t.width);if(n+=1.5*this.MARGIN+this.tabWidth_,n*=this.workspace_.scale,n+=e.Scrollbar.scrollbarThickness,this.width_!=n){for(i=0;t=r[i];i++){if(this.RTL){o=t.getRelativeToSurfaceXY().x;var s=n/this.workspace_.scale-this.MARGIN;t.outputConnection||(s-=this.tabWidth_),t.moveBy(s-o,0)}t.flyoutRect_&&this.moveRectToBlock_(t.flyoutRect_,t)}if(this.RTL)for(i=0;t=this.buttons_[i];i++)r=t.getPosition().y,t.moveTo(n/this.workspace_.scale-t.width-this.MARGIN-this.tabWidth_,r);this.targetWorkspace.toolboxPosition!=this.toolboxPosition_||this.toolboxPosition_!=e.utils.toolbox.Position.LEFT||this.targetWorkspace.getToolbox()||this.targetWorkspace.translate(this.targetWorkspace.scrollX+n,this.targetWorkspace.scrollY),this.width_=n,this.position(),this.targetWorkspace.recordDragTargets()}},e.registry.register(e.registry.Type.FLYOUTS_VERTICAL_TOOLBOX,e.registry.DEFAULT,e.VerticalFlyout),e.FlyoutButton=function(t,n,r,i){this.workspace_=t,this.targetWorkspace_=n,this.text_=r.text,this.position_=new e.utils.Coordinate(0,0),this.isLabel_=i,this.callbackKey_=r.callbackKey||r.callbackkey,this.cssClass_=r["web-class"]||null,this.onMouseUpWrapper_=null,this.info=r},e.FlyoutButton.MARGIN_X=5,e.FlyoutButton.MARGIN_Y=2,e.FlyoutButton.prototype.width=0,e.FlyoutButton.prototype.height=0,e.FlyoutButton.prototype.createDom=function(){var t=this.isLabel_?"blocklyFlyoutLabel":"blocklyFlyoutButton";if(this.cssClass_&&(t+=" "+this.cssClass_),this.svgGroup_=e.utils.dom.createSvgElement(e.utils.Svg.G,{class:t},this.workspace_.getCanvas()),!this.isLabel_)var n=e.utils.dom.createSvgElement(e.utils.Svg.RECT,{class:"blocklyFlyoutButtonShadow",rx:4,ry:4,x:1,y:1},this.svgGroup_);t=e.utils.dom.createSvgElement(e.utils.Svg.RECT,{class:this.isLabel_?"blocklyFlyoutLabelBackground":"blocklyFlyoutButtonBackground",rx:4,ry:4},this.svgGroup_);var r=e.utils.dom.createSvgElement(e.utils.Svg.TEXT,{class:this.isLabel_?"blocklyFlyoutLabelText":"blocklyText",x:0,y:0,"text-anchor":"middle"},this.svgGroup_),i=e.utils.replaceMessageReferences(this.text_);this.workspace_.RTL&&(i+="\u200f"),r.textContent=i,this.isLabel_&&(this.svgText_=r,this.workspace_.getThemeManager().subscribe(this.svgText_,"flyoutForegroundColour","fill"));var o=e.utils.style.getComputedStyle(r,"fontSize"),s=e.utils.style.getComputedStyle(r,"fontWeight"),a=e.utils.style.getComputedStyle(r,"fontFamily");return this.width=e.utils.dom.getFastTextWidthWithSizeString(r,o,s,a),i=e.utils.dom.measureFontMetrics(i,o,s,a),this.height=i.height,this.isLabel_||(this.width+=2*e.FlyoutButton.MARGIN_X,this.height+=2*e.FlyoutButton.MARGIN_Y,n.setAttribute("width",this.width),n.setAttribute("height",this.height)),t.setAttribute("width",this.width),t.setAttribute("height",this.height),r.setAttribute("x",this.width/2),r.setAttribute("y",this.height/2-i.height/2+i.baseline),this.updateTransform_(),this.onMouseUpWrapper_=e.browserEvents.conditionalBind(this.svgGroup_,"mouseup",this,this.onMouseUp_),this.svgGroup_},e.FlyoutButton.prototype.show=function(){this.updateTransform_(),this.svgGroup_.setAttribute("display","block")},e.FlyoutButton.prototype.updateTransform_=function(){this.svgGroup_.setAttribute("transform","translate("+this.position_.x+","+this.position_.y+")")},e.FlyoutButton.prototype.moveTo=function(e,t){this.position_.x=e,this.position_.y=t,this.updateTransform_()},e.FlyoutButton.prototype.isLabel=function(){return this.isLabel_},e.FlyoutButton.prototype.getPosition=function(){return this.position_},e.FlyoutButton.prototype.getButtonText=function(){return this.text_},e.FlyoutButton.prototype.getTargetWorkspace=function(){return this.targetWorkspace_},e.FlyoutButton.prototype.dispose=function(){this.onMouseUpWrapper_&&e.browserEvents.unbind(this.onMouseUpWrapper_),this.svgGroup_&&e.utils.dom.removeNode(this.svgGroup_),this.svgText_&&this.workspace_.getThemeManager().unsubscribe(this.svgText_)},e.FlyoutButton.prototype.onMouseUp_=function(e){(e=this.targetWorkspace_.getGesture(e))&&e.cancel(),this.isLabel_&&this.callbackKey_?console.warn("Labels should not have callbacks. Label text: "+this.text_):this.isLabel_||this.callbackKey_&&this.targetWorkspace_.getButtonCallback(this.callbackKey_)?this.isLabel_||this.targetWorkspace_.getButtonCallback(this.callbackKey_)(this):console.warn("Buttons should have callbacks. Button text: "+this.text_)},e.Css.register(".blocklyFlyoutButton {,fill: #888;,cursor: default;,},.blocklyFlyoutButtonShadow {,fill: #666;,},.blocklyFlyoutButton:hover {,fill: #aaa;,},.blocklyFlyoutLabel {,cursor: default;,},.blocklyFlyoutLabelBackground {,opacity: 0;,}".split(",")),e.Generator=function(e){this.name_=e,this.FUNCTION_NAME_PLACEHOLDER_REGEXP_=new RegExp(this.FUNCTION_NAME_PLACEHOLDER_,"g")},e.Generator.prototype.INFINITE_LOOP_TRAP=null,e.Generator.prototype.STATEMENT_PREFIX=null,e.Generator.prototype.STATEMENT_SUFFIX=null,e.Generator.prototype.INDENT="  ",e.Generator.prototype.COMMENT_WRAP=60,e.Generator.prototype.ORDER_OVERRIDES=[],e.Generator.prototype.isInitialized=null,e.Generator.prototype.workspaceToCode=function(t){t||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),t=e.getMainWorkspace());var n=[];this.init(t),t=t.getTopBlocks(!0);for(var r,i=0;r=t[i];i++){var o=this.blockToCode(r);Array.isArray(o)&&(o=o[0]),o&&(r.outputConnection&&(o=this.scrubNakedValue(o),this.STATEMENT_PREFIX&&!r.suppressPrefixSuffix&&(o=this.injectId(this.STATEMENT_PREFIX,r)+o),this.STATEMENT_SUFFIX&&!r.suppressPrefixSuffix&&(o+=this.injectId(this.STATEMENT_SUFFIX,r))),n.push(o))}return n=n.join("\n"),(n=(n=(n=this.finish(n)).replace(/^\s+\n/,"")).replace(/\n\s+$/,"\n")).replace(/[ \t]+\n/g,"\n")},e.Generator.prototype.prefixLines=function(e,t){return t+e.replace(/(?!\n$)\n/g,"\n"+t)},e.Generator.prototype.allNestedComments=function(e){var t=[];e=e.getDescendants(!0);for(var n=0;n<e.length;n++){var r=e[n].getCommentText();r&&t.push(r)}return t.length&&t.push(""),t.join("\n")},e.Generator.prototype.blockToCode=function(e,t){if(!1===this.isInitialized&&console.warn("Generator init was not called before blockToCode was called."),!e)return"";if(!e.isEnabled())return t?"":this.blockToCode(e.getNextBlock());if(e.isInsertionMarker())return t?"":this.blockToCode(e.getChildren(!1)[0]);var n=this[e.type];if("function"!=typeof n)throw Error('Language "'+this.name_+'" does not know how to generate code for block type "'+e.type+'".');if(n=n.call(e,e),Array.isArray(n)){if(!e.outputConnection)throw TypeError("Expecting string from statement block: "+e.type);return[this.scrub_(e,n[0],t),n[1]]}if("string"==typeof n)return this.STATEMENT_PREFIX&&!e.suppressPrefixSuffix&&(n=this.injectId(this.STATEMENT_PREFIX,e)+n),this.STATEMENT_SUFFIX&&!e.suppressPrefixSuffix&&(n+=this.injectId(this.STATEMENT_SUFFIX,e)),this.scrub_(e,n,t);if(null===n)return"";throw SyntaxError("Invalid code generated: "+n)},e.Generator.prototype.valueToCode=function(e,t,n){if(isNaN(n))throw TypeError("Expecting valid order from block: "+e.type);var r=e.getInputTargetBlock(t);if(!r)return"";if(""===(t=this.blockToCode(r)))return"";if(!Array.isArray(t))throw TypeError("Expecting tuple from value block: "+r.type);if(e=t[0],t=t[1],isNaN(t))throw TypeError("Expecting valid order from value block: "+r.type);if(!e)return"";r=!1;var i=Math.floor(n),o=Math.floor(t);if(i<=o&&(i!=o||0!=i&&99!=i))for(r=!0,i=0;i<this.ORDER_OVERRIDES.length;i++)if(this.ORDER_OVERRIDES[i][0]==n&&this.ORDER_OVERRIDES[i][1]==t){r=!1;break}return r&&(e="("+e+")"),e},e.Generator.prototype.statementToCode=function(e,t){if(e=e.getInputTargetBlock(t),"string"!=typeof(t=this.blockToCode(e)))throw TypeError("Expecting code from statement block: "+(e&&e.type));return t&&(t=this.prefixLines(t,this.INDENT)),t},e.Generator.prototype.addLoopTrap=function(e,t){return this.INFINITE_LOOP_TRAP&&(e=this.prefixLines(this.injectId(this.INFINITE_LOOP_TRAP,t),this.INDENT)+e),this.STATEMENT_SUFFIX&&!t.suppressPrefixSuffix&&(e=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,t),this.INDENT)+e),this.STATEMENT_PREFIX&&!t.suppressPrefixSuffix&&(e+=this.prefixLines(this.injectId(this.STATEMENT_PREFIX,t),this.INDENT)),e},e.Generator.prototype.injectId=function(e,t){return t=t.id.replace(/\$/g,"$$$$"),e.replace(/%1/g,"'"+t+"'")},e.Generator.prototype.RESERVED_WORDS_="",e.Generator.prototype.addReservedWords=function(e){this.RESERVED_WORDS_+=e+","},e.Generator.prototype.FUNCTION_NAME_PLACEHOLDER_="{leCUI8hutHZI4480Dc}",Object.defineProperty(e.Generator.prototype,"variableDB_",{get:function(){return e.utils.deprecation.warn("variableDB_","May 2021","May 2026","nameDB_"),this.nameDB_},set:function(t){e.utils.deprecation.warn("variableDB_","May 2021","May 2026","nameDB_"),this.nameDB_=t}}),e.Generator.prototype.provideFunction_=function(t,n){if(!this.definitions_[t]){var r,i=this.nameDB_.getDistinctName(t,e.PROCEDURE_CATEGORY_NAME);for(this.functionNames_[t]=i,n=n.join("\n").replace(this.FUNCTION_NAME_PLACEHOLDER_REGEXP_,i);r!=n;)r=n,n=n.replace(/^(( {2})*) {2}/gm,"$1\0");n=n.replace(/\0/g,this.INDENT),this.definitions_[t]=n}return this.functionNames_[t]},e.Generator.prototype.init=function(e){this.definitions_=Object.create(null),this.functionNames_=Object.create(null)},e.Generator.prototype.scrub_=function(e,t,n){return t},e.Generator.prototype.finish=function(e){return delete this.definitions_,delete this.functionNames_,e},e.Generator.prototype.scrubNakedValue=function(e){return e},e.IToolboxItem=function(){},e.ISelectableToolboxItem=function(){},e.ICollapsibleToolboxItem=function(){},e.ToolboxItem=function(t,n,r){this.id_=t.toolboxitemid||e.utils.IdGenerator.getNextUniqueId(),this.level_=(this.parent_=r||null)?this.parent_.getLevel()+1:0,this.toolboxItemDef_=t,this.parentToolbox_=n,this.workspace_=this.parentToolbox_.getWorkspace()},e.ToolboxItem.prototype.init=function(){},e.ToolboxItem.prototype.getDiv=function(){return null},e.ToolboxItem.prototype.getId=function(){return this.id_},e.ToolboxItem.prototype.getParent=function(){return null},e.ToolboxItem.prototype.getLevel=function(){return this.level_},e.ToolboxItem.prototype.isSelectable=function(){return!1},e.ToolboxItem.prototype.isCollapsible=function(){return!1},e.ToolboxItem.prototype.dispose=function(){},e.ToolboxCategory=function(t,n,r){e.ToolboxCategory.superClass_.constructor.call(this,t,n,r),this.name_=e.utils.replaceMessageReferences(t.name),this.colour_=this.getColour_(t),this.labelDom_=this.iconDom_=this.rowContents_=this.rowDiv_=this.htmlDiv_=null,this.cssConfig_=this.makeDefaultCssConfig_(),e.utils.object.mixin(this.cssConfig_,t.cssconfig||t.cssConfig),this.isDisabled_=this.isHidden_=!1,this.flyoutItems_=[],this.parseContents_(t)},e.utils.object.inherits(e.ToolboxCategory,e.ToolboxItem),e.ToolboxCategory.registrationName="category",e.ToolboxCategory.nestedPadding=19,e.ToolboxCategory.borderWidth=8,e.ToolboxCategory.defaultBackgroundColour="#57e",e.ToolboxCategory.prototype.makeDefaultCssConfig_=function(){return{container:"blocklyToolboxCategory",row:"blocklyTreeRow",rowcontentcontainer:"blocklyTreeRowContentContainer",icon:"blocklyTreeIcon",label:"blocklyTreeLabel",contents:"blocklyToolboxContents",selected:"blocklyTreeSelected",openicon:"blocklyTreeIconOpen",closedicon:"blocklyTreeIconClosed"}},e.ToolboxCategory.prototype.parseContents_=function(e){var t=e.contents;if(e.custom)this.flyoutItems_=e.custom;else if(t){e=0;for(var n;n=t[e];e++)this.flyoutItems_.push(n)}},e.ToolboxCategory.prototype.init=function(){this.createDom_(),"true"==this.toolboxItemDef_.hidden&&this.hide()},e.ToolboxCategory.prototype.createDom_=function(){return this.htmlDiv_=this.createContainer_(),e.utils.aria.setRole(this.htmlDiv_,e.utils.aria.Role.TREEITEM),e.utils.aria.setState(this.htmlDiv_,e.utils.aria.State.SELECTED,!1),e.utils.aria.setState(this.htmlDiv_,e.utils.aria.State.LEVEL,this.level_),this.rowDiv_=this.createRowContainer_(),this.rowDiv_.style.pointerEvents="auto",this.htmlDiv_.appendChild(this.rowDiv_),this.rowContents_=this.createRowContentsContainer_(),this.rowContents_.style.pointerEvents="none",this.rowDiv_.appendChild(this.rowContents_),this.iconDom_=this.createIconDom_(),e.utils.aria.setRole(this.iconDom_,e.utils.aria.Role.PRESENTATION),this.rowContents_.appendChild(this.iconDom_),this.labelDom_=this.createLabelDom_(this.name_),this.rowContents_.appendChild(this.labelDom_),e.utils.aria.setState(this.htmlDiv_,e.utils.aria.State.LABELLEDBY,this.labelDom_.getAttribute("id")),this.addColourBorder_(this.colour_),this.htmlDiv_},e.ToolboxCategory.prototype.createContainer_=function(){var t=document.createElement("div");return e.utils.dom.addClass(t,this.cssConfig_.container),t},e.ToolboxCategory.prototype.createRowContainer_=function(){var t=document.createElement("div");e.utils.dom.addClass(t,this.cssConfig_.row);var n=e.ToolboxCategory.nestedPadding*this.getLevel();return n=n.toString()+"px",this.workspace_.RTL?t.style.paddingRight=n:t.style.paddingLeft=n,t},e.ToolboxCategory.prototype.createRowContentsContainer_=function(){var t=document.createElement("div");return e.utils.dom.addClass(t,this.cssConfig_.rowcontentcontainer),t},e.ToolboxCategory.prototype.createIconDom_=function(){var t=document.createElement("span");return this.parentToolbox_.isHorizontal()||e.utils.dom.addClass(t,this.cssConfig_.icon),t.style.display="inline-block",t},e.ToolboxCategory.prototype.createLabelDom_=function(t){var n=document.createElement("span");return n.setAttribute("id",this.getId()+".label"),n.textContent=t,e.utils.dom.addClass(n,this.cssConfig_.label),n},e.ToolboxCategory.prototype.refreshTheme=function(){this.colour_=this.getColour_(this.toolboxItemDef_),this.addColourBorder_(this.colour_)},e.ToolboxCategory.prototype.addColourBorder_=function(t){t&&(t=e.ToolboxCategory.borderWidth+"px solid "+(t||"#ddd"),this.workspace_.RTL?this.rowDiv_.style.borderRight=t:this.rowDiv_.style.borderLeft=t)},e.ToolboxCategory.prototype.getColour_=function(e){var t=e.categorystyle||e.categoryStyle;return(e=e.colour)&&t?(console.warn('Toolbox category "'+this.name_+'" must not have both a style and a colour'),""):t?this.getColourfromStyle_(t):this.parseColour_(e)},e.ToolboxCategory.prototype.getColourfromStyle_=function(e){var t=this.workspace_.getTheme();if(e&&t){if((t=t.categoryStyles[e])&&t.colour)return this.parseColour_(t.colour);console.warn('Style "'+e+'" must exist and contain a colour value')}return""},e.ToolboxCategory.prototype.getClickTarget=function(){return this.rowDiv_},e.ToolboxCategory.prototype.parseColour_=function(t){if(null==(t=e.utils.replaceMessageReferences(t))||""===t)return"";var n=Number(t);return isNaN(n)?(n=e.utils.colour.parse(t))?n:(console.warn('Toolbox category "'+this.name_+'" has unrecognized colour attribute: '+t),""):e.hueToHex(n)},e.ToolboxCategory.prototype.openIcon_=function(t){t&&(e.utils.dom.removeClasses(t,this.cssConfig_.closedicon),e.utils.dom.addClass(t,this.cssConfig_.openicon))},e.ToolboxCategory.prototype.closeIcon_=function(t){t&&(e.utils.dom.removeClasses(t,this.cssConfig_.openicon),e.utils.dom.addClass(t,this.cssConfig_.closedicon))},e.ToolboxCategory.prototype.setVisible_=function(e){this.htmlDiv_.style.display=e?"block":"none",this.isHidden_=!e,this.parentToolbox_.getSelectedItem()==this&&this.parentToolbox_.clearSelection()},e.ToolboxCategory.prototype.hide=function(){this.setVisible_(!1)},e.ToolboxCategory.prototype.show=function(){this.setVisible_(!0)},e.ToolboxCategory.prototype.isVisible=function(){return!this.isHidden_&&this.allAncestorsExpanded_()},e.ToolboxCategory.prototype.allAncestorsExpanded_=function(){for(var e=this;e.getParent();)if(!(e=e.getParent()).isExpanded())return!1;return!0},e.ToolboxCategory.prototype.isSelectable=function(){return this.isVisible()&&!this.isDisabled_},e.ToolboxCategory.prototype.onClick=function(e){},e.ToolboxCategory.prototype.setSelected=function(t){if(t){var n=this.parseColour_(e.ToolboxCategory.defaultBackgroundColour);this.rowDiv_.style.backgroundColor=this.colour_||n,e.utils.dom.addClass(this.rowDiv_,this.cssConfig_.selected)}else this.rowDiv_.style.backgroundColor="",e.utils.dom.removeClass(this.rowDiv_,this.cssConfig_.selected);e.utils.aria.setState(this.htmlDiv_,e.utils.aria.State.SELECTED,t)},e.ToolboxCategory.prototype.setDisabled=function(e){this.isDisabled_=e,this.getDiv().setAttribute("disabled",e),e?this.getDiv().setAttribute("disabled","true"):this.getDiv().removeAttribute("disabled")},e.ToolboxCategory.prototype.getName=function(){return this.name_},e.ToolboxCategory.prototype.getParent=function(){return this.parent_},e.ToolboxCategory.prototype.getDiv=function(){return this.htmlDiv_},e.ToolboxCategory.prototype.getContents=function(){return this.flyoutItems_},e.ToolboxCategory.prototype.updateFlyoutContents=function(t){this.flyoutItems_=[],"string"==typeof t?this.toolboxItemDef_.custom=t:(delete this.toolboxItemDef_.custom,this.toolboxItemDef_.contents=e.utils.toolbox.convertFlyoutDefToJsonArray(t)),this.parseContents_(this.toolboxItemDef_)},e.ToolboxCategory.prototype.dispose=function(){e.utils.dom.removeNode(this.htmlDiv_)},e.Css.register([".blocklyTreeRow:not(.blocklyTreeSelected):hover {","background-color: rgba(255, 255, 255, 0.2);","}",'.blocklyToolboxDiv[layout="h"] .blocklyToolboxCategory {',"margin: 1px 5px 1px 0;","}",'.blocklyToolboxDiv[dir="RTL"][layout="h"] .blocklyToolboxCategory {',"margin: 1px 0 1px 5px;","}",".blocklyTreeRow {","height: 22px;","line-height: 22px;","margin-bottom: 3px;","padding-right: 8px;","white-space: nowrap;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeRow {',"margin-left: 8px;","padding-right: 0px","}",".blocklyTreeIcon {","background-image: url(<<<PATH>>>/sprites.png);","height: 16px;","vertical-align: middle;","visibility: hidden;","width: 16px;","}",".blocklyTreeIconClosed {","background-position: -32px -1px;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeIconClosed {',"background-position: 0 -1px;","}",".blocklyTreeSelected>.blocklyTreeIconClosed {","background-position: -32px -17px;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeSelected>.blocklyTreeIconClosed {',"background-position: 0 -17px;","}",".blocklyTreeIconOpen {","background-position: -16px -1px;","}",".blocklyTreeSelected>.blocklyTreeIconOpen {","background-position: -16px -17px;","}",".blocklyTreeLabel {","cursor: default;","font: 16px sans-serif;","padding: 0 3px;","vertical-align: middle;","}",".blocklyToolboxDelete .blocklyTreeLabel {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyTreeSelected .blocklyTreeLabel {","color: #fff;","}"]),e.registry.register(e.registry.Type.TOOLBOX_ITEM,e.ToolboxCategory.registrationName,e.ToolboxCategory),e.ToolboxSeparator=function(t,n){e.ToolboxSeparator.superClass_.constructor.call(this,t,n),this.cssConfig_={container:"blocklyTreeSeparator"},e.utils.object.mixin(this.cssConfig_,t.cssconfig||t.cssConfig)},e.utils.object.inherits(e.ToolboxSeparator,e.ToolboxItem),e.ToolboxSeparator.registrationName="sep",e.ToolboxSeparator.prototype.init=function(){this.createDom_()},e.ToolboxSeparator.prototype.createDom_=function(){var t=document.createElement("div");return e.utils.dom.addClass(t,this.cssConfig_.container),this.htmlDiv_=t},e.ToolboxSeparator.prototype.getDiv=function(){return this.htmlDiv_},e.ToolboxSeparator.prototype.dispose=function(){e.utils.dom.removeNode(this.htmlDiv_)},e.Css.register('.blocklyTreeSeparator {,border-bottom: solid #e5e5e5 1px;,height: 0;,margin: 5px 0;,},.blocklyToolboxDiv[layout="h"] .blocklyTreeSeparator {,border-right: solid #e5e5e5 1px;,border-bottom: none;,height: auto;,margin: 0 5px 0 5px;,padding: 5px 0;,width: 0;,}'.split(",")),e.registry.register(e.registry.Type.TOOLBOX_ITEM,e.ToolboxSeparator.registrationName,e.ToolboxSeparator),e.CollapsibleToolboxCategory=function(t,n,r){this.subcategoriesDiv_=null,this.expanded_=!1,this.toolboxItems_=[],e.CollapsibleToolboxCategory.superClass_.constructor.call(this,t,n,r)},e.utils.object.inherits(e.CollapsibleToolboxCategory,e.ToolboxCategory),e.CollapsibleToolboxCategory.registrationName="collapsibleCategory",e.CollapsibleToolboxCategory.prototype.makeDefaultCssConfig_=function(){var t=e.CollapsibleToolboxCategory.superClass_.makeDefaultCssConfig_.call(this);return t.contents="blocklyToolboxContents",t},e.CollapsibleToolboxCategory.prototype.parseContents_=function(t){var n=t.contents,r=!0;if(t.custom)this.flyoutItems_=t.custom;else if(n){t=0;for(var i;i=n[t];t++)!e.registry.hasItem(e.registry.Type.TOOLBOX_ITEM,i.kind)||i.kind.toLowerCase()==e.ToolboxSeparator.registrationName&&r?(this.flyoutItems_.push(i),r=!0):(this.createToolboxItem_(i),r=!1)}},e.CollapsibleToolboxCategory.prototype.createToolboxItem_=function(t){var n=t.kind;"CATEGORY"==n.toUpperCase()&&e.utils.toolbox.isCategoryCollapsible(t)&&(n=e.CollapsibleToolboxCategory.registrationName),t=new(e.registry.getClass(e.registry.Type.TOOLBOX_ITEM,n))(t,this.parentToolbox_,this),this.toolboxItems_.push(t)},e.CollapsibleToolboxCategory.prototype.init=function(){e.CollapsibleToolboxCategory.superClass_.init.call(this),this.setExpanded("true"==this.toolboxItemDef_.expanded||this.toolboxItemDef_.expanded)},e.CollapsibleToolboxCategory.prototype.createDom_=function(){e.CollapsibleToolboxCategory.superClass_.createDom_.call(this);var t=this.getChildToolboxItems();return this.subcategoriesDiv_=this.createSubCategoriesDom_(t),e.utils.aria.setRole(this.subcategoriesDiv_,e.utils.aria.Role.GROUP),this.htmlDiv_.appendChild(this.subcategoriesDiv_),this.htmlDiv_},e.CollapsibleToolboxCategory.prototype.createIconDom_=function(){var t=document.createElement("span");return this.parentToolbox_.isHorizontal()||(e.utils.dom.addClass(t,this.cssConfig_.icon),t.style.visibility="visible"),t.style.display="inline-block",t},e.CollapsibleToolboxCategory.prototype.createSubCategoriesDom_=function(t){var n=document.createElement("div");e.utils.dom.addClass(n,this.cssConfig_.contents);for(var r=0;r<t.length;r++){var i=t[r];i.init();var o=i.getDiv();n.appendChild(o),i.getClickTarget&&i.getClickTarget().setAttribute("id",i.getId())}return n},e.CollapsibleToolboxCategory.prototype.setExpanded=function(t){this.expanded_!=t&&((this.expanded_=t)?(this.subcategoriesDiv_.style.display="block",this.openIcon_(this.iconDom_)):(this.subcategoriesDiv_.style.display="none",this.closeIcon_(this.iconDom_)),e.utils.aria.setState(this.htmlDiv_,e.utils.aria.State.EXPANDED,t),this.parentToolbox_.handleToolboxItemResize())},e.CollapsibleToolboxCategory.prototype.setVisible_=function(e){this.htmlDiv_.style.display=e?"block":"none";for(var t,n=0;t=this.getChildToolboxItems()[n];n++)t.setVisible_(e);this.isHidden_=!e,this.parentToolbox_.getSelectedItem()==this&&this.parentToolbox_.clearSelection()},e.CollapsibleToolboxCategory.prototype.isExpanded=function(){return this.expanded_},e.CollapsibleToolboxCategory.prototype.isCollapsible=function(){return!0},e.CollapsibleToolboxCategory.prototype.onClick=function(e){this.toggleExpanded()},e.CollapsibleToolboxCategory.prototype.toggleExpanded=function(){this.setExpanded(!this.expanded_)},e.CollapsibleToolboxCategory.prototype.getDiv=function(){return this.htmlDiv_},e.CollapsibleToolboxCategory.prototype.getChildToolboxItems=function(){return this.toolboxItems_},e.registry.register(e.registry.Type.TOOLBOX_ITEM,e.CollapsibleToolboxCategory.registrationName,e.CollapsibleToolboxCategory),e.Events.ToolboxItemSelect=function(t,n,r){e.Events.ToolboxItemSelect.superClass_.constructor.call(this,r),this.oldItem=t,this.newItem=n},e.utils.object.inherits(e.Events.ToolboxItemSelect,e.Events.UiBase),e.Events.ToolboxItemSelect.prototype.type=e.Events.TOOLBOX_ITEM_SELECT,e.Events.ToolboxItemSelect.prototype.toJson=function(){var t=e.Events.ToolboxItemSelect.superClass_.toJson.call(this);return t.oldItem=this.oldItem,t.newItem=this.newItem,t},e.Events.ToolboxItemSelect.prototype.fromJson=function(t){e.Events.ToolboxItemSelect.superClass_.fromJson.call(this,t),this.oldItem=t.oldItem,this.newItem=t.newItem},e.registry.register(e.registry.Type.EVENT,e.Events.TOOLBOX_ITEM_SELECT,e.Events.ToolboxItemSelect),e.IAutoHideable=function(){},e.IStyleable=function(){},e.IToolbox=function(){},e.Toolbox=function(t){e.Toolbox.superClass_.constructor.call(this),this.workspace_=t,this.id="toolbox",this.toolboxDef_=t.options.languageTree||{contents:[]},this.horizontalLayout_=t.options.horizontalLayout,this.contentsDiv_=this.HtmlDiv=null,this.isVisible_=!1,this.contents_=[],this.height_=this.width_=0,this.RTL=t.options.RTL,this.flyout_=null,this.contentMap_=Object.create(null),this.toolboxPosition=t.options.toolboxPosition,this.previouslySelectedItem_=this.selectedItem_=null,this.boundEvents_=[]},e.utils.object.inherits(e.Toolbox,e.DeleteArea),e.Toolbox.prototype.onShortcut=function(e){return!1},e.Toolbox.prototype.init=function(){var t=this.workspace_,n=t.getParentSvg();this.flyout_=this.createFlyout_(),this.HtmlDiv=this.createDom_(this.workspace_),e.utils.dom.insertAfter(this.flyout_.createDom("svg"),n),this.setVisible(!0),this.flyout_.init(t),this.render(this.toolboxDef_),(t=t.getThemeManager()).subscribe(this.HtmlDiv,"toolboxBackgroundColour","background-color"),t.subscribe(this.HtmlDiv,"toolboxForegroundColour","color"),this.workspace_.getComponentManager().addComponent({component:this,weight:1,capabilities:[e.ComponentManager.Capability.AUTOHIDEABLE,e.ComponentManager.Capability.DELETE_AREA,e.ComponentManager.Capability.DRAG_TARGET]})},e.Toolbox.prototype.createDom_=function(t){t=t.getParentSvg();var n=this.createContainer_();return this.contentsDiv_=this.createContentsContainer_(),this.contentsDiv_.tabIndex=0,e.utils.aria.setRole(this.contentsDiv_,e.utils.aria.Role.TREE),n.appendChild(this.contentsDiv_),t.parentNode.insertBefore(n,t),this.attachEvents_(n,this.contentsDiv_),n},e.Toolbox.prototype.createContainer_=function(){var t=document.createElement("div");return t.setAttribute("layout",this.isHorizontal()?"h":"v"),e.utils.dom.addClass(t,"blocklyToolboxDiv"),e.utils.dom.addClass(t,"blocklyNonSelectable"),t.setAttribute("dir",this.RTL?"RTL":"LTR"),t},e.Toolbox.prototype.createContentsContainer_=function(){var t=document.createElement("div");return e.utils.dom.addClass(t,"blocklyToolboxContents"),this.isHorizontal()&&(t.style.flexDirection="row"),t},e.Toolbox.prototype.attachEvents_=function(t,n){t=e.browserEvents.conditionalBind(t,"click",this,this.onClick_,!1,!0),this.boundEvents_.push(t),n=e.browserEvents.conditionalBind(n,"keydown",this,this.onKeyDown_,!1,!0),this.boundEvents_.push(n)},e.Toolbox.prototype.onClick_=function(t){if(e.utils.isRightButton(t)||t.target==this.HtmlDiv)e.hideChaff(!1);else{var n=t.target.getAttribute("id");n&&(n=this.getToolboxItemById(n)).isSelectable()&&(this.setSelectedItem(n),n.onClick(t)),e.hideChaff(!0)}e.Touch.clearTouchIdentifier()},e.Toolbox.prototype.onKeyDown_=function(t){var n=!1;switch(t.keyCode){case e.utils.KeyCodes.DOWN:n=this.selectNext_();break;case e.utils.KeyCodes.UP:n=this.selectPrevious_();break;case e.utils.KeyCodes.LEFT:n=this.selectParent_();break;case e.utils.KeyCodes.RIGHT:n=this.selectChild_();break;case e.utils.KeyCodes.ENTER:case e.utils.KeyCodes.SPACE:this.selectedItem_&&this.selectedItem_.isCollapsible()&&(this.selectedItem_.toggleExpanded(),n=!0);break;default:n=!1}!n&&this.selectedItem_&&this.selectedItem_.onKeyDown&&(n=this.selectedItem_.onKeyDown(t)),n&&t.preventDefault()},e.Toolbox.prototype.createFlyout_=function(){var t=this.workspace_,n=new e.Options({parentWorkspace:t,rtl:t.RTL,oneBasedIndex:t.options.oneBasedIndex,horizontalLayout:t.horizontalLayout,renderer:t.options.renderer,rendererOverrides:t.options.rendererOverrides,move:{scrollbars:!0}});return n.toolboxPosition=t.options.toolboxPosition,new(t.horizontalLayout?e.registry.getClassFromOptions(e.registry.Type.FLYOUTS_HORIZONTAL_TOOLBOX,t.options,!0):e.registry.getClassFromOptions(e.registry.Type.FLYOUTS_VERTICAL_TOOLBOX,t.options,!0))(n)},e.Toolbox.prototype.render=function(e){this.toolboxDef_=e;for(var t=0;t<this.contents_.length;t++){var n=this.contents_[t];n&&n.dispose()}this.contents_=[],this.contentMap_=Object.create(null),this.renderContents_(e.contents),this.position(),this.handleToolboxItemResize()},e.Toolbox.prototype.renderContents_=function(e){for(var t,n=document.createDocumentFragment(),r=0;t=e[r];r++)this.createToolboxItem_(t,n);this.contentsDiv_.appendChild(n)},e.Toolbox.prototype.createToolboxItem_=function(t,n){var r=t.kind;"CATEGORY"==r.toUpperCase()&&e.utils.toolbox.isCategoryCollapsible(t)&&(r=e.CollapsibleToolboxCategory.registrationName),(r=e.registry.getClass(e.registry.Type.TOOLBOX_ITEM,r.toLowerCase()))&&(t=new r(t,this),this.addToolboxItem_(t),t.init(),(r=t.getDiv())&&n.appendChild(r),t.getClickTarget&&t.getClickTarget().setAttribute("id",t.getId()))},e.Toolbox.prototype.addToolboxItem_=function(e){if(this.contents_.push(e),this.contentMap_[e.getId()]=e,e.isCollapsible())for(var t,n=0;t=e.getChildToolboxItems()[n];n++)this.addToolboxItem_(t)},e.Toolbox.prototype.getToolboxItems=function(){return this.contents_},e.Toolbox.prototype.addStyle=function(t){e.utils.dom.addClass(this.HtmlDiv,t)},e.Toolbox.prototype.removeStyle=function(t){e.utils.dom.removeClass(this.HtmlDiv,t)},e.Toolbox.prototype.getClientRect=function(){if(!this.HtmlDiv||!this.isVisible_)return null;var t=this.HtmlDiv.getBoundingClientRect(),n=t.top,r=n+t.height,i=t.left;return t=i+t.width,this.toolboxPosition==e.utils.toolbox.Position.TOP?new e.utils.Rect(-1e7,r,-1e7,1e7):this.toolboxPosition==e.utils.toolbox.Position.BOTTOM?new e.utils.Rect(n,1e7,-1e7,1e7):this.toolboxPosition==e.utils.toolbox.Position.LEFT?new e.utils.Rect(-1e7,1e7,-1e7,t):new e.utils.Rect(-1e7,1e7,i,1e7)},e.Toolbox.prototype.wouldDelete=function(t,n){return t instanceof e.BlockSvg?this.updateWouldDelete_(!t.getParent()&&t.isDeletable()):this.updateWouldDelete_(t.isDeletable()),this.wouldDelete_},e.Toolbox.prototype.onDragEnter=function(e){this.updateCursorDeleteStyle_(!0)},e.Toolbox.prototype.onDragExit=function(e){this.updateCursorDeleteStyle_(!1)},e.Toolbox.prototype.onDrop=function(e){this.updateCursorDeleteStyle_(!1)},e.Toolbox.prototype.updateWouldDelete_=function(e){e!==this.wouldDelete_&&(this.updateCursorDeleteStyle_(!1),this.wouldDelete_=e,this.updateCursorDeleteStyle_(!0))},e.Toolbox.prototype.updateCursorDeleteStyle_=function(e){var t=this.wouldDelete_?"blocklyToolboxDelete":"blocklyToolboxGrab";e?this.addStyle(t):this.removeStyle(t)},e.Toolbox.prototype.getToolboxItemById=function(e){return this.contentMap_[e]||null},e.Toolbox.prototype.getWidth=function(){return this.width_},e.Toolbox.prototype.getHeight=function(){return this.height_},e.Toolbox.prototype.getFlyout=function(){return this.flyout_},e.Toolbox.prototype.getWorkspace=function(){return this.workspace_},e.Toolbox.prototype.getSelectedItem=function(){return this.selectedItem_},e.Toolbox.prototype.getPreviouslySelectedItem=function(){return this.previouslySelectedItem_},e.Toolbox.prototype.isHorizontal=function(){return this.horizontalLayout_},e.Toolbox.prototype.position=function(){var t=this.workspace_.getMetrics(),n=this.HtmlDiv;n&&(this.horizontalLayout_?(n.style.left="0",n.style.height="auto",n.style.width="100%",this.height_=n.offsetHeight,this.width_=t.viewWidth,this.toolboxPosition==e.utils.toolbox.Position.TOP?n.style.top="0":n.style.bottom="0"):(this.toolboxPosition==e.utils.toolbox.Position.RIGHT?n.style.right="0":n.style.left="0",n.style.height="100%",this.width_=n.offsetWidth,this.height_=t.viewHeight),this.flyout_.position())},e.Toolbox.prototype.handleToolboxItemResize=function(){var t=this.workspace_,n=this.HtmlDiv.getBoundingClientRect();t.translate(this.toolboxPosition==e.utils.toolbox.Position.LEFT?t.scrollX+n.width:t.scrollX,this.toolboxPosition==e.utils.toolbox.Position.TOP?t.scrollY+n.height:t.scrollY),e.svgResize(t)},e.Toolbox.prototype.clearSelection=function(){this.setSelectedItem(null)},e.Toolbox.prototype.refreshTheme=function(){for(var e=0;e<this.contents_.length;e++){var t=this.contents_[e];t.refreshTheme&&t.refreshTheme()}},e.Toolbox.prototype.refreshSelection=function(){this.selectedItem_&&this.selectedItem_.isSelectable()&&this.selectedItem_.getContents().length&&this.flyout_.show(this.selectedItem_.getContents())},e.Toolbox.prototype.setVisible=function(e){this.isVisible_!==e&&(this.HtmlDiv.style.display=e?"block":"none",this.isVisible_=e,this.workspace_.recordDragTargets())},e.Toolbox.prototype.autoHide=function(e){!e&&this.flyout_&&this.flyout_.autoClose&&this.clearSelection()},e.Toolbox.prototype.setSelectedItem=function(e){var t=this.selectedItem_;!e&&!t||e&&!e.isSelectable()||(this.shouldDeselectItem_(t,e)&&null!=t&&this.deselectItem_(t),this.shouldSelectItem_(t,e)&&null!=e&&this.selectItem_(t,e),this.updateFlyout_(t,e),this.fireSelectEvent_(t,e))},e.Toolbox.prototype.shouldDeselectItem_=function(e,t){return null!=e&&(!e.isCollapsible()||e!=t)},e.Toolbox.prototype.shouldSelectItem_=function(e,t){return null!=t&&t!=e},e.Toolbox.prototype.deselectItem_=function(t){this.selectedItem_=null,this.previouslySelectedItem_=t,t.setSelected(!1),e.utils.aria.setState(this.contentsDiv_,e.utils.aria.State.ACTIVEDESCENDANT,"")},e.Toolbox.prototype.selectItem_=function(t,n){this.selectedItem_=n,this.previouslySelectedItem_=t,n.setSelected(!0),e.utils.aria.setState(this.contentsDiv_,e.utils.aria.State.ACTIVEDESCENDANT,n.getId())},e.Toolbox.prototype.selectItemByPosition=function(e){-1<e&&e<this.contents_.length&&(e=this.contents_[e]).isSelectable()&&this.setSelectedItem(e)},e.Toolbox.prototype.updateFlyout_=function(e,t){(e!=t||t.isCollapsible())&&t&&t.getContents().length?(this.flyout_.show(t.getContents()),this.flyout_.scrollToStart()):this.flyout_.hide()},e.Toolbox.prototype.fireSelectEvent_=function(t,n){var r=t&&t.getName(),i=n&&n.getName();t==n&&(i=null),t=new(e.Events.get(e.Events.TOOLBOX_ITEM_SELECT))(r,i,this.workspace_.id),e.Events.fire(t)},e.Toolbox.prototype.selectParent_=function(){return!!this.selectedItem_&&(this.selectedItem_.isCollapsible()&&this.selectedItem_.isExpanded()?(this.selectedItem_.setExpanded(!1),!0):!(!this.selectedItem_.getParent()||!this.selectedItem_.getParent().isSelectable())&&(this.setSelectedItem(this.selectedItem_.getParent()),!0))},e.Toolbox.prototype.selectChild_=function(){if(!this.selectedItem_||!this.selectedItem_.isCollapsible())return!1;var e=this.selectedItem_;return e.isExpanded()?this.selectNext_():e.setExpanded(!0),!0},e.Toolbox.prototype.selectNext_=function(){if(!this.selectedItem_)return!1;var e=this.contents_.indexOf(this.selectedItem_)+1;if(-1<e&&e<this.contents_.length){for(var t=this.contents_[e];t&&!t.isSelectable();)t=this.contents_[++e];if(t&&t.isSelectable())return this.setSelectedItem(t),!0}return!1},e.Toolbox.prototype.selectPrevious_=function(){if(!this.selectedItem_)return!1;var e=this.contents_.indexOf(this.selectedItem_)-1;if(-1<e&&e<this.contents_.length){for(var t=this.contents_[e];t&&!t.isSelectable();)t=this.contents_[--e];if(t&&t.isSelectable())return this.setSelectedItem(t),!0}return!1},e.Toolbox.prototype.dispose=function(){this.workspace_.getComponentManager().removeComponent("toolbox"),this.flyout_.dispose();for(var t=0;t<this.contents_.length;t++)this.contents_[t].dispose();for(t=0;t<this.boundEvents_.length;t++)e.browserEvents.unbind(this.boundEvents_[t]);this.boundEvents_=[],this.contents_=[],this.workspace_.getThemeManager().unsubscribe(this.HtmlDiv),e.utils.dom.removeNode(this.HtmlDiv)},e.Css.register([".blocklyToolboxDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyToolboxGrab {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyToolboxDiv {","background-color: #ddd;","overflow-x: visible;","overflow-y: auto;","padding: 4px 0 4px 0;","position: absolute;","z-index: 70;","-webkit-tap-highlight-color: transparent;","}",".blocklyToolboxContents {","display: flex;","flex-wrap: wrap;","flex-direction: column;","}",".blocklyToolboxContents:focus {","outline: none;","}"]),e.registry.register(e.registry.Type.TOOLBOX,e.registry.DEFAULT,e.Toolbox),e.Events.TrashcanOpen=function(t,n){e.Events.TrashcanOpen.superClass_.constructor.call(this,n),this.isOpen=t},e.utils.object.inherits(e.Events.TrashcanOpen,e.Events.UiBase),e.Events.TrashcanOpen.prototype.type=e.Events.TRASHCAN_OPEN,e.Events.TrashcanOpen.prototype.toJson=function(){var t=e.Events.TrashcanOpen.superClass_.toJson.call(this);return t.isOpen=this.isOpen,t},e.Events.TrashcanOpen.prototype.fromJson=function(t){e.Events.TrashcanOpen.superClass_.fromJson.call(this,t),this.isOpen=t.isOpen},e.registry.register(e.registry.Type.EVENT,e.Events.TRASHCAN_OPEN,e.Events.TrashcanOpen),e.IPositionable=function(){},e.uiPosition={},e.uiPosition.verticalPosition={TOP:0,BOTTOM:1},e.uiPosition.horizontalPosition={LEFT:0,RIGHT:1},e.uiPosition.bumpDirection={UP:0,DOWN:1},e.uiPosition.getStartPositionRect=function(t,n,r,i,o,s){var a=s.scrollbar&&s.scrollbar.canScrollVertically();return t.horizontal===e.uiPosition.horizontalPosition.LEFT?(r=o.absoluteMetrics.left+r,a&&s.RTL&&(r+=e.Scrollbar.scrollbarThickness)):(r=o.absoluteMetrics.left+o.viewMetrics.width-n.width-r,a&&!s.RTL&&(r-=e.Scrollbar.scrollbarThickness)),t.vertical===e.uiPosition.verticalPosition.TOP?t=o.absoluteMetrics.top+i:(t=o.absoluteMetrics.top+o.viewMetrics.height-n.height-i,s.scrollbar&&s.scrollbar.canScrollHorizontally()&&(t-=e.Scrollbar.scrollbarThickness)),new e.utils.Rect(t,t+n.height,r,r+n.width)},e.uiPosition.getCornerOppositeToolbox=function(t,n){return{horizontal:n.toolboxMetrics.position===e.utils.toolbox.Position.LEFT||t.horizontalLayout&&!t.RTL?e.uiPosition.horizontalPosition.RIGHT:e.uiPosition.horizontalPosition.LEFT,vertical:n.toolboxMetrics.position===e.utils.toolbox.Position.BOTTOM?e.uiPosition.verticalPosition.TOP:e.uiPosition.verticalPosition.BOTTOM}},e.uiPosition.bumpPositionRect=function(t,n,r,i){for(var o,s=t.left,a=t.right-t.left,l=t.bottom-t.top,c=0;o=i[c];c++)t.intersects(o)&&(t=r===e.uiPosition.bumpDirection.UP?o.top-l-n:o.bottom+n,t=new e.utils.Rect(t,t+l,s,s+a),c=-1);return t},e.Trashcan=function(t){e.Trashcan.superClass_.constructor.call(this),this.workspace_=t,this.id="trashcan",this.contents_=[],this.flyout=null,0>=this.workspace_.options.maxTrashcanContents||(t=new e.Options({scrollbars:!0,parentWorkspace:this.workspace_,rtl:this.workspace_.RTL,oneBasedIndex:this.workspace_.options.oneBasedIndex,renderer:this.workspace_.options.renderer,rendererOverrides:this.workspace_.options.rendererOverrides,move:{scrollbars:!0}}),this.workspace_.horizontalLayout?(t.toolboxPosition=this.workspace_.toolboxPosition==e.utils.toolbox.Position.TOP?e.utils.toolbox.Position.BOTTOM:e.utils.toolbox.Position.TOP,this.flyout=new(e.registry.getClassFromOptions(e.registry.Type.FLYOUTS_HORIZONTAL_TOOLBOX,this.workspace_.options,!0))(t)):(t.toolboxPosition=this.workspace_.toolboxPosition==e.utils.toolbox.Position.RIGHT?e.utils.toolbox.Position.LEFT:e.utils.toolbox.Position.RIGHT,this.flyout=new(e.registry.getClassFromOptions(e.registry.Type.FLYOUTS_VERTICAL_TOOLBOX,this.workspace_.options,!0))(t)),this.workspace_.addChangeListener(this.onDelete_.bind(this)))},e.utils.object.inherits(e.Trashcan,e.DeleteArea),e.Trashcan.prototype.WIDTH_=47,e.Trashcan.prototype.BODY_HEIGHT_=44,e.Trashcan.prototype.LID_HEIGHT_=16,e.Trashcan.prototype.MARGIN_VERTICAL_=20,e.Trashcan.prototype.MARGIN_HORIZONTAL_=20,e.Trashcan.prototype.MARGIN_HOTSPOT_=10,e.Trashcan.prototype.SPRITE_LEFT_=0,e.Trashcan.prototype.SPRITE_TOP_=32,e.Trashcan.prototype.HAS_BLOCKS_LID_ANGLE_=.1,e.Trashcan.ANIMATION_LENGTH_=80,e.Trashcan.ANIMATION_FRAMES_=4,e.Trashcan.OPACITY_MIN_=.4,e.Trashcan.OPACITY_MAX_=.8,e.Trashcan.MAX_LID_ANGLE_=45,e.Trashcan.prototype.isLidOpen=!1,e.Trashcan.prototype.minOpenness_=0,e.Trashcan.prototype.svgGroup_=null,e.Trashcan.prototype.svgLid_=null,e.Trashcan.prototype.lidTask_=0,e.Trashcan.prototype.lidOpen_=0,e.Trashcan.prototype.left_=0,e.Trashcan.prototype.top_=0,e.Trashcan.prototype.initialized_=!1,e.Trashcan.prototype.createDom=function(){this.svgGroup_=e.utils.dom.createSvgElement(e.utils.Svg.G,{class:"blocklyTrash"},null);var t=String(Math.random()).substring(2),n=e.utils.dom.createSvgElement(e.utils.Svg.CLIPPATH,{id:"blocklyTrashBodyClipPath"+t},this.svgGroup_);e.utils.dom.createSvgElement(e.utils.Svg.RECT,{width:this.WIDTH_,height:this.BODY_HEIGHT_,y:this.LID_HEIGHT_},n);var r=e.utils.dom.createSvgElement(e.utils.Svg.IMAGE,{width:e.SPRITE.width,x:-this.SPRITE_LEFT_,height:e.SPRITE.height,y:-this.SPRITE_TOP_,"clip-path":"url(#blocklyTrashBodyClipPath"+t+")"},this.svgGroup_);return r.setAttributeNS(e.utils.dom.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+e.SPRITE.url),n=e.utils.dom.createSvgElement(e.utils.Svg.CLIPPATH,{id:"blocklyTrashLidClipPath"+t},this.svgGroup_),e.utils.dom.createSvgElement(e.utils.Svg.RECT,{width:this.WIDTH_,height:this.LID_HEIGHT_},n),this.svgLid_=e.utils.dom.createSvgElement(e.utils.Svg.IMAGE,{width:e.SPRITE.width,x:-this.SPRITE_LEFT_,height:e.SPRITE.height,y:-this.SPRITE_TOP_,"clip-path":"url(#blocklyTrashLidClipPath"+t+")"},this.svgGroup_),this.svgLid_.setAttributeNS(e.utils.dom.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+e.SPRITE.url),e.browserEvents.bind(this.svgGroup_,"mousedown",this,this.blockMouseDownWhenOpenable_),e.browserEvents.bind(this.svgGroup_,"mouseup",this,this.click),e.browserEvents.bind(r,"mouseover",this,this.mouseOver_),e.browserEvents.bind(r,"mouseout",this,this.mouseOut_),this.animateLid_(),this.svgGroup_},e.Trashcan.prototype.init=function(){0<this.workspace_.options.maxTrashcanContents&&(e.utils.dom.insertAfter(this.flyout.createDom(e.utils.Svg.SVG),this.workspace_.getParentSvg()),this.flyout.init(this.workspace_)),this.workspace_.getComponentManager().addComponent({component:this,weight:1,capabilities:[e.ComponentManager.Capability.AUTOHIDEABLE,e.ComponentManager.Capability.DELETE_AREA,e.ComponentManager.Capability.DRAG_TARGET,e.ComponentManager.Capability.POSITIONABLE]}),this.initialized_=!0,this.setLidOpen(!1)},e.Trashcan.prototype.dispose=function(){this.workspace_.getComponentManager().removeComponent("trashcan"),this.svgGroup_&&(e.utils.dom.removeNode(this.svgGroup_),this.svgGroup_=null),this.workspace_=this.svgLid_=null,clearTimeout(this.lidTask_)},e.Trashcan.prototype.hasContents_=function(){return!!this.contents_.length},e.Trashcan.prototype.contentsIsOpen=function(){return this.flyout.isVisible()},e.Trashcan.prototype.openFlyout=function(){if(!this.contentsIsOpen()){var t=this.contents_.map(e.Xml.textToDom);this.flyout.show(t),this.fireUiEvent_(!0)}},e.Trashcan.prototype.closeFlyout=function(){this.contentsIsOpen()&&(this.flyout.hide(),this.fireUiEvent_(!1))},e.Trashcan.prototype.autoHide=function(e){!e&&this.flyout&&this.closeFlyout()},e.Trashcan.prototype.emptyContents=function(){this.hasContents_()&&(this.contents_.length=0,this.setMinOpenness_(0),this.closeFlyout())},e.Trashcan.prototype.position=function(t,n){if(this.initialized_){var r=e.uiPosition.getCornerOppositeToolbox(this.workspace_,t);t=e.uiPosition.getStartPositionRect(r,new e.utils.Size(this.WIDTH_,this.BODY_HEIGHT_+this.LID_HEIGHT_),this.MARGIN_HORIZONTAL_,this.MARGIN_VERTICAL_,t,this.workspace_),n=e.uiPosition.bumpPositionRect(t,this.MARGIN_VERTICAL_,r.vertical===e.uiPosition.verticalPosition.TOP?e.uiPosition.bumpDirection.DOWN:e.uiPosition.bumpDirection.UP,n),this.top_=n.top,this.left_=n.left,this.svgGroup_.setAttribute("transform","translate("+this.left_+","+this.top_+")")}},e.Trashcan.prototype.getBoundingRectangle=function(){return new e.utils.Rect(this.top_,this.top_+this.BODY_HEIGHT_+this.LID_HEIGHT_,this.left_,this.left_+this.WIDTH_)},e.Trashcan.prototype.getClientRect=function(){if(!this.svgGroup_)return null;var t=this.svgGroup_.getBoundingClientRect(),n=t.top+this.SPRITE_TOP_-this.MARGIN_HOTSPOT_;return t=t.left+this.SPRITE_LEFT_-this.MARGIN_HOTSPOT_,new e.utils.Rect(n,n+this.LID_HEIGHT_+this.BODY_HEIGHT_+2*this.MARGIN_HOTSPOT_,t,t+this.WIDTH_+2*this.MARGIN_HOTSPOT_)},e.Trashcan.prototype.onDragOver=function(e){this.setLidOpen(this.wouldDelete_)},e.Trashcan.prototype.onDragExit=function(e){this.setLidOpen(!1)},e.Trashcan.prototype.onDrop=function(e){setTimeout(this.setLidOpen.bind(this,!1),100)},e.Trashcan.prototype.setLidOpen=function(e){this.isLidOpen!=e&&(clearTimeout(this.lidTask_),this.isLidOpen=e,this.animateLid_())},e.Trashcan.prototype.animateLid_=function(){var t=e.Trashcan.ANIMATION_FRAMES_,n=1/(t+1);this.lidOpen_+=this.isLidOpen?n:-n,this.lidOpen_=Math.min(Math.max(this.lidOpen_,this.minOpenness_),1),this.setLidAngle_(this.lidOpen_*e.Trashcan.MAX_LID_ANGLE_),n=e.Trashcan.OPACITY_MIN_,this.svgGroup_.style.opacity=n+this.lidOpen_*(e.Trashcan.OPACITY_MAX_-n),this.lidOpen_>this.minOpenness_&&1>this.lidOpen_&&(this.lidTask_=setTimeout(this.animateLid_.bind(this),e.Trashcan.ANIMATION_LENGTH_/t))},e.Trashcan.prototype.setLidAngle_=function(t){var n=this.workspace_.toolboxPosition==e.utils.toolbox.Position.RIGHT||this.workspace_.horizontalLayout&&this.workspace_.RTL;this.svgLid_.setAttribute("transform","rotate("+(n?-t:t)+","+(n?4:this.WIDTH_-4)+","+(this.LID_HEIGHT_-2)+")")},e.Trashcan.prototype.setMinOpenness_=function(t){this.minOpenness_=t,this.isLidOpen||this.setLidAngle_(t*e.Trashcan.MAX_LID_ANGLE_)},e.Trashcan.prototype.closeLid=function(){this.setLidOpen(!1)},e.Trashcan.prototype.click=function(){this.hasContents_()&&this.openFlyout()},e.Trashcan.prototype.fireUiEvent_=function(t){t=new(e.Events.get(e.Events.TRASHCAN_OPEN))(t,this.workspace_.id),e.Events.fire(t)},e.Trashcan.prototype.blockMouseDownWhenOpenable_=function(e){!this.contentsIsOpen()&&this.hasContents_()&&e.stopPropagation()},e.Trashcan.prototype.mouseOver_=function(){this.hasContents_()&&this.setLidOpen(!0)},e.Trashcan.prototype.mouseOut_=function(){this.setLidOpen(!1)},e.Trashcan.prototype.onDelete_=function(t){if(!(0>=this.workspace_.options.maxTrashcanContents)&&t.type==e.Events.BLOCK_DELETE&&t.oldXml.tagName&&"shadow"!=t.oldXml.tagName.toLowerCase()&&(t=this.cleanBlockXML_(t.oldXml),-1==this.contents_.indexOf(t))){for(this.contents_.unshift(t);this.contents_.length>this.workspace_.options.maxTrashcanContents;)this.contents_.pop();this.setMinOpenness_(this.HAS_BLOCKS_LID_ANGLE_)}},e.Trashcan.prototype.cleanBlockXML_=function(t){for(var n=t=t.cloneNode(!0);n;){n.removeAttribute&&(n.removeAttribute("x"),n.removeAttribute("y"),n.removeAttribute("id"),n.removeAttribute("disabled"),"comment"==n.nodeName&&(n.removeAttribute("h"),n.removeAttribute("w"),n.removeAttribute("pinned")));var r=n.firstChild||n.nextSibling;if(!r)for(r=n.parentNode;r;){if(r.nextSibling){r=r.nextSibling;break}r=r.parentNode}n=r}return e.Xml.domToText(t)},e.VariablesDynamic={},e.VariablesDynamic.onCreateVariableButtonClick_String=function(t){e.Variables.createVariableButtonHandler(t.getTargetWorkspace(),void 0,"String")},e.VariablesDynamic.onCreateVariableButtonClick_Number=function(t){e.Variables.createVariableButtonHandler(t.getTargetWorkspace(),void 0,"Number")},e.VariablesDynamic.onCreateVariableButtonClick_Colour=function(t){e.Variables.createVariableButtonHandler(t.getTargetWorkspace(),void 0,"Colour")},e.VariablesDynamic.flyoutCategory=function(t){var n=[],r=document.createElement("button");return r.setAttribute("text",e.Msg.NEW_STRING_VARIABLE),r.setAttribute("callbackKey","CREATE_VARIABLE_STRING"),n.push(r),(r=document.createElement("button")).setAttribute("text",e.Msg.NEW_NUMBER_VARIABLE),r.setAttribute("callbackKey","CREATE_VARIABLE_NUMBER"),n.push(r),(r=document.createElement("button")).setAttribute("text",e.Msg.NEW_COLOUR_VARIABLE),r.setAttribute("callbackKey","CREATE_VARIABLE_COLOUR"),n.push(r),t.registerButtonCallback("CREATE_VARIABLE_STRING",e.VariablesDynamic.onCreateVariableButtonClick_String),t.registerButtonCallback("CREATE_VARIABLE_NUMBER",e.VariablesDynamic.onCreateVariableButtonClick_Number),t.registerButtonCallback("CREATE_VARIABLE_COLOUR",e.VariablesDynamic.onCreateVariableButtonClick_Colour),t=e.VariablesDynamic.flyoutCategoryBlocks(t),n.concat(t)},e.VariablesDynamic.flyoutCategoryBlocks=function(t){var n=[];if(0<(t=t.getAllVariables()).length){if(e.Blocks.variables_set_dynamic){var r=t[t.length-1],i=e.utils.xml.createElement("block");i.setAttribute("type","variables_set_dynamic"),i.setAttribute("gap",24),i.appendChild(e.Variables.generateVariableFieldDom(r)),n.push(i)}if(e.Blocks.variables_get_dynamic){t.sort(e.VariableModel.compareByName),r=0;for(var o;o=t[r];r++)(i=e.utils.xml.createElement("block")).setAttribute("type","variables_get_dynamic"),i.setAttribute("gap",8),i.appendChild(e.Variables.generateVariableFieldDom(o)),n.push(i)}}return n},e.ZoomControls=function(e){this.workspace_=e,this.id="zoomControls",this.zoomResetGroup_=this.zoomOutGroup_=this.zoomInGroup_=this.onZoomOutWrapper_=this.onZoomInWrapper_=this.onZoomResetWrapper_=null},e.ZoomControls.prototype.WIDTH_=32,e.ZoomControls.prototype.HEIGHT_=32,e.ZoomControls.prototype.SMALL_SPACING_=2,e.ZoomControls.prototype.LARGE_SPACING_=11,e.ZoomControls.prototype.MARGIN_VERTICAL_=20,e.ZoomControls.prototype.MARGIN_HORIZONTAL_=20,e.ZoomControls.prototype.svgGroup_=null,e.ZoomControls.prototype.left_=0,e.ZoomControls.prototype.top_=0,e.ZoomControls.prototype.initialized_=!1,e.ZoomControls.prototype.createDom=function(){this.svgGroup_=e.utils.dom.createSvgElement(e.utils.Svg.G,{},null);var t=String(Math.random()).substring(2);return this.createZoomOutSvg_(t),this.createZoomInSvg_(t),this.workspace_.isMovable()&&this.createZoomResetSvg_(t),this.svgGroup_},e.ZoomControls.prototype.init=function(){this.workspace_.getComponentManager().addComponent({component:this,weight:2,capabilities:[e.ComponentManager.Capability.POSITIONABLE]}),this.initialized_=!0},e.ZoomControls.prototype.dispose=function(){this.workspace_.getComponentManager().removeComponent("zoomControls"),this.svgGroup_&&e.utils.dom.removeNode(this.svgGroup_),this.onZoomResetWrapper_&&e.browserEvents.unbind(this.onZoomResetWrapper_),this.onZoomInWrapper_&&e.browserEvents.unbind(this.onZoomInWrapper_),this.onZoomOutWrapper_&&e.browserEvents.unbind(this.onZoomOutWrapper_)},e.ZoomControls.prototype.getBoundingRectangle=function(){var t=this.SMALL_SPACING_+2*this.HEIGHT_;return this.zoomResetGroup_&&(t+=this.LARGE_SPACING_+this.HEIGHT_),new e.utils.Rect(this.top_,this.top_+t,this.left_,this.left_+this.WIDTH_)},e.ZoomControls.prototype.position=function(t,n){if(this.initialized_){var r=e.uiPosition.getCornerOppositeToolbox(this.workspace_,t),i=this.SMALL_SPACING_+2*this.HEIGHT_;this.zoomResetGroup_&&(i+=this.LARGE_SPACING_+this.HEIGHT_),t=e.uiPosition.getStartPositionRect(r,new e.utils.Size(this.WIDTH_,i),this.MARGIN_HORIZONTAL_,this.MARGIN_VERTICAL_,t,this.workspace_),r=r.vertical,n=e.uiPosition.bumpPositionRect(t,this.MARGIN_VERTICAL_,r===e.uiPosition.verticalPosition.TOP?e.uiPosition.bumpDirection.DOWN:e.uiPosition.bumpDirection.UP,n),r===e.uiPosition.verticalPosition.TOP?(r=this.SMALL_SPACING_+this.HEIGHT_,this.zoomInGroup_.setAttribute("transform","translate(0, "+r+")"),this.zoomResetGroup_&&this.zoomResetGroup_.setAttribute("transform","translate(0, "+(r+this.LARGE_SPACING_+this.HEIGHT_)+")")):(r=this.zoomResetGroup_?this.LARGE_SPACING_+this.HEIGHT_:0,this.zoomInGroup_.setAttribute("transform","translate(0, "+r+")"),this.zoomOutGroup_.setAttribute("transform","translate(0, "+(r+this.SMALL_SPACING_+this.HEIGHT_)+")")),this.top_=n.top,this.left_=n.left,this.svgGroup_.setAttribute("transform","translate("+this.left_+","+this.top_+")")}},e.ZoomControls.prototype.createZoomOutSvg_=function(t){this.zoomOutGroup_=e.utils.dom.createSvgElement(e.utils.Svg.G,{class:"blocklyZoom"},this.svgGroup_);var n=e.utils.dom.createSvgElement(e.utils.Svg.CLIPPATH,{id:"blocklyZoomoutClipPath"+t},this.zoomOutGroup_);e.utils.dom.createSvgElement(e.utils.Svg.RECT,{width:32,height:32},n),e.utils.dom.createSvgElement(e.utils.Svg.IMAGE,{width:e.SPRITE.width,height:e.SPRITE.height,x:-64,y:-92,"clip-path":"url(#blocklyZoomoutClipPath"+t+")"},this.zoomOutGroup_).setAttributeNS(e.utils.dom.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+e.SPRITE.url),this.onZoomOutWrapper_=e.browserEvents.conditionalBind(this.zoomOutGroup_,"mousedown",null,this.zoom_.bind(this,-1))},e.ZoomControls.prototype.createZoomInSvg_=function(t){this.zoomInGroup_=e.utils.dom.createSvgElement(e.utils.Svg.G,{class:"blocklyZoom"},this.svgGroup_);var n=e.utils.dom.createSvgElement(e.utils.Svg.CLIPPATH,{id:"blocklyZoominClipPath"+t},this.zoomInGroup_);e.utils.dom.createSvgElement(e.utils.Svg.RECT,{width:32,height:32},n),e.utils.dom.createSvgElement(e.utils.Svg.IMAGE,{width:e.SPRITE.width,height:e.SPRITE.height,x:-32,y:-92,"clip-path":"url(#blocklyZoominClipPath"+t+")"},this.zoomInGroup_).setAttributeNS(e.utils.dom.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+e.SPRITE.url),this.onZoomInWrapper_=e.browserEvents.conditionalBind(this.zoomInGroup_,"mousedown",null,this.zoom_.bind(this,1))},e.ZoomControls.prototype.zoom_=function(t,n){this.workspace_.markFocused(),this.workspace_.zoomCenter(t),this.fireZoomEvent_(),e.Touch.clearTouchIdentifier(),n.stopPropagation(),n.preventDefault()},e.ZoomControls.prototype.createZoomResetSvg_=function(t){this.zoomResetGroup_=e.utils.dom.createSvgElement(e.utils.Svg.G,{class:"blocklyZoom"},this.svgGroup_);var n=e.utils.dom.createSvgElement(e.utils.Svg.CLIPPATH,{id:"blocklyZoomresetClipPath"+t},this.zoomResetGroup_);e.utils.dom.createSvgElement(e.utils.Svg.RECT,{width:32,height:32},n),e.utils.dom.createSvgElement(e.utils.Svg.IMAGE,{width:e.SPRITE.width,height:e.SPRITE.height,y:-92,"clip-path":"url(#blocklyZoomresetClipPath"+t+")"},this.zoomResetGroup_).setAttributeNS(e.utils.dom.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+e.SPRITE.url),this.onZoomResetWrapper_=e.browserEvents.conditionalBind(this.zoomResetGroup_,"mousedown",null,this.resetZoom_.bind(this))},e.ZoomControls.prototype.resetZoom_=function(t){this.workspace_.markFocused();var n=Math.log(this.workspace_.options.zoomOptions.startScale/this.workspace_.scale)/Math.log(this.workspace_.options.zoomOptions.scaleSpeed);this.workspace_.beginCanvasTransition(),this.workspace_.zoomCenter(n),this.workspace_.scrollCenter(),setTimeout(this.workspace_.endCanvasTransition.bind(this.workspace_),500),this.fireZoomEvent_(),e.Touch.clearTouchIdentifier(),t.stopPropagation(),t.preventDefault()},e.ZoomControls.prototype.fireZoomEvent_=function(){var t=new(e.Events.get(e.Events.CLICK))(null,this.workspace_.id,"zoom_controls");e.Events.fire(t)},e.Css.register([".blocklyZoom>image, .blocklyZoom>svg>image {","opacity: .4;","}",".blocklyZoom>image:hover, .blocklyZoom>svg>image:hover {","opacity: .6;","}",".blocklyZoom>image:active, .blocklyZoom>svg>image:active {","opacity: .8;","}"]),e.ShortcutItems={},e.ShortcutItems.names={ESCAPE:"escape",DELETE:"delete",COPY:"copy",CUT:"cut",PASTE:"paste",UNDO:"undo",REDO:"redo"},e.ShortcutItems.registerEscape=function(){var t={name:e.ShortcutItems.names.ESCAPE,preconditionFn:function(e){return!e.options.readOnly},callback:function(){return e.hideChaff(),!0}};e.ShortcutRegistry.registry.register(t),e.ShortcutRegistry.registry.addKeyMapping(e.utils.KeyCodes.ESC,t.name)},e.ShortcutItems.registerDelete=function(){var t={name:e.ShortcutItems.names.DELETE,preconditionFn:function(t){return!t.options.readOnly&&e.selected&&e.selected.isDeletable()},callback:function(t,n){return n.preventDefault(),!e.Gesture.inProgress()&&(e.deleteBlock(e.selected),!0)}};e.ShortcutRegistry.registry.register(t),e.ShortcutRegistry.registry.addKeyMapping(e.utils.KeyCodes.DELETE,t.name),e.ShortcutRegistry.registry.addKeyMapping(e.utils.KeyCodes.BACKSPACE,t.name)},e.ShortcutItems.registerCopy=function(){var t={name:e.ShortcutItems.names.COPY,preconditionFn:function(t){return!t.options.readOnly&&!e.Gesture.inProgress()&&e.selected&&e.selected.isDeletable()&&e.selected.isMovable()},callback:function(t,n){return n.preventDefault(),e.hideChaff(),e.copy(e.selected),!0}};e.ShortcutRegistry.registry.register(t);var n=e.ShortcutRegistry.registry.createSerializedKey(e.utils.KeyCodes.C,[e.utils.KeyCodes.CTRL]);e.ShortcutRegistry.registry.addKeyMapping(n,t.name),n=e.ShortcutRegistry.registry.createSerializedKey(e.utils.KeyCodes.C,[e.utils.KeyCodes.ALT]),e.ShortcutRegistry.registry.addKeyMapping(n,t.name),n=e.ShortcutRegistry.registry.createSerializedKey(e.utils.KeyCodes.C,[e.utils.KeyCodes.META]),e.ShortcutRegistry.registry.addKeyMapping(n,t.name)},e.ShortcutItems.registerCut=function(){var t={name:e.ShortcutItems.names.CUT,preconditionFn:function(t){return!t.options.readOnly&&!e.Gesture.inProgress()&&e.selected&&e.selected.isDeletable()&&e.selected.isMovable()&&!e.selected.workspace.isFlyout},callback:function(){return e.copy(e.selected),e.deleteBlock(e.selected),!0}};e.ShortcutRegistry.registry.register(t);var n=e.ShortcutRegistry.registry.createSerializedKey(e.utils.KeyCodes.X,[e.utils.KeyCodes.CTRL]);e.ShortcutRegistry.registry.addKeyMapping(n,t.name),n=e.ShortcutRegistry.registry.createSerializedKey(e.utils.KeyCodes.X,[e.utils.KeyCodes.ALT]),e.ShortcutRegistry.registry.addKeyMapping(n,t.name),n=e.ShortcutRegistry.registry.createSerializedKey(e.utils.KeyCodes.X,[e.utils.KeyCodes.META]),e.ShortcutRegistry.registry.addKeyMapping(n,t.name)},e.ShortcutItems.registerPaste=function(){var t={name:e.ShortcutItems.names.PASTE,preconditionFn:function(t){return!t.options.readOnly&&!e.Gesture.inProgress()},callback:function(){return e.paste()}};e.ShortcutRegistry.registry.register(t);var n=e.ShortcutRegistry.registry.createSerializedKey(e.utils.KeyCodes.V,[e.utils.KeyCodes.CTRL]);e.ShortcutRegistry.registry.addKeyMapping(n,t.name),n=e.ShortcutRegistry.registry.createSerializedKey(e.utils.KeyCodes.V,[e.utils.KeyCodes.ALT]),e.ShortcutRegistry.registry.addKeyMapping(n,t.name),n=e.ShortcutRegistry.registry.createSerializedKey(e.utils.KeyCodes.V,[e.utils.KeyCodes.META]),e.ShortcutRegistry.registry.addKeyMapping(n,t.name)},e.ShortcutItems.registerUndo=function(){var t={name:e.ShortcutItems.names.UNDO,preconditionFn:function(t){return!t.options.readOnly&&!e.Gesture.inProgress()},callback:function(t){return e.hideChaff(),t.undo(!1),!0}};e.ShortcutRegistry.registry.register(t);var n=e.ShortcutRegistry.registry.createSerializedKey(e.utils.KeyCodes.Z,[e.utils.KeyCodes.CTRL]);e.ShortcutRegistry.registry.addKeyMapping(n,t.name),n=e.ShortcutRegistry.registry.createSerializedKey(e.utils.KeyCodes.Z,[e.utils.KeyCodes.ALT]),e.ShortcutRegistry.registry.addKeyMapping(n,t.name),n=e.ShortcutRegistry.registry.createSerializedKey(e.utils.KeyCodes.Z,[e.utils.KeyCodes.META]),e.ShortcutRegistry.registry.addKeyMapping(n,t.name)},e.ShortcutItems.registerRedo=function(){var t={name:e.ShortcutItems.names.REDO,preconditionFn:function(t){return!e.Gesture.inProgress()&&!t.options.readOnly},callback:function(t){return e.hideChaff(),t.undo(!0),!0}};e.ShortcutRegistry.registry.register(t);var n=e.ShortcutRegistry.registry.createSerializedKey(e.utils.KeyCodes.Z,[e.utils.KeyCodes.SHIFT,e.utils.KeyCodes.CTRL]);e.ShortcutRegistry.registry.addKeyMapping(n,t.name),n=e.ShortcutRegistry.registry.createSerializedKey(e.utils.KeyCodes.Z,[e.utils.KeyCodes.SHIFT,e.utils.KeyCodes.ALT]),e.ShortcutRegistry.registry.addKeyMapping(n,t.name),n=e.ShortcutRegistry.registry.createSerializedKey(e.utils.KeyCodes.Z,[e.utils.KeyCodes.SHIFT,e.utils.KeyCodes.META]),e.ShortcutRegistry.registry.addKeyMapping(n,t.name),n=e.ShortcutRegistry.registry.createSerializedKey(e.utils.KeyCodes.Y,[e.utils.KeyCodes.CTRL]),e.ShortcutRegistry.registry.addKeyMapping(n,t.name)},e.ShortcutItems.registerDefaultShortcuts=function(){e.ShortcutItems.registerEscape(),e.ShortcutItems.registerDelete(),e.ShortcutItems.registerCopy(),e.ShortcutItems.registerCut(),e.ShortcutItems.registerPaste(),e.ShortcutItems.registerUndo(),e.ShortcutItems.registerRedo()},e.ShortcutItems.registerDefaultShortcuts(),e.ContextMenuItems={},e.ContextMenuItems.registerUndo=function(){e.ContextMenuRegistry.registry.register({displayText:function(){return e.Msg.UNDO},preconditionFn:function(e){return 0<e.workspace.getUndoStack().length?"enabled":"disabled"},callback:function(e){e.workspace.undo(!1)},scopeType:e.ContextMenuRegistry.ScopeType.WORKSPACE,id:"undoWorkspace",weight:1})},e.ContextMenuItems.registerRedo=function(){e.ContextMenuRegistry.registry.register({displayText:function(){return e.Msg.REDO},preconditionFn:function(e){return 0<e.workspace.getRedoStack().length?"enabled":"disabled"},callback:function(e){e.workspace.undo(!0)},scopeType:e.ContextMenuRegistry.ScopeType.WORKSPACE,id:"redoWorkspace",weight:2})},e.ContextMenuItems.registerCleanup=function(){e.ContextMenuRegistry.registry.register({displayText:function(){return e.Msg.CLEAN_UP},preconditionFn:function(e){return e.workspace.isMovable()?1<e.workspace.getTopBlocks(!1).length?"enabled":"disabled":"hidden"},callback:function(e){e.workspace.cleanUp()},scopeType:e.ContextMenuRegistry.ScopeType.WORKSPACE,id:"cleanWorkspace",weight:3})},e.ContextMenuItems.toggleOption_=function(e,t){for(var n=0,r=0;r<t.length;r++)for(var i=t[r];i;)setTimeout(i.setCollapsed.bind(i,e),n),i=i.getNextBlock(),n+=10},e.ContextMenuItems.registerCollapse=function(){e.ContextMenuRegistry.registry.register({displayText:function(){return e.Msg.COLLAPSE_ALL},preconditionFn:function(e){if(e.workspace.options.collapse){e=e.workspace.getTopBlocks(!1);for(var t=0;t<e.length;t++)for(var n=e[t];n;){if(!n.isCollapsed())return"enabled";n=n.getNextBlock()}return"disabled"}return"hidden"},callback:function(t){e.ContextMenuItems.toggleOption_(!0,t.workspace.getTopBlocks(!0))},scopeType:e.ContextMenuRegistry.ScopeType.WORKSPACE,id:"collapseWorkspace",weight:4})},e.ContextMenuItems.registerExpand=function(){e.ContextMenuRegistry.registry.register({displayText:function(){return e.Msg.EXPAND_ALL},preconditionFn:function(e){if(e.workspace.options.collapse){e=e.workspace.getTopBlocks(!1);for(var t=0;t<e.length;t++)for(var n=e[t];n;){if(n.isCollapsed())return"enabled";n=n.getNextBlock()}return"disabled"}return"hidden"},callback:function(t){e.ContextMenuItems.toggleOption_(!1,t.workspace.getTopBlocks(!0))},scopeType:e.ContextMenuRegistry.ScopeType.WORKSPACE,id:"expandWorkspace",weight:5})},e.ContextMenuItems.addDeletableBlocks_=function(t,n){if(t.isDeletable())Array.prototype.push.apply(n,t.getDescendants(!1));else{t=t.getChildren(!1);for(var r=0;r<t.length;r++)e.ContextMenuItems.addDeletableBlocks_(t[r],n)}},e.ContextMenuItems.getDeletableBlocks_=function(t){var n=[];t=t.getTopBlocks(!0);for(var r=0;r<t.length;r++)e.ContextMenuItems.addDeletableBlocks_(t[r],n);return n},e.ContextMenuItems.deleteNext_=function(t,n){e.Events.setGroup(n);var r=t.shift();r&&(r.workspace?(r.dispose(!1,!0),setTimeout(e.ContextMenuItems.deleteNext_,10,t,n)):e.ContextMenuItems.deleteNext_(t,n)),e.Events.setGroup(!1)},e.ContextMenuItems.registerDeleteAll=function(){e.ContextMenuRegistry.registry.register({displayText:function(t){if(t.workspace)return 1==(t=e.ContextMenuItems.getDeletableBlocks_(t.workspace).length)?e.Msg.DELETE_BLOCK:e.Msg.DELETE_X_BLOCKS.replace("%1",String(t))},preconditionFn:function(t){if(t.workspace)return 0<e.ContextMenuItems.getDeletableBlocks_(t.workspace).length?"enabled":"disabled"},callback:function(t){if(t.workspace){t.workspace.cancelCurrentGesture();var n=e.ContextMenuItems.getDeletableBlocks_(t.workspace),r=e.utils.genUid();2>n.length?e.ContextMenuItems.deleteNext_(n,r):e.confirm(e.Msg.DELETE_ALL_BLOCKS.replace("%1",n.length),(function(t){t&&e.ContextMenuItems.deleteNext_(n,r)}))}},scopeType:e.ContextMenuRegistry.ScopeType.WORKSPACE,id:"workspaceDelete",weight:6})},e.ContextMenuItems.registerWorkspaceOptions_=function(){e.ContextMenuItems.registerUndo(),e.ContextMenuItems.registerRedo(),e.ContextMenuItems.registerCleanup(),e.ContextMenuItems.registerCollapse(),e.ContextMenuItems.registerExpand(),e.ContextMenuItems.registerDeleteAll()},e.ContextMenuItems.registerDuplicate=function(){e.ContextMenuRegistry.registry.register({displayText:function(){return e.Msg.DUPLICATE_BLOCK},preconditionFn:function(e){return!(e=e.block).isInFlyout&&e.isDeletable()&&e.isMovable()?e.isDuplicatable()?"enabled":"disabled":"hidden"},callback:function(t){t.block&&e.duplicate(t.block)},scopeType:e.ContextMenuRegistry.ScopeType.BLOCK,id:"blockDuplicate",weight:1})},e.ContextMenuItems.registerComment=function(){e.ContextMenuRegistry.registry.register({displayText:function(t){return t.block.getCommentIcon()?e.Msg.REMOVE_COMMENT:e.Msg.ADD_COMMENT},preconditionFn:function(t){return t=t.block,e.utils.userAgent.IE||t.isInFlyout||!t.workspace.options.comments||t.isCollapsed()||!t.isEditable()?"hidden":"enabled"},callback:function(e){(e=e.block).getCommentIcon()?e.setCommentText(null):e.setCommentText("")},scopeType:e.ContextMenuRegistry.ScopeType.BLOCK,id:"blockComment",weight:2})},e.ContextMenuItems.registerInline=function(){e.ContextMenuRegistry.registry.register({displayText:function(t){return t.block.getInputsInline()?e.Msg.EXTERNAL_INPUTS:e.Msg.INLINE_INPUTS},preconditionFn:function(t){if(!(t=t.block).isInFlyout&&t.isMovable()&&!t.isCollapsed())for(var n=1;n<t.inputList.length;n++)if(t.inputList[n-1].type!=e.inputTypes.STATEMENT&&t.inputList[n].type!=e.inputTypes.STATEMENT)return"enabled";return"hidden"},callback:function(e){e.block.setInputsInline(!e.block.getInputsInline())},scopeType:e.ContextMenuRegistry.ScopeType.BLOCK,id:"blockInline",weight:3})},e.ContextMenuItems.registerCollapseExpandBlock=function(){e.ContextMenuRegistry.registry.register({displayText:function(t){return t.block.isCollapsed()?e.Msg.EXPAND_BLOCK:e.Msg.COLLAPSE_BLOCK},preconditionFn:function(e){return!(e=e.block).isInFlyout&&e.isMovable()&&e.workspace.options.collapse?"enabled":"hidden"},callback:function(e){e.block.setCollapsed(!e.block.isCollapsed())},scopeType:e.ContextMenuRegistry.ScopeType.BLOCK,id:"blockCollapseExpand",weight:4})},e.ContextMenuItems.registerDisable=function(){e.ContextMenuRegistry.registry.register({displayText:function(t){return t.block.isEnabled()?e.Msg.DISABLE_BLOCK:e.Msg.ENABLE_BLOCK},preconditionFn:function(e){return!(e=e.block).isInFlyout&&e.workspace.options.disable&&e.isEditable()?e.getInheritedDisabled()?"disabled":"enabled":"hidden"},callback:function(t){t=t.block;var n=e.Events.getGroup();n||e.Events.setGroup(!0),t.setEnabled(!t.isEnabled()),n||e.Events.setGroup(!1)},scopeType:e.ContextMenuRegistry.ScopeType.BLOCK,id:"blockDisable",weight:5})},e.ContextMenuItems.registerDelete=function(){e.ContextMenuRegistry.registry.register({displayText:function(t){var n=t.block;return t=n.getDescendants(!1).length,(n=n.getNextBlock())&&(t-=n.getDescendants(!1).length),1==t?e.Msg.DELETE_BLOCK:e.Msg.DELETE_X_BLOCKS.replace("%1",String(t))},preconditionFn:function(e){return!e.block.isInFlyout&&e.block.isDeletable()?"enabled":"hidden"},callback:function(t){e.Events.setGroup(!0),t.block&&e.deleteBlock(t.block),e.Events.setGroup(!1)},scopeType:e.ContextMenuRegistry.ScopeType.BLOCK,id:"blockDelete",weight:6})},e.ContextMenuItems.registerHelp=function(){e.ContextMenuRegistry.registry.register({displayText:function(){return e.Msg.HELP},preconditionFn:function(e){return("function"==typeof(e=e.block).helpUrl?e.helpUrl():e.helpUrl)?"enabled":"hidden"},callback:function(e){e.block.showHelp()},scopeType:e.ContextMenuRegistry.ScopeType.BLOCK,id:"blockHelp",weight:7})},e.ContextMenuItems.registerBlockOptions_=function(){e.ContextMenuItems.registerDuplicate(),e.ContextMenuItems.registerComment(),e.ContextMenuItems.registerInline(),e.ContextMenuItems.registerCollapseExpandBlock(),e.ContextMenuItems.registerDisable(),e.ContextMenuItems.registerDelete(),e.ContextMenuItems.registerHelp()},e.ContextMenuItems.registerDefaultOptions=function(){e.ContextMenuItems.registerWorkspaceOptions_(),e.ContextMenuItems.registerBlockOptions_()},e.ContextMenuItems.registerDefaultOptions(),e.Mutator=function(t){e.Mutator.superClass_.constructor.call(this,null),this.quarkNames_=t},e.utils.object.inherits(e.Mutator,e.Icon),e.Mutator.prototype.workspace_=null,e.Mutator.prototype.workspaceWidth_=0,e.Mutator.prototype.workspaceHeight_=0,e.Mutator.prototype.setBlock=function(e){this.block_=e},e.Mutator.prototype.getWorkspace=function(){return this.workspace_},e.Mutator.prototype.drawIcon_=function(t){e.utils.dom.createSvgElement(e.utils.Svg.RECT,{class:"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},t),e.utils.dom.createSvgElement(e.utils.Svg.PATH,{class:"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},t),e.utils.dom.createSvgElement(e.utils.Svg.CIRCLE,{class:"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},t)},e.Mutator.prototype.iconClick_=function(t){this.block_.isEditable()&&e.Icon.prototype.iconClick_.call(this,t)},e.Mutator.prototype.createEditor_=function(){if(this.svgDialog_=e.utils.dom.createSvgElement(e.utils.Svg.SVG,{x:e.Bubble.BORDER_WIDTH,y:e.Bubble.BORDER_WIDTH},null),this.quarkNames_.length)for(var t,n=e.utils.xml.createElement("xml"),r=0;t=this.quarkNames_[r];r++){var i=e.utils.xml.createElement("block");i.setAttribute("type",t),n.appendChild(i)}else n=null;return(r=new e.Options({disable:!1,parentWorkspace:this.block_.workspace,media:this.block_.workspace.options.pathToMedia,rtl:this.block_.RTL,horizontalLayout:!1,renderer:this.block_.workspace.options.renderer,rendererOverrides:this.block_.workspace.options.rendererOverrides})).toolboxPosition=this.block_.RTL?e.utils.toolbox.Position.RIGHT:e.utils.toolbox.Position.LEFT,(t=!!n)&&(r.languageTree=e.utils.toolbox.convertToolboxDefToJson(n)),this.workspace_=new e.WorkspaceSvg(r),this.workspace_.isMutator=!0,this.workspace_.addChangeListener(e.Events.disableOrphans),n=t?this.workspace_.addFlyout(e.utils.Svg.G):null,r=this.workspace_.createDom("blocklyMutatorBackground"),n&&r.insertBefore(n,this.workspace_.svgBlockCanvas_),this.svgDialog_.appendChild(r),this.svgDialog_},e.Mutator.prototype.updateEditable=function(){e.Mutator.superClass_.updateEditable.call(this),this.block_.isInFlyout||(this.block_.isEditable()?this.iconGroup_&&e.utils.dom.removeClass(this.iconGroup_,"blocklyIconGroupReadonly"):(this.setVisible(!1),this.iconGroup_&&e.utils.dom.addClass(this.iconGroup_,"blocklyIconGroupReadonly")))},e.Mutator.prototype.resizeBubble_=function(){var t=2*e.Bubble.BORDER_WIDTH,n=this.workspace_.getCanvas().getBBox(),r=n.width+n.x,i=n.height+3*t,o=this.workspace_.getFlyout();if(o){var s=o.getWorkspace().getMetricsManager().getScrollMetrics();i=Math.max(i,s.height+20),r+=o.getWidth()}this.block_.RTL&&(r=-n.x),r+=3*t,(Math.abs(this.workspaceWidth_-r)>t||Math.abs(this.workspaceHeight_-i)>t)&&(this.workspaceWidth_=r,this.workspaceHeight_=i,this.bubble_.setBubbleSize(r+t,i+t),this.svgDialog_.setAttribute("width",this.workspaceWidth_),this.svgDialog_.setAttribute("height",this.workspaceHeight_),this.workspace_.setCachedParentSvgSize(this.workspaceWidth_,this.workspaceHeight_)),this.block_.RTL&&(t="translate("+this.workspaceWidth_+",0)",this.workspace_.getCanvas().setAttribute("transform",t)),this.workspace_.resize()},e.Mutator.prototype.onBubbleMove_=function(){this.workspace_&&this.workspace_.recordDragTargets()},e.Mutator.prototype.setVisible=function(t){if(t!=this.isVisible())if(e.Events.fire(new(e.Events.get(e.Events.BUBBLE_OPEN))(this.block_,t,"mutator")),t){this.bubble_=new e.Bubble(this.block_.workspace,this.createEditor_(),this.block_.pathObject.svgPath,this.iconXY_,null,null),this.bubble_.setSvgId(this.block_.id),this.bubble_.registerMoveEvent(this.onBubbleMove_.bind(this));var n=this.workspace_.options.languageTree;t=this.workspace_.getFlyout(),n&&(t.init(this.workspace_),t.show(n)),this.rootBlock_=this.block_.decompose(this.workspace_),n=this.rootBlock_.getDescendants(!1);for(var r,i=0;r=n[i];i++)r.render();if(this.rootBlock_.setMovable(!1),this.rootBlock_.setDeletable(!1),t?(n=2*t.CORNER_RADIUS,t=this.rootBlock_.RTL?t.getWidth()+n:n):t=n=16,this.block_.RTL&&(t=-t),this.rootBlock_.moveBy(t,n),this.block_.saveConnections){var o=this,s=this.block_;s.saveConnections(this.rootBlock_),this.sourceListener_=function(){s.saveConnections(o.rootBlock_)},this.block_.workspace.addChangeListener(this.sourceListener_)}this.resizeBubble_(),this.workspace_.addChangeListener(this.workspaceChanged_.bind(this)),this.applyColour()}else this.svgDialog_=null,this.workspace_.dispose(),this.rootBlock_=this.workspace_=null,this.bubble_.dispose(),this.bubble_=null,this.workspaceHeight_=this.workspaceWidth_=0,this.sourceListener_&&(this.block_.workspace.removeChangeListener(this.sourceListener_),this.sourceListener_=null)},e.Mutator.prototype.workspaceChanged_=function(t){if(!(t.isUiEvent||t.type==e.Events.CHANGE&&"disabled"==t.element)){if(!this.workspace_.isDragging()){t=this.workspace_.getTopBlocks(!1);for(var n,r=0;n=t[r];r++){var i=n.getRelativeToSurfaceXY();if(20>i.y&&n.moveBy(0,20-i.y),n.RTL){var o=-20,s=this.workspace_.getFlyout();s&&(o-=s.getWidth()),i.x>o&&n.moveBy(o-i.x,0)}else 20>i.x&&n.moveBy(20-i.x,0)}}if(this.rootBlock_.workspace==this.workspace_){if(e.Events.setGroup(!0),t=(t=(n=this.block_).mutationToDom())&&e.Xml.domToText(t),r=n.rendered,n.rendered=!1,n.compose(this.rootBlock_),n.rendered=r,n.initSvg(),n.rendered&&n.render(),t!=(r=(r=n.mutationToDom())&&e.Xml.domToText(r))){e.Events.fire(new(e.Events.get(e.Events.BLOCK_CHANGE))(n,"mutation",null,t,r));var a=e.Events.getGroup();setTimeout((function(){e.Events.setGroup(a),n.bumpNeighbours(),e.Events.setGroup(!1)}),e.BUMP_DELAY)}this.workspace_.isDragging()||this.resizeBubble_(),e.Events.setGroup(!1)}}},e.Mutator.prototype.dispose=function(){this.block_.mutator=null,e.Icon.prototype.dispose.call(this)},e.Mutator.prototype.updateBlockStyle=function(){var e=this.workspace_;if(e&&e.getAllBlocks(!1)){for(var t,n=e.getAllBlocks(!1),r=0;t=n[r];r++)t.setStyle(t.getStyleName());if(r=e.getFlyout())for(e=r.workspace_.getAllBlocks(!1),r=0;t=e[r];r++)t.setStyle(t.getStyleName())}},e.Mutator.reconnect=function(e,t,n){if(!e||!e.getSourceBlock().workspace)return!1;n=t.getInput(n).connection;var r=e.targetBlock();return!(r&&r!=t||n.targetConnection==e)&&(n.isConnected()&&n.disconnect(),n.connect(e),!0)},e.Mutator.findParentWs=function(e){var t=null;if(e&&e.options){var n=e.options.parentWorkspace;e.isFlyout?n&&n.options&&(t=n.options.parentWorkspace):n&&(t=n)}return t},e.FieldTextInput=function(t,n,r){this.spellcheck_=!0,e.FieldTextInput.superClass_.constructor.call(this,t,n,r),this.onKeyInputWrapper_=this.onKeyDownWrapper_=this.htmlInput_=null,this.fullBlockClickTarget_=!1,this.workspace_=null},e.utils.object.inherits(e.FieldTextInput,e.Field),e.FieldTextInput.prototype.DEFAULT_VALUE="",e.FieldTextInput.fromJson=function(t){var n=e.utils.replaceMessageReferences(t.text);return new e.FieldTextInput(n,void 0,t)},e.FieldTextInput.prototype.SERIALIZABLE=!0,e.FieldTextInput.BORDERRADIUS=4,e.FieldTextInput.prototype.CURSOR="text",e.FieldTextInput.prototype.configure_=function(t){e.FieldTextInput.superClass_.configure_.call(this,t),"boolean"==typeof t.spellcheck&&(this.spellcheck_=t.spellcheck)},e.FieldTextInput.prototype.initView=function(){if(this.getConstants().FULL_BLOCK_FIELDS){for(var e,t=0,n=0,r=0;e=this.sourceBlock_.inputList[r];r++){for(var i=0;e.fieldRow[i];i++)t++;e.connection&&n++}this.fullBlockClickTarget_=1>=t&&this.sourceBlock_.outputConnection&&!n}else this.fullBlockClickTarget_=!1;this.fullBlockClickTarget_?this.clickTarget_=this.sourceBlock_.getSvgRoot():this.createBorderRect_(),this.createTextElement_()},e.FieldTextInput.prototype.doClassValidation_=function(e){return null===e||void 0===e?null:String(e)},e.FieldTextInput.prototype.doValueInvalid_=function(t){this.isBeingEdited_&&(this.isTextValid_=!1,t=this.value_,this.value_=this.htmlInput_.untypedDefaultValue_,this.sourceBlock_&&e.Events.isEnabled()&&e.Events.fire(new(e.Events.get(e.Events.BLOCK_CHANGE))(this.sourceBlock_,"field",this.name||null,t,this.value_)))},e.FieldTextInput.prototype.doValueUpdate_=function(e){this.isTextValid_=!0,this.value_=e,this.isBeingEdited_||(this.isDirty_=!0)},e.FieldTextInput.prototype.applyColour=function(){this.sourceBlock_&&this.getConstants().FULL_BLOCK_FIELDS&&(this.borderRect_?this.borderRect_.setAttribute("stroke",this.sourceBlock_.style.colourTertiary):this.sourceBlock_.pathObject.svgPath.setAttribute("fill",this.getConstants().FIELD_BORDER_RECT_COLOUR))},e.FieldTextInput.prototype.render_=function(){if(e.FieldTextInput.superClass_.render_.call(this),this.isBeingEdited_){this.resizeEditor_();var t=this.htmlInput_;this.isTextValid_?(e.utils.dom.removeClass(t,"blocklyInvalidInput"),e.utils.aria.setState(t,e.utils.aria.State.INVALID,!1)):(e.utils.dom.addClass(t,"blocklyInvalidInput"),e.utils.aria.setState(t,e.utils.aria.State.INVALID,!0))}},e.FieldTextInput.prototype.setSpellcheck=function(e){e!=this.spellcheck_&&(this.spellcheck_=e,this.htmlInput_&&this.htmlInput_.setAttribute("spellcheck",this.spellcheck_))},e.FieldTextInput.prototype.showEditor_=function(t,n){this.workspace_=this.sourceBlock_.workspace,!(t=n||!1)&&(e.utils.userAgent.MOBILE||e.utils.userAgent.ANDROID||e.utils.userAgent.IPAD)?this.showPromptEditor_():this.showInlineEditor_(t)},e.FieldTextInput.prototype.showPromptEditor_=function(){e.prompt(e.Msg.CHANGE_VALUE_TITLE,this.getText(),function(e){this.setValue(this.getValueFromEditorText_(e))}.bind(this))},e.FieldTextInput.prototype.showInlineEditor_=function(t){e.WidgetDiv.show(this,this.sourceBlock_.RTL,this.widgetDispose_.bind(this)),this.htmlInput_=this.widgetCreate_(),this.isBeingEdited_=!0,t||(this.htmlInput_.focus({preventScroll:!0}),this.htmlInput_.select())},e.FieldTextInput.prototype.widgetCreate_=function(){var t=e.WidgetDiv.DIV;e.utils.dom.addClass(this.getClickTarget_(),"editing");var n=document.createElement("input");n.className="blocklyHtmlInput",n.setAttribute("spellcheck",this.spellcheck_);var r=this.workspace_.getScale(),i=this.getConstants().FIELD_TEXT_FONTSIZE*r+"pt";if(t.style.fontSize=i,n.style.fontSize=i,i=e.FieldTextInput.BORDERRADIUS*r+"px",this.fullBlockClickTarget_){i=((i=this.getScaledBBox()).bottom-i.top)/2+"px";var o=this.sourceBlock_.getParent()?this.sourceBlock_.getParent().style.colourTertiary:this.sourceBlock_.style.colourTertiary;n.style.border=1*r+"px solid "+o,t.style.borderRadius=i,t.style.transition="box-shadow 0.25s ease 0s",this.getConstants().FIELD_TEXTINPUT_BOX_SHADOW&&(t.style.boxShadow="rgba(255, 255, 255, 0.3) 0px 0px 0px "+4*r+"px")}return n.style.borderRadius=i,t.appendChild(n),n.value=n.defaultValue=this.getEditorText_(this.value_),n.untypedDefaultValue_=this.value_,n.oldValue_=null,this.resizeEditor_(),this.bindInputEvents_(n),n},e.FieldTextInput.prototype.widgetDispose_=function(){this.isBeingEdited_=!1,this.isTextValid_=!0,this.forceRerender(),this.onFinishEditing_&&this.onFinishEditing_(this.value_),this.unbindInputEvents_();var t=e.WidgetDiv.DIV.style;t.width="auto",t.height="auto",t.fontSize="",t.transition="",t.boxShadow="",this.htmlInput_=null,e.utils.dom.removeClass(this.getClickTarget_(),"editing")},e.FieldTextInput.prototype.bindInputEvents_=function(t){this.onKeyDownWrapper_=e.browserEvents.conditionalBind(t,"keydown",this,this.onHtmlInputKeyDown_),this.onKeyInputWrapper_=e.browserEvents.conditionalBind(t,"input",this,this.onHtmlInputChange_)},e.FieldTextInput.prototype.unbindInputEvents_=function(){this.onKeyDownWrapper_&&(e.browserEvents.unbind(this.onKeyDownWrapper_),this.onKeyDownWrapper_=null),this.onKeyInputWrapper_&&(e.browserEvents.unbind(this.onKeyInputWrapper_),this.onKeyInputWrapper_=null)},e.FieldTextInput.prototype.onHtmlInputKeyDown_=function(t){t.keyCode==e.utils.KeyCodes.ENTER?(e.WidgetDiv.hide(),e.DropDownDiv.hideWithoutAnimation()):t.keyCode==e.utils.KeyCodes.ESC?(this.setValue(this.htmlInput_.untypedDefaultValue_),e.WidgetDiv.hide(),e.DropDownDiv.hideWithoutAnimation()):t.keyCode==e.utils.KeyCodes.TAB&&(e.WidgetDiv.hide(),e.DropDownDiv.hideWithoutAnimation(),this.sourceBlock_.tab(this,!t.shiftKey),t.preventDefault())},e.FieldTextInput.prototype.onHtmlInputChange_=function(t){(t=this.htmlInput_.value)!==this.htmlInput_.oldValue_&&(this.htmlInput_.oldValue_=t,e.Events.setGroup(!0),t=this.getValueFromEditorText_(t),this.setValue(t),this.forceRerender(),this.resizeEditor_(),e.Events.setGroup(!1))},e.FieldTextInput.prototype.setEditorValue_=function(e){this.isDirty_=!0,this.isBeingEdited_&&(this.htmlInput_.value=this.getEditorText_(e)),this.setValue(e)},e.FieldTextInput.prototype.resizeEditor_=function(){var t=e.WidgetDiv.DIV,n=this.getScaledBBox();t.style.width=n.right-n.left+"px",t.style.height=n.bottom-n.top+"px",n=new e.utils.Coordinate(this.sourceBlock_.RTL?n.right-t.offsetWidth:n.left,n.top),t.style.left=n.x+"px",t.style.top=n.y+"px"},e.FieldTextInput.prototype.isTabNavigable=function(){return!0},e.FieldTextInput.prototype.getText_=function(){return this.isBeingEdited_&&this.htmlInput_?this.htmlInput_.value:null},e.FieldTextInput.prototype.getEditorText_=function(e){return String(e)},e.FieldTextInput.prototype.getValueFromEditorText_=function(e){return e},e.fieldRegistry.register("field_input",e.FieldTextInput),e.FieldAngle=function(t,n,r){this.clockwise_=e.FieldAngle.CLOCKWISE,this.offset_=e.FieldAngle.OFFSET,this.wrap_=e.FieldAngle.WRAP,this.round_=e.FieldAngle.ROUND,e.FieldAngle.superClass_.constructor.call(this,t,n,r),this.moveSurfaceWrapper_=this.clickSurfaceWrapper_=this.clickWrapper_=this.line_=this.gauge_=this.editor_=null},e.utils.object.inherits(e.FieldAngle,e.FieldTextInput),e.FieldAngle.prototype.DEFAULT_VALUE=0,e.FieldAngle.fromJson=function(t){return new e.FieldAngle(t.angle,void 0,t)},e.FieldAngle.prototype.SERIALIZABLE=!0,e.FieldAngle.ROUND=15,e.FieldAngle.HALF=50,e.FieldAngle.CLOCKWISE=!1,e.FieldAngle.OFFSET=0,e.FieldAngle.WRAP=360,e.FieldAngle.RADIUS=e.FieldAngle.HALF-1,e.FieldAngle.prototype.configure_=function(t){switch(e.FieldAngle.superClass_.configure_.call(this,t),t.mode){case"compass":this.clockwise_=!0,this.offset_=90;break;case"protractor":this.clockwise_=!1,this.offset_=0}var n=t.clockwise;"boolean"==typeof n&&(this.clockwise_=n),null!=(n=t.offset)&&(n=Number(n),isNaN(n)||(this.offset_=n)),null!=(n=t.wrap)&&(n=Number(n),isNaN(n)||(this.wrap_=n)),null!=(t=t.round)&&(t=Number(t),isNaN(t)||(this.round_=t))},e.FieldAngle.prototype.initView=function(){e.FieldAngle.superClass_.initView.call(this),this.symbol_=e.utils.dom.createSvgElement(e.utils.Svg.TSPAN,{},null),this.symbol_.appendChild(document.createTextNode("\xb0")),this.textElement_.appendChild(this.symbol_)},e.FieldAngle.prototype.render_=function(){e.FieldAngle.superClass_.render_.call(this),this.updateGraph_()},e.FieldAngle.prototype.showEditor_=function(t){e.FieldAngle.superClass_.showEditor_.call(this,t,e.utils.userAgent.MOBILE||e.utils.userAgent.ANDROID||e.utils.userAgent.IPAD),this.dropdownCreate_(),e.DropDownDiv.getContentDiv().appendChild(this.editor_),e.DropDownDiv.setColour(this.sourceBlock_.style.colourPrimary,this.sourceBlock_.style.colourTertiary),e.DropDownDiv.showPositionedByField(this,this.dropdownDispose_.bind(this)),this.updateGraph_()},e.FieldAngle.prototype.dropdownCreate_=function(){var t=e.utils.dom.createSvgElement(e.utils.Svg.SVG,{xmlns:e.utils.dom.SVG_NS,"xmlns:html":e.utils.dom.HTML_NS,"xmlns:xlink":e.utils.dom.XLINK_NS,version:"1.1",height:2*e.FieldAngle.HALF+"px",width:2*e.FieldAngle.HALF+"px",style:"touch-action: none"},null),n=e.utils.dom.createSvgElement(e.utils.Svg.CIRCLE,{cx:e.FieldAngle.HALF,cy:e.FieldAngle.HALF,r:e.FieldAngle.RADIUS,class:"blocklyAngleCircle"},t);this.gauge_=e.utils.dom.createSvgElement(e.utils.Svg.PATH,{class:"blocklyAngleGauge"},t),this.line_=e.utils.dom.createSvgElement(e.utils.Svg.LINE,{x1:e.FieldAngle.HALF,y1:e.FieldAngle.HALF,class:"blocklyAngleLine"},t);for(var r=0;360>r;r+=15)e.utils.dom.createSvgElement(e.utils.Svg.LINE,{x1:e.FieldAngle.HALF+e.FieldAngle.RADIUS,y1:e.FieldAngle.HALF,x2:e.FieldAngle.HALF+e.FieldAngle.RADIUS-(0==r%45?10:5),y2:e.FieldAngle.HALF,class:"blocklyAngleMarks",transform:"rotate("+r+","+e.FieldAngle.HALF+","+e.FieldAngle.HALF+")"},t);this.clickWrapper_=e.browserEvents.conditionalBind(t,"click",this,this.hide_),this.clickSurfaceWrapper_=e.browserEvents.conditionalBind(n,"click",this,this.onMouseMove_,!0,!0),this.moveSurfaceWrapper_=e.browserEvents.conditionalBind(n,"mousemove",this,this.onMouseMove_,!0,!0),this.editor_=t},e.FieldAngle.prototype.dropdownDispose_=function(){this.clickWrapper_&&(e.browserEvents.unbind(this.clickWrapper_),this.clickWrapper_=null),this.clickSurfaceWrapper_&&(e.browserEvents.unbind(this.clickSurfaceWrapper_),this.clickSurfaceWrapper_=null),this.moveSurfaceWrapper_&&(e.browserEvents.unbind(this.moveSurfaceWrapper_),this.moveSurfaceWrapper_=null),this.line_=this.gauge_=null},e.FieldAngle.prototype.hide_=function(){e.DropDownDiv.hideIfOwner(this),e.WidgetDiv.hide()},e.FieldAngle.prototype.onMouseMove_=function(t){var n=this.gauge_.ownerSVGElement.getBoundingClientRect(),r=t.clientX-n.left-e.FieldAngle.HALF;t=t.clientY-n.top-e.FieldAngle.HALF,n=Math.atan(-t/r),isNaN(n)||(n=e.utils.math.toDegrees(n),0>r?n+=180:0<t&&(n+=360),n=this.clockwise_?this.offset_+360-n:360-(this.offset_-n),this.displayMouseOrKeyboardValue_(n))},e.FieldAngle.prototype.displayMouseOrKeyboardValue_=function(e){this.round_&&(e=Math.round(e/this.round_)*this.round_),(e=this.wrapValue_(e))!=this.value_&&this.setEditorValue_(e)},e.FieldAngle.prototype.updateGraph_=function(){if(this.gauge_){var t=Number(this.getText())+this.offset_,n=e.utils.math.toRadians(t%360);t=["M ",e.FieldAngle.HALF,",",e.FieldAngle.HALF];var r=e.FieldAngle.HALF,i=e.FieldAngle.HALF;if(!isNaN(n)){var o=Number(this.clockwise_),s=e.utils.math.toRadians(this.offset_),a=Math.cos(s)*e.FieldAngle.RADIUS,l=Math.sin(s)*-e.FieldAngle.RADIUS;o&&(n=2*s-n),r+=Math.cos(n)*e.FieldAngle.RADIUS,i-=Math.sin(n)*e.FieldAngle.RADIUS,n=Math.abs(Math.floor((n-s)/Math.PI)%2),o&&(n=1-n),t.push(" l ",a,",",l," A ",e.FieldAngle.RADIUS,",",e.FieldAngle.RADIUS," 0 ",n," ",o," ",r,",",i," z")}this.gauge_.setAttribute("d",t.join("")),this.line_.setAttribute("x2",r),this.line_.setAttribute("y2",i)}},e.FieldAngle.prototype.onHtmlInputKeyDown_=function(t){var n;if(e.FieldAngle.superClass_.onHtmlInputKeyDown_.call(this,t),t.keyCode===e.utils.KeyCodes.LEFT?n=this.sourceBlock_.RTL?1:-1:t.keyCode===e.utils.KeyCodes.RIGHT?n=this.sourceBlock_.RTL?-1:1:t.keyCode===e.utils.KeyCodes.DOWN?n=-1:t.keyCode===e.utils.KeyCodes.UP&&(n=1),n){var r=this.getValue();this.displayMouseOrKeyboardValue_(r+n*this.round_),t.preventDefault(),t.stopPropagation()}},e.FieldAngle.prototype.doClassValidation_=function(e){return e=Number(e),isNaN(e)||!isFinite(e)?null:this.wrapValue_(e)},e.FieldAngle.prototype.wrapValue_=function(e){return 0>(e%=360)&&(e+=360),e>this.wrap_&&(e-=360),e},e.Css.register(".blocklyAngleCircle {,stroke: #444;,stroke-width: 1;,fill: #ddd;,fill-opacity: .8;,},.blocklyAngleMarks {,stroke: #444;,stroke-width: 1;,},.blocklyAngleGauge {,fill: #f88;,fill-opacity: .8;,pointer-events: none;,},.blocklyAngleLine {,stroke: #f00;,stroke-width: 2;,stroke-linecap: round;,pointer-events: none;,}".split(",")),e.fieldRegistry.register("field_angle",e.FieldAngle),e.FieldCheckbox=function(t,n,r){this.checkChar_=null,e.FieldCheckbox.superClass_.constructor.call(this,t,n,r)},e.utils.object.inherits(e.FieldCheckbox,e.Field),e.FieldCheckbox.prototype.DEFAULT_VALUE=!1,e.FieldCheckbox.fromJson=function(t){return new e.FieldCheckbox(t.checked,void 0,t)},e.FieldCheckbox.CHECK_CHAR="\u2713",e.FieldCheckbox.prototype.SERIALIZABLE=!0,e.FieldCheckbox.prototype.CURSOR="default",e.FieldCheckbox.prototype.configure_=function(t){e.FieldCheckbox.superClass_.configure_.call(this,t),t.checkCharacter&&(this.checkChar_=t.checkCharacter)},e.FieldCheckbox.prototype.initView=function(){e.FieldCheckbox.superClass_.initView.call(this),e.utils.dom.addClass(this.textElement_,"blocklyCheckbox"),this.textElement_.style.display=this.value_?"block":"none"},e.FieldCheckbox.prototype.render_=function(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_()),this.updateSize_(this.getConstants().FIELD_CHECKBOX_X_OFFSET)},e.FieldCheckbox.prototype.getDisplayText_=function(){return this.checkChar_||e.FieldCheckbox.CHECK_CHAR},e.FieldCheckbox.prototype.setCheckCharacter=function(e){this.checkChar_=e,this.forceRerender()},e.FieldCheckbox.prototype.showEditor_=function(){this.setValue(!this.value_)},e.FieldCheckbox.prototype.doClassValidation_=function(e){return!0===e||"TRUE"===e?"TRUE":!1===e||"FALSE"===e?"FALSE":null},e.FieldCheckbox.prototype.doValueUpdate_=function(e){this.value_=this.convertValueToBool_(e),this.textElement_&&(this.textElement_.style.display=this.value_?"block":"none")},e.FieldCheckbox.prototype.getValue=function(){return this.value_?"TRUE":"FALSE"},e.FieldCheckbox.prototype.getValueBoolean=function(){return this.value_},e.FieldCheckbox.prototype.getText=function(){return String(this.convertValueToBool_(this.value_))},e.FieldCheckbox.prototype.convertValueToBool_=function(e){return"string"==typeof e?"TRUE"==e:!!e},e.fieldRegistry.register("field_checkbox",e.FieldCheckbox),e.FieldColour=function(t,n,r){e.FieldColour.superClass_.constructor.call(this,t,n,r),this.onKeyDownWrapper_=this.onMouseLeaveWrapper_=this.onMouseEnterWrapper_=this.onMouseMoveWrapper_=this.onClickWrapper_=this.highlightedIndex_=this.picker_=null},e.utils.object.inherits(e.FieldColour,e.Field),e.FieldColour.fromJson=function(t){return new e.FieldColour(t.colour,void 0,t)},e.FieldColour.prototype.SERIALIZABLE=!0,e.FieldColour.prototype.CURSOR="default",e.FieldColour.prototype.isDirty_=!1,e.FieldColour.prototype.colours_=null,e.FieldColour.prototype.titles_=null,e.FieldColour.prototype.columns_=0,e.FieldColour.prototype.configure_=function(t){e.FieldColour.superClass_.configure_.call(this,t),t.colourOptions&&(this.colours_=t.colourOptions,this.titles_=t.colourTitles),t.columns&&(this.columns_=t.columns)},e.FieldColour.prototype.initView=function(){this.size_=new e.utils.Size(this.getConstants().FIELD_COLOUR_DEFAULT_WIDTH,this.getConstants().FIELD_COLOUR_DEFAULT_HEIGHT),this.getConstants().FIELD_COLOUR_FULL_BLOCK?this.clickTarget_=this.sourceBlock_.getSvgRoot():(this.createBorderRect_(),this.borderRect_.style.fillOpacity="1")},e.FieldColour.prototype.applyColour=function(){this.getConstants().FIELD_COLOUR_FULL_BLOCK?(this.sourceBlock_.pathObject.svgPath.setAttribute("fill",this.getValue()),this.sourceBlock_.pathObject.svgPath.setAttribute("stroke","#fff")):this.borderRect_&&(this.borderRect_.style.fill=this.getValue())},e.FieldColour.prototype.doClassValidation_=function(t){return"string"!=typeof t?null:e.utils.colour.parse(t)},e.FieldColour.prototype.doValueUpdate_=function(e){this.value_=e,this.borderRect_?this.borderRect_.style.fill=e:this.sourceBlock_&&this.sourceBlock_.rendered&&(this.sourceBlock_.pathObject.svgPath.setAttribute("fill",e),this.sourceBlock_.pathObject.svgPath.setAttribute("stroke","#fff"))},e.FieldColour.prototype.getText=function(){var e=this.value_;return/^#(.)\1(.)\2(.)\3$/.test(e)&&(e="#"+e[1]+e[3]+e[5]),e},e.FieldColour.COLOURS="#ffffff #cccccc #c0c0c0 #999999 #666666 #333333 #000000 #ffcccc #ff6666 #ff0000 #cc0000 #990000 #660000 #330000 #ffcc99 #ff9966 #ff9900 #ff6600 #cc6600 #993300 #663300 #ffff99 #ffff66 #ffcc66 #ffcc33 #cc9933 #996633 #663333 #ffffcc #ffff33 #ffff00 #ffcc00 #999900 #666600 #333300 #99ff99 #66ff99 #33ff33 #33cc00 #009900 #006600 #003300 #99ffff #33ffff #66cccc #00cccc #339999 #336666 #003333 #ccffff #66ffff #33ccff #3366ff #3333ff #000099 #000066 #ccccff #9999ff #6666cc #6633ff #6600cc #333399 #330099 #ffccff #ff99ff #cc66cc #cc33cc #993399 #663366 #330033".split(" "),e.FieldColour.prototype.DEFAULT_VALUE=e.FieldColour.COLOURS[0],e.FieldColour.TITLES=[],e.FieldColour.COLUMNS=7,e.FieldColour.prototype.setColours=function(e,t){return this.colours_=e,t&&(this.titles_=t),this},e.FieldColour.prototype.setColumns=function(e){return this.columns_=e,this},e.FieldColour.prototype.showEditor_=function(){this.dropdownCreate_(),e.DropDownDiv.getContentDiv().appendChild(this.picker_),e.DropDownDiv.showPositionedByField(this,this.dropdownDispose_.bind(this)),this.picker_.focus({preventScroll:!0})},e.FieldColour.prototype.onClick_=function(t){null!==(t=(t=t.target)&&t.label)&&(this.setValue(t),e.DropDownDiv.hideIfOwner(this))},e.FieldColour.prototype.onKeyDown_=function(t){var n=!1;t.keyCode===e.utils.KeyCodes.UP?(this.moveHighlightBy_(0,-1),n=!0):t.keyCode===e.utils.KeyCodes.DOWN?(this.moveHighlightBy_(0,1),n=!0):t.keyCode===e.utils.KeyCodes.LEFT?(this.moveHighlightBy_(-1,0),n=!0):t.keyCode===e.utils.KeyCodes.RIGHT?(this.moveHighlightBy_(1,0),n=!0):t.keyCode===e.utils.KeyCodes.ENTER&&((n=this.getHighlighted_())&&null!==(n=n&&n.label)&&this.setValue(n),e.DropDownDiv.hideWithoutAnimation(),n=!0),n&&t.stopPropagation()},e.FieldColour.prototype.moveHighlightBy_=function(t,n){var r=this.colours_||e.FieldColour.COLOURS,i=this.columns_||e.FieldColour.COLUMNS,o=this.highlightedIndex_%i,s=Math.floor(this.highlightedIndex_/i);o+=t,s+=n,0>t?0>o&&0<s?(o=i-1,s--):0>o&&(o=0):0<t?o>i-1&&s<Math.floor(r.length/i)-1?(o=0,s++):o>i-1&&o--:0>n?0>s&&(s=0):0<n&&s>Math.floor(r.length/i)-1&&(s=Math.floor(r.length/i)-1),this.setHighlightedCell_(this.picker_.childNodes[s].childNodes[o],s*i+o)},e.FieldColour.prototype.onMouseMove_=function(e){var t=(e=e.target)&&Number(e.getAttribute("data-index"));null!==t&&t!==this.highlightedIndex_&&this.setHighlightedCell_(e,t)},e.FieldColour.prototype.onMouseEnter_=function(){this.picker_.focus({preventScroll:!0})},e.FieldColour.prototype.onMouseLeave_=function(){this.picker_.blur();var t=this.getHighlighted_();t&&e.utils.dom.removeClass(t,"blocklyColourHighlighted")},e.FieldColour.prototype.getHighlighted_=function(){var t=this.columns_||e.FieldColour.COLUMNS,n=this.picker_.childNodes[Math.floor(this.highlightedIndex_/t)];return n?n.childNodes[this.highlightedIndex_%t]:null},e.FieldColour.prototype.setHighlightedCell_=function(t,n){var r=this.getHighlighted_();r&&e.utils.dom.removeClass(r,"blocklyColourHighlighted"),e.utils.dom.addClass(t,"blocklyColourHighlighted"),this.highlightedIndex_=n,e.utils.aria.setState(this.picker_,e.utils.aria.State.ACTIVEDESCENDANT,t.getAttribute("id"))},e.FieldColour.prototype.dropdownCreate_=function(){var t=this.columns_||e.FieldColour.COLUMNS,n=this.colours_||e.FieldColour.COLOURS,r=this.titles_||e.FieldColour.TITLES,i=this.getValue(),o=document.createElement("table");o.className="blocklyColourTable",o.tabIndex=0,o.dir="ltr",e.utils.aria.setRole(o,e.utils.aria.Role.GRID),e.utils.aria.setState(o,e.utils.aria.State.EXPANDED,!0),e.utils.aria.setState(o,e.utils.aria.State.ROWCOUNT,Math.floor(n.length/t)),e.utils.aria.setState(o,e.utils.aria.State.COLCOUNT,t);for(var s,a=0;a<n.length;a++){0==a%t&&(s=document.createElement("tr"),e.utils.aria.setRole(s,e.utils.aria.Role.ROW),o.appendChild(s));var l=document.createElement("td");s.appendChild(l),l.label=n[a],l.title=r[a]||n[a],l.id=e.utils.IdGenerator.getNextUniqueId(),l.setAttribute("data-index",a),e.utils.aria.setRole(l,e.utils.aria.Role.GRIDCELL),e.utils.aria.setState(l,e.utils.aria.State.LABEL,n[a]),e.utils.aria.setState(l,e.utils.aria.State.SELECTED,n[a]==i),l.style.backgroundColor=n[a],n[a]==i&&(l.className="blocklyColourSelected",this.highlightedIndex_=a)}this.onClickWrapper_=e.browserEvents.conditionalBind(o,"click",this,this.onClick_,!0),this.onMouseMoveWrapper_=e.browserEvents.conditionalBind(o,"mousemove",this,this.onMouseMove_,!0),this.onMouseEnterWrapper_=e.browserEvents.conditionalBind(o,"mouseenter",this,this.onMouseEnter_,!0),this.onMouseLeaveWrapper_=e.browserEvents.conditionalBind(o,"mouseleave",this,this.onMouseLeave_,!0),this.onKeyDownWrapper_=e.browserEvents.conditionalBind(o,"keydown",this,this.onKeyDown_),this.picker_=o},e.FieldColour.prototype.dropdownDispose_=function(){this.onClickWrapper_&&(e.browserEvents.unbind(this.onClickWrapper_),this.onClickWrapper_=null),this.onMouseMoveWrapper_&&(e.browserEvents.unbind(this.onMouseMoveWrapper_),this.onMouseMoveWrapper_=null),this.onMouseEnterWrapper_&&(e.browserEvents.unbind(this.onMouseEnterWrapper_),this.onMouseEnterWrapper_=null),this.onMouseLeaveWrapper_&&(e.browserEvents.unbind(this.onMouseLeaveWrapper_),this.onMouseLeaveWrapper_=null),this.onKeyDownWrapper_&&(e.browserEvents.unbind(this.onKeyDownWrapper_),this.onKeyDownWrapper_=null),this.highlightedIndex_=this.picker_=null},e.Css.register([".blocklyColourTable {","border-collapse: collapse;","display: block;","outline: none;","padding: 1px;","}",".blocklyColourTable>tr>td {","border: .5px solid #888;","box-sizing: border-box;","cursor: pointer;","display: inline-block;","height: 20px;","padding: 0;","width: 20px;","}",".blocklyColourTable>tr>td.blocklyColourHighlighted {","border-color: #eee;","box-shadow: 2px 2px 7px 2px rgba(0,0,0,.3);","position: relative;","}",".blocklyColourSelected, .blocklyColourSelected:hover {","border-color: #eee !important;","outline: 1px solid #333;","position: relative;","}"]),e.fieldRegistry.register("field_colour",e.FieldColour),e.FieldDropdown=function(t,n,r){"function"!=typeof t&&e.FieldDropdown.validateOptions_(t),this.menuGenerator_=t,this.suffixField=this.prefixField=this.generatedOptions_=null,this.trimOptions_(),this.selectedOption_=this.getOptions(!1)[0],e.FieldDropdown.superClass_.constructor.call(this,this.selectedOption_[1],n,r),this.svgArrow_=this.arrow_=this.imageElement_=this.menu_=this.selectedMenuItem_=null},e.utils.object.inherits(e.FieldDropdown,e.Field),e.FieldDropdown.fromJson=function(t){return new e.FieldDropdown(t.options,void 0,t)},e.FieldDropdown.prototype.fromXml=function(e){this.isOptionListDynamic()&&this.getOptions(!1),this.setValue(e.textContent)},e.FieldDropdown.prototype.SERIALIZABLE=!0,e.FieldDropdown.CHECKMARK_OVERHANG=25,e.FieldDropdown.MAX_MENU_HEIGHT_VH=.45,e.FieldDropdown.IMAGE_Y_OFFSET=5,e.FieldDropdown.IMAGE_Y_PADDING=2*e.FieldDropdown.IMAGE_Y_OFFSET,e.FieldDropdown.ARROW_CHAR=e.utils.userAgent.ANDROID?"\u25bc":"\u25be",e.FieldDropdown.prototype.CURSOR="default",e.FieldDropdown.prototype.initView=function(){this.shouldAddBorderRect_()?this.createBorderRect_():this.clickTarget_=this.sourceBlock_.getSvgRoot(),this.createTextElement_(),this.imageElement_=e.utils.dom.createSvgElement(e.utils.Svg.IMAGE,{},this.fieldGroup_),this.getConstants().FIELD_DROPDOWN_SVG_ARROW?this.createSVGArrow_():this.createTextArrow_(),this.borderRect_&&e.utils.dom.addClass(this.borderRect_,"blocklyDropdownRect")},e.FieldDropdown.prototype.shouldAddBorderRect_=function(){return!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW&&!this.sourceBlock_.isShadow()},e.FieldDropdown.prototype.createTextArrow_=function(){this.arrow_=e.utils.dom.createSvgElement(e.utils.Svg.TSPAN,{},this.textElement_),this.arrow_.appendChild(document.createTextNode(this.sourceBlock_.RTL?e.FieldDropdown.ARROW_CHAR+" ":" "+e.FieldDropdown.ARROW_CHAR)),this.sourceBlock_.RTL?this.textElement_.insertBefore(this.arrow_,this.textContent_):this.textElement_.appendChild(this.arrow_)},e.FieldDropdown.prototype.createSVGArrow_=function(){this.svgArrow_=e.utils.dom.createSvgElement(e.utils.Svg.IMAGE,{height:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px",width:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px"},this.fieldGroup_),this.svgArrow_.setAttributeNS(e.utils.dom.XLINK_NS,"xlink:href",this.getConstants().FIELD_DROPDOWN_SVG_ARROW_DATAURI)},e.FieldDropdown.prototype.showEditor_=function(t){if(this.dropdownCreate_(),this.menu_.openingCoords=t&&"number"===typeof t.clientX?new e.utils.Coordinate(t.clientX,t.clientY):null,this.menu_.render(e.DropDownDiv.getContentDiv()),t=this.menu_.getElement(),e.utils.dom.addClass(t,"blocklyDropdownMenu"),this.getConstants().FIELD_DROPDOWN_COLOURED_DIV){t=this.sourceBlock_.isShadow()?this.sourceBlock_.getParent().getColour():this.sourceBlock_.getColour();var n=this.sourceBlock_.isShadow()?this.sourceBlock_.getParent().style.colourTertiary:this.sourceBlock_.style.colourTertiary;e.DropDownDiv.setColour(t,n)}e.DropDownDiv.showPositionedByField(this,this.dropdownDispose_.bind(this)),this.menu_.focus(),this.selectedMenuItem_&&this.menu_.setHighlighted(this.selectedMenuItem_),this.applyColour()},e.FieldDropdown.prototype.dropdownCreate_=function(){var t=new e.Menu;t.setRole(e.utils.aria.Role.LISTBOX),this.menu_=t;var n=this.getOptions(!1);this.selectedMenuItem_=null;for(var r=0;r<n.length;r++){var i=n[r][0],o=n[r][1];if("object"==typeof i){var s=new Image(i.width,i.height);s.src=i.src,s.alt=i.alt||"",i=s}(i=new e.MenuItem(i,o)).setRole(e.utils.aria.Role.OPTION),i.setRightToLeft(this.sourceBlock_.RTL),i.setCheckable(!0),t.addChild(i),i.setChecked(o==this.value_),o==this.value_&&(this.selectedMenuItem_=i),i.onAction(this.handleMenuActionEvent_,this)}},e.FieldDropdown.prototype.dropdownDispose_=function(){this.menu_&&this.menu_.dispose(),this.selectedMenuItem_=this.menu_=null,this.applyColour()},e.FieldDropdown.prototype.handleMenuActionEvent_=function(t){e.DropDownDiv.hideIfOwner(this,!0),this.onItemSelected_(this.menu_,t)},e.FieldDropdown.prototype.onItemSelected_=function(e,t){this.setValue(t.getValue())},e.FieldDropdown.prototype.trimOptions_=function(){var t=this.menuGenerator_;if(Array.isArray(t)){for(var n=!1,r=0;r<t.length;r++){var i=t[r][0];"string"==typeof i?t[r][0]=e.utils.replaceMessageReferences(i):(null!=i.alt&&(t[r][0].alt=e.utils.replaceMessageReferences(i.alt)),n=!0)}if(!(n||2>t.length)){for(n=[],r=0;r<t.length;r++)n.push(t[r][0]);r=e.utils.string.shortestStringLength(n),i=e.utils.string.commonWordPrefix(n,r);var o=e.utils.string.commonWordSuffix(n,r);!i&&!o||r<=i+o||(i&&(this.prefixField=n[0].substring(0,i-1)),o&&(this.suffixField=n[0].substr(1-o)),this.menuGenerator_=e.FieldDropdown.applyTrim_(t,i,o))}}},e.FieldDropdown.applyTrim_=function(e,t,n){for(var r=[],i=0;i<e.length;i++){var o=e[i][0],s=e[i][1];o=o.substring(t,o.length-n),r[i]=[o,s]}return r},e.FieldDropdown.prototype.isOptionListDynamic=function(){return"function"==typeof this.menuGenerator_},e.FieldDropdown.prototype.getOptions=function(t){return this.isOptionListDynamic()?(this.generatedOptions_&&t||(this.generatedOptions_=this.menuGenerator_.call(this),e.FieldDropdown.validateOptions_(this.generatedOptions_)),this.generatedOptions_):this.menuGenerator_},e.FieldDropdown.prototype.doClassValidation_=function(e){for(var t,n=!1,r=this.getOptions(!0),i=0;t=r[i];i++)if(t[1]==e){n=!0;break}return n?e:(this.sourceBlock_&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.sourceBlock_.type+", Field name: "+this.name+", Value: "+e),null)},e.FieldDropdown.prototype.doValueUpdate_=function(t){e.FieldDropdown.superClass_.doValueUpdate_.call(this,t),t=this.getOptions(!0);for(var n,r=0;n=t[r];r++)n[1]==this.value_&&(this.selectedOption_=n)},e.FieldDropdown.prototype.applyColour=function(){this.borderRect_&&(this.borderRect_.setAttribute("stroke",this.sourceBlock_.style.colourTertiary),this.menu_?this.borderRect_.setAttribute("fill",this.sourceBlock_.style.colourTertiary):this.borderRect_.setAttribute("fill","transparent")),this.sourceBlock_&&this.arrow_&&(this.sourceBlock_.isShadow()?this.arrow_.style.fill=this.sourceBlock_.style.colourSecondary:this.arrow_.style.fill=this.sourceBlock_.style.colourPrimary)},e.FieldDropdown.prototype.render_=function(){this.textContent_.nodeValue="",this.imageElement_.style.display="none";var e=this.selectedOption_&&this.selectedOption_[0];e&&"object"==typeof e?this.renderSelectedImage_(e):this.renderSelectedText_(),this.positionBorderRect_()},e.FieldDropdown.prototype.renderSelectedImage_=function(t){this.imageElement_.style.display="",this.imageElement_.setAttributeNS(e.utils.dom.XLINK_NS,"xlink:href",t.src),this.imageElement_.setAttribute("height",t.height),this.imageElement_.setAttribute("width",t.width);var n=Number(t.height);t=Number(t.width);var r=!!this.borderRect_,i=Math.max(r?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,n+e.FieldDropdown.IMAGE_Y_PADDING);r=r?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;var o=this.svgArrow_?this.positionSVGArrow_(t+r,i/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2):e.utils.dom.getFastTextWidth(this.arrow_,this.getConstants().FIELD_TEXT_FONTSIZE,this.getConstants().FIELD_TEXT_FONTWEIGHT,this.getConstants().FIELD_TEXT_FONTFAMILY);this.size_.width=t+o+2*r,this.size_.height=i;var s=0;this.sourceBlock_.RTL?this.imageElement_.setAttribute("x",r+o):(s=t+o,this.textElement_.setAttribute("text-anchor","end"),this.imageElement_.setAttribute("x",r)),this.imageElement_.setAttribute("y",i/2-n/2),this.positionTextElement_(s+r,t+o)},e.FieldDropdown.prototype.renderSelectedText_=function(){this.textContent_.nodeValue=this.getDisplayText_(),e.utils.dom.addClass(this.textElement_,"blocklyDropdownText"),this.textElement_.setAttribute("text-anchor","start");var t=!!this.borderRect_,n=Math.max(t?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,this.getConstants().FIELD_TEXT_HEIGHT),r=e.utils.dom.getFastTextWidth(this.textElement_,this.getConstants().FIELD_TEXT_FONTSIZE,this.getConstants().FIELD_TEXT_FONTWEIGHT,this.getConstants().FIELD_TEXT_FONTFAMILY);t=t?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;var i=0;this.svgArrow_&&(i=this.positionSVGArrow_(r+t,n/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2)),this.size_.width=r+i+2*t,this.size_.height=n,this.positionTextElement_(t,r)},e.FieldDropdown.prototype.positionSVGArrow_=function(e,t){if(!this.svgArrow_)return 0;var n=this.borderRect_?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0,r=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_PADDING,i=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE;return this.svgArrow_.setAttribute("transform","translate("+(this.sourceBlock_.RTL?n:e+r)+","+t+")"),i+r},e.FieldDropdown.prototype.getText_=function(){if(!this.selectedOption_)return null;var e=this.selectedOption_[0];return"object"==typeof e?e.alt:e},e.FieldDropdown.validateOptions_=function(e){if(!Array.isArray(e))throw TypeError("FieldDropdown options must be an array.");if(!e.length)throw TypeError("FieldDropdown options must not be an empty array.");for(var t=!1,n=0;n<e.length;++n){var r=e[n];Array.isArray(r)?"string"!=typeof r[1]?(t=!0,console.error("Invalid option["+n+"]: Each FieldDropdown option id must be a string. Found "+r[1]+" in: ",r)):r[0]&&"string"!=typeof r[0]&&"string"!=typeof r[0].src&&(t=!0,console.error("Invalid option["+n+"]: Each FieldDropdown option must have a string label or image description. Found"+r[0]+" in: ",r)):(t=!0,console.error("Invalid option["+n+"]: Each FieldDropdown option must be an array. Found: ",r))}if(t)throw TypeError("Found invalid FieldDropdown options.")},e.fieldRegistry.register("field_dropdown",e.FieldDropdown),e.FieldLabelSerializable=function(t,n,r){e.FieldLabelSerializable.superClass_.constructor.call(this,t,n,r)},e.utils.object.inherits(e.FieldLabelSerializable,e.FieldLabel),e.FieldLabelSerializable.fromJson=function(t){var n=e.utils.replaceMessageReferences(t.text);return new e.FieldLabelSerializable(n,void 0,t)},e.FieldLabelSerializable.prototype.EDITABLE=!1,e.FieldLabelSerializable.prototype.SERIALIZABLE=!0,e.fieldRegistry.register("field_label_serializable",e.FieldLabelSerializable),e.FieldImage=function(t,n,r,i,o,s,a){if(!t)throw Error("Src value of an image field is required");if(t=e.utils.replaceMessageReferences(t),r=Number(e.utils.replaceMessageReferences(r)),n=Number(e.utils.replaceMessageReferences(n)),isNaN(r)||isNaN(n))throw Error("Height and width values of an image field must cast to numbers.");if(0>=r||0>=n)throw Error("Height and width values of an image field must be greater than 0.");this.flipRtl_=!1,this.altText_="",e.FieldImage.superClass_.constructor.call(this,t,null,a),a||(this.flipRtl_=!!s,this.altText_=e.utils.replaceMessageReferences(i)||""),this.size_=new e.utils.Size(n,r+e.FieldImage.Y_PADDING),this.imageHeight_=r,this.clickHandler_=null,"function"==typeof o&&(this.clickHandler_=o),this.imageElement_=null},e.utils.object.inherits(e.FieldImage,e.Field),e.FieldImage.prototype.DEFAULT_VALUE="",e.FieldImage.fromJson=function(t){return new e.FieldImage(t.src,t.width,t.height,void 0,void 0,void 0,t)},e.FieldImage.Y_PADDING=1,e.FieldImage.prototype.EDITABLE=!1,e.FieldImage.prototype.isDirty_=!1,e.FieldImage.prototype.configure_=function(t){e.FieldImage.superClass_.configure_.call(this,t),this.flipRtl_=!!t.flipRtl,this.altText_=e.utils.replaceMessageReferences(t.alt)||""},e.FieldImage.prototype.initView=function(){this.imageElement_=e.utils.dom.createSvgElement(e.utils.Svg.IMAGE,{height:this.imageHeight_+"px",width:this.size_.width+"px",alt:this.altText_},this.fieldGroup_),this.imageElement_.setAttributeNS(e.utils.dom.XLINK_NS,"xlink:href",this.value_),this.clickHandler_&&(this.imageElement_.style.cursor="pointer")},e.FieldImage.prototype.updateSize_=function(){},e.FieldImage.prototype.doClassValidation_=function(e){return"string"!=typeof e?null:e},e.FieldImage.prototype.doValueUpdate_=function(t){this.value_=t,this.imageElement_&&this.imageElement_.setAttributeNS(e.utils.dom.XLINK_NS,"xlink:href",String(this.value_))},e.FieldImage.prototype.getFlipRtl=function(){return this.flipRtl_},e.FieldImage.prototype.setAlt=function(e){e!=this.altText_&&(this.altText_=e||"",this.imageElement_&&this.imageElement_.setAttribute("alt",this.altText_))},e.FieldImage.prototype.showEditor_=function(){this.clickHandler_&&this.clickHandler_(this)},e.FieldImage.prototype.setOnClickHandler=function(e){this.clickHandler_=e},e.FieldImage.prototype.getText_=function(){return this.altText_},e.fieldRegistry.register("field_image",e.FieldImage),e.FieldMultilineInput=function(t,n,r){e.FieldMultilineInput.superClass_.constructor.call(this,t,n,r),this.textGroup_=null,this.maxLines_=1/0,this.isOverflowedY_=!1},e.utils.object.inherits(e.FieldMultilineInput,e.FieldTextInput),e.FieldMultilineInput.prototype.configure_=function(t){e.FieldMultilineInput.superClass_.configure_.call(this,t),t.maxLines&&this.setMaxLines(t.maxLines)},e.FieldMultilineInput.fromJson=function(t){var n=e.utils.replaceMessageReferences(t.text);return new e.FieldMultilineInput(n,void 0,t)},e.FieldMultilineInput.prototype.toXml=function(e){return e.textContent=this.getValue().replace(/\n/g,"&#10;"),e},e.FieldMultilineInput.prototype.fromXml=function(e){this.setValue(e.textContent.replace(/&#10;/g,"\n"))},e.FieldMultilineInput.prototype.initView=function(){this.createBorderRect_(),this.textGroup_=e.utils.dom.createSvgElement(e.utils.Svg.G,{class:"blocklyEditableText"},this.fieldGroup_)},e.FieldMultilineInput.prototype.getDisplayText_=function(){var t=this.getText();if(!t)return e.Field.NBSP;var n=t.split("\n");t="";for(var r=this.isOverflowedY_?this.maxLines_:n.length,i=0;i<r;i++){var o=n[i];o.length>this.maxDisplayLength?o=o.substring(0,this.maxDisplayLength-4)+"...":this.isOverflowedY_&&i===r-1&&(o=o.substring(0,o.length-3)+"..."),t+=o=o.replace(/\s/g,e.Field.NBSP),i!==r-1&&(t+="\n")}return this.sourceBlock_.RTL&&(t+="\u200f"),t},e.FieldMultilineInput.prototype.doValueUpdate_=function(t){e.FieldMultilineInput.superClass_.doValueUpdate_.call(this,t),this.isOverflowedY_=this.value_.split("\n").length>this.maxLines_},e.FieldMultilineInput.prototype.render_=function(){for(var t;t=this.textGroup_.firstChild;)this.textGroup_.removeChild(t);t=this.getDisplayText_().split("\n");for(var n=0,r=0;r<t.length;r++){var i=this.getConstants().FIELD_TEXT_HEIGHT+this.getConstants().FIELD_BORDER_RECT_Y_PADDING;e.utils.dom.createSvgElement(e.utils.Svg.TEXT,{class:"blocklyText blocklyMultilineText",x:this.getConstants().FIELD_BORDER_RECT_X_PADDING,y:n+this.getConstants().FIELD_BORDER_RECT_Y_PADDING,dy:this.getConstants().FIELD_TEXT_BASELINE},this.textGroup_).appendChild(document.createTextNode(t[r])),n+=i}this.isBeingEdited_&&(t=this.htmlInput_,this.isOverflowedY_?e.utils.dom.addClass(t,"blocklyHtmlTextAreaInputOverflowedY"):e.utils.dom.removeClass(t,"blocklyHtmlTextAreaInputOverflowedY")),this.updateSize_(),this.isBeingEdited_&&(this.sourceBlock_.RTL?setTimeout(this.resizeEditor_.bind(this),0):this.resizeEditor_(),t=this.htmlInput_,this.isTextValid_?(e.utils.dom.removeClass(t,"blocklyInvalidInput"),e.utils.aria.setState(t,e.utils.aria.State.INVALID,!1)):(e.utils.dom.addClass(t,"blocklyInvalidInput"),e.utils.aria.setState(t,e.utils.aria.State.INVALID,!0)))},e.FieldMultilineInput.prototype.updateSize_=function(){for(var t=this.textGroup_.childNodes,n=0,r=0,i=0;i<t.length;i++){var o=e.utils.dom.getTextWidth(t[i]);o>n&&(n=o),r+=this.getConstants().FIELD_TEXT_HEIGHT+(0<i?this.getConstants().FIELD_BORDER_RECT_Y_PADDING:0)}if(this.isBeingEdited_){t=this.value_.split("\n"),o=e.utils.dom.createSvgElement(e.utils.Svg.TEXT,{class:"blocklyText blocklyMultilineText"});var s=this.getConstants().FIELD_TEXT_FONTSIZE,a=this.getConstants().FIELD_TEXT_FONTWEIGHT,l=this.getConstants().FIELD_TEXT_FONTFAMILY;for(i=0;i<t.length;i++){t[i].length>this.maxDisplayLength&&(t[i]=t[i].substring(0,this.maxDisplayLength)),o.textContent=t[i];var c=e.utils.dom.getFastTextWidth(o,s,a,l);c>n&&(n=c)}n+=this.htmlInput_.offsetWidth-this.htmlInput_.clientWidth}this.borderRect_&&(r+=2*this.getConstants().FIELD_BORDER_RECT_Y_PADDING,n+=2*this.getConstants().FIELD_BORDER_RECT_X_PADDING,this.borderRect_.setAttribute("width",n),this.borderRect_.setAttribute("height",r)),this.size_.width=n,this.size_.height=r,this.positionBorderRect_()},e.FieldMultilineInput.prototype.showEditor_=function(t,n){e.FieldMultilineInput.superClass_.showEditor_.call(this,t,n),this.forceRerender()},e.FieldMultilineInput.prototype.widgetCreate_=function(){var t=e.WidgetDiv.DIV,n=this.workspace_.getScale(),r=document.createElement("textarea");r.className="blocklyHtmlInput blocklyHtmlTextAreaInput",r.setAttribute("spellcheck",this.spellcheck_);var i=this.getConstants().FIELD_TEXT_FONTSIZE*n+"pt";t.style.fontSize=i,r.style.fontSize=i,r.style.borderRadius=e.FieldTextInput.BORDERRADIUS*n+"px",i=this.getConstants().FIELD_BORDER_RECT_X_PADDING*n;var o=this.getConstants().FIELD_BORDER_RECT_Y_PADDING*n/2;return r.style.padding=o+"px "+i+"px "+o+"px "+i+"px",i=this.getConstants().FIELD_TEXT_HEIGHT+this.getConstants().FIELD_BORDER_RECT_Y_PADDING,r.style.lineHeight=i*n+"px",t.appendChild(r),r.value=r.defaultValue=this.getEditorText_(this.value_),r.untypedDefaultValue_=this.value_,r.oldValue_=null,e.utils.userAgent.GECKO?setTimeout(this.resizeEditor_.bind(this),0):this.resizeEditor_(),this.bindInputEvents_(r),r},e.FieldMultilineInput.prototype.setMaxLines=function(e){"number"===typeof e&&0<e&&e!==this.maxLines_&&(this.maxLines_=e,this.forceRerender())},e.FieldMultilineInput.prototype.getMaxLines=function(){return this.maxLines_},e.FieldMultilineInput.prototype.onHtmlInputKeyDown_=function(t){t.keyCode!==e.utils.KeyCodes.ENTER&&e.FieldMultilineInput.superClass_.onHtmlInputKeyDown_.call(this,t)},e.Css.register(".blocklyHtmlTextAreaInput {,font-family: monospace;,resize: none;,overflow: hidden;,height: 100%;,text-align: left;,},.blocklyHtmlTextAreaInputOverflowedY {,overflow-y: scroll;,}".split(",")),e.fieldRegistry.register("field_multilinetext",e.FieldMultilineInput),e.FieldNumber=function(t,n,r,i,o,s){this.min_=-1/0,this.max_=1/0,this.precision_=0,this.decimalPlaces_=null,e.FieldNumber.superClass_.constructor.call(this,t,o,s),s||this.setConstraints(n,r,i)},e.utils.object.inherits(e.FieldNumber,e.FieldTextInput),e.FieldNumber.prototype.DEFAULT_VALUE=0,e.FieldNumber.fromJson=function(t){return new e.FieldNumber(t.value,void 0,void 0,void 0,void 0,t)},e.FieldNumber.prototype.SERIALIZABLE=!0,e.FieldNumber.prototype.configure_=function(t){e.FieldNumber.superClass_.configure_.call(this,t),this.setMinInternal_(t.min),this.setMaxInternal_(t.max),this.setPrecisionInternal_(t.precision)},e.FieldNumber.prototype.setConstraints=function(e,t,n){this.setMinInternal_(e),this.setMaxInternal_(t),this.setPrecisionInternal_(n),this.setValue(this.getValue())},e.FieldNumber.prototype.setMin=function(e){this.setMinInternal_(e),this.setValue(this.getValue())},e.FieldNumber.prototype.setMinInternal_=function(e){null==e?this.min_=-1/0:(e=Number(e),isNaN(e)||(this.min_=e))},e.FieldNumber.prototype.getMin=function(){return this.min_},e.FieldNumber.prototype.setMax=function(e){this.setMaxInternal_(e),this.setValue(this.getValue())},e.FieldNumber.prototype.setMaxInternal_=function(e){null==e?this.max_=1/0:(e=Number(e),isNaN(e)||(this.max_=e))},e.FieldNumber.prototype.getMax=function(){return this.max_},e.FieldNumber.prototype.setPrecision=function(e){this.setPrecisionInternal_(e),this.setValue(this.getValue())},e.FieldNumber.prototype.setPrecisionInternal_=function(e){this.precision_=Number(e)||0;var t=String(this.precision_);-1!=t.indexOf("e")&&(t=this.precision_.toLocaleString("en-US",{maximumFractionDigits:20}));var n=t.indexOf(".");this.decimalPlaces_=-1==n?e?0:null:t.length-n-1},e.FieldNumber.prototype.getPrecision=function(){return this.precision_},e.FieldNumber.prototype.doClassValidation_=function(e){return null===e?null:(e=(e=(e=(e=String(e)).replace(/O/gi,"0")).replace(/,/g,"")).replace(/infinity/i,"Infinity"),e=Number(e||0),isNaN(e)?null:(e=Math.min(Math.max(e,this.min_),this.max_),this.precision_&&isFinite(e)&&(e=Math.round(e/this.precision_)*this.precision_),null!=this.decimalPlaces_&&(e=Number(e.toFixed(this.decimalPlaces_))),e))},e.FieldNumber.prototype.widgetCreate_=function(){var t=e.FieldNumber.superClass_.widgetCreate_.call(this);return-1/0<this.min_&&e.utils.aria.setState(t,e.utils.aria.State.VALUEMIN,this.min_),1/0>this.max_&&e.utils.aria.setState(t,e.utils.aria.State.VALUEMAX,this.max_),t},e.fieldRegistry.register("field_number",e.FieldNumber),e.FieldVariable=function(t,n,r,i,o){this.menuGenerator_=e.FieldVariable.dropdownCreate,this.defaultVariableName="string"===typeof t?t:"",this.size_=new e.utils.Size(0,0),o&&this.configure_(o),n&&this.setValidator(n),o||this.setTypes_(r,i)},e.utils.object.inherits(e.FieldVariable,e.FieldDropdown),e.FieldVariable.fromJson=function(t){var n=e.utils.replaceMessageReferences(t.variable);return new e.FieldVariable(n,void 0,void 0,void 0,t)},e.FieldVariable.prototype.SERIALIZABLE=!0,e.FieldVariable.prototype.configure_=function(t){e.FieldVariable.superClass_.configure_.call(this,t),this.setTypes_(t.variableTypes,t.defaultType)},e.FieldVariable.prototype.initModel=function(){if(!this.variable_){var t=e.Variables.getOrCreateVariablePackage(this.sourceBlock_.workspace,null,this.defaultVariableName,this.defaultType_);this.doValueUpdate_(t.getId())}},e.FieldVariable.prototype.shouldAddBorderRect_=function(){return e.FieldVariable.superClass_.shouldAddBorderRect_.call(this)&&(!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||"variables_get"!=this.sourceBlock_.type)},e.FieldVariable.prototype.fromXml=function(t){var n=t.getAttribute("id"),r=t.textContent,i=t.getAttribute("variabletype")||t.getAttribute("variableType")||"";if(n=e.Variables.getOrCreateVariablePackage(this.sourceBlock_.workspace,n,r,i),null!=i&&i!==n.type)throw Error("Serialized variable type with id '"+n.getId()+"' had type "+n.type+", and does not match variable field that references it: "+e.Xml.domToText(t)+".");this.setValue(n.getId())},e.FieldVariable.prototype.toXml=function(e){return this.initModel(),e.id=this.variable_.getId(),e.textContent=this.variable_.name,this.variable_.type&&e.setAttribute("variabletype",this.variable_.type),e},e.FieldVariable.prototype.setSourceBlock=function(t){if(t.isShadow())throw Error("Variable fields are not allowed to exist on shadow blocks.");e.FieldVariable.superClass_.setSourceBlock.call(this,t)},e.FieldVariable.prototype.getValue=function(){return this.variable_?this.variable_.getId():null},e.FieldVariable.prototype.getText=function(){return this.variable_?this.variable_.name:""},e.FieldVariable.prototype.getVariable=function(){return this.variable_},e.FieldVariable.prototype.getValidator=function(){return this.variable_?this.validator_:null},e.FieldVariable.prototype.doClassValidation_=function(t){if(null===t)return null;var n=e.Variables.getVariable(this.sourceBlock_.workspace,t);return n?(n=n.type,this.typeIsAllowed_(n)?t:(console.warn("Variable type doesn't match this field!  Type was "+n),null)):(console.warn("Variable id doesn't point to a real variable! ID was "+t),null)},e.FieldVariable.prototype.doValueUpdate_=function(t){this.variable_=e.Variables.getVariable(this.sourceBlock_.workspace,t),e.FieldVariable.superClass_.doValueUpdate_.call(this,t)},e.FieldVariable.prototype.typeIsAllowed_=function(e){var t=this.getVariableTypes_();if(!t)return!0;for(var n=0;n<t.length;n++)if(e==t[n])return!0;return!1},e.FieldVariable.prototype.getVariableTypes_=function(){var e=this.variableTypes;if(null===e&&this.sourceBlock_&&this.sourceBlock_.workspace)return this.sourceBlock_.workspace.getVariableTypes();if(0==(e=e||[""]).length)throw e=this.getText(),Error("'variableTypes' of field variable "+e+" was an empty list");return e},e.FieldVariable.prototype.setTypes_=function(e,t){if(t=t||"",null==e||void 0==e)e=null;else{if(!Array.isArray(e))throw Error("'variableTypes' was not an array in the definition of a FieldVariable");for(var n=!1,r=0;r<e.length;r++)e[r]==t&&(n=!0);if(!n)throw Error("Invalid default type '"+t+"' in the definition of a FieldVariable")}this.defaultType_=t,this.variableTypes=e},e.FieldVariable.prototype.refreshVariableName=function(){this.forceRerender()},e.FieldVariable.dropdownCreate=function(){if(!this.variable_)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");var t=this.getText(),n=[];if(this.sourceBlock_&&this.sourceBlock_.workspace)for(var r=this.getVariableTypes_(),i=0;i<r.length;i++){var o=this.sourceBlock_.workspace.getVariablesOfType(r[i]);n=n.concat(o)}for(n.sort(e.VariableModel.compareByName),r=[],i=0;i<n.length;i++)r[i]=[n[i].name,n[i].getId()];return r.push([e.Msg.RENAME_VARIABLE,e.RENAME_VARIABLE_ID]),e.Msg.DELETE_VARIABLE&&r.push([e.Msg.DELETE_VARIABLE.replace("%1",t),e.DELETE_VARIABLE_ID]),r},e.FieldVariable.prototype.onItemSelected_=function(t,n){if(t=n.getValue(),this.sourceBlock_&&this.sourceBlock_.workspace){if(t==e.RENAME_VARIABLE_ID)return void e.Variables.renameVariable(this.sourceBlock_.workspace,this.variable_);if(t==e.DELETE_VARIABLE_ID)return void this.sourceBlock_.workspace.deleteVariableById(this.variable_.getId())}this.setValue(t)},e.FieldVariable.prototype.referencesVariables=function(){return!0},e.fieldRegistry.register("field_variable",e.FieldVariable),e.utils.svgPaths={},e.utils.svgPaths.point=function(e,t){return" "+e+","+t+" "},e.utils.svgPaths.curve=function(e,t){return" "+e+t.join("")},e.utils.svgPaths.moveTo=function(e,t){return" M "+e+","+t+" "},e.utils.svgPaths.moveBy=function(e,t){return" m "+e+","+t+" "},e.utils.svgPaths.lineTo=function(e,t){return" l "+e+","+t+" "},e.utils.svgPaths.line=function(e){return" l"+e.join("")},e.utils.svgPaths.lineOnAxis=function(e,t){return" "+e+" "+t+" "},e.utils.svgPaths.arc=function(e,t,n,r){return e+" "+n+" "+n+" "+t+r},e.blockRendering.ConstantProvider=function(){this.NO_PADDING=0,this.SMALL_PADDING=3,this.MEDIUM_PADDING=5,this.MEDIUM_LARGE_PADDING=8,this.LARGE_PADDING=10,this.TALL_INPUT_FIELD_OFFSET_Y=this.MEDIUM_PADDING,this.TAB_HEIGHT=15,this.TAB_OFFSET_FROM_TOP=5,this.TAB_VERTICAL_OVERLAP=2.5,this.TAB_WIDTH=8,this.NOTCH_WIDTH=15,this.NOTCH_HEIGHT=4,this.MIN_BLOCK_WIDTH=12,this.EMPTY_BLOCK_SPACER_HEIGHT=16,this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=this.DUMMY_INPUT_MIN_HEIGHT=this.TAB_HEIGHT,this.CORNER_RADIUS=8,this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT=15,this.STATEMENT_BOTTOM_SPACER=0,this.STATEMENT_INPUT_PADDING_LEFT=20,this.BETWEEN_STATEMENT_PADDING_Y=4,this.TOP_ROW_MIN_HEIGHT=this.MEDIUM_PADDING,this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.BOTTOM_ROW_MIN_HEIGHT=this.MEDIUM_PADDING,this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.ADD_START_HATS=!1,this.START_HAT_HEIGHT=15,this.START_HAT_WIDTH=100,this.SPACER_DEFAULT_HEIGHT=15,this.MIN_BLOCK_HEIGHT=24,this.EMPTY_INLINE_INPUT_PADDING=14.5,this.EMPTY_INLINE_INPUT_HEIGHT=this.TAB_HEIGHT+11,this.EXTERNAL_VALUE_INPUT_PADDING=2,this.EMPTY_STATEMENT_INPUT_HEIGHT=this.MIN_BLOCK_HEIGHT,this.START_POINT=e.utils.svgPaths.moveBy(0,0),this.JAGGED_TEETH_HEIGHT=12,this.JAGGED_TEETH_WIDTH=6,this.FIELD_TEXT_FONTSIZE=11,this.FIELD_TEXT_FONTWEIGHT="normal",this.FIELD_TEXT_FONTFAMILY="sans-serif",this.FIELD_TEXT_BASELINE=this.FIELD_TEXT_HEIGHT=-1,this.FIELD_BORDER_RECT_RADIUS=4,this.FIELD_BORDER_RECT_HEIGHT=16,this.FIELD_BORDER_RECT_X_PADDING=5,this.FIELD_BORDER_RECT_Y_PADDING=3,this.FIELD_BORDER_RECT_COLOUR="#fff",this.FIELD_TEXT_BASELINE_CENTER=!e.utils.userAgent.IE&&!e.utils.userAgent.EDGE,this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT,this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!1,this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING,this.FIELD_DROPDOWN_SVG_ARROW_SIZE=12,this.FIELD_DROPDOWN_SVG_ARROW_DATAURI="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaGVpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLWFycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuNDEsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTDAuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNzFDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMCwxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNzlhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYzAuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMzdBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=",this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=!1,this.FIELD_COLOUR_DEFAULT_WIDTH=26,this.FIELD_COLOUR_DEFAULT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT,this.FIELD_CHECKBOX_X_OFFSET=this.FIELD_BORDER_RECT_X_PADDING-3,this.randomIdentifier=String(Math.random()).substring(2),this.embossFilterId="",this.embossFilter_=null,this.disabledPatternId="",this.disabledPattern_=null,this.debugFilterId="",this.cssNode_=this.debugFilter_=null,this.CURSOR_COLOUR="#cc0a0a",this.MARKER_COLOUR="#4286f4",this.CURSOR_WS_WIDTH=100,this.WS_CURSOR_HEIGHT=5,this.CURSOR_STACK_PADDING=10,this.CURSOR_BLOCK_PADDING=2,this.CURSOR_STROKE_WIDTH=4,this.FULL_BLOCK_FIELDS=!1,this.INSERTION_MARKER_COLOUR="#000000",this.INSERTION_MARKER_OPACITY=.2,this.SHAPES={PUZZLE:1,NOTCH:2}},e.blockRendering.ConstantProvider.prototype.init=function(){this.JAGGED_TEETH=this.makeJaggedTeeth(),this.NOTCH=this.makeNotch(),this.START_HAT=this.makeStartHat(),this.PUZZLE_TAB=this.makePuzzleTab(),this.INSIDE_CORNERS=this.makeInsideCorners(),this.OUTSIDE_CORNERS=this.makeOutsideCorners()},e.blockRendering.ConstantProvider.prototype.setTheme=function(e){this.blockStyles=Object.create(null);var t,n=e.blockStyles;for(t in n)this.blockStyles[t]=this.validatedBlockStyle_(n[t]);this.setDynamicProperties_(e)},e.blockRendering.ConstantProvider.prototype.setDynamicProperties_=function(e){this.setFontConstants_(e),this.setComponentConstants_(e),this.ADD_START_HATS=null!=e.startHats?e.startHats:this.ADD_START_HATS},e.blockRendering.ConstantProvider.prototype.setFontConstants_=function(t){this.FIELD_TEXT_FONTFAMILY=t.fontStyle&&void 0!=t.fontStyle.family?t.fontStyle.family:this.FIELD_TEXT_FONTFAMILY,this.FIELD_TEXT_FONTWEIGHT=t.fontStyle&&void 0!=t.fontStyle.weight?t.fontStyle.weight:this.FIELD_TEXT_FONTWEIGHT,this.FIELD_TEXT_FONTSIZE=t.fontStyle&&void 0!=t.fontStyle.size?t.fontStyle.size:this.FIELD_TEXT_FONTSIZE,t=e.utils.dom.measureFontMetrics("Hg",this.FIELD_TEXT_FONTSIZE+"pt",this.FIELD_TEXT_FONTWEIGHT,this.FIELD_TEXT_FONTFAMILY),this.FIELD_TEXT_HEIGHT=t.height,this.FIELD_TEXT_BASELINE=t.baseline},e.blockRendering.ConstantProvider.prototype.setComponentConstants_=function(e){this.CURSOR_COLOUR=e.getComponentStyle("cursorColour")||this.CURSOR_COLOUR,this.MARKER_COLOUR=e.getComponentStyle("markerColour")||this.MARKER_COLOUR,this.INSERTION_MARKER_COLOUR=e.getComponentStyle("insertionMarkerColour")||this.INSERTION_MARKER_COLOUR,this.INSERTION_MARKER_OPACITY=Number(e.getComponentStyle("insertionMarkerOpacity"))||this.INSERTION_MARKER_OPACITY},e.blockRendering.ConstantProvider.prototype.getBlockStyleForColour=function(e){var t="auto_"+e;return this.blockStyles[t]||(this.blockStyles[t]=this.createBlockStyle_(e)),{style:this.blockStyles[t],name:t}},e.blockRendering.ConstantProvider.prototype.getBlockStyle=function(e){return this.blockStyles[e||""]||(e&&0==e.indexOf("auto_")?this.getBlockStyleForColour(e.substring(5)).style:this.createBlockStyle_("#000000"))},e.blockRendering.ConstantProvider.prototype.createBlockStyle_=function(e){return this.validatedBlockStyle_({colourPrimary:e})},e.blockRendering.ConstantProvider.prototype.validatedBlockStyle_=function(t){var n={};return t&&e.utils.object.mixin(n,t),t=e.utils.parseBlockColour(n.colourPrimary||"#000"),n.colourPrimary=t.hex,n.colourSecondary=n.colourSecondary?e.utils.parseBlockColour(n.colourSecondary).hex:this.generateSecondaryColour_(n.colourPrimary),n.colourTertiary=n.colourTertiary?e.utils.parseBlockColour(n.colourTertiary).hex:this.generateTertiaryColour_(n.colourPrimary),n.hat=n.hat||"",n},e.blockRendering.ConstantProvider.prototype.generateSecondaryColour_=function(t){return e.utils.colour.blend("#fff",t,.6)||t},e.blockRendering.ConstantProvider.prototype.generateTertiaryColour_=function(t){return e.utils.colour.blend("#fff",t,.3)||t},e.blockRendering.ConstantProvider.prototype.dispose=function(){this.embossFilter_&&e.utils.dom.removeNode(this.embossFilter_),this.disabledPattern_&&e.utils.dom.removeNode(this.disabledPattern_),this.debugFilter_&&e.utils.dom.removeNode(this.debugFilter_),this.cssNode_=null},e.blockRendering.ConstantProvider.prototype.makeJaggedTeeth=function(){var t=this.JAGGED_TEETH_HEIGHT,n=this.JAGGED_TEETH_WIDTH;return{height:t,width:n,path:e.utils.svgPaths.line([e.utils.svgPaths.point(n,t/4),e.utils.svgPaths.point(2*-n,t/2),e.utils.svgPaths.point(n,t/4)])}},e.blockRendering.ConstantProvider.prototype.makeStartHat=function(){var t=this.START_HAT_HEIGHT,n=this.START_HAT_WIDTH;return{height:t,width:n,path:e.utils.svgPaths.curve("c",[e.utils.svgPaths.point(30,-t),e.utils.svgPaths.point(70,-t),e.utils.svgPaths.point(n,0)])}},e.blockRendering.ConstantProvider.prototype.makePuzzleTab=function(){function t(t){var i=-(t=t?-1:1),o=r/2,s=o+2.5,a=o+.5,l=e.utils.svgPaths.point(-n,t*o);return o=e.utils.svgPaths.point(n,t*o),e.utils.svgPaths.curve("c",[e.utils.svgPaths.point(0,t*s),e.utils.svgPaths.point(-n,i*a),l])+e.utils.svgPaths.curve("s",[e.utils.svgPaths.point(n,2.5*i),o])}var n=this.TAB_WIDTH,r=this.TAB_HEIGHT,i=t(!0),o=t(!1);return{type:this.SHAPES.PUZZLE,width:n,height:r,pathDown:o,pathUp:i}},e.blockRendering.ConstantProvider.prototype.makeNotch=function(){function t(t){return e.utils.svgPaths.line([e.utils.svgPaths.point(t*i,r),e.utils.svgPaths.point(3*t,0),e.utils.svgPaths.point(t*i,-r)])}var n=this.NOTCH_WIDTH,r=this.NOTCH_HEIGHT,i=(n-3)/2,o=t(1),s=t(-1);return{type:this.SHAPES.NOTCH,width:n,height:r,pathLeft:o,pathRight:s}},e.blockRendering.ConstantProvider.prototype.makeInsideCorners=function(){var t=this.CORNER_RADIUS;return{width:t,height:t,pathTop:e.utils.svgPaths.arc("a","0 0,0",t,e.utils.svgPaths.point(-t,t)),pathBottom:e.utils.svgPaths.arc("a","0 0,0",t,e.utils.svgPaths.point(t,t))}},e.blockRendering.ConstantProvider.prototype.makeOutsideCorners=function(){var t=this.CORNER_RADIUS,n=e.utils.svgPaths.moveBy(0,t)+e.utils.svgPaths.arc("a","0 0,1",t,e.utils.svgPaths.point(t,-t)),r=e.utils.svgPaths.arc("a","0 0,1",t,e.utils.svgPaths.point(t,t)),i=e.utils.svgPaths.arc("a","0 0,1",t,e.utils.svgPaths.point(-t,-t));return{topLeft:n,topRight:r,bottomRight:e.utils.svgPaths.arc("a","0 0,1",t,e.utils.svgPaths.point(-t,t)),bottomLeft:i,rightHeight:t}},e.blockRendering.ConstantProvider.prototype.shapeFor=function(t){switch(t.type){case e.connectionTypes.INPUT_VALUE:case e.connectionTypes.OUTPUT_VALUE:return this.PUZZLE_TAB;case e.connectionTypes.PREVIOUS_STATEMENT:case e.connectionTypes.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown connection type")}},e.blockRendering.ConstantProvider.prototype.createDom=function(t,n,r){this.injectCSS_(n,r),t=e.utils.dom.createSvgElement(e.utils.Svg.DEFS,{},t),n=e.utils.dom.createSvgElement(e.utils.Svg.FILTER,{id:"blocklyEmbossFilter"+this.randomIdentifier},t),e.utils.dom.createSvgElement(e.utils.Svg.FEGAUSSIANBLUR,{in:"SourceAlpha",stdDeviation:1,result:"blur"},n),r=e.utils.dom.createSvgElement(e.utils.Svg.FESPECULARLIGHTING,{in:"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,"lighting-color":"white",result:"specOut"},n),e.utils.dom.createSvgElement(e.utils.Svg.FEPOINTLIGHT,{x:-5e3,y:-1e4,z:2e4},r),e.utils.dom.createSvgElement(e.utils.Svg.FECOMPOSITE,{in:"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},n),e.utils.dom.createSvgElement(e.utils.Svg.FECOMPOSITE,{in:"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},n),this.embossFilterId=n.id,this.embossFilter_=n,n=e.utils.dom.createSvgElement(e.utils.Svg.PATTERN,{id:"blocklyDisabledPattern"+this.randomIdentifier,patternUnits:"userSpaceOnUse",width:10,height:10},t),e.utils.dom.createSvgElement(e.utils.Svg.RECT,{width:10,height:10,fill:"#aaa"},n),e.utils.dom.createSvgElement(e.utils.Svg.PATH,{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},n),this.disabledPatternId=n.id,this.disabledPattern_=n,e.blockRendering.Debug&&(t=e.utils.dom.createSvgElement(e.utils.Svg.FILTER,{id:"blocklyDebugFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},t),n=e.utils.dom.createSvgElement(e.utils.Svg.FECOMPONENTTRANSFER,{result:"outBlur"},t),e.utils.dom.createSvgElement(e.utils.Svg.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},n),e.utils.dom.createSvgElement(e.utils.Svg.FEFLOOD,{"flood-color":"#ff0000","flood-opacity":.5,result:"outColor"},t),e.utils.dom.createSvgElement(e.utils.Svg.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},t),this.debugFilterId=t.id,this.debugFilter_=t)},e.blockRendering.ConstantProvider.prototype.injectCSS_=function(e,t){t=this.getCSS_(t),e="blockly-renderer-style-"+e,this.cssNode_=document.getElementById(e);var n=t.join("\n");this.cssNode_?this.cssNode_.firstChild.textContent=n:((t=document.createElement("style")).id=e,e=document.createTextNode(n),t.appendChild(e),document.head.insertBefore(t,document.head.firstChild),this.cssNode_=t)},e.blockRendering.ConstantProvider.prototype.getCSS_=function(e){return[e+" .blocklyText, ",e+" .blocklyFlyoutLabelText {","font: "+this.FIELD_TEXT_FONTWEIGHT+" "+this.FIELD_TEXT_FONTSIZE+"pt "+this.FIELD_TEXT_FONTFAMILY+";","}",e+" .blocklyText {","fill: #fff;","}",e+" .blocklyNonEditableText>rect,",e+" .blocklyEditableText>rect {","fill: "+this.FIELD_BORDER_RECT_COLOUR+";","fill-opacity: .6;","stroke: none;","}",e+" .blocklyNonEditableText>text,",e+" .blocklyEditableText>text {","fill: #000;","}",e+" .blocklyFlyoutLabelText {","fill: #000;","}",e+" .blocklyText.blocklyBubbleText {","fill: #000;","}",e+" .blocklyEditableText:not(.editing):hover>rect {","stroke: #fff;","stroke-width: 2;","}",e+" .blocklyHtmlInput {","font-family: "+this.FIELD_TEXT_FONTFAMILY+";","font-weight: "+this.FIELD_TEXT_FONTWEIGHT+";","}",e+" .blocklySelected>.blocklyPath {","stroke: #fc3;","stroke-width: 3px;","}",e+" .blocklyHighlightedConnectionPath {","stroke: #fc3;","}",e+" .blocklyReplaceable .blocklyPath {","fill-opacity: .5;","}",e+" .blocklyReplaceable .blocklyPathLight,",e+" .blocklyReplaceable .blocklyPathDark {","display: none;","}",e+" .blocklyInsertionMarker>.blocklyPath {","fill-opacity: "+this.INSERTION_MARKER_OPACITY+";","stroke: none;","}"]},e.blockRendering.Types={NONE:0,FIELD:1,HAT:2,ICON:4,SPACER:8,BETWEEN_ROW_SPACER:16,IN_ROW_SPACER:32,EXTERNAL_VALUE_INPUT:64,INPUT:128,INLINE_INPUT:256,STATEMENT_INPUT:512,CONNECTION:1024,PREVIOUS_CONNECTION:2048,NEXT_CONNECTION:4096,OUTPUT_CONNECTION:8192,CORNER:16384,LEFT_SQUARE_CORNER:32768,LEFT_ROUND_CORNER:65536,RIGHT_SQUARE_CORNER:131072,RIGHT_ROUND_CORNER:262144,JAGGED_EDGE:524288,ROW:1048576,TOP_ROW:2097152,BOTTOM_ROW:4194304,INPUT_ROW:8388608},e.blockRendering.Types.LEFT_CORNER=e.blockRendering.Types.LEFT_SQUARE_CORNER|e.blockRendering.Types.LEFT_ROUND_CORNER,e.blockRendering.Types.RIGHT_CORNER=e.blockRendering.Types.RIGHT_SQUARE_CORNER|e.blockRendering.Types.RIGHT_ROUND_CORNER,e.blockRendering.Types.nextTypeValue_=16777216,e.blockRendering.Types.getType=function(t){return Object.prototype.hasOwnProperty.call(e.blockRendering.Types,t)||(e.blockRendering.Types[t]=e.blockRendering.Types.nextTypeValue_,e.blockRendering.Types.nextTypeValue_<<=1),e.blockRendering.Types[t]},e.blockRendering.Types.isField=function(t){return t.type&e.blockRendering.Types.FIELD},e.blockRendering.Types.isHat=function(t){return t.type&e.blockRendering.Types.HAT},e.blockRendering.Types.isIcon=function(t){return t.type&e.blockRendering.Types.ICON},e.blockRendering.Types.isSpacer=function(t){return t.type&e.blockRendering.Types.SPACER},e.blockRendering.Types.isInRowSpacer=function(t){return t.type&e.blockRendering.Types.IN_ROW_SPACER},e.blockRendering.Types.isInput=function(t){return t.type&e.blockRendering.Types.INPUT},e.blockRendering.Types.isExternalInput=function(t){return t.type&e.blockRendering.Types.EXTERNAL_VALUE_INPUT},e.blockRendering.Types.isInlineInput=function(t){return t.type&e.blockRendering.Types.INLINE_INPUT},e.blockRendering.Types.isStatementInput=function(t){return t.type&e.blockRendering.Types.STATEMENT_INPUT},e.blockRendering.Types.isPreviousConnection=function(t){return t.type&e.blockRendering.Types.PREVIOUS_CONNECTION},e.blockRendering.Types.isNextConnection=function(t){return t.type&e.blockRendering.Types.NEXT_CONNECTION},e.blockRendering.Types.isPreviousOrNextConnection=function(t){return t.type&(e.blockRendering.Types.PREVIOUS_CONNECTION|e.blockRendering.Types.NEXT_CONNECTION)},e.blockRendering.Types.isLeftRoundedCorner=function(t){return t.type&e.blockRendering.Types.LEFT_ROUND_CORNER},e.blockRendering.Types.isRightRoundedCorner=function(t){return t.type&e.blockRendering.Types.RIGHT_ROUND_CORNER},e.blockRendering.Types.isLeftSquareCorner=function(t){return t.type&e.blockRendering.Types.LEFT_SQUARE_CORNER},e.blockRendering.Types.isRightSquareCorner=function(t){return t.type&e.blockRendering.Types.RIGHT_SQUARE_CORNER},e.blockRendering.Types.isCorner=function(t){return t.type&e.blockRendering.Types.CORNER},e.blockRendering.Types.isJaggedEdge=function(t){return t.type&e.blockRendering.Types.JAGGED_EDGE},e.blockRendering.Types.isRow=function(t){return t.type&e.blockRendering.Types.ROW},e.blockRendering.Types.isBetweenRowSpacer=function(t){return t.type&e.blockRendering.Types.BETWEEN_ROW_SPACER},e.blockRendering.Types.isTopRow=function(t){return t.type&e.blockRendering.Types.TOP_ROW},e.blockRendering.Types.isBottomRow=function(t){return t.type&e.blockRendering.Types.BOTTOM_ROW},e.blockRendering.Types.isTopOrBottomRow=function(t){return t.type&(e.blockRendering.Types.TOP_ROW|e.blockRendering.Types.BOTTOM_ROW)},e.blockRendering.Types.isInputRow=function(t){return t.type&e.blockRendering.Types.INPUT_ROW},e.blockRendering.Measurable=function(t){this.height=this.width=0,this.type=e.blockRendering.Types.NONE,this.centerline=this.xPos=0,this.constants_=t,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT},e.blockRendering.Connection=function(t,n){e.blockRendering.Connection.superClass_.constructor.call(this,t),this.connectionModel=n,this.shape=this.constants_.shapeFor(n),this.isDynamicShape=!!this.shape.isDynamic,this.type|=e.blockRendering.Types.CONNECTION},e.utils.object.inherits(e.blockRendering.Connection,e.blockRendering.Measurable),e.blockRendering.OutputConnection=function(t,n){e.blockRendering.OutputConnection.superClass_.constructor.call(this,t,n),this.type|=e.blockRendering.Types.OUTPUT_CONNECTION,this.height=this.isDynamicShape?0:this.shape.height,this.startX=this.width=this.isDynamicShape?0:this.shape.width,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP,this.connectionOffsetX=0},e.utils.object.inherits(e.blockRendering.OutputConnection,e.blockRendering.Connection),e.blockRendering.PreviousConnection=function(t,n){e.blockRendering.PreviousConnection.superClass_.constructor.call(this,t,n),this.type|=e.blockRendering.Types.PREVIOUS_CONNECTION,this.height=this.shape.height,this.width=this.shape.width},e.utils.object.inherits(e.blockRendering.PreviousConnection,e.blockRendering.Connection),e.blockRendering.NextConnection=function(t,n){e.blockRendering.NextConnection.superClass_.constructor.call(this,t,n),this.type|=e.blockRendering.Types.NEXT_CONNECTION,this.height=this.shape.height,this.width=this.shape.width},e.utils.object.inherits(e.blockRendering.NextConnection,e.blockRendering.Connection),e.blockRendering.InputConnection=function(t,n){e.blockRendering.InputConnection.superClass_.constructor.call(this,t,n.connection),this.type|=e.blockRendering.Types.INPUT,this.input=n,this.align=n.align,(this.connectedBlock=n.connection&&n.connection.targetBlock()?n.connection.targetBlock():null)?(t=this.connectedBlock.getHeightWidth(),this.connectedBlockWidth=t.width,this.connectedBlockHeight=t.height):this.connectedBlockHeight=this.connectedBlockWidth=0,this.connectionOffsetY=this.connectionOffsetX=0},e.utils.object.inherits(e.blockRendering.InputConnection,e.blockRendering.Connection),e.blockRendering.InlineInput=function(t,n){e.blockRendering.InlineInput.superClass_.constructor.call(this,t,n),this.type|=e.blockRendering.Types.INLINE_INPUT,this.connectedBlock?(this.width=this.connectedBlockWidth,this.height=this.connectedBlockHeight):(this.height=this.constants_.EMPTY_INLINE_INPUT_HEIGHT,this.width=this.constants_.EMPTY_INLINE_INPUT_PADDING),this.connectionHeight=this.isDynamicShape?this.shape.height(this.height):this.shape.height,this.connectionWidth=this.isDynamicShape?this.shape.width(this.height):this.shape.width,this.connectedBlock||(this.width+=this.connectionWidth*(this.isDynamicShape?2:1)),this.connectionOffsetY=this.isDynamicShape?this.shape.connectionOffsetY(this.connectionHeight):this.constants_.TAB_OFFSET_FROM_TOP,this.connectionOffsetX=this.isDynamicShape?this.shape.connectionOffsetX(this.connectionWidth):0},e.utils.object.inherits(e.blockRendering.InlineInput,e.blockRendering.InputConnection),e.blockRendering.StatementInput=function(t,n){e.blockRendering.StatementInput.superClass_.constructor.call(this,t,n),this.type|=e.blockRendering.Types.STATEMENT_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight+this.constants_.STATEMENT_BOTTOM_SPACER:this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT,this.width=this.constants_.STATEMENT_INPUT_NOTCH_OFFSET+this.shape.width},e.utils.object.inherits(e.blockRendering.StatementInput,e.blockRendering.InputConnection),e.blockRendering.ExternalValueInput=function(t,n){e.blockRendering.ExternalValueInput.superClass_.constructor.call(this,t,n),this.type|=e.blockRendering.Types.EXTERNAL_VALUE_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight-this.constants_.TAB_OFFSET_FROM_TOP-this.constants_.MEDIUM_PADDING:this.shape.height,this.width=this.shape.width+this.constants_.EXTERNAL_VALUE_INPUT_PADDING,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP,this.connectionHeight=this.shape.height,this.connectionWidth=this.shape.width},e.utils.object.inherits(e.blockRendering.ExternalValueInput,e.blockRendering.InputConnection),e.blockRendering.Icon=function(t,n){e.blockRendering.Icon.superClass_.constructor.call(this,t),this.icon=n,this.isVisible=n.isVisible(),this.type|=e.blockRendering.Types.ICON,t=n.getCorrectedSize(),this.height=t.height,this.width=t.width},e.utils.object.inherits(e.blockRendering.Icon,e.blockRendering.Measurable),e.blockRendering.JaggedEdge=function(t){e.blockRendering.JaggedEdge.superClass_.constructor.call(this,t),this.type|=e.blockRendering.Types.JAGGED_EDGE,this.height=this.constants_.JAGGED_TEETH.height,this.width=this.constants_.JAGGED_TEETH.width},e.utils.object.inherits(e.blockRendering.JaggedEdge,e.blockRendering.Measurable),e.blockRendering.Field=function(t,n,r){e.blockRendering.Field.superClass_.constructor.call(this,t),this.field=n,this.isEditable=n.EDITABLE,this.flipRtl=n.getFlipRtl(),this.type|=e.blockRendering.Types.FIELD,t=this.field.getSize(),this.height=t.height,this.width=t.width,this.parentInput=r},e.utils.object.inherits(e.blockRendering.Field,e.blockRendering.Measurable),e.blockRendering.Hat=function(t){e.blockRendering.Hat.superClass_.constructor.call(this,t),this.type|=e.blockRendering.Types.HAT,this.height=this.constants_.START_HAT.height,this.width=this.constants_.START_HAT.width,this.ascenderHeight=this.height},e.utils.object.inherits(e.blockRendering.Hat,e.blockRendering.Measurable),e.blockRendering.SquareCorner=function(t,n){e.blockRendering.SquareCorner.superClass_.constructor.call(this,t),this.type=(n&&"left"!=n?e.blockRendering.Types.RIGHT_SQUARE_CORNER:e.blockRendering.Types.LEFT_SQUARE_CORNER)|e.blockRendering.Types.CORNER,this.width=this.height=this.constants_.NO_PADDING},e.utils.object.inherits(e.blockRendering.SquareCorner,e.blockRendering.Measurable),e.blockRendering.RoundCorner=function(t,n){e.blockRendering.RoundCorner.superClass_.constructor.call(this,t),this.type=(n&&"left"!=n?e.blockRendering.Types.RIGHT_ROUND_CORNER:e.blockRendering.Types.LEFT_ROUND_CORNER)|e.blockRendering.Types.CORNER,this.width=this.constants_.CORNER_RADIUS,this.height=this.constants_.CORNER_RADIUS/2},e.utils.object.inherits(e.blockRendering.RoundCorner,e.blockRendering.Measurable),e.blockRendering.InRowSpacer=function(t,n){e.blockRendering.InRowSpacer.superClass_.constructor.call(this,t),this.type=this.type|e.blockRendering.Types.SPACER|e.blockRendering.Types.IN_ROW_SPACER,this.width=n,this.height=this.constants_.SPACER_DEFAULT_HEIGHT},e.utils.object.inherits(e.blockRendering.InRowSpacer,e.blockRendering.Measurable),e.blockRendering.Row=function(t){this.type=e.blockRendering.Types.ROW,this.elements=[],this.xPos=this.yPos=this.widthWithConnectedBlocks=this.minWidth=this.minHeight=this.width=this.height=0,this.hasJaggedEdge=this.hasDummyInput=this.hasInlineInput=this.hasStatement=this.hasExternalInput=!1,this.constants_=t,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT,this.align=null},e.blockRendering.Row.prototype.measure=function(){throw Error("Unexpected attempt to measure a base Row.")},e.blockRendering.Row.prototype.getLastInput=function(){for(var t,n=this.elements.length-1;t=this.elements[n];n--)if(e.blockRendering.Types.isInput(t))return t;return null},e.blockRendering.Row.prototype.startsWithElemSpacer=function(){return!0},e.blockRendering.Row.prototype.endsWithElemSpacer=function(){return!0},e.blockRendering.Row.prototype.getFirstSpacer=function(){for(var t,n=0;t=this.elements[n];n++)if(e.blockRendering.Types.isSpacer(t))return t;return null},e.blockRendering.Row.prototype.getLastSpacer=function(){for(var t,n=this.elements.length-1;t=this.elements[n];n--)if(e.blockRendering.Types.isSpacer(t))return t;return null},e.blockRendering.TopRow=function(t){e.blockRendering.TopRow.superClass_.constructor.call(this,t),this.type|=e.blockRendering.Types.TOP_ROW,this.ascenderHeight=this.capline=0,this.hasPreviousConnection=!1,this.connection=null},e.utils.object.inherits(e.blockRendering.TopRow,e.blockRendering.Row),e.blockRendering.TopRow.prototype.hasLeftSquareCorner=function(e){var t=(e.hat?"cap"===e.hat:this.constants_.ADD_START_HATS)&&!e.outputConnection&&!e.previousConnection,n=e.getPreviousBlock();return!!e.outputConnection||t||!!n&&n.getNextBlock()==e},e.blockRendering.TopRow.prototype.hasRightSquareCorner=function(e){return!0},e.blockRendering.TopRow.prototype.measure=function(){for(var t,n=0,r=0,i=0,o=0;t=this.elements[o];o++)r+=t.width,e.blockRendering.Types.isSpacer(t)||(e.blockRendering.Types.isHat(t)?i=Math.max(i,t.ascenderHeight):n=Math.max(n,t.height));this.width=Math.max(this.minWidth,r),this.height=Math.max(this.minHeight,n)+i,this.capline=this.ascenderHeight=i,this.widthWithConnectedBlocks=this.width},e.blockRendering.TopRow.prototype.startsWithElemSpacer=function(){return!1},e.blockRendering.TopRow.prototype.endsWithElemSpacer=function(){return!1},e.blockRendering.BottomRow=function(t){e.blockRendering.BottomRow.superClass_.constructor.call(this,t),this.type|=e.blockRendering.Types.BOTTOM_ROW,this.hasNextConnection=!1,this.connection=null,this.baseline=this.descenderHeight=0},e.utils.object.inherits(e.blockRendering.BottomRow,e.blockRendering.Row),e.blockRendering.BottomRow.prototype.hasLeftSquareCorner=function(e){return!!e.outputConnection||!!e.getNextBlock()},e.blockRendering.BottomRow.prototype.hasRightSquareCorner=function(e){return!0},e.blockRendering.BottomRow.prototype.measure=function(){for(var t,n=0,r=0,i=0,o=0;t=this.elements[o];o++)r+=t.width,e.blockRendering.Types.isSpacer(t)||(e.blockRendering.Types.isNextConnection(t)?i=Math.max(i,t.height):n=Math.max(n,t.height));this.width=Math.max(this.minWidth,r),this.height=Math.max(this.minHeight,n)+i,this.descenderHeight=i,this.widthWithConnectedBlocks=this.width},e.blockRendering.BottomRow.prototype.startsWithElemSpacer=function(){return!1},e.blockRendering.BottomRow.prototype.endsWithElemSpacer=function(){return!1},e.blockRendering.SpacerRow=function(t,n,r){e.blockRendering.SpacerRow.superClass_.constructor.call(this,t),this.type=this.type|e.blockRendering.Types.SPACER|e.blockRendering.Types.BETWEEN_ROW_SPACER,this.width=r,this.height=n,this.followsStatement=!1,this.widthWithConnectedBlocks=0,this.elements=[new e.blockRendering.InRowSpacer(this.constants_,r)]},e.utils.object.inherits(e.blockRendering.SpacerRow,e.blockRendering.Row),e.blockRendering.SpacerRow.prototype.measure=function(){},e.blockRendering.InputRow=function(t){e.blockRendering.InputRow.superClass_.constructor.call(this,t),this.type|=e.blockRendering.Types.INPUT_ROW,this.connectedBlockWidths=0},e.utils.object.inherits(e.blockRendering.InputRow,e.blockRendering.Row),e.blockRendering.InputRow.prototype.measure=function(){this.width=this.minWidth,this.height=this.minHeight;for(var t,n=0,r=0;t=this.elements[r];r++)this.width+=t.width,e.blockRendering.Types.isInput(t)&&(e.blockRendering.Types.isStatementInput(t)?n+=t.connectedBlockWidth:e.blockRendering.Types.isExternalInput(t)&&0!=t.connectedBlockWidth&&(n+=t.connectedBlockWidth-t.connectionWidth)),e.blockRendering.Types.isSpacer(t)||(this.height=Math.max(this.height,t.height));this.connectedBlockWidths=n,this.widthWithConnectedBlocks=this.width+n},e.blockRendering.InputRow.prototype.endsWithElemSpacer=function(){return!this.hasExternalInput&&!this.hasStatement},e.blockRendering.RenderInfo=function(t,n){this.block_=n,this.renderer_=t,this.constants_=this.renderer_.getConstants(),this.outputConnection=n.outputConnection?new e.blockRendering.OutputConnection(this.constants_,n.outputConnection):null,this.isInline=n.getInputsInline()&&!n.isCollapsed(),this.isCollapsed=n.isCollapsed(),this.isInsertionMarker=n.isInsertionMarker(),this.RTL=n.RTL,this.statementEdge=this.width=this.widthWithChildren=this.height=0,this.rows=[],this.inputRows=[],this.hiddenIcons=[],this.topRow=new e.blockRendering.TopRow(this.constants_),this.bottomRow=new e.blockRendering.BottomRow(this.constants_),this.startY=this.startX=0},e.blockRendering.RenderInfo.prototype.getRenderer=function(){return this.renderer_},e.blockRendering.RenderInfo.prototype.measure=function(){this.createRows_(),this.addElemSpacing_(),this.addRowSpacing_(),this.computeBounds_(),this.alignRowElements_(),this.finalize_()},e.blockRendering.RenderInfo.prototype.createRows_=function(){this.populateTopRow_(),this.rows.push(this.topRow);var t=new e.blockRendering.InputRow(this.constants_);this.inputRows.push(t);for(var n,r=this.block_.getIcons(),i=0;n=r[i];i++){var o=new e.blockRendering.Icon(this.constants_,n);this.isCollapsed&&n.collapseHidden?this.hiddenIcons.push(o):t.elements.push(o)}for(n=null,i=0;r=this.block_.inputList[i];i++)if(r.isVisible()){for(this.shouldStartNewRow_(r,n)&&(this.rows.push(t),t=new e.blockRendering.InputRow(this.constants_),this.inputRows.push(t)),n=0;o=r.fieldRow[n];n++)t.elements.push(new e.blockRendering.Field(this.constants_,o,r));this.addInput_(r,t),n=r}this.isCollapsed&&(t.hasJaggedEdge=!0,t.elements.push(new e.blockRendering.JaggedEdge(this.constants_))),(t.elements.length||t.hasDummyInput)&&this.rows.push(t),this.populateBottomRow_(),this.rows.push(this.bottomRow)},e.blockRendering.RenderInfo.prototype.populateTopRow_=function(){var t=!!this.block_.previousConnection,n=(this.block_.hat?"cap"===this.block_.hat:this.constants_.ADD_START_HATS)&&!this.outputConnection&&!t,r=this.topRow.hasLeftSquareCorner(this.block_)?e.blockRendering.SquareCorner:e.blockRendering.RoundCorner;this.topRow.elements.push(new r(this.constants_)),n?(t=new e.blockRendering.Hat(this.constants_),this.topRow.elements.push(t),this.topRow.capline=t.ascenderHeight):t&&(this.topRow.hasPreviousConnection=!0,this.topRow.connection=new e.blockRendering.PreviousConnection(this.constants_,this.block_.previousConnection),this.topRow.elements.push(this.topRow.connection)),this.block_.inputList.length&&this.block_.inputList[0].type==e.inputTypes.STATEMENT&&!this.block_.isCollapsed()?this.topRow.minHeight=this.constants_.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT:this.topRow.minHeight=this.constants_.TOP_ROW_MIN_HEIGHT,r=this.topRow.hasRightSquareCorner(this.block_)?e.blockRendering.SquareCorner:e.blockRendering.RoundCorner,this.topRow.elements.push(new r(this.constants_,"right"))},e.blockRendering.RenderInfo.prototype.populateBottomRow_=function(){this.bottomRow.hasNextConnection=!!this.block_.nextConnection,this.bottomRow.minHeight=this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1].type==e.inputTypes.STATEMENT?this.constants_.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT:this.constants_.BOTTOM_ROW_MIN_HEIGHT,this.bottomRow.hasLeftSquareCorner(this.block_)?this.bottomRow.elements.push(new e.blockRendering.SquareCorner(this.constants_)):this.bottomRow.elements.push(new e.blockRendering.RoundCorner(this.constants_)),this.bottomRow.hasNextConnection&&(this.bottomRow.connection=new e.blockRendering.NextConnection(this.constants_,this.block_.nextConnection),this.bottomRow.elements.push(this.bottomRow.connection)),this.bottomRow.hasRightSquareCorner(this.block_)?this.bottomRow.elements.push(new e.blockRendering.SquareCorner(this.constants_,"right")):this.bottomRow.elements.push(new e.blockRendering.RoundCorner(this.constants_,"right"))},e.blockRendering.RenderInfo.prototype.addInput_=function(t,n){this.isInline&&t.type==e.inputTypes.VALUE?(n.elements.push(new e.blockRendering.InlineInput(this.constants_,t)),n.hasInlineInput=!0):t.type==e.inputTypes.STATEMENT?(n.elements.push(new e.blockRendering.StatementInput(this.constants_,t)),n.hasStatement=!0):t.type==e.inputTypes.VALUE?(n.elements.push(new e.blockRendering.ExternalValueInput(this.constants_,t)),n.hasExternalInput=!0):t.type==e.inputTypes.DUMMY&&(n.minHeight=Math.max(n.minHeight,t.getSourceBlock()&&t.getSourceBlock().isShadow()?this.constants_.DUMMY_INPUT_SHADOW_MIN_HEIGHT:this.constants_.DUMMY_INPUT_MIN_HEIGHT),n.hasDummyInput=!0),null==n.align&&(n.align=t.align)},e.blockRendering.RenderInfo.prototype.shouldStartNewRow_=function(t,n){return!!n&&(t.type==e.inputTypes.STATEMENT||n.type==e.inputTypes.STATEMENT||(t.type==e.inputTypes.VALUE||t.type==e.inputTypes.DUMMY)&&!this.isInline)},e.blockRendering.RenderInfo.prototype.addElemSpacing_=function(){for(var t,n=0;t=this.rows[n];n++){var r=t.elements;if(t.elements=[],t.startsWithElemSpacer()&&t.elements.push(new e.blockRendering.InRowSpacer(this.constants_,this.getInRowSpacing_(null,r[0]))),r.length){for(var i=0;i<r.length-1;i++){t.elements.push(r[i]);var o=this.getInRowSpacing_(r[i],r[i+1]);t.elements.push(new e.blockRendering.InRowSpacer(this.constants_,o))}t.elements.push(r[r.length-1]),t.endsWithElemSpacer()&&t.elements.push(new e.blockRendering.InRowSpacer(this.constants_,this.getInRowSpacing_(r[r.length-1],null)))}}},e.blockRendering.RenderInfo.prototype.getInRowSpacing_=function(t,n){if(!t&&n&&e.blockRendering.Types.isStatementInput(n))return this.constants_.STATEMENT_INPUT_PADDING_LEFT;if(t&&e.blockRendering.Types.isInput(t)&&!n){if(e.blockRendering.Types.isExternalInput(t))return this.constants_.NO_PADDING;if(e.blockRendering.Types.isInlineInput(t))return this.constants_.LARGE_PADDING;if(e.blockRendering.Types.isStatementInput(t))return this.constants_.NO_PADDING}return t&&e.blockRendering.Types.isLeftSquareCorner(t)&&n&&(e.blockRendering.Types.isPreviousConnection(n)||e.blockRendering.Types.isNextConnection(n))?n.notchOffset:t&&e.blockRendering.Types.isLeftRoundedCorner(t)&&n&&(e.blockRendering.Types.isPreviousConnection(n)||e.blockRendering.Types.isNextConnection(n))?n.notchOffset-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING},e.blockRendering.RenderInfo.prototype.computeBounds_=function(){for(var e,t=0,n=0,r=0,i=0;e=this.rows[i];i++){if(e.measure(),n=Math.max(n,e.width),e.hasStatement){var o=e.getLastInput();t=Math.max(t,e.width-o.width)}r=Math.max(r,e.widthWithConnectedBlocks)}for(this.statementEdge=t,this.width=n,i=0;e=this.rows[i];i++)e.hasStatement&&(e.statementEdge=this.statementEdge);this.widthWithChildren=Math.max(n,r),this.outputConnection&&(this.startX=this.outputConnection.width,this.width+=this.outputConnection.width,this.widthWithChildren+=this.outputConnection.width)},e.blockRendering.RenderInfo.prototype.alignRowElements_=function(){for(var t,n=0;t=this.rows[n];n++)if(t.hasStatement)this.alignStatementRow_(t);else{var r=t.width;0<(r=this.getDesiredRowWidth_(t)-r)&&this.addAlignmentPadding_(t,r),e.blockRendering.Types.isTopOrBottomRow(t)&&(t.widthWithConnectedBlocks=t.width)}},e.blockRendering.RenderInfo.prototype.getDesiredRowWidth_=function(e){return this.width-this.startX},e.blockRendering.RenderInfo.prototype.addAlignmentPadding_=function(t,n){var r=t.getFirstSpacer(),i=t.getLastSpacer();(t.hasExternalInput||t.hasStatement)&&(t.widthWithConnectedBlocks+=n),t.align==e.constants.ALIGN.LEFT?i.width+=n:t.align==e.constants.ALIGN.CENTRE?(r.width+=n/2,i.width+=n/2):t.align==e.constants.ALIGN.RIGHT?r.width+=n:i.width+=n,t.width+=n},e.blockRendering.RenderInfo.prototype.alignStatementRow_=function(e){var t=e.getLastInput(),n=e.width-t.width,r=this.statementEdge;0<(n=r-n)&&this.addAlignmentPadding_(e,n),n=e.width,r=this.getDesiredRowWidth_(e),t.width+=r-n,t.height=Math.max(t.height,e.height),e.width+=r-n,e.widthWithConnectedBlocks=Math.max(e.width,this.statementEdge+e.connectedBlockWidths)},e.blockRendering.RenderInfo.prototype.addRowSpacing_=function(){var e=this.rows;this.rows=[];for(var t=0;t<e.length;t++)this.rows.push(e[t]),t!=e.length-1&&this.rows.push(this.makeSpacerRow_(e[t],e[t+1]))},e.blockRendering.RenderInfo.prototype.makeSpacerRow_=function(t,n){var r=this.getSpacerRowHeight_(t,n),i=this.getSpacerRowWidth_(t,n);return r=new e.blockRendering.SpacerRow(this.constants_,r,i),t.hasStatement&&(r.followsStatement=!0),n.hasStatement&&(r.precedesStatement=!0),r},e.blockRendering.RenderInfo.prototype.getSpacerRowWidth_=function(e,t){return this.width-this.startX},e.blockRendering.RenderInfo.prototype.getSpacerRowHeight_=function(e,t){return this.constants_.MEDIUM_PADDING},e.blockRendering.RenderInfo.prototype.getElemCenterline_=function(t,n){return e.blockRendering.Types.isSpacer(n)?t.yPos+n.height/2:e.blockRendering.Types.isBottomRow(t)?(t=t.yPos+t.height-t.descenderHeight,e.blockRendering.Types.isNextConnection(n)?t+n.height/2:t-n.height/2):e.blockRendering.Types.isTopRow(t)?e.blockRendering.Types.isHat(n)?t.capline-n.height/2:t.capline+n.height/2:t.yPos+t.height/2},e.blockRendering.RenderInfo.prototype.recordElemPositions_=function(t){for(var n,r=t.xPos,i=0;n=t.elements[i];i++)e.blockRendering.Types.isSpacer(n)&&(n.height=t.height),n.xPos=r,n.centerline=this.getElemCenterline_(t,n),r+=n.width},e.blockRendering.RenderInfo.prototype.finalize_=function(){for(var e,t=0,n=0,r=0;e=this.rows[r];r++)e.yPos=n,e.xPos=this.startX,n+=e.height,t=Math.max(t,e.widthWithConnectedBlocks),this.recordElemPositions_(e);this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(t=Math.max(t,this.block_.nextConnection.targetBlock().getHeightWidth().width)),this.widthWithChildren=t+this.startX,this.height=n,this.startY=this.topRow.capline,this.bottomRow.baseline=n-this.bottomRow.descenderHeight},e.blockRendering.Debug=function(e){this.debugElements_=[],this.svgRoot_=null,this.constants_=e},e.blockRendering.Debug.config={rowSpacers:!0,elemSpacers:!0,rows:!0,elems:!0,connections:!0,blockBounds:!0,connectedBlockBounds:!0,render:!0},e.blockRendering.Debug.prototype.clearElems=function(){for(var t,n=0;t=this.debugElements_[n];n++)e.utils.dom.removeNode(t);this.debugElements_=[]},e.blockRendering.Debug.prototype.drawSpacerRow=function(t,n,r){if(e.blockRendering.Debug.config.rowSpacers){var i=Math.abs(t.height),o=0>t.height;o&&(n-=i),this.debugElements_.push(e.utils.dom.createSvgElement(e.utils.Svg.RECT,{class:"rowSpacerRect blockRenderDebug",x:r?-(t.xPos+t.width):t.xPos,y:n,width:t.width,height:i,stroke:o?"black":"blue",fill:"blue","fill-opacity":"0.5","stroke-width":"1px"},this.svgRoot_))}},e.blockRendering.Debug.prototype.drawSpacerElem=function(t,n,r){if(e.blockRendering.Debug.config.elemSpacers){n=Math.abs(t.width);var i=0>t.width,o=i?t.xPos-n:t.xPos;r&&(o=-(o+n)),this.debugElements_.push(e.utils.dom.createSvgElement(e.utils.Svg.RECT,{class:"elemSpacerRect blockRenderDebug",x:o,y:t.centerline-t.height/2,width:n,height:t.height,stroke:"pink",fill:i?"black":"pink","fill-opacity":"0.5","stroke-width":"1px"},this.svgRoot_))}},e.blockRendering.Debug.prototype.drawRenderedElem=function(t,n){if(e.blockRendering.Debug.config.elems){var r=t.xPos;n&&(r=-(r+t.width)),n=t.centerline-t.height/2,this.debugElements_.push(e.utils.dom.createSvgElement(e.utils.Svg.RECT,{class:"rowRenderingRect blockRenderDebug",x:r,y:n,width:t.width,height:t.height,stroke:"black",fill:"none","stroke-width":"1px"},this.svgRoot_)),e.blockRendering.Types.isField(t)&&t.field instanceof e.FieldLabel&&this.debugElements_.push(e.utils.dom.createSvgElement(e.utils.Svg.RECT,{class:"rowRenderingRect blockRenderDebug",x:r,y:n+this.constants_.FIELD_TEXT_BASELINE,width:t.width,height:"0.1px",stroke:"red",fill:"none","stroke-width":"0.5px"},this.svgRoot_))}e.blockRendering.Types.isInput(t)&&e.blockRendering.Debug.config.connections&&this.drawConnection(t.connectionModel)},e.blockRendering.Debug.prototype.drawConnection=function(t){if(e.blockRendering.Debug.config.connections){if(t.type==e.connectionTypes.INPUT_VALUE)var n=4,r="magenta",i="none";else t.type==e.connectionTypes.OUTPUT_VALUE?(n=2,i=r="magenta"):t.type==e.connectionTypes.NEXT_STATEMENT?(n=4,r="goldenrod",i="none"):t.type==e.connectionTypes.PREVIOUS_STATEMENT&&(n=2,i=r="goldenrod");this.debugElements_.push(e.utils.dom.createSvgElement(e.utils.Svg.CIRCLE,{class:"blockRenderDebug",cx:t.offsetInBlock_.x,cy:t.offsetInBlock_.y,r:n,fill:i,stroke:r},this.svgRoot_))}},e.blockRendering.Debug.prototype.drawRenderedRow=function(t,n,r){e.blockRendering.Debug.config.rows&&(this.debugElements_.push(e.utils.dom.createSvgElement(e.utils.Svg.RECT,{class:"elemRenderingRect blockRenderDebug",x:r?-(t.xPos+t.width):t.xPos,y:t.yPos,width:t.width,height:t.height,stroke:"red",fill:"none","stroke-width":"1px"},this.svgRoot_)),e.blockRendering.Types.isTopOrBottomRow(t)||e.blockRendering.Debug.config.connectedBlockBounds&&this.debugElements_.push(e.utils.dom.createSvgElement(e.utils.Svg.RECT,{class:"connectedBlockWidth blockRenderDebug",x:r?-(t.xPos+t.widthWithConnectedBlocks):t.xPos,y:t.yPos,width:t.widthWithConnectedBlocks,height:t.height,stroke:this.randomColour_,fill:"none","stroke-width":"1px","stroke-dasharray":"3,3"},this.svgRoot_)))},e.blockRendering.Debug.prototype.drawRowWithElements=function(t,n,r){for(var i=0,o=t.elements.length;i<o;i++){var s=t.elements[i];s?e.blockRendering.Types.isSpacer(s)?this.drawSpacerElem(s,t.height,r):this.drawRenderedElem(s,r):console.warn("A row has an undefined or null element.",t,s)}this.drawRenderedRow(t,n,r)},e.blockRendering.Debug.prototype.drawBoundingBox=function(t){if(e.blockRendering.Debug.config.blockBounds){var n=t.RTL?-t.width:0;this.debugElements_.push(e.utils.dom.createSvgElement(e.utils.Svg.RECT,{class:"blockBoundingBox blockRenderDebug",x:n,y:0,width:t.width,height:t.height,stroke:"black",fill:"none","stroke-width":"1px","stroke-dasharray":"5,5"},this.svgRoot_)),e.blockRendering.Debug.config.connectedBlockBounds&&(n=t.RTL?-t.widthWithChildren:0,this.debugElements_.push(e.utils.dom.createSvgElement(e.utils.Svg.RECT,{class:"blockRenderDebug",x:n,y:0,width:t.widthWithChildren,height:t.height,stroke:"#DF57BC",fill:"none","stroke-width":"1px","stroke-dasharray":"3,3"},this.svgRoot_)))}},e.blockRendering.Debug.prototype.drawDebug=function(t,n){this.clearElems(),this.svgRoot_=t.getSvgRoot(),this.randomColour_="#"+Math.floor(16777215*Math.random()).toString(16);for(var r,i=0,o=0;r=n.rows[o];o++)e.blockRendering.Types.isBetweenRowSpacer(r)?this.drawSpacerRow(r,i,n.RTL):this.drawRowWithElements(r,i,n.RTL),i+=r.height;t.previousConnection&&this.drawConnection(t.previousConnection),t.nextConnection&&this.drawConnection(t.nextConnection),t.outputConnection&&this.drawConnection(t.outputConnection),n.rightSide&&this.drawRenderedElem(n.rightSide,n.RTL),this.drawBoundingBox(n),this.drawRender(t.pathObject.svgPath)},e.blockRendering.Debug.prototype.drawRender=function(t){e.blockRendering.Debug.config.render&&(t.setAttribute("filter","url(#"+this.constants_.debugFilterId+")"),setTimeout((function(){t.setAttribute("filter","")}),100))},e.blockRendering.Drawer=function(e,t){this.block_=e,this.info_=t,this.topLeft_=e.getRelativeToSurfaceXY(),this.inlinePath_=this.outlinePath_="",this.constants_=t.getRenderer().getConstants()},e.blockRendering.Drawer.prototype.draw=function(){this.hideHiddenIcons_(),this.drawOutline_(),this.drawInternals_(),this.block_.pathObject.setPath(this.outlinePath_+"\n"+this.inlinePath_),this.info_.RTL&&this.block_.pathObject.flipRTL(),e.blockRendering.useDebugger&&this.block_.renderingDebugger.drawDebug(this.block_,this.info_),this.recordSizeOnBlock_()},e.blockRendering.Drawer.prototype.recordSizeOnBlock_=function(){this.block_.height=this.info_.height,this.block_.width=this.info_.widthWithChildren},e.blockRendering.Drawer.prototype.hideHiddenIcons_=function(){for(var e,t=0;e=this.info_.hiddenIcons[t];t++)e.icon.iconGroup_.setAttribute("display","none")},e.blockRendering.Drawer.prototype.drawOutline_=function(){this.drawTop_();for(var e=1;e<this.info_.rows.length-1;e++){var t=this.info_.rows[e];t.hasJaggedEdge?this.drawJaggedEdge_(t):t.hasStatement?this.drawStatementInput_(t):t.hasExternalInput?this.drawValueInput_(t):this.drawRightSideRow_(t)}this.drawBottom_(),this.drawLeft_()},e.blockRendering.Drawer.prototype.drawTop_=function(){var t=this.info_.topRow,n=t.elements;this.positionPreviousConnection_(),this.outlinePath_+=e.utils.svgPaths.moveBy(t.xPos,this.info_.startY);for(var r,i=0;r=n[i];i++)e.blockRendering.Types.isLeftRoundedCorner(r)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topLeft:e.blockRendering.Types.isRightRoundedCorner(r)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topRight:e.blockRendering.Types.isPreviousConnection(r)?this.outlinePath_+=r.shape.pathLeft:e.blockRendering.Types.isHat(r)?this.outlinePath_+=this.constants_.START_HAT.path:e.blockRendering.Types.isSpacer(r)&&(this.outlinePath_+=e.utils.svgPaths.lineOnAxis("h",r.width));this.outlinePath_+=e.utils.svgPaths.lineOnAxis("v",t.height)},e.blockRendering.Drawer.prototype.drawJaggedEdge_=function(t){this.outlinePath_+=this.constants_.JAGGED_TEETH.path+e.utils.svgPaths.lineOnAxis("v",t.height-this.constants_.JAGGED_TEETH.height)},e.blockRendering.Drawer.prototype.drawValueInput_=function(t){var n=t.getLastInput();this.positionExternalValueConnection_(t);var r="function"==typeof n.shape.pathDown?n.shape.pathDown(n.height):n.shape.pathDown;this.outlinePath_+=e.utils.svgPaths.lineOnAxis("H",n.xPos+n.width)+r+e.utils.svgPaths.lineOnAxis("v",t.height-n.connectionHeight)},e.blockRendering.Drawer.prototype.drawStatementInput_=function(t){var n=t.getLastInput(),r=n.xPos+n.notchOffset+n.shape.width;n=n.shape.pathRight+e.utils.svgPaths.lineOnAxis("h",-(n.notchOffset-this.constants_.INSIDE_CORNERS.width))+this.constants_.INSIDE_CORNERS.pathTop;var i=t.height-2*this.constants_.INSIDE_CORNERS.height;this.outlinePath_+=e.utils.svgPaths.lineOnAxis("H",r)+n+e.utils.svgPaths.lineOnAxis("v",i)+this.constants_.INSIDE_CORNERS.pathBottom+e.utils.svgPaths.lineOnAxis("H",t.xPos+t.width),this.positionStatementInputConnection_(t)},e.blockRendering.Drawer.prototype.drawRightSideRow_=function(t){this.outlinePath_+=e.utils.svgPaths.lineOnAxis("V",t.yPos+t.height)},e.blockRendering.Drawer.prototype.drawBottom_=function(){var t=this.info_.bottomRow,n=t.elements;this.positionNextConnection_();for(var r,i=0,o="",s=n.length-1;r=n[s];s--)e.blockRendering.Types.isNextConnection(r)?o+=r.shape.pathRight:e.blockRendering.Types.isLeftSquareCorner(r)?o+=e.utils.svgPaths.lineOnAxis("H",t.xPos):e.blockRendering.Types.isLeftRoundedCorner(r)?o+=this.constants_.OUTSIDE_CORNERS.bottomLeft:e.blockRendering.Types.isRightRoundedCorner(r)?(o+=this.constants_.OUTSIDE_CORNERS.bottomRight,i=this.constants_.OUTSIDE_CORNERS.rightHeight):e.blockRendering.Types.isSpacer(r)&&(o+=e.utils.svgPaths.lineOnAxis("h",-1*r.width));this.outlinePath_+=e.utils.svgPaths.lineOnAxis("V",t.baseline-i),this.outlinePath_+=o},e.blockRendering.Drawer.prototype.drawLeft_=function(){var t=this.info_.outputConnection;if(this.positionOutputConnection_(),t){var n=t.connectionOffsetY+t.height;t="function"==typeof t.shape.pathUp?t.shape.pathUp(t.height):t.shape.pathUp,this.outlinePath_+=e.utils.svgPaths.lineOnAxis("V",n)+t}this.outlinePath_+="z"},e.blockRendering.Drawer.prototype.drawInternals_=function(){for(var t,n=0;t=this.info_.rows[n];n++)for(var r,i=0;r=t.elements[i];i++)e.blockRendering.Types.isInlineInput(r)?this.drawInlineInput_(r):(e.blockRendering.Types.isIcon(r)||e.blockRendering.Types.isField(r))&&this.layoutField_(r)},e.blockRendering.Drawer.prototype.layoutField_=function(t){if(e.blockRendering.Types.isField(t))var n=t.field.getSvgRoot();else e.blockRendering.Types.isIcon(t)&&(n=t.icon.iconGroup_);var r=t.centerline-t.height/2,i=t.xPos,o="";this.info_.RTL&&(i=-(i+t.width),t.flipRtl&&(i+=t.width,o="scale(-1 1)")),e.blockRendering.Types.isIcon(t)?(n.setAttribute("display","block"),n.setAttribute("transform","translate("+i+","+r+")"),t.icon.computeIconLocation()):n.setAttribute("transform","translate("+i+","+r+")"+o),this.info_.isInsertionMarker&&n.setAttribute("display","none")},e.blockRendering.Drawer.prototype.drawInlineInput_=function(t){var n=t.width,r=t.height,i=t.connectionOffsetY,o=t.connectionHeight+i;this.inlinePath_+=e.utils.svgPaths.moveTo(t.xPos+t.connectionWidth,t.centerline-r/2)+e.utils.svgPaths.lineOnAxis("v",i)+t.shape.pathDown+e.utils.svgPaths.lineOnAxis("v",r-o)+e.utils.svgPaths.lineOnAxis("h",n-t.connectionWidth)+e.utils.svgPaths.lineOnAxis("v",-r)+"z",this.positionInlineInputConnection_(t)},e.blockRendering.Drawer.prototype.positionInlineInputConnection_=function(e){var t=e.centerline-e.height/2;if(e.connectionModel){var n=e.xPos+e.connectionWidth+e.connectionOffsetX;this.info_.RTL&&(n*=-1),e.connectionModel.setOffsetInBlock(n,t+e.connectionOffsetY)}},e.blockRendering.Drawer.prototype.positionStatementInputConnection_=function(e){var t=e.getLastInput();if(t.connectionModel){var n=e.xPos+e.statementEdge+t.notchOffset;this.info_.RTL&&(n*=-1),t.connectionModel.setOffsetInBlock(n,e.yPos)}},e.blockRendering.Drawer.prototype.positionExternalValueConnection_=function(e){var t=e.getLastInput();if(t.connectionModel){var n=e.xPos+e.width;this.info_.RTL&&(n*=-1),t.connectionModel.setOffsetInBlock(n,e.yPos)}},e.blockRendering.Drawer.prototype.positionPreviousConnection_=function(){var e=this.info_.topRow;if(e.connection){var t=e.xPos+e.notchOffset;e.connection.connectionModel.setOffsetInBlock(this.info_.RTL?-t:t,0)}},e.blockRendering.Drawer.prototype.positionNextConnection_=function(){var e=this.info_.bottomRow;if(e.connection){var t=e.connection,n=t.xPos;t.connectionModel.setOffsetInBlock(this.info_.RTL?-n:n,e.baseline)}},e.blockRendering.Drawer.prototype.positionOutputConnection_=function(){if(this.info_.outputConnection){var e=this.info_.startX+this.info_.outputConnection.connectionOffsetX;this.block_.outputConnection.setOffsetInBlock(this.info_.RTL?-e:e,this.info_.outputConnection.connectionOffsetY)}},e.Events.MarkerMove=function(t,n,r,i){var o=t?t.workspace.id:void 0;i&&i.getType()==e.ASTNode.types.WORKSPACE&&(o=i.getLocation().id),e.Events.MarkerMove.superClass_.constructor.call(this,o),this.blockId=t?t.id:null,this.oldNode=r,this.newNode=i,this.isCursor=n},e.utils.object.inherits(e.Events.MarkerMove,e.Events.UiBase),e.Events.MarkerMove.prototype.type=e.Events.MARKER_MOVE,e.Events.MarkerMove.prototype.toJson=function(){var t=e.Events.MarkerMove.superClass_.toJson.call(this);return t.isCursor=this.isCursor,t.blockId=this.blockId,t.oldNode=this.oldNode,t.newNode=this.newNode,t},e.Events.MarkerMove.prototype.fromJson=function(t){e.Events.MarkerMove.superClass_.fromJson.call(this,t),this.isCursor=t.isCursor,this.blockId=t.blockId,this.oldNode=t.oldNode,this.newNode=t.newNode},e.registry.register(e.registry.Type.EVENT,e.Events.MARKER_MOVE,e.Events.MarkerMove),e.blockRendering.MarkerSvg=function(e,t,n){this.workspace_=e,this.marker_=n,this.parent_=null,this.constants_=t,this.currentMarkerSvg=null,e=this.isCursor()?this.constants_.CURSOR_COLOUR:this.constants_.MARKER_COLOUR,this.colour_=n.colour||e},e.blockRendering.MarkerSvg.CURSOR_CLASS="blocklyCursor",e.blockRendering.MarkerSvg.MARKER_CLASS="blocklyMarker",e.blockRendering.MarkerSvg.HEIGHT_MULTIPLIER=.75,e.blockRendering.MarkerSvg.prototype.getSvgRoot=function(){return this.svgGroup_},e.blockRendering.MarkerSvg.prototype.getMarker=function(){return this.marker_},e.blockRendering.MarkerSvg.prototype.isCursor=function(){return"cursor"==this.marker_.type},e.blockRendering.MarkerSvg.prototype.createDom=function(){var t=this.isCursor()?e.blockRendering.MarkerSvg.CURSOR_CLASS:e.blockRendering.MarkerSvg.MARKER_CLASS;return this.svgGroup_=e.utils.dom.createSvgElement(e.utils.Svg.G,{class:t},null),this.createDomInternal_(),this.svgGroup_},e.blockRendering.MarkerSvg.prototype.setParent_=function(e){this.isCursor()?(this.parent_&&this.parent_.setCursorSvg(null),e.setCursorSvg(this.getSvgRoot())):(this.parent_&&this.parent_.setMarkerSvg(null),e.setMarkerSvg(this.getSvgRoot())),this.parent_=e},e.blockRendering.MarkerSvg.prototype.draw=function(e,t){if(t){this.constants_=this.workspace_.getRenderer().getConstants();var n=this.isCursor()?this.constants_.CURSOR_COLOUR:this.constants_.MARKER_COLOUR;this.colour_=this.marker_.colour||n,this.applyColour_(t),this.showAtLocation_(t),this.fireMarkerEvent_(e,t),void 0!==(e=this.currentMarkerSvg.childNodes[0])&&e.beginElement&&e.beginElement()}else this.hide()},e.blockRendering.MarkerSvg.prototype.showAtLocation_=function(t){var n=t.getLocation().type;t.getType()==e.ASTNode.types.BLOCK?this.showWithBlock_(t):t.getType()==e.ASTNode.types.OUTPUT?this.showWithOutput_(t):n==e.connectionTypes.INPUT_VALUE?this.showWithInput_(t):n==e.connectionTypes.NEXT_STATEMENT?this.showWithNext_(t):t.getType()==e.ASTNode.types.PREVIOUS?this.showWithPrevious_(t):t.getType()==e.ASTNode.types.FIELD?this.showWithField_(t):t.getType()==e.ASTNode.types.WORKSPACE?this.showWithCoordinates_(t):t.getType()==e.ASTNode.types.STACK&&this.showWithStack_(t)},e.blockRendering.MarkerSvg.prototype.showWithBlockPrevOutput_=function(t){var n=(t=t.getSourceBlock()).width,r=t.height,i=r*e.blockRendering.MarkerSvg.HEIGHT_MULTIPLIER,o=this.constants_.CURSOR_BLOCK_PADDING;if(t.previousConnection){var s=this.constants_.shapeFor(t.previousConnection);this.positionPrevious_(n,o,i,s)}else t.outputConnection?(s=this.constants_.shapeFor(t.outputConnection),this.positionOutput_(n,r,s)):this.positionBlock_(n,o,i);this.setParent_(t),this.showCurrent_()},e.blockRendering.MarkerSvg.prototype.showWithBlock_=function(e){this.showWithBlockPrevOutput_(e)},e.blockRendering.MarkerSvg.prototype.showWithPrevious_=function(e){this.showWithBlockPrevOutput_(e)},e.blockRendering.MarkerSvg.prototype.showWithOutput_=function(e){this.showWithBlockPrevOutput_(e)},e.blockRendering.MarkerSvg.prototype.showWithCoordinates_=function(e){var t=e.getWsCoordinate();e=t.x,t=t.y,this.workspace_.RTL&&(e-=this.constants_.CURSOR_WS_WIDTH),this.positionLine_(e,t,this.constants_.CURSOR_WS_WIDTH),this.setParent_(this.workspace_),this.showCurrent_()},e.blockRendering.MarkerSvg.prototype.showWithField_=function(e){var t=(e=e.getLocation()).getSize().width,n=e.getSize().height;this.positionRect_(0,0,t,n),this.setParent_(e),this.showCurrent_()},e.blockRendering.MarkerSvg.prototype.showWithInput_=function(e){var t=(e=e.getLocation()).getSourceBlock();this.positionInput_(e),this.setParent_(t),this.showCurrent_()},e.blockRendering.MarkerSvg.prototype.showWithNext_=function(e){var t=e.getLocation();e=t.getSourceBlock();var n=0;t=t.getOffsetInBlock().y;var r=e.getHeightWidth().width;this.workspace_.RTL&&(n=-r),this.positionLine_(n,t,r),this.setParent_(e),this.showCurrent_()},e.blockRendering.MarkerSvg.prototype.showWithStack_=function(e){var t=(e=e.getLocation()).getHeightWidth(),n=t.width+this.constants_.CURSOR_STACK_PADDING;t=t.height+this.constants_.CURSOR_STACK_PADDING;var r=-this.constants_.CURSOR_STACK_PADDING/2,i=-this.constants_.CURSOR_STACK_PADDING/2,o=r;this.workspace_.RTL&&(o=-(n+r)),this.positionRect_(o,i,n,t),this.setParent_(e),this.showCurrent_()},e.blockRendering.MarkerSvg.prototype.showCurrent_=function(){this.hide(),this.currentMarkerSvg.style.display=""},e.blockRendering.MarkerSvg.prototype.positionBlock_=function(t,n,r){t=e.utils.svgPaths.moveBy(-n,r)+e.utils.svgPaths.lineOnAxis("V",-n)+e.utils.svgPaths.lineOnAxis("H",t+2*n)+e.utils.svgPaths.lineOnAxis("V",r),this.markerBlock_.setAttribute("d",t),this.workspace_.RTL&&this.flipRtl_(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_},e.blockRendering.MarkerSvg.prototype.positionInput_=function(t){var n=t.getOffsetInBlock().x,r=t.getOffsetInBlock().y;t=e.utils.svgPaths.moveTo(0,0)+this.constants_.shapeFor(t).pathDown,this.markerInput_.setAttribute("d",t),this.markerInput_.setAttribute("transform","translate("+n+","+r+")"+(this.workspace_.RTL?" scale(-1 1)":"")),this.currentMarkerSvg=this.markerInput_},e.blockRendering.MarkerSvg.prototype.positionLine_=function(e,t,n){this.markerSvgLine_.setAttribute("x",e),this.markerSvgLine_.setAttribute("y",t),this.markerSvgLine_.setAttribute("width",n),this.currentMarkerSvg=this.markerSvgLine_},e.blockRendering.MarkerSvg.prototype.positionOutput_=function(t,n,r){t=e.utils.svgPaths.moveBy(t,0)+e.utils.svgPaths.lineOnAxis("h",-(t-r.width))+e.utils.svgPaths.lineOnAxis("v",this.constants_.TAB_OFFSET_FROM_TOP)+r.pathDown+e.utils.svgPaths.lineOnAxis("V",n)+e.utils.svgPaths.lineOnAxis("H",t),this.markerBlock_.setAttribute("d",t),this.workspace_.RTL&&this.flipRtl_(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_},e.blockRendering.MarkerSvg.prototype.positionPrevious_=function(t,n,r,i){t=e.utils.svgPaths.moveBy(-n,r)+e.utils.svgPaths.lineOnAxis("V",-n)+e.utils.svgPaths.lineOnAxis("H",this.constants_.NOTCH_OFFSET_LEFT)+i.pathLeft+e.utils.svgPaths.lineOnAxis("H",t+2*n)+e.utils.svgPaths.lineOnAxis("V",r),this.markerBlock_.setAttribute("d",t),this.workspace_.RTL&&this.flipRtl_(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_},e.blockRendering.MarkerSvg.prototype.positionRect_=function(e,t,n,r){this.markerSvgRect_.setAttribute("x",e),this.markerSvgRect_.setAttribute("y",t),this.markerSvgRect_.setAttribute("width",n),this.markerSvgRect_.setAttribute("height",r),this.currentMarkerSvg=this.markerSvgRect_},e.blockRendering.MarkerSvg.prototype.flipRtl_=function(e){e.setAttribute("transform","scale(-1 1)")},e.blockRendering.MarkerSvg.prototype.hide=function(){this.markerSvgLine_.style.display="none",this.markerSvgRect_.style.display="none",this.markerInput_.style.display="none",this.markerBlock_.style.display="none"},e.blockRendering.MarkerSvg.prototype.fireMarkerEvent_=function(t,n){var r=n.getSourceBlock();t=new(e.Events.get(e.Events.MARKER_MOVE))(r,this.isCursor(),t,n),e.Events.fire(t)},e.blockRendering.MarkerSvg.prototype.getBlinkProperties_=function(){return{attributeType:"XML",attributeName:"fill",dur:"1s",values:this.colour_+";transparent;transparent;",repeatCount:"indefinite"}},e.blockRendering.MarkerSvg.prototype.createDomInternal_=function(){if(this.markerSvg_=e.utils.dom.createSvgElement(e.utils.Svg.G,{width:this.constants_.CURSOR_WS_WIDTH,height:this.constants_.WS_CURSOR_HEIGHT},this.svgGroup_),this.markerSvgLine_=e.utils.dom.createSvgElement(e.utils.Svg.RECT,{width:this.constants_.CURSOR_WS_WIDTH,height:this.constants_.WS_CURSOR_HEIGHT,style:"display: none"},this.markerSvg_),this.markerSvgRect_=e.utils.dom.createSvgElement(e.utils.Svg.RECT,{class:"blocklyVerticalMarker",rx:10,ry:10,style:"display: none"},this.markerSvg_),this.markerInput_=e.utils.dom.createSvgElement(e.utils.Svg.PATH,{transform:"",style:"display: none"},this.markerSvg_),this.markerBlock_=e.utils.dom.createSvgElement(e.utils.Svg.PATH,{transform:"",style:"display: none",fill:"none","stroke-width":this.constants_.CURSOR_STROKE_WIDTH},this.markerSvg_),this.isCursor()){var t=this.getBlinkProperties_();e.utils.dom.createSvgElement(e.utils.Svg.ANIMATE,t,this.markerSvgLine_),e.utils.dom.createSvgElement(e.utils.Svg.ANIMATE,t,this.markerInput_),t.attributeName="stroke",e.utils.dom.createSvgElement(e.utils.Svg.ANIMATE,t,this.markerBlock_)}return this.markerSvg_},e.blockRendering.MarkerSvg.prototype.applyColour_=function(e){this.markerSvgLine_.setAttribute("fill",this.colour_),this.markerSvgRect_.setAttribute("stroke",this.colour_),this.markerInput_.setAttribute("fill",this.colour_),this.markerBlock_.setAttribute("stroke",this.colour_),this.isCursor()&&(e=this.colour_+";transparent;transparent;",this.markerSvgLine_.firstChild.setAttribute("values",e),this.markerInput_.firstChild.setAttribute("values",e),this.markerBlock_.firstChild.setAttribute("values",e))},e.blockRendering.MarkerSvg.prototype.dispose=function(){this.svgGroup_&&e.utils.dom.removeNode(this.svgGroup_)},e.blockRendering.PathObject=function(t,n,r){this.constants=r,this.svgRoot=t,this.svgPath=e.utils.dom.createSvgElement(e.utils.Svg.PATH,{class:"blocklyPath"},this.svgRoot),this.style=n,this.markerSvg=this.cursorSvg=null},e.blockRendering.PathObject.prototype.setPath=function(e){this.svgPath.setAttribute("d",e)},e.blockRendering.PathObject.prototype.flipRTL=function(){this.svgPath.setAttribute("transform","scale(-1 1)")},e.blockRendering.PathObject.prototype.setCursorSvg=function(e){e?(this.svgRoot.appendChild(e),this.cursorSvg=e):this.cursorSvg=null},e.blockRendering.PathObject.prototype.setMarkerSvg=function(e){e?(this.cursorSvg?this.svgRoot.insertBefore(e,this.cursorSvg):this.svgRoot.appendChild(e),this.markerSvg=e):this.markerSvg=null},e.blockRendering.PathObject.prototype.applyColour=function(e){this.svgPath.setAttribute("stroke",this.style.colourTertiary),this.svgPath.setAttribute("fill",this.style.colourPrimary),this.updateShadow_(e.isShadow()),this.updateDisabled_(!e.isEnabled()||e.getInheritedDisabled())},e.blockRendering.PathObject.prototype.setStyle=function(e){this.style=e},e.blockRendering.PathObject.prototype.setClass_=function(t,n){n?e.utils.dom.addClass(this.svgRoot,t):e.utils.dom.removeClass(this.svgRoot,t)},e.blockRendering.PathObject.prototype.updateHighlighted=function(e){e?this.svgPath.setAttribute("filter","url(#"+this.constants.embossFilterId+")"):this.svgPath.setAttribute("filter","none")},e.blockRendering.PathObject.prototype.updateShadow_=function(e){e&&(this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary))},e.blockRendering.PathObject.prototype.updateDisabled_=function(e){this.setClass_("blocklyDisabled",e),e&&this.svgPath.setAttribute("fill","url(#"+this.constants.disabledPatternId+")")},e.blockRendering.PathObject.prototype.updateSelected=function(e){this.setClass_("blocklySelected",e)},e.blockRendering.PathObject.prototype.updateDraggingDelete=function(e){this.setClass_("blocklyDraggingDelete",e)},e.blockRendering.PathObject.prototype.updateInsertionMarker=function(e){this.setClass_("blocklyInsertionMarker",e)},e.blockRendering.PathObject.prototype.updateMovable=function(e){this.setClass_("blocklyDraggable",e)},e.blockRendering.PathObject.prototype.updateReplacementFade=function(e){this.setClass_("blocklyReplaceable",e)},e.blockRendering.PathObject.prototype.updateShapeForInputHighlight=function(e,t){},e.blockRendering.Renderer=function(e){this.name=e,this.overrides=this.constants_=null},e.blockRendering.Renderer.prototype.getClassName=function(){return this.name+"-renderer"},e.blockRendering.Renderer.prototype.init=function(t,n){this.constants_=this.makeConstants_(),n&&(this.overrides=n,e.utils.object.mixin(this.constants_,n)),this.constants_.setTheme(t),this.constants_.init()},e.blockRendering.Renderer.prototype.createDom=function(e,t){this.constants_.createDom(e,this.name+"-"+t.name,"."+this.getClassName()+"."+t.getClassName())},e.blockRendering.Renderer.prototype.refreshDom=function(t,n){var r=this.getConstants();r.dispose(),this.constants_=this.makeConstants_(),this.overrides&&e.utils.object.mixin(this.constants_,this.overrides),this.constants_.randomIdentifier=r.randomIdentifier,this.constants_.setTheme(n),this.constants_.init(),this.createDom(t,n)},e.blockRendering.Renderer.prototype.dispose=function(){this.constants_&&this.constants_.dispose()},e.blockRendering.Renderer.prototype.makeConstants_=function(){return new e.blockRendering.ConstantProvider},e.blockRendering.Renderer.prototype.makeRenderInfo_=function(t){return new e.blockRendering.RenderInfo(this,t)},e.blockRendering.Renderer.prototype.makeDrawer_=function(t,n){return new e.blockRendering.Drawer(t,n)},e.blockRendering.Renderer.prototype.makeDebugger_=function(){if(!e.blockRendering.Debug)throw Error("Missing require for Blockly.blockRendering.Debug");return new e.blockRendering.Debug(this.getConstants())},e.blockRendering.Renderer.prototype.makeMarkerDrawer=function(t,n){return new e.blockRendering.MarkerSvg(t,this.getConstants(),n)},e.blockRendering.Renderer.prototype.makePathObject=function(t,n){return new e.blockRendering.PathObject(t,n,this.constants_)},e.blockRendering.Renderer.prototype.getConstants=function(){return this.constants_},e.blockRendering.Renderer.prototype.shouldHighlightConnection=function(e){return!0},e.blockRendering.Renderer.prototype.orphanCanConnectAtEnd=function(t,n,r){return!!e.Connection.getConnectionForOrphanedConnection(t,r===e.connectionTypes.OUTPUT_VALUE?n.outputConnection:n.previousConnection)},e.blockRendering.Renderer.prototype.getConnectionPreviewMethod=function(t,n,r){return n.type==e.connectionTypes.OUTPUT_VALUE||n.type==e.connectionTypes.PREVIOUS_STATEMENT?!t.isConnected()||this.orphanCanConnectAtEnd(r,t.targetBlock(),n.type)?e.InsertionMarkerManager.PREVIEW_TYPE.INSERTION_MARKER:e.InsertionMarkerManager.PREVIEW_TYPE.REPLACEMENT_FADE:e.InsertionMarkerManager.PREVIEW_TYPE.INSERTION_MARKER},e.blockRendering.Renderer.prototype.render=function(t){e.blockRendering.useDebugger&&!t.renderingDebugger&&(t.renderingDebugger=this.makeDebugger_());var n=this.makeRenderInfo_(t);n.measure(),this.makeDrawer_(t,n).draw()},e.geras={},e.geras.ConstantProvider=function(){e.geras.ConstantProvider.superClass_.constructor.call(this),this.FIELD_TEXT_BASELINE_CENTER=!1,this.DARK_PATH_OFFSET=1,this.MAX_BOTTOM_WIDTH=30,this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT/2},e.utils.object.inherits(e.geras.ConstantProvider,e.blockRendering.ConstantProvider),e.geras.ConstantProvider.prototype.getCSS_=function(t){return e.geras.ConstantProvider.superClass_.getCSS_.call(this,t).concat([t+" .blocklyInsertionMarker>.blocklyPathLight,",t+" .blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: "+this.INSERTION_MARKER_OPACITY+";","stroke: none;","}"])},e.geras.Highlighter=function(e){this.info_=e,this.inlineSteps_=this.steps_="",this.RTL_=this.info_.RTL,e=e.getRenderer(),this.constants_=e.getConstants(),this.highlightConstants_=e.getHighlightConstants(),this.highlightOffset_=this.highlightConstants_.OFFSET,this.outsideCornerPaths_=this.highlightConstants_.OUTSIDE_CORNER,this.insideCornerPaths_=this.highlightConstants_.INSIDE_CORNER,this.puzzleTabPaths_=this.highlightConstants_.PUZZLE_TAB,this.notchPaths_=this.highlightConstants_.NOTCH,this.startPaths_=this.highlightConstants_.START_HAT,this.jaggedTeethPaths_=this.highlightConstants_.JAGGED_TEETH},e.geras.Highlighter.prototype.getPath=function(){return this.steps_+"\n"+this.inlineSteps_},e.geras.Highlighter.prototype.drawTopCorner=function(t){this.steps_+=e.utils.svgPaths.moveBy(t.xPos,this.info_.startY);for(var n,r=0;n=t.elements[r];r++)e.blockRendering.Types.isLeftSquareCorner(n)?this.steps_+=this.highlightConstants_.START_POINT:e.blockRendering.Types.isLeftRoundedCorner(n)?this.steps_+=this.outsideCornerPaths_.topLeft(this.RTL_):e.blockRendering.Types.isPreviousConnection(n)?this.steps_+=this.notchPaths_.pathLeft:e.blockRendering.Types.isHat(n)?this.steps_+=this.startPaths_.path(this.RTL_):e.blockRendering.Types.isSpacer(n)&&0!=n.width&&(this.steps_+=e.utils.svgPaths.lineOnAxis("H",n.xPos+n.width-this.highlightOffset_));this.steps_+=e.utils.svgPaths.lineOnAxis("H",t.xPos+t.width-this.highlightOffset_)},e.geras.Highlighter.prototype.drawJaggedEdge_=function(t){this.info_.RTL&&(this.steps_+=this.jaggedTeethPaths_.pathLeft+e.utils.svgPaths.lineOnAxis("v",t.height-this.jaggedTeethPaths_.height-this.highlightOffset_))},e.geras.Highlighter.prototype.drawValueInput=function(t){var n=t.getLastInput();if(this.RTL_){var r=t.height-n.connectionHeight;this.steps_+=e.utils.svgPaths.moveTo(n.xPos+n.width-this.highlightOffset_,t.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)+e.utils.svgPaths.lineOnAxis("v",r)}else this.steps_+=e.utils.svgPaths.moveTo(n.xPos+n.width,t.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)},e.geras.Highlighter.prototype.drawStatementInput=function(t){var n=t.getLastInput();if(this.RTL_){var r=t.height-2*this.insideCornerPaths_.height;this.steps_+=e.utils.svgPaths.moveTo(n.xPos,t.yPos)+this.insideCornerPaths_.pathTop(this.RTL_)+e.utils.svgPaths.lineOnAxis("v",r)+this.insideCornerPaths_.pathBottom(this.RTL_)+e.utils.svgPaths.lineTo(t.width-n.xPos-this.insideCornerPaths_.width,0)}else this.steps_+=e.utils.svgPaths.moveTo(n.xPos,t.yPos+t.height)+this.insideCornerPaths_.pathBottom(this.RTL_)+e.utils.svgPaths.lineTo(t.width-n.xPos-this.insideCornerPaths_.width,0)},e.geras.Highlighter.prototype.drawRightSideRow=function(t){var n=t.xPos+t.width-this.highlightOffset_;t.followsStatement&&(this.steps_+=e.utils.svgPaths.lineOnAxis("H",n)),this.RTL_&&(this.steps_+=e.utils.svgPaths.lineOnAxis("H",n),t.height>this.highlightOffset_&&(this.steps_+=e.utils.svgPaths.lineOnAxis("V",t.yPos+t.height-this.highlightOffset_)))},e.geras.Highlighter.prototype.drawBottomRow=function(t){if(this.RTL_)this.steps_+=e.utils.svgPaths.lineOnAxis("V",t.baseline-this.highlightOffset_);else{var n=this.info_.bottomRow.elements[0];e.blockRendering.Types.isLeftSquareCorner(n)?this.steps_+=e.utils.svgPaths.moveTo(t.xPos+this.highlightOffset_,t.baseline-this.highlightOffset_):e.blockRendering.Types.isLeftRoundedCorner(n)&&(this.steps_+=e.utils.svgPaths.moveTo(t.xPos,t.baseline),this.steps_+=this.outsideCornerPaths_.bottomLeft())}},e.geras.Highlighter.prototype.drawLeft=function(){var t=this.info_.outputConnection;t&&(t=t.connectionOffsetY+t.height,this.RTL_?this.steps_+=e.utils.svgPaths.moveTo(this.info_.startX,t):(this.steps_+=e.utils.svgPaths.moveTo(this.info_.startX+this.highlightOffset_,this.info_.bottomRow.baseline-this.highlightOffset_),this.steps_+=e.utils.svgPaths.lineOnAxis("V",t)),this.steps_+=this.puzzleTabPaths_.pathUp(this.RTL_)),this.RTL_||(t=this.info_.topRow,e.blockRendering.Types.isLeftRoundedCorner(t.elements[0])?this.steps_+=e.utils.svgPaths.lineOnAxis("V",this.outsideCornerPaths_.height):this.steps_+=e.utils.svgPaths.lineOnAxis("V",t.capline+this.highlightOffset_))},e.geras.Highlighter.prototype.drawInlineInput=function(t){var n=this.highlightOffset_,r=t.xPos+t.connectionWidth,i=t.centerline-t.height/2,o=t.width-t.connectionWidth,s=i+n;this.RTL_?(i=t.connectionOffsetY-n,t=t.height-(t.connectionOffsetY+t.connectionHeight)+n,this.inlineSteps_+=e.utils.svgPaths.moveTo(r-n,s)+e.utils.svgPaths.lineOnAxis("v",i)+this.puzzleTabPaths_.pathDown(this.RTL_)+e.utils.svgPaths.lineOnAxis("v",t)+e.utils.svgPaths.lineOnAxis("h",o)):this.inlineSteps_+=e.utils.svgPaths.moveTo(t.xPos+t.width+n,s)+e.utils.svgPaths.lineOnAxis("v",t.height)+e.utils.svgPaths.lineOnAxis("h",-o)+e.utils.svgPaths.moveTo(r,i+t.connectionOffsetY)+this.puzzleTabPaths_.pathDown(this.RTL_)},e.geras.InlineInput=function(t,n){e.geras.InlineInput.superClass_.constructor.call(this,t,n),this.connectedBlock&&(this.width+=this.constants_.DARK_PATH_OFFSET,this.height+=this.constants_.DARK_PATH_OFFSET)},e.utils.object.inherits(e.geras.InlineInput,e.blockRendering.InlineInput),e.geras.StatementInput=function(t,n){e.geras.StatementInput.superClass_.constructor.call(this,t,n),this.connectedBlock&&(this.height+=this.constants_.DARK_PATH_OFFSET)},e.utils.object.inherits(e.geras.StatementInput,e.blockRendering.StatementInput),e.geras.RenderInfo=function(t,n){e.geras.RenderInfo.superClass_.constructor.call(this,t,n)},e.utils.object.inherits(e.geras.RenderInfo,e.blockRendering.RenderInfo),e.geras.RenderInfo.prototype.getRenderer=function(){return this.renderer_},e.geras.RenderInfo.prototype.populateBottomRow_=function(){e.geras.RenderInfo.superClass_.populateBottomRow_.call(this),this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1].type==e.inputTypes.STATEMENT||(this.bottomRow.minHeight=this.constants_.MEDIUM_PADDING-this.constants_.DARK_PATH_OFFSET)},e.geras.RenderInfo.prototype.addInput_=function(t,n){this.isInline&&t.type==e.inputTypes.VALUE?(n.elements.push(new e.geras.InlineInput(this.constants_,t)),n.hasInlineInput=!0):t.type==e.inputTypes.STATEMENT?(n.elements.push(new e.geras.StatementInput(this.constants_,t)),n.hasStatement=!0):t.type==e.inputTypes.VALUE?(n.elements.push(new e.blockRendering.ExternalValueInput(this.constants_,t)),n.hasExternalInput=!0):t.type==e.inputTypes.DUMMY&&(n.minHeight=Math.max(n.minHeight,this.constants_.DUMMY_INPUT_MIN_HEIGHT),n.hasDummyInput=!0),this.isInline||null!=n.align||(n.align=t.align)},e.geras.RenderInfo.prototype.addElemSpacing_=function(){for(var t,n=!1,r=0;t=this.rows[r];r++)t.hasExternalInput&&(n=!0);for(r=0;t=this.rows[r];r++){var i=t.elements;if(t.elements=[],t.startsWithElemSpacer()&&t.elements.push(new e.blockRendering.InRowSpacer(this.constants_,this.getInRowSpacing_(null,i[0]))),i.length){for(var o=0;o<i.length-1;o++){t.elements.push(i[o]);var s=this.getInRowSpacing_(i[o],i[o+1]);t.elements.push(new e.blockRendering.InRowSpacer(this.constants_,s))}t.elements.push(i[i.length-1]),t.endsWithElemSpacer()&&(s=this.getInRowSpacing_(i[i.length-1],null),n&&t.hasDummyInput&&(s+=this.constants_.TAB_WIDTH),t.elements.push(new e.blockRendering.InRowSpacer(this.constants_,s)))}}},e.geras.RenderInfo.prototype.getInRowSpacing_=function(t,n){if(!t)return n&&e.blockRendering.Types.isField(n)&&n.isEditable?this.constants_.MEDIUM_PADDING:n&&e.blockRendering.Types.isInlineInput(n)?this.constants_.MEDIUM_LARGE_PADDING:n&&e.blockRendering.Types.isStatementInput(n)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!e.blockRendering.Types.isInput(t)&&(!n||e.blockRendering.Types.isStatementInput(n)))return e.blockRendering.Types.isField(t)&&t.isEditable?this.constants_.MEDIUM_PADDING:e.blockRendering.Types.isIcon(t)?2*this.constants_.LARGE_PADDING+1:e.blockRendering.Types.isHat(t)?this.constants_.NO_PADDING:e.blockRendering.Types.isPreviousOrNextConnection(t)?this.constants_.LARGE_PADDING:e.blockRendering.Types.isLeftRoundedCorner(t)?this.constants_.MIN_BLOCK_WIDTH:e.blockRendering.Types.isJaggedEdge(t)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(e.blockRendering.Types.isInput(t)&&!n){if(e.blockRendering.Types.isExternalInput(t))return this.constants_.NO_PADDING;if(e.blockRendering.Types.isInlineInput(t))return this.constants_.LARGE_PADDING;if(e.blockRendering.Types.isStatementInput(t))return this.constants_.NO_PADDING}if(!e.blockRendering.Types.isInput(t)&&n&&e.blockRendering.Types.isInput(n)){if(e.blockRendering.Types.isField(t)&&t.isEditable){if(e.blockRendering.Types.isInlineInput(n)||e.blockRendering.Types.isExternalInput(n))return this.constants_.SMALL_PADDING}else{if(e.blockRendering.Types.isInlineInput(n)||e.blockRendering.Types.isExternalInput(n))return this.constants_.MEDIUM_LARGE_PADDING;if(e.blockRendering.Types.isStatementInput(n))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(e.blockRendering.Types.isIcon(t)&&n&&!e.blockRendering.Types.isInput(n))return this.constants_.LARGE_PADDING;if(e.blockRendering.Types.isInlineInput(t)&&n&&e.blockRendering.Types.isField(n))return n.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(e.blockRendering.Types.isLeftSquareCorner(t)&&n){if(e.blockRendering.Types.isHat(n))return this.constants_.NO_PADDING;if(e.blockRendering.Types.isPreviousConnection(n))return n.notchOffset;if(e.blockRendering.Types.isNextConnection(n))return t=(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2,n.notchOffset+t}if(e.blockRendering.Types.isLeftRoundedCorner(t)&&n){if(e.blockRendering.Types.isPreviousConnection(n))return n.notchOffset-this.constants_.CORNER_RADIUS;if(e.blockRendering.Types.isNextConnection(n))return t=(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2,n.notchOffset-this.constants_.CORNER_RADIUS+t}return e.blockRendering.Types.isField(t)&&n&&e.blockRendering.Types.isField(n)&&t.isEditable==n.isEditable||n&&e.blockRendering.Types.isJaggedEdge(n)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING},e.geras.RenderInfo.prototype.getSpacerRowHeight_=function(t,n){return e.blockRendering.Types.isTopRow(t)&&e.blockRendering.Types.isBottomRow(n)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:e.blockRendering.Types.isTopRow(t)||e.blockRendering.Types.isBottomRow(n)?this.constants_.NO_PADDING:t.hasExternalInput&&n.hasExternalInput?this.constants_.LARGE_PADDING:!t.hasStatement&&n.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:t.hasStatement&&n.hasStatement||!t.hasStatement&&n.hasDummyInput||t.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING},e.geras.RenderInfo.prototype.getElemCenterline_=function(t,n){if(e.blockRendering.Types.isSpacer(n))return t.yPos+n.height/2;if(e.blockRendering.Types.isBottomRow(t))return t=t.yPos+t.height-t.descenderHeight,e.blockRendering.Types.isNextConnection(n)?t+n.height/2:t-n.height/2;if(e.blockRendering.Types.isTopRow(t))return e.blockRendering.Types.isHat(n)?t.capline-n.height/2:t.capline+n.height/2;var r=t.yPos;return e.blockRendering.Types.isField(n)||e.blockRendering.Types.isIcon(n)?(r+=n.height/2,(t.hasInlineInput||t.hasStatement)&&n.height+this.constants_.TALL_INPUT_FIELD_OFFSET_Y<=t.height&&(r+=this.constants_.TALL_INPUT_FIELD_OFFSET_Y)):r=e.blockRendering.Types.isInlineInput(n)?r+n.height/2:r+t.height/2,r},e.geras.RenderInfo.prototype.alignRowElements_=function(){if(this.isInline){for(var t,n=0,r=null,i=this.rows.length-1;t=this.rows[i];i--)t.nextRightEdge=n,e.blockRendering.Types.isInputRow(t)&&(t.hasStatement&&this.alignStatementRow_(t),r&&r.hasStatement&&t.width<r.width?t.nextRightEdge=r.width:n=t.width,r=t);for(i=n=0;t=this.rows[i];i++)t.hasStatement?n=this.getDesiredRowWidth_(t):e.blockRendering.Types.isSpacer(t)?t.width=Math.max(n,t.nextRightEdge):(0<(n=Math.max(n,t.nextRightEdge)-t.width)&&this.addAlignmentPadding_(t,n),n=t.width)}else e.geras.RenderInfo.superClass_.alignRowElements_.call(this)},e.geras.RenderInfo.prototype.getDesiredRowWidth_=function(t){return this.isInline&&t.hasStatement?this.statementEdge+this.constants_.MAX_BOTTOM_WIDTH+this.startX:e.geras.RenderInfo.superClass_.getDesiredRowWidth_.call(this,t)},e.geras.RenderInfo.prototype.finalize_=function(){for(var e,t=0,n=0,r=0;e=this.rows[r];r++){e.yPos=n,e.xPos=this.startX,n+=e.height,t=Math.max(t,e.widthWithConnectedBlocks);var i=n-this.topRow.ascenderHeight;e==this.bottomRow&&i<this.constants_.MIN_BLOCK_HEIGHT&&(i=this.constants_.MIN_BLOCK_HEIGHT-i,this.bottomRow.height+=i,n+=i),this.recordElemPositions_(e)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(t=Math.max(t,this.block_.nextConnection.targetBlock().getHeightWidth().width-this.constants_.DARK_PATH_OFFSET)),this.bottomRow.baseline=n-this.bottomRow.descenderHeight,this.widthWithChildren=t+this.startX+this.constants_.DARK_PATH_OFFSET,this.width+=this.constants_.DARK_PATH_OFFSET,this.height=n+this.constants_.DARK_PATH_OFFSET,this.startY=this.topRow.capline},e.geras.Drawer=function(t,n){e.geras.Drawer.superClass_.constructor.call(this,t,n),this.highlighter_=new e.geras.Highlighter(n)},e.utils.object.inherits(e.geras.Drawer,e.blockRendering.Drawer),e.geras.Drawer.prototype.draw=function(){this.hideHiddenIcons_(),this.drawOutline_(),this.drawInternals_();var t=this.block_.pathObject;t.setPath(this.outlinePath_+"\n"+this.inlinePath_),t.setHighlightPath(this.highlighter_.getPath()),this.info_.RTL&&t.flipRTL(),e.blockRendering.useDebugger&&this.block_.renderingDebugger.drawDebug(this.block_,this.info_),this.recordSizeOnBlock_()},e.geras.Drawer.prototype.drawTop_=function(){this.highlighter_.drawTopCorner(this.info_.topRow),this.highlighter_.drawRightSideRow(this.info_.topRow),e.geras.Drawer.superClass_.drawTop_.call(this)},e.geras.Drawer.prototype.drawJaggedEdge_=function(t){this.highlighter_.drawJaggedEdge_(t),e.geras.Drawer.superClass_.drawJaggedEdge_.call(this,t)},e.geras.Drawer.prototype.drawValueInput_=function(t){this.highlighter_.drawValueInput(t),e.geras.Drawer.superClass_.drawValueInput_.call(this,t)},e.geras.Drawer.prototype.drawStatementInput_=function(t){this.highlighter_.drawStatementInput(t),e.geras.Drawer.superClass_.drawStatementInput_.call(this,t)},e.geras.Drawer.prototype.drawRightSideRow_=function(t){this.highlighter_.drawRightSideRow(t),this.outlinePath_+=e.utils.svgPaths.lineOnAxis("H",t.xPos+t.width)+e.utils.svgPaths.lineOnAxis("V",t.yPos+t.height)},e.geras.Drawer.prototype.drawBottom_=function(){this.highlighter_.drawBottomRow(this.info_.bottomRow),e.geras.Drawer.superClass_.drawBottom_.call(this)},e.geras.Drawer.prototype.drawLeft_=function(){this.highlighter_.drawLeft(),e.geras.Drawer.superClass_.drawLeft_.call(this)},e.geras.Drawer.prototype.drawInlineInput_=function(t){this.highlighter_.drawInlineInput(t),e.geras.Drawer.superClass_.drawInlineInput_.call(this,t)},e.geras.Drawer.prototype.positionInlineInputConnection_=function(e){var t=e.centerline-e.height/2;if(e.connectionModel){var n=e.xPos+e.connectionWidth+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(n*=-1),e.connectionModel.setOffsetInBlock(n,t+e.connectionOffsetY+this.constants_.DARK_PATH_OFFSET)}},e.geras.Drawer.prototype.positionStatementInputConnection_=function(e){var t=e.getLastInput();if(t.connectionModel){var n=e.xPos+e.statementEdge+t.notchOffset;n=this.info_.RTL?-1*n:n+this.constants_.DARK_PATH_OFFSET,t.connectionModel.setOffsetInBlock(n,e.yPos+this.constants_.DARK_PATH_OFFSET)}},e.geras.Drawer.prototype.positionExternalValueConnection_=function(e){var t=e.getLastInput();if(t.connectionModel){var n=e.xPos+e.width+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(n*=-1),t.connectionModel.setOffsetInBlock(n,e.yPos)}},e.geras.Drawer.prototype.positionNextConnection_=function(){var e=this.info_.bottomRow;if(e.connection){var t=e.connection,n=t.xPos;t.connectionModel.setOffsetInBlock((this.info_.RTL?-n:n)+this.constants_.DARK_PATH_OFFSET/2,e.baseline+this.constants_.DARK_PATH_OFFSET)}},e.geras.HighlightConstantProvider=function(t){this.constantProvider=t,this.OFFSET=.5,this.START_POINT=e.utils.svgPaths.moveBy(this.OFFSET,this.OFFSET)},e.geras.HighlightConstantProvider.prototype.init=function(){this.INSIDE_CORNER=this.makeInsideCorner(),this.OUTSIDE_CORNER=this.makeOutsideCorner(),this.PUZZLE_TAB=this.makePuzzleTab(),this.NOTCH=this.makeNotch(),this.JAGGED_TEETH=this.makeJaggedTeeth(),this.START_HAT=this.makeStartHat()},e.geras.HighlightConstantProvider.prototype.makeInsideCorner=function(){var t=this.constantProvider.CORNER_RADIUS,n=this.OFFSET,r=(1-Math.SQRT1_2)*(t+n)-n,i=e.utils.svgPaths.moveBy(r,r)+e.utils.svgPaths.arc("a","0 0,0",t,e.utils.svgPaths.point(-r-n,t-r)),o=e.utils.svgPaths.arc("a","0 0,0",t+n,e.utils.svgPaths.point(t+n,t+n)),s=e.utils.svgPaths.moveBy(r,-r)+e.utils.svgPaths.arc("a","0 0,0",t+n,e.utils.svgPaths.point(t-r,r+n));return{width:t+n,height:t,pathTop:function(e){return e?i:""},pathBottom:function(e){return e?o:s}}},e.geras.HighlightConstantProvider.prototype.makeOutsideCorner=function(){var t=this.constantProvider.CORNER_RADIUS,n=this.OFFSET,r=(1-Math.SQRT1_2)*(t-n)+n,i=e.utils.svgPaths.moveBy(r,r)+e.utils.svgPaths.arc("a","0 0,1",t-n,e.utils.svgPaths.point(t-r,-r+n)),o=e.utils.svgPaths.moveBy(n,t)+e.utils.svgPaths.arc("a","0 0,1",t-n,e.utils.svgPaths.point(t,-t+n)),s=-r,a=e.utils.svgPaths.moveBy(r,s)+e.utils.svgPaths.arc("a","0 0,1",t-n,e.utils.svgPaths.point(-r+n,-s-t));return{height:t,topLeft:function(e){return e?i:o},bottomLeft:function(){return a}}},e.geras.HighlightConstantProvider.prototype.makePuzzleTab=function(){var t=this.constantProvider.TAB_WIDTH,n=this.constantProvider.TAB_HEIGHT,r=e.utils.svgPaths.moveBy(-2,3.4-n)+e.utils.svgPaths.lineTo(-.45*t,-2.1),i=e.utils.svgPaths.lineOnAxis("v",2.5)+e.utils.svgPaths.moveBy(.97*-t,2.5)+e.utils.svgPaths.curve("q",[e.utils.svgPaths.point(.05*-t,10),e.utils.svgPaths.point(.3*t,9.5)])+e.utils.svgPaths.moveBy(.67*t,-1.9)+e.utils.svgPaths.lineOnAxis("v",2.5),o=e.utils.svgPaths.lineOnAxis("v",-1.5)+e.utils.svgPaths.moveBy(-.92*t,-.5)+e.utils.svgPaths.curve("q",[e.utils.svgPaths.point(-.19*t,-5.5),e.utils.svgPaths.point(0,-11)])+e.utils.svgPaths.moveBy(.92*t,1),s=e.utils.svgPaths.moveBy(-5,n-.7)+e.utils.svgPaths.lineTo(.46*t,-2.1);return{width:t,height:n,pathUp:function(e){return e?r:o},pathDown:function(e){return e?i:s}}},e.geras.HighlightConstantProvider.prototype.makeNotch=function(){return{pathLeft:e.utils.svgPaths.lineOnAxis("h",this.OFFSET)+this.constantProvider.NOTCH.pathLeft}},e.geras.HighlightConstantProvider.prototype.makeJaggedTeeth=function(){return{pathLeft:e.utils.svgPaths.lineTo(5.1,2.6)+e.utils.svgPaths.moveBy(-10.2,6.8)+e.utils.svgPaths.lineTo(5.1,2.6),height:12,width:10.2}},e.geras.HighlightConstantProvider.prototype.makeStartHat=function(){var t=this.constantProvider.START_HAT.height,n=e.utils.svgPaths.moveBy(25,-8.7)+e.utils.svgPaths.curve("c",[e.utils.svgPaths.point(29.7,-6.2),e.utils.svgPaths.point(57.2,-.5),e.utils.svgPaths.point(75,8.7)]),r=e.utils.svgPaths.curve("c",[e.utils.svgPaths.point(17.8,-9.2),e.utils.svgPaths.point(45.3,-14.9),e.utils.svgPaths.point(75,-8.7)])+e.utils.svgPaths.moveTo(100.5,t+.5);return{path:function(e){return e?n:r}}},e.geras.PathObject=function(t,n,r){this.constants=r,this.svgRoot=t,this.svgPathDark=e.utils.dom.createSvgElement(e.utils.Svg.PATH,{class:"blocklyPathDark",transform:"translate(1,1)"},this.svgRoot),this.svgPath=e.utils.dom.createSvgElement(e.utils.Svg.PATH,{class:"blocklyPath"},this.svgRoot),this.svgPathLight=e.utils.dom.createSvgElement(e.utils.Svg.PATH,{class:"blocklyPathLight"},this.svgRoot),this.colourDark="#000000",this.style=n},e.utils.object.inherits(e.geras.PathObject,e.blockRendering.PathObject),e.geras.PathObject.prototype.setPath=function(e){this.svgPath.setAttribute("d",e),this.svgPathDark.setAttribute("d",e)},e.geras.PathObject.prototype.setHighlightPath=function(e){this.svgPathLight.setAttribute("d",e)},e.geras.PathObject.prototype.flipRTL=function(){this.svgPath.setAttribute("transform","scale(-1 1)"),this.svgPathLight.setAttribute("transform","scale(-1 1)"),this.svgPathDark.setAttribute("transform","translate(1,1) scale(-1 1)")},e.geras.PathObject.prototype.applyColour=function(t){this.svgPathLight.style.display="",this.svgPathDark.style.display="",this.svgPathLight.setAttribute("stroke",this.style.colourTertiary),this.svgPathDark.setAttribute("fill",this.colourDark),e.geras.PathObject.superClass_.applyColour.call(this,t),this.svgPath.setAttribute("stroke","none")},e.geras.PathObject.prototype.setStyle=function(t){this.style=t,this.colourDark=e.utils.colour.blend("#000",this.style.colourPrimary,.2)||this.colourDark},e.geras.PathObject.prototype.updateHighlighted=function(e){e?(this.svgPath.setAttribute("filter","url(#"+this.constants.embossFilterId+")"),this.svgPathLight.style.display="none"):(this.svgPath.setAttribute("filter","none"),this.svgPathLight.style.display="inline")},e.geras.PathObject.prototype.updateShadow_=function(e){e&&(this.svgPathLight.style.display="none",this.svgPathDark.setAttribute("fill",this.style.colourSecondary),this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary))},e.geras.PathObject.prototype.updateDisabled_=function(t){e.geras.PathObject.superClass_.updateDisabled_.call(this,t),t&&this.svgPath.setAttribute("stroke","none")},e.geras.Renderer=function(t){e.geras.Renderer.superClass_.constructor.call(this,t),this.highlightConstants_=null},e.utils.object.inherits(e.geras.Renderer,e.blockRendering.Renderer),e.geras.Renderer.prototype.init=function(t,n){e.geras.Renderer.superClass_.init.call(this,t,n),this.highlightConstants_=this.makeHighlightConstants_(),this.highlightConstants_.init()},e.geras.Renderer.prototype.refreshDom=function(t,n){e.geras.Renderer.superClass_.refreshDom.call(this,t,n),this.getHighlightConstants().init()},e.geras.Renderer.prototype.makeConstants_=function(){return new e.geras.ConstantProvider},e.geras.Renderer.prototype.makeRenderInfo_=function(t){return new e.geras.RenderInfo(this,t)},e.geras.Renderer.prototype.makeDrawer_=function(t,n){return new e.geras.Drawer(t,n)},e.geras.Renderer.prototype.makePathObject=function(t,n){return new e.geras.PathObject(t,n,this.getConstants())},e.geras.Renderer.prototype.makeHighlightConstants_=function(){return new e.geras.HighlightConstantProvider(this.getConstants())},e.geras.Renderer.prototype.getHighlightConstants=function(){return this.highlightConstants_},e.blockRendering.register("geras",e.geras.Renderer),e.thrasos={},e.thrasos.RenderInfo=function(t,n){e.thrasos.RenderInfo.superClass_.constructor.call(this,t,n)},e.utils.object.inherits(e.thrasos.RenderInfo,e.blockRendering.RenderInfo),e.thrasos.RenderInfo.prototype.getRenderer=function(){return this.renderer_},e.thrasos.RenderInfo.prototype.addElemSpacing_=function(){for(var t,n=!1,r=0;t=this.rows[r];r++)t.hasExternalInput&&(n=!0);for(r=0;t=this.rows[r];r++){var i=t.elements;t.elements=[],t.startsWithElemSpacer()&&t.elements.push(new e.blockRendering.InRowSpacer(this.constants_,this.getInRowSpacing_(null,i[0])));for(var o=0;o<i.length-1;o++){t.elements.push(i[o]);var s=this.getInRowSpacing_(i[o],i[o+1]);t.elements.push(new e.blockRendering.InRowSpacer(this.constants_,s))}t.elements.push(i[i.length-1]),t.endsWithElemSpacer()&&(s=this.getInRowSpacing_(i[i.length-1],null),n&&t.hasDummyInput&&(s+=this.constants_.TAB_WIDTH),t.elements.push(new e.blockRendering.InRowSpacer(this.constants_,s)))}},e.thrasos.RenderInfo.prototype.getInRowSpacing_=function(t,n){if(!t)return n&&e.blockRendering.Types.isField(n)&&n.isEditable?this.constants_.MEDIUM_PADDING:n&&e.blockRendering.Types.isInlineInput(n)?this.constants_.MEDIUM_LARGE_PADDING:n&&e.blockRendering.Types.isStatementInput(n)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!e.blockRendering.Types.isInput(t)&&!n)return e.blockRendering.Types.isField(t)&&t.isEditable?this.constants_.MEDIUM_PADDING:e.blockRendering.Types.isIcon(t)?2*this.constants_.LARGE_PADDING+1:e.blockRendering.Types.isHat(t)?this.constants_.NO_PADDING:e.blockRendering.Types.isPreviousOrNextConnection(t)?this.constants_.LARGE_PADDING:e.blockRendering.Types.isLeftRoundedCorner(t)?this.constants_.MIN_BLOCK_WIDTH:e.blockRendering.Types.isJaggedEdge(t)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(e.blockRendering.Types.isInput(t)&&!n){if(e.blockRendering.Types.isExternalInput(t))return this.constants_.NO_PADDING;if(e.blockRendering.Types.isInlineInput(t))return this.constants_.LARGE_PADDING;if(e.blockRendering.Types.isStatementInput(t))return this.constants_.NO_PADDING}if(!e.blockRendering.Types.isInput(t)&&n&&e.blockRendering.Types.isInput(n)){if(e.blockRendering.Types.isField(t)&&t.isEditable){if(e.blockRendering.Types.isInlineInput(n)||e.blockRendering.Types.isExternalInput(n))return this.constants_.SMALL_PADDING}else{if(e.blockRendering.Types.isInlineInput(n)||e.blockRendering.Types.isExternalInput(n))return this.constants_.MEDIUM_LARGE_PADDING;if(e.blockRendering.Types.isStatementInput(n))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(e.blockRendering.Types.isIcon(t)&&n&&!e.blockRendering.Types.isInput(n))return this.constants_.LARGE_PADDING;if(e.blockRendering.Types.isInlineInput(t)&&n&&e.blockRendering.Types.isField(n))return n.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(e.blockRendering.Types.isLeftSquareCorner(t)&&n){if(e.blockRendering.Types.isHat(n))return this.constants_.NO_PADDING;if(e.blockRendering.Types.isPreviousConnection(n)||e.blockRendering.Types.isNextConnection(n))return n.notchOffset}return e.blockRendering.Types.isLeftRoundedCorner(t)&&n?n.notchOffset-this.constants_.CORNER_RADIUS:e.blockRendering.Types.isField(t)&&n&&e.blockRendering.Types.isField(n)&&t.isEditable==n.isEditable||n&&e.blockRendering.Types.isJaggedEdge(n)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING},e.thrasos.RenderInfo.prototype.getSpacerRowHeight_=function(t,n){return e.blockRendering.Types.isTopRow(t)&&e.blockRendering.Types.isBottomRow(n)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:e.blockRendering.Types.isTopRow(t)||e.blockRendering.Types.isBottomRow(n)?this.constants_.NO_PADDING:t.hasExternalInput&&n.hasExternalInput?this.constants_.LARGE_PADDING:!t.hasStatement&&n.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:t.hasStatement&&n.hasStatement||t.hasDummyInput||n.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING},e.thrasos.RenderInfo.prototype.getElemCenterline_=function(t,n){if(e.blockRendering.Types.isSpacer(n))return t.yPos+n.height/2;if(e.blockRendering.Types.isBottomRow(t))return t=t.yPos+t.height-t.descenderHeight,e.blockRendering.Types.isNextConnection(n)?t+n.height/2:t-n.height/2;if(e.blockRendering.Types.isTopRow(t))return e.blockRendering.Types.isHat(n)?t.capline-n.height/2:t.capline+n.height/2;var r=t.yPos;return e.blockRendering.Types.isField(n)&&t.hasStatement?r+(this.constants_.TALL_INPUT_FIELD_OFFSET_Y+n.height/2):r+t.height/2},e.thrasos.RenderInfo.prototype.finalize_=function(){for(var e,t=0,n=0,r=0;e=this.rows[r];r++){e.yPos=n,e.xPos=this.startX,n+=e.height,t=Math.max(t,e.widthWithConnectedBlocks);var i=n-this.topRow.ascenderHeight;e==this.bottomRow&&i<this.constants_.MIN_BLOCK_HEIGHT&&(i=this.constants_.MIN_BLOCK_HEIGHT-i,this.bottomRow.height+=i,n+=i),this.recordElemPositions_(e)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(t=Math.max(t,this.block_.nextConnection.targetBlock().getHeightWidth().width)),this.bottomRow.baseline=n-this.bottomRow.descenderHeight,this.widthWithChildren=t+this.startX,this.height=n,this.startY=this.topRow.capline},e.thrasos.Renderer=function(t){e.thrasos.Renderer.superClass_.constructor.call(this,t)},e.utils.object.inherits(e.thrasos.Renderer,e.blockRendering.Renderer),e.thrasos.Renderer.prototype.makeRenderInfo_=function(t){return new e.thrasos.RenderInfo(this,t)},e.blockRendering.register("thrasos",e.thrasos.Renderer),e.zelos={},e.zelos.ConstantProvider=function(){e.zelos.ConstantProvider.superClass_.constructor.call(this),this.SMALL_PADDING=this.GRID_UNIT=4,this.MEDIUM_PADDING=2*this.GRID_UNIT,this.MEDIUM_LARGE_PADDING=3*this.GRID_UNIT,this.LARGE_PADDING=4*this.GRID_UNIT,this.CORNER_RADIUS=1*this.GRID_UNIT,this.NOTCH_WIDTH=9*this.GRID_UNIT,this.NOTCH_HEIGHT=2*this.GRID_UNIT,this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT=3*this.GRID_UNIT,this.MIN_BLOCK_WIDTH=2*this.GRID_UNIT,this.MIN_BLOCK_HEIGHT=12*this.GRID_UNIT,this.EMPTY_STATEMENT_INPUT_HEIGHT=6*this.GRID_UNIT,this.TAB_OFFSET_FROM_TOP=0,this.TOP_ROW_MIN_HEIGHT=this.CORNER_RADIUS,this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.BOTTOM_ROW_MIN_HEIGHT=this.CORNER_RADIUS,this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=6*this.GRID_UNIT,this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT,this.STATEMENT_INPUT_SPACER_MIN_WIDTH=40*this.GRID_UNIT,this.STATEMENT_INPUT_PADDING_LEFT=4*this.GRID_UNIT,this.EMPTY_INLINE_INPUT_PADDING=4*this.GRID_UNIT,this.EMPTY_INLINE_INPUT_HEIGHT=8*this.GRID_UNIT,this.DUMMY_INPUT_MIN_HEIGHT=8*this.GRID_UNIT,this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=6*this.GRID_UNIT,this.CURSOR_WS_WIDTH=20*this.GRID_UNIT,this.CURSOR_COLOUR="#ffa200",this.CURSOR_RADIUS=5,this.JAGGED_TEETH_WIDTH=this.JAGGED_TEETH_HEIGHT=0,this.START_HAT_HEIGHT=22,this.START_HAT_WIDTH=96,this.SHAPES={HEXAGONAL:1,ROUND:2,SQUARE:3,PUZZLE:4,NOTCH:5},this.SHAPE_IN_SHAPE_PADDING={1:{0:5*this.GRID_UNIT,1:2*this.GRID_UNIT,2:5*this.GRID_UNIT,3:5*this.GRID_UNIT},2:{0:3*this.GRID_UNIT,1:3*this.GRID_UNIT,2:1*this.GRID_UNIT,3:2*this.GRID_UNIT},3:{0:2*this.GRID_UNIT,1:2*this.GRID_UNIT,2:2*this.GRID_UNIT,3:2*this.GRID_UNIT}},this.FULL_BLOCK_FIELDS=!0,this.FIELD_TEXT_FONTSIZE=3*this.GRID_UNIT,this.FIELD_TEXT_FONTWEIGHT="bold",this.FIELD_TEXT_FONTFAMILY='"Helvetica Neue", "Segoe UI", Helvetica, sans-serif',this.FIELD_BORDER_RECT_RADIUS=this.CORNER_RADIUS,this.FIELD_BORDER_RECT_X_PADDING=2*this.GRID_UNIT,this.FIELD_BORDER_RECT_Y_PADDING=1.625*this.GRID_UNIT,this.FIELD_BORDER_RECT_HEIGHT=8*this.GRID_UNIT,this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=8*this.GRID_UNIT,this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!0,this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING,this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=!0,this.FIELD_COLOUR_DEFAULT_WIDTH=2*this.GRID_UNIT,this.FIELD_COLOUR_DEFAULT_HEIGHT=4*this.GRID_UNIT,this.FIELD_CHECKBOX_X_OFFSET=1*this.GRID_UNIT,this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH=12*this.GRID_UNIT,this.SELECTED_GLOW_COLOUR="#fff200",this.SELECTED_GLOW_SIZE=.5,this.REPLACEMENT_GLOW_COLOUR="#fff200",this.REPLACEMENT_GLOW_SIZE=2,this.selectedGlowFilterId="",this.selectedGlowFilter_=null,this.replacementGlowFilterId="",this.replacementGlowFilter_=null},e.utils.object.inherits(e.zelos.ConstantProvider,e.blockRendering.ConstantProvider),e.zelos.ConstantProvider.prototype.setFontConstants_=function(t){e.zelos.ConstantProvider.superClass_.setFontConstants_.call(this,t),this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT=this.FIELD_TEXT_HEIGHT+2*this.FIELD_BORDER_RECT_Y_PADDING},e.zelos.ConstantProvider.prototype.init=function(){e.zelos.ConstantProvider.superClass_.init.call(this),this.HEXAGONAL=this.makeHexagonal(),this.ROUNDED=this.makeRounded(),this.SQUARED=this.makeSquared(),this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT+this.INSIDE_CORNERS.rightWidth},e.zelos.ConstantProvider.prototype.setDynamicProperties_=function(t){e.zelos.ConstantProvider.superClass_.setDynamicProperties_.call(this,t),this.SELECTED_GLOW_COLOUR=t.getComponentStyle("selectedGlowColour")||this.SELECTED_GLOW_COLOUR;var n=Number(t.getComponentStyle("selectedGlowSize"));this.SELECTED_GLOW_SIZE=n&&!isNaN(n)?n:this.SELECTED_GLOW_SIZE,this.REPLACEMENT_GLOW_COLOUR=t.getComponentStyle("replacementGlowColour")||this.REPLACEMENT_GLOW_COLOUR,this.REPLACEMENT_GLOW_SIZE=(t=Number(t.getComponentStyle("replacementGlowSize")))&&!isNaN(t)?t:this.REPLACEMENT_GLOW_SIZE},e.zelos.ConstantProvider.prototype.dispose=function(){e.zelos.ConstantProvider.superClass_.dispose.call(this),this.selectedGlowFilter_&&e.utils.dom.removeNode(this.selectedGlowFilter_),this.replacementGlowFilter_&&e.utils.dom.removeNode(this.replacementGlowFilter_)},e.zelos.ConstantProvider.prototype.makeStartHat=function(){var t=this.START_HAT_HEIGHT,n=this.START_HAT_WIDTH;return{height:t,width:n,path:e.utils.svgPaths.curve("c",[e.utils.svgPaths.point(25,-t),e.utils.svgPaths.point(71,-t),e.utils.svgPaths.point(n,0)])}},e.zelos.ConstantProvider.prototype.makeHexagonal=function(){function t(t,r,i){var o=t/2;return o=o>n?n:o,i=i?-1:1,t=(r?-1:1)*t/2,e.utils.svgPaths.lineTo(-i*o,t)+e.utils.svgPaths.lineTo(i*o,t)}var n=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH;return{type:this.SHAPES.HEXAGONAL,isDynamic:!0,width:function(e){return(e/=2)>n?n:e},height:function(e){return e},connectionOffsetY:function(e){return e/2},connectionOffsetX:function(e){return-e},pathDown:function(e){return t(e,!1,!1)},pathUp:function(e){return t(e,!0,!1)},pathRightDown:function(e){return t(e,!1,!0)},pathRightUp:function(e){return t(e,!1,!0)}}},e.zelos.ConstantProvider.prototype.makeRounded=function(){function t(t,n,i){var o=t>r?t-r:0;return t=(t>r?r:t)/2,e.utils.svgPaths.arc("a","0 0,1",t,e.utils.svgPaths.point((n?-1:1)*t,(n?-1:1)*t))+e.utils.svgPaths.lineOnAxis("v",(i?1:-1)*o)+e.utils.svgPaths.arc("a","0 0,1",t,e.utils.svgPaths.point((n?1:-1)*t,(n?-1:1)*t))}var n=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,r=2*n;return{type:this.SHAPES.ROUND,isDynamic:!0,width:function(e){return(e/=2)>n?n:e},height:function(e){return e},connectionOffsetY:function(e){return e/2},connectionOffsetX:function(e){return-e},pathDown:function(e){return t(e,!1,!1)},pathUp:function(e){return t(e,!0,!1)},pathRightDown:function(e){return t(e,!1,!0)},pathRightUp:function(e){return t(e,!1,!0)}}},e.zelos.ConstantProvider.prototype.makeSquared=function(){function t(t,r,i){return t-=2*n,e.utils.svgPaths.arc("a","0 0,1",n,e.utils.svgPaths.point((r?-1:1)*n,(r?-1:1)*n))+e.utils.svgPaths.lineOnAxis("v",(i?1:-1)*t)+e.utils.svgPaths.arc("a","0 0,1",n,e.utils.svgPaths.point((r?1:-1)*n,(r?-1:1)*n))}var n=this.CORNER_RADIUS;return{type:this.SHAPES.SQUARE,isDynamic:!0,width:function(e){return n},height:function(e){return e},connectionOffsetY:function(e){return e/2},connectionOffsetX:function(e){return-e},pathDown:function(e){return t(e,!1,!1)},pathUp:function(e){return t(e,!0,!1)},pathRightDown:function(e){return t(e,!1,!0)},pathRightUp:function(e){return t(e,!1,!0)}}},e.zelos.ConstantProvider.prototype.shapeFor=function(t){var n=t.getCheck();switch(!n&&t.targetConnection&&(n=t.targetConnection.getCheck()),t.type){case e.connectionTypes.INPUT_VALUE:case e.connectionTypes.OUTPUT_VALUE:if(null!=(t=t.getSourceBlock().getOutputShape()))switch(t){case this.SHAPES.HEXAGONAL:return this.HEXAGONAL;case this.SHAPES.ROUND:return this.ROUNDED;case this.SHAPES.SQUARE:return this.SQUARED}return n&&-1!=n.indexOf("Boolean")?this.HEXAGONAL:(n&&-1!=n.indexOf("Number")||n&&n.indexOf("String"),this.ROUNDED);case e.connectionTypes.PREVIOUS_STATEMENT:case e.connectionTypes.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown type")}},e.zelos.ConstantProvider.prototype.makeNotch=function(){function t(t){return e.utils.svgPaths.curve("c",[e.utils.svgPaths.point(t*o/2,0),e.utils.svgPaths.point(t*o*3/4,a/2),e.utils.svgPaths.point(t*o,a)])+e.utils.svgPaths.line([e.utils.svgPaths.point(t*o,s)])+e.utils.svgPaths.curve("c",[e.utils.svgPaths.point(t*o/4,a/2),e.utils.svgPaths.point(t*o/2,a),e.utils.svgPaths.point(t*o,a)])+e.utils.svgPaths.lineOnAxis("h",t*i)+e.utils.svgPaths.curve("c",[e.utils.svgPaths.point(t*o/2,0),e.utils.svgPaths.point(t*o*3/4,-a/2),e.utils.svgPaths.point(t*o,-a)])+e.utils.svgPaths.line([e.utils.svgPaths.point(t*o,-s)])+e.utils.svgPaths.curve("c",[e.utils.svgPaths.point(t*o/4,-a/2),e.utils.svgPaths.point(t*o/2,-a),e.utils.svgPaths.point(t*o,-a)])}var n=this.NOTCH_WIDTH,r=this.NOTCH_HEIGHT,i=n/3,o=i/3,s=r/2,a=s/2,l=t(1),c=t(-1);return{type:this.SHAPES.NOTCH,width:n,height:r,pathLeft:l,pathRight:c}},e.zelos.ConstantProvider.prototype.makeInsideCorners=function(){var t=this.CORNER_RADIUS,n=e.utils.svgPaths.arc("a","0 0,0",t,e.utils.svgPaths.point(-t,t)),r=e.utils.svgPaths.arc("a","0 0,1",t,e.utils.svgPaths.point(-t,t));return{width:t,height:t,pathTop:n,pathBottom:e.utils.svgPaths.arc("a","0 0,0",t,e.utils.svgPaths.point(t,t)),rightWidth:t,rightHeight:t,pathTopRight:r,pathBottomRight:e.utils.svgPaths.arc("a","0 0,1",t,e.utils.svgPaths.point(t,t))}},e.zelos.ConstantProvider.prototype.generateSecondaryColour_=function(t){return e.utils.colour.blend("#000",t,.15)||t},e.zelos.ConstantProvider.prototype.generateTertiaryColour_=function(t){return e.utils.colour.blend("#000",t,.25)||t},e.zelos.ConstantProvider.prototype.createDom=function(t,n,r){e.zelos.ConstantProvider.superClass_.createDom.call(this,t,n,r),t=e.utils.dom.createSvgElement(e.utils.Svg.DEFS,{},t),n=e.utils.dom.createSvgElement(e.utils.Svg.FILTER,{id:"blocklySelectedGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},t),e.utils.dom.createSvgElement(e.utils.Svg.FEGAUSSIANBLUR,{in:"SourceGraphic",stdDeviation:this.SELECTED_GLOW_SIZE},n),r=e.utils.dom.createSvgElement(e.utils.Svg.FECOMPONENTTRANSFER,{result:"outBlur"},n),e.utils.dom.createSvgElement(e.utils.Svg.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},r),e.utils.dom.createSvgElement(e.utils.Svg.FEFLOOD,{"flood-color":this.SELECTED_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},n),e.utils.dom.createSvgElement(e.utils.Svg.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},n),this.selectedGlowFilterId=n.id,this.selectedGlowFilter_=n,t=e.utils.dom.createSvgElement(e.utils.Svg.FILTER,{id:"blocklyReplacementGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},t),e.utils.dom.createSvgElement(e.utils.Svg.FEGAUSSIANBLUR,{in:"SourceGraphic",stdDeviation:this.REPLACEMENT_GLOW_SIZE},t),n=e.utils.dom.createSvgElement(e.utils.Svg.FECOMPONENTTRANSFER,{result:"outBlur"},t),e.utils.dom.createSvgElement(e.utils.Svg.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},n),e.utils.dom.createSvgElement(e.utils.Svg.FEFLOOD,{"flood-color":this.REPLACEMENT_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},t),e.utils.dom.createSvgElement(e.utils.Svg.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},t),e.utils.dom.createSvgElement(e.utils.Svg.FECOMPOSITE,{in:"SourceGraphic",in2:"outGlow",operator:"over"},t),this.replacementGlowFilterId=t.id,this.replacementGlowFilter_=t},e.zelos.ConstantProvider.prototype.getCSS_=function(e){return[e+" .blocklyText,",e+" .blocklyFlyoutLabelText {","font: "+this.FIELD_TEXT_FONTWEIGHT+" "+this.FIELD_TEXT_FONTSIZE+"pt "+this.FIELD_TEXT_FONTFAMILY+";","}",e+" .blocklyText {","fill: #fff;","}",e+" .blocklyNonEditableText>rect:not(.blocklyDropdownRect),",e+" .blocklyEditableText>rect:not(.blocklyDropdownRect) {","fill: "+this.FIELD_BORDER_RECT_COLOUR+";","}",e+" .blocklyNonEditableText>text,",e+" .blocklyEditableText>text,",e+" .blocklyNonEditableText>g>text,",e+" .blocklyEditableText>g>text {","fill: #575E75;","}",e+" .blocklyFlyoutLabelText {","fill: #575E75;","}",e+" .blocklyText.blocklyBubbleText {","fill: #575E75;","}",e+" .blocklyDraggable:not(.blocklyDisabled)"," .blocklyEditableText:not(.editing):hover>rect,",e+" .blocklyDraggable:not(.blocklyDisabled)"," .blocklyEditableText:not(.editing):hover>.blocklyPath {","stroke: #fff;","stroke-width: 2;","}",e+" .blocklyHtmlInput {","font-family: "+this.FIELD_TEXT_FONTFAMILY+";","font-weight: "+this.FIELD_TEXT_FONTWEIGHT+";","color: #575E75;","}",e+" .blocklyDropdownText {","fill: #fff !important;","}",e+".blocklyWidgetDiv .goog-menuitem,",e+".blocklyDropDownDiv .goog-menuitem {","font-family: "+this.FIELD_TEXT_FONTFAMILY+";","}",e+".blocklyDropDownDiv .goog-menuitem-content {","color: #fff;","}",e+" .blocklyHighlightedConnectionPath {","stroke: "+this.SELECTED_GLOW_COLOUR+";","}",e+" .blocklyDisabled > .blocklyOutlinePath {","fill: url(#blocklyDisabledPattern"+this.randomIdentifier+")","}",e+" .blocklyInsertionMarker>.blocklyPath {","fill-opacity: "+this.INSERTION_MARKER_OPACITY+";","stroke: none;","}"]},e.zelos.TopRow=function(t){e.zelos.TopRow.superClass_.constructor.call(this,t)},e.utils.object.inherits(e.zelos.TopRow,e.blockRendering.TopRow),e.zelos.TopRow.prototype.endsWithElemSpacer=function(){return!1},e.zelos.TopRow.prototype.hasLeftSquareCorner=function(e){var t=(e.hat?"cap"===e.hat:this.constants_.ADD_START_HATS)&&!e.outputConnection&&!e.previousConnection;return!!e.outputConnection||t},e.zelos.TopRow.prototype.hasRightSquareCorner=function(e){return!!e.outputConnection&&!e.statementInputCount&&!e.nextConnection},e.zelos.BottomRow=function(t){e.zelos.BottomRow.superClass_.constructor.call(this,t)},e.utils.object.inherits(e.zelos.BottomRow,e.blockRendering.BottomRow),e.zelos.BottomRow.prototype.endsWithElemSpacer=function(){return!1},e.zelos.BottomRow.prototype.hasLeftSquareCorner=function(e){return!!e.outputConnection},e.zelos.BottomRow.prototype.hasRightSquareCorner=function(e){return!!e.outputConnection&&!e.statementInputCount&&!e.nextConnection},e.zelos.RightConnectionShape=function(t){e.zelos.RightConnectionShape.superClass_.constructor.call(this,t),this.type|=e.blockRendering.Types.getType("RIGHT_CONNECTION"),this.width=this.height=0},e.utils.object.inherits(e.zelos.RightConnectionShape,e.blockRendering.Measurable),e.zelos.RenderInfo=function(t,n){e.zelos.RenderInfo.superClass_.constructor.call(this,t,n),this.topRow=new e.zelos.TopRow(this.constants_),this.bottomRow=new e.zelos.BottomRow(this.constants_),this.isInline=!0,this.isMultiRow=!n.getInputsInline()||n.isCollapsed(),this.hasStatementInput=0<n.statementInputCount,this.rightSide=this.outputConnection?new e.zelos.RightConnectionShape(this.constants_):null},e.utils.object.inherits(e.zelos.RenderInfo,e.blockRendering.RenderInfo),e.zelos.RenderInfo.prototype.getRenderer=function(){return this.renderer_},e.zelos.RenderInfo.prototype.measure=function(){this.createRows_(),this.addElemSpacing_(),this.addRowSpacing_(),this.adjustXPosition_(),this.computeBounds_(),this.alignRowElements_(),this.finalize_()},e.zelos.RenderInfo.prototype.shouldStartNewRow_=function(t,n){return!!n&&(t.type==e.inputTypes.STATEMENT||n.type==e.inputTypes.STATEMENT||(t.type==e.inputTypes.VALUE||t.type==e.inputTypes.DUMMY)&&(!this.isInline||this.isMultiRow))},e.zelos.RenderInfo.prototype.getDesiredRowWidth_=function(t){return t.hasStatement?this.width-this.startX-(this.constants_.INSIDE_CORNERS.rightWidth||0):e.zelos.RenderInfo.superClass_.getDesiredRowWidth_.call(this,t)},e.zelos.RenderInfo.prototype.getInRowSpacing_=function(t,n){return t&&n||!this.outputConnection||!this.outputConnection.isDynamicShape||this.hasStatementInput||this.bottomRow.hasNextConnection?!t&&n&&e.blockRendering.Types.isStatementInput(n)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:t&&e.blockRendering.Types.isLeftRoundedCorner(t)&&n&&(e.blockRendering.Types.isPreviousConnection(n)||e.blockRendering.Types.isNextConnection(n))?n.notchOffset-this.constants_.CORNER_RADIUS:t&&e.blockRendering.Types.isLeftSquareCorner(t)&&n&&e.blockRendering.Types.isHat(n)?this.constants_.NO_PADDING:this.constants_.MEDIUM_PADDING:this.constants_.NO_PADDING},e.zelos.RenderInfo.prototype.getSpacerRowHeight_=function(t,n){if(e.blockRendering.Types.isTopRow(t)&&e.blockRendering.Types.isBottomRow(n))return this.constants_.EMPTY_BLOCK_SPACER_HEIGHT;var r=e.blockRendering.Types.isInputRow(t)&&t.hasStatement,i=e.blockRendering.Types.isInputRow(n)&&n.hasStatement;return i||r?(t=Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.INSIDE_CORNERS.rightHeight||0),i&&r?Math.max(t,this.constants_.DUMMY_INPUT_MIN_HEIGHT):t):e.blockRendering.Types.isTopRow(t)?t.hasPreviousConnection||this.outputConnection&&!this.hasStatementInput?this.constants_.NO_PADDING:Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):e.blockRendering.Types.isBottomRow(n)?this.outputConnection?!n.hasNextConnection&&this.hasStatementInput?Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):this.constants_.NO_PADDING:Math.max(this.topRow.minHeight,Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.CORNER_RADIUS))-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING},e.zelos.RenderInfo.prototype.getSpacerRowWidth_=function(t,n){var r=this.width-this.startX;return e.blockRendering.Types.isInputRow(t)&&t.hasStatement||e.blockRendering.Types.isInputRow(n)&&n.hasStatement?Math.max(r,this.constants_.STATEMENT_INPUT_SPACER_MIN_WIDTH):r},e.zelos.RenderInfo.prototype.getElemCenterline_=function(t,n){if(t.hasStatement&&!e.blockRendering.Types.isSpacer(n)&&!e.blockRendering.Types.isStatementInput(n))return t.yPos+this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT/2;if(e.blockRendering.Types.isInlineInput(n)){var r=n.connectedBlock;if(r&&r.outputConnection&&r.nextConnection)return t.yPos+r.height/2}return e.zelos.RenderInfo.superClass_.getElemCenterline_.call(this,t,n)},e.zelos.RenderInfo.prototype.addInput_=function(t,n){t.type==e.inputTypes.DUMMY&&n.hasDummyInput&&n.align==e.constants.ALIGN.LEFT&&t.align==e.constants.ALIGN.RIGHT&&(n.rightAlignedDummyInput=t),e.zelos.RenderInfo.superClass_.addInput_.call(this,t,n)},e.zelos.RenderInfo.prototype.addAlignmentPadding_=function(t,n){if(t.rightAlignedDummyInput){for(var r,i,o=0;(i=t.elements[o])&&(e.blockRendering.Types.isSpacer(i)&&(r=i),!e.blockRendering.Types.isField(i)||i.parentInput!=t.rightAlignedDummyInput);o++);if(r)return r.width+=n,void(t.width+=n)}e.zelos.RenderInfo.superClass_.addAlignmentPadding_.call(this,t,n)},e.zelos.RenderInfo.prototype.adjustXPosition_=function(){for(var t=this.constants_.NOTCH_OFFSET_LEFT+this.constants_.NOTCH_WIDTH,n=t,r=2;r<this.rows.length-1;r+=2){var i=this.rows[r-1],o=this.rows[r],s=this.rows[r+1];if(i=2==r?!!this.topRow.hasPreviousConnection:!!i.followsStatement,s=r+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!s.precedesStatement,e.blockRendering.Types.isInputRow(o)&&o.hasStatement)o.measure(),n=o.width-o.getLastInput().width+t;else if(i&&(2==r||s)&&e.blockRendering.Types.isInputRow(o)&&!o.hasStatement){s=o.xPos,i=null;for(var a,l=0;a=o.elements[l];l++)e.blockRendering.Types.isSpacer(a)&&(i=a),!(i&&(e.blockRendering.Types.isField(a)||e.blockRendering.Types.isInput(a))&&s<n)||e.blockRendering.Types.isField(a)&&(a.field instanceof e.FieldLabel||a.field instanceof e.FieldImage)||(i.width+=n-s),s+=a.width}}},e.zelos.RenderInfo.prototype.finalizeOutputConnection_=function(){if(this.outputConnection&&this.outputConnection.isDynamicShape){for(var e,t=0,n=0;e=this.rows[n];n++)e.yPos=t,t+=e.height;this.height=t,n=this.bottomRow.hasNextConnection?this.height-this.bottomRow.descenderHeight:this.height,t=this.outputConnection.shape.height(n),n=this.outputConnection.shape.width(n),this.outputConnection.height=t,this.outputConnection.width=n,this.outputConnection.startX=n,this.outputConnection.connectionOffsetY=this.outputConnection.shape.connectionOffsetY(t),this.outputConnection.connectionOffsetX=this.outputConnection.shape.connectionOffsetX(n),e=0,this.hasStatementInput||this.bottomRow.hasNextConnection||(e=n,this.rightSide.height=t,this.rightSide.width=e,this.rightSide.centerline=t/2,this.rightSide.xPos=this.width+e),this.startX=n,this.width+=n+e,this.widthWithChildren+=n+e}},e.zelos.RenderInfo.prototype.finalizeHorizontalAlignment_=function(){if(this.outputConnection&&!this.hasStatementInput&&!this.bottomRow.hasNextConnection){for(var t,n=0,r=0;t=this.rows[r];r++)if(e.blockRendering.Types.isInputRow(t)){n=t.elements[t.elements.length-2];var i=this.getNegativeSpacing_(t.elements[1]),o=this.getNegativeSpacing_(n);n=i+o;var s=this.constants_.MIN_BLOCK_WIDTH+2*this.outputConnection.width;this.width-n<s&&(i=(n=this.width-s)/2,o=n/2),t.elements.unshift(new e.blockRendering.InRowSpacer(this.constants_,-i)),t.elements.push(new e.blockRendering.InRowSpacer(this.constants_,-o))}if(n)for(this.width-=n,this.widthWithChildren-=n,this.rightSide.xPos-=n,r=0;t=this.rows[r];r++)e.blockRendering.Types.isTopOrBottomRow(t)&&(t.elements[1].width-=n,t.elements[1].widthWithConnectedBlocks-=n),t.width-=n,t.widthWithConnectedBlocks-=n}},e.zelos.RenderInfo.prototype.getNegativeSpacing_=function(t){if(!t)return 0;var n=this.outputConnection.width,r=this.outputConnection.shape.type,i=this.constants_;if(this.isMultiRow&&1<this.inputRows.length)return r===i.SHAPES.ROUND?(r=this.constants_.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,n-(r=this.height/2>r?r:this.height/2)*(1-Math.sin(Math.acos((r-this.constants_.SMALL_PADDING)/r)))):0;if(e.blockRendering.Types.isInlineInput(t)){var o=t.connectedBlock;return t=o?o.pathObject.outputShapeType:t.shape.type,o&&o.outputConnection&&(o.statementInputCount||o.nextConnection)||r==i.SHAPES.HEXAGONAL&&r!=t?0:n-this.constants_.SHAPE_IN_SHAPE_PADDING[r][t]}return e.blockRendering.Types.isField(t)?r==i.SHAPES.ROUND&&t.field instanceof e.FieldTextInput?n-2.75*i.GRID_UNIT:n-this.constants_.SHAPE_IN_SHAPE_PADDING[r][0]:e.blockRendering.Types.isIcon(t)?this.constants_.SMALL_PADDING:0},e.zelos.RenderInfo.prototype.finalizeVerticalAlignment_=function(){if(!this.outputConnection)for(var t=2;t<this.rows.length-1;t+=2){var n=this.rows[t-1],r=this.rows[t],i=this.rows[t+1],o=2==t,s=t+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!i.precedesStatement;if(o?this.topRow.hasPreviousConnection:n.followsStatement){var a=3==r.elements.length&&(r.elements[1].field instanceof e.FieldLabel||r.elements[1].field instanceof e.FieldImage);if(!o&&a)n.height-=this.constants_.SMALL_PADDING,i.height-=this.constants_.SMALL_PADDING,r.height-=this.constants_.MEDIUM_PADDING;else if(o||s){if(s){for(o=!1,s=0;a=r.elements[s];s++)if(e.blockRendering.Types.isInlineInput(a)&&a.connectedBlock&&!a.connectedBlock.isShadow()&&40<=a.connectedBlock.getHeightWidth().height){o=!0;break}o&&(n.height-=this.constants_.SMALL_PADDING,i.height-=this.constants_.SMALL_PADDING)}}else n.height+=this.constants_.SMALL_PADDING}}},e.zelos.RenderInfo.prototype.finalize_=function(){this.finalizeOutputConnection_(),this.finalizeHorizontalAlignment_(),this.finalizeVerticalAlignment_(),e.zelos.RenderInfo.superClass_.finalize_.call(this),this.rightSide&&(this.widthWithChildren+=this.rightSide.width)},e.zelos.Drawer=function(t,n){e.zelos.Drawer.superClass_.constructor.call(this,t,n)},e.utils.object.inherits(e.zelos.Drawer,e.blockRendering.Drawer),e.zelos.Drawer.prototype.draw=function(){var t=this.block_.pathObject;t.beginDrawing(),this.hideHiddenIcons_(),this.drawOutline_(),this.drawInternals_(),t.setPath(this.outlinePath_+"\n"+this.inlinePath_),this.info_.RTL&&t.flipRTL(),e.blockRendering.useDebugger&&this.block_.renderingDebugger.drawDebug(this.block_,this.info_),this.recordSizeOnBlock_(),this.info_.outputConnection&&(t.outputShapeType=this.info_.outputConnection.shape.type),t.endDrawing()},e.zelos.Drawer.prototype.drawOutline_=function(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape&&!this.info_.hasStatementInput&&!this.info_.bottomRow.hasNextConnection?(this.drawFlatTop_(),this.drawRightDynamicConnection_(),this.drawFlatBottom_(),this.drawLeftDynamicConnection_()):e.zelos.Drawer.superClass_.drawOutline_.call(this)},e.zelos.Drawer.prototype.drawLeft_=function(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape?this.drawLeftDynamicConnection_():e.zelos.Drawer.superClass_.drawLeft_.call(this)},e.zelos.Drawer.prototype.drawRightSideRow_=function(t){if(!(0>=t.height))if(t.precedesStatement||t.followsStatement){var n=this.constants_.INSIDE_CORNERS.rightHeight;n=t.height-(t.precedesStatement?n:0),this.outlinePath_+=(t.followsStatement?this.constants_.INSIDE_CORNERS.pathBottomRight:"")+(0<n?e.utils.svgPaths.lineOnAxis("V",t.yPos+n):"")+(t.precedesStatement?this.constants_.INSIDE_CORNERS.pathTopRight:"")}else this.outlinePath_+=e.utils.svgPaths.lineOnAxis("V",t.yPos+t.height)},e.zelos.Drawer.prototype.drawRightDynamicConnection_=function(){this.outlinePath_+=this.info_.outputConnection.shape.pathRightDown(this.info_.outputConnection.height)},e.zelos.Drawer.prototype.drawLeftDynamicConnection_=function(){this.positionOutputConnection_(),this.outlinePath_+=this.info_.outputConnection.shape.pathUp(this.info_.outputConnection.height),this.outlinePath_+="z"},e.zelos.Drawer.prototype.drawFlatTop_=function(){var t=this.info_.topRow;this.positionPreviousConnection_(),this.outlinePath_+=e.utils.svgPaths.moveBy(t.xPos,this.info_.startY),this.outlinePath_+=e.utils.svgPaths.lineOnAxis("h",t.width)},e.zelos.Drawer.prototype.drawFlatBottom_=function(){var t=this.info_.bottomRow;this.positionNextConnection_(),this.outlinePath_+=e.utils.svgPaths.lineOnAxis("V",t.baseline),this.outlinePath_+=e.utils.svgPaths.lineOnAxis("h",-t.width)},e.zelos.Drawer.prototype.drawInlineInput_=function(t){this.positionInlineInputConnection_(t);var n=t.input.name;if(!t.connectedBlock&&!this.info_.isInsertionMarker){var r=t.width-2*t.connectionWidth;t=e.utils.svgPaths.moveTo(t.xPos+t.connectionWidth,t.centerline-t.height/2)+e.utils.svgPaths.lineOnAxis("h",r)+t.shape.pathRightDown(t.height)+e.utils.svgPaths.lineOnAxis("h",-r)+t.shape.pathUp(t.height)+"z",this.block_.pathObject.setOutlinePath(n,t)}},e.zelos.Drawer.prototype.drawStatementInput_=function(t){var n=t.getLastInput(),r=n.xPos+n.notchOffset+n.shape.width,i=n.shape.pathRight+e.utils.svgPaths.lineOnAxis("h",-(n.notchOffset-this.constants_.INSIDE_CORNERS.width))+this.constants_.INSIDE_CORNERS.pathTop,o=t.height-2*this.constants_.INSIDE_CORNERS.height;n=this.constants_.INSIDE_CORNERS.pathBottom+e.utils.svgPaths.lineOnAxis("h",n.notchOffset-this.constants_.INSIDE_CORNERS.width)+(n.connectedBottomNextConnection?"":n.shape.pathLeft),this.outlinePath_+=e.utils.svgPaths.lineOnAxis("H",r)+i+e.utils.svgPaths.lineOnAxis("v",o)+n+e.utils.svgPaths.lineOnAxis("H",t.xPos+t.width),this.positionStatementInputConnection_(t)},e.zelos.MarkerSvg=function(t,n,r){e.zelos.MarkerSvg.superClass_.constructor.call(this,t,n,r)},e.utils.object.inherits(e.zelos.MarkerSvg,e.blockRendering.MarkerSvg),e.zelos.MarkerSvg.prototype.showWithInputOutput_=function(e){var t=e.getSourceBlock();e=e.getLocation().getOffsetInBlock(),this.positionCircle_(e.x,e.y),this.setParent_(t),this.showCurrent_()},e.zelos.MarkerSvg.prototype.showWithOutput_=function(e){this.showWithInputOutput_(e)},e.zelos.MarkerSvg.prototype.showWithInput_=function(e){this.showWithInputOutput_(e)},e.zelos.MarkerSvg.prototype.showWithBlock_=function(e){var t=(e=e.getLocation()).getHeightWidth();this.positionRect_(0,0,t.width,t.height),this.setParent_(e),this.showCurrent_()},e.zelos.MarkerSvg.prototype.positionCircle_=function(e,t){this.markerCircle_.setAttribute("cx",e),this.markerCircle_.setAttribute("cy",t),this.currentMarkerSvg=this.markerCircle_},e.zelos.MarkerSvg.prototype.hide=function(){e.zelos.MarkerSvg.superClass_.hide.call(this),this.markerCircle_.style.display="none"},e.zelos.MarkerSvg.prototype.createDomInternal_=function(){if(e.zelos.MarkerSvg.superClass_.createDomInternal_.call(this),this.markerCircle_=e.utils.dom.createSvgElement(e.utils.Svg.CIRCLE,{r:this.constants_.CURSOR_RADIUS,style:"display: none","stroke-width":this.constants_.CURSOR_STROKE_WIDTH},this.markerSvg_),this.isCursor()){var t=this.getBlinkProperties_();e.utils.dom.createSvgElement(e.utils.Svg.ANIMATE,t,this.markerCircle_)}return this.markerSvg_},e.zelos.MarkerSvg.prototype.applyColour_=function(t){e.zelos.MarkerSvg.superClass_.applyColour_.call(this,t),this.markerCircle_.setAttribute("fill",this.colour_),this.markerCircle_.setAttribute("stroke",this.colour_),this.isCursor()&&this.markerCircle_.firstChild.setAttribute("values",this.colour_+";transparent;transparent;")},e.zelos.PathObject=function(t,n,r){e.zelos.PathObject.superClass_.constructor.call(this,t,n,r),this.constants=r,this.svgPathSelected_=null,this.outlines_=Object.create(null),this.outputShapeType=this.remainingOutlines_=null},e.utils.object.inherits(e.zelos.PathObject,e.blockRendering.PathObject),e.zelos.PathObject.prototype.setPath=function(t){e.zelos.PathObject.superClass_.setPath.call(this,t),this.svgPathSelected_&&this.svgPathSelected_.setAttribute("d",t)},e.zelos.PathObject.prototype.applyColour=function(t){for(var n in e.zelos.PathObject.superClass_.applyColour.call(this,t),t.isShadow()&&t.getParent()&&this.svgPath.setAttribute("stroke",t.getParent().style.colourTertiary),this.outlines_)this.outlines_[n].setAttribute("fill",this.style.colourTertiary)},e.zelos.PathObject.prototype.flipRTL=function(){for(var t in e.zelos.PathObject.superClass_.flipRTL.call(this),this.outlines_)this.outlines_[t].setAttribute("transform","scale(-1 1)")},e.zelos.PathObject.prototype.updateSelected=function(e){this.setClass_("blocklySelected",e),e?this.svgPathSelected_||(this.svgPathSelected_=this.svgPath.cloneNode(!0),this.svgPathSelected_.setAttribute("fill","none"),this.svgPathSelected_.setAttribute("filter","url(#"+this.constants.selectedGlowFilterId+")"),this.svgRoot.appendChild(this.svgPathSelected_)):this.svgPathSelected_&&(this.svgRoot.removeChild(this.svgPathSelected_),this.svgPathSelected_=null)},e.zelos.PathObject.prototype.updateReplacementFade=function(e){this.setClass_("blocklyReplaceable",e),e?this.svgPath.setAttribute("filter","url(#"+this.constants.replacementGlowFilterId+")"):this.svgPath.removeAttribute("filter")},e.zelos.PathObject.prototype.updateShapeForInputHighlight=function(e,t){e=e.getParentInput().name,(e=this.getOutlinePath_(e))&&(t?e.setAttribute("filter","url(#"+this.constants.replacementGlowFilterId+")"):e.removeAttribute("filter"))},e.zelos.PathObject.prototype.beginDrawing=function(){for(var e in this.remainingOutlines_=Object.create(null),this.outlines_)this.remainingOutlines_[e]=1},e.zelos.PathObject.prototype.endDrawing=function(){if(this.remainingOutlines_)for(var e in this.remainingOutlines_)this.removeOutlinePath_(e);this.remainingOutlines_=null},e.zelos.PathObject.prototype.setOutlinePath=function(e,t){(e=this.getOutlinePath_(e)).setAttribute("d",t),e.setAttribute("fill",this.style.colourTertiary)},e.zelos.PathObject.prototype.getOutlinePath_=function(t){return this.outlines_[t]||(this.outlines_[t]=e.utils.dom.createSvgElement(e.utils.Svg.PATH,{class:"blocklyOutlinePath",d:""},this.svgRoot)),this.remainingOutlines_&&delete this.remainingOutlines_[t],this.outlines_[t]},e.zelos.PathObject.prototype.removeOutlinePath_=function(e){this.outlines_[e].parentNode.removeChild(this.outlines_[e]),delete this.outlines_[e]},e.zelos.Renderer=function(t){e.zelos.Renderer.superClass_.constructor.call(this,t)},e.utils.object.inherits(e.zelos.Renderer,e.blockRendering.Renderer),e.zelos.Renderer.prototype.makeConstants_=function(){return new e.zelos.ConstantProvider},e.zelos.Renderer.prototype.makeRenderInfo_=function(t){return new e.zelos.RenderInfo(this,t)},e.zelos.Renderer.prototype.makeDrawer_=function(t,n){return new e.zelos.Drawer(t,n)},e.zelos.Renderer.prototype.makeMarkerDrawer=function(t,n){return new e.zelos.MarkerSvg(t,this.getConstants(),n)},e.zelos.Renderer.prototype.makePathObject=function(t,n){return new e.zelos.PathObject(t,n,this.getConstants())},e.zelos.Renderer.prototype.shouldHighlightConnection=function(t){return t.type!=e.connectionTypes.INPUT_VALUE&&t.type!==e.connectionTypes.OUTPUT_VALUE},e.zelos.Renderer.prototype.getConnectionPreviewMethod=function(t,n,r){return n.type==e.connectionTypes.OUTPUT_VALUE?t.isConnected()?e.InsertionMarkerManager.PREVIEW_TYPE.REPLACEMENT_FADE:e.InsertionMarkerManager.PREVIEW_TYPE.INPUT_OUTLINE:e.zelos.Renderer.superClass_.getConnectionPreviewMethod(t,n,r)},e.blockRendering.register("zelos",e.zelos.Renderer),e.Themes.Dark=e.Theme.defineTheme("dark",{base:e.Themes.Classic,componentStyles:{workspaceBackgroundColour:"#1e1e1e",toolboxBackgroundColour:"blackBackground",toolboxForegroundColour:"#fff",flyoutBackgroundColour:"#252526",flyoutForegroundColour:"#ccc",flyoutOpacity:1,scrollbarColour:"#797979",insertionMarkerColour:"#fff",insertionMarkerOpacity:.3,scrollbarOpacity:.4,cursorColour:"#d0d0d0",blackBackground:"#333"}}),e.Themes.Deuteranopia={},e.Themes.Deuteranopia.defaultBlockStyles={colour_blocks:{colourPrimary:"#f2a72c",colourSecondary:"#f1c172",colourTertiary:"#da921c"},list_blocks:{colourPrimary:"#7d65ab",colourSecondary:"#a88be0",colourTertiary:"#66518e"},logic_blocks:{colourPrimary:"#9fd2f1",colourSecondary:"#c0e0f4",colourTertiary:"#74bae5"},loop_blocks:{colourPrimary:"#795a07",colourSecondary:"#ac8726",colourTertiary:"#c4a03f"},math_blocks:{colourPrimary:"#e6da39",colourSecondary:"#f3ec8e",colourTertiary:"#f2eeb7"},procedure_blocks:{colourPrimary:"#590721",colourSecondary:"#8c475d",colourTertiary:"#885464"},text_blocks:{colourPrimary:"#058863",colourSecondary:"#5ecfaf",colourTertiary:"#04684c"},variable_blocks:{colourPrimary:"#47025a",colourSecondary:"#820fa1",colourTertiary:"#8e579d"},variable_dynamic_blocks:{colourPrimary:"#47025a",colourSecondary:"#820fa1",colourTertiary:"#8e579d"}},e.Themes.Deuteranopia.categoryStyles={colour_category:{colour:"#f2a72c"},list_category:{colour:"#7d65ab"},logic_category:{colour:"#9fd2f1"},loop_category:{colour:"#795a07"},math_category:{colour:"#e6da39"},procedure_category:{colour:"#590721"},text_category:{colour:"#058863"},variable_category:{colour:"#47025a"},variable_dynamic_category:{colour:"#47025a"}},e.Themes.Deuteranopia=new e.Theme("deuteranopia",e.Themes.Deuteranopia.defaultBlockStyles,e.Themes.Deuteranopia.categoryStyles),e.Themes.HighContrast={},e.Themes.HighContrast.defaultBlockStyles={colour_blocks:{colourPrimary:"#a52714",colourSecondary:"#FB9B8C",colourTertiary:"#FBE1DD"},list_blocks:{colourPrimary:"#4a148c",colourSecondary:"#AD7BE9",colourTertiary:"#CDB6E9"},logic_blocks:{colourPrimary:"#01579b",colourSecondary:"#64C7FF",colourTertiary:"#C5EAFF"},loop_blocks:{colourPrimary:"#33691e",colourSecondary:"#9AFF78",colourTertiary:"#E1FFD7"},math_blocks:{colourPrimary:"#1a237e",colourSecondary:"#8A9EFF",colourTertiary:"#DCE2FF"},procedure_blocks:{colourPrimary:"#006064",colourSecondary:"#77E6EE",colourTertiary:"#CFECEE"},text_blocks:{colourPrimary:"#004d40",colourSecondary:"#5ae27c",colourTertiary:"#D2FFDD"},variable_blocks:{colourPrimary:"#880e4f",colourSecondary:"#FF73BE",colourTertiary:"#FFD4EB"},variable_dynamic_blocks:{colourPrimary:"#880e4f",colourSecondary:"#FF73BE",colourTertiary:"#FFD4EB"},hat_blocks:{colourPrimary:"#880e4f",colourSecondary:"#FF73BE",colourTertiary:"#FFD4EB",hat:"cap"}},e.Themes.HighContrast.categoryStyles={colour_category:{colour:"#a52714"},list_category:{colour:"#4a148c"},logic_category:{colour:"#01579b"},loop_category:{colour:"#33691e"},math_category:{colour:"#1a237e"},procedure_category:{colour:"#006064"},text_category:{colour:"#004d40"},variable_category:{colour:"#880e4f"},variable_dynamic_category:{colour:"#880e4f"}},e.Themes.HighContrast=new e.Theme("highcontrast",e.Themes.HighContrast.defaultBlockStyles,e.Themes.HighContrast.categoryStyles),e.Themes.HighContrast.setComponentStyle("selectedGlowColour","#000000"),e.Themes.HighContrast.setComponentStyle("selectedGlowSize",1),e.Themes.HighContrast.setComponentStyle("replacementGlowColour","#000000"),e.Themes.HighContrast.setFontStyle({family:null,weight:null,size:16}),e.Themes.Tritanopia={},e.Themes.Tritanopia.defaultBlockStyles={colour_blocks:{colourPrimary:"#05427f",colourSecondary:"#2974c0",colourTertiary:"#2d74bb"},list_blocks:{colourPrimary:"#b69ce8",colourSecondary:"#ccbaef",colourTertiary:"#9176c5"},logic_blocks:{colourPrimary:"#9fd2f1",colourSecondary:"#c0e0f4",colourTertiary:"#74bae5"},loop_blocks:{colourPrimary:"#aa1846",colourSecondary:"#d36185",colourTertiary:"#7c1636"},math_blocks:{colourPrimary:"#e6da39",colourSecondary:"#f3ec8e",colourTertiary:"#f2eeb7"},procedure_blocks:{colourPrimary:"#590721",colourSecondary:"#8c475d",colourTertiary:"#885464"},text_blocks:{colourPrimary:"#058863",colourSecondary:"#5ecfaf",colourTertiary:"#04684c"},variable_blocks:{colourPrimary:"#4b2d84",colourSecondary:"#816ea7",colourTertiary:"#83759e"},variable_dynamic_blocks:{colourPrimary:"#4b2d84",colourSecondary:"#816ea7",colourTertiary:"#83759e"}},e.Themes.Tritanopia.categoryStyles={colour_category:{colour:"#05427f"},list_category:{colour:"#b69ce8"},logic_category:{colour:"#9fd2f1"},loop_category:{colour:"#aa1846"},math_category:{colour:"#e6da39"},procedure_category:{colour:"#590721"},text_category:{colour:"#058863"},variable_category:{colour:"#4b2d84"},variable_dynamic_category:{colour:"#4b2d84"}},e.Themes.Tritanopia=new e.Theme("tritanopia",e.Themes.Tritanopia.defaultBlockStyles,e.Themes.Tritanopia.categoryStyles),e.requires={},e})?r.apply(t,i):r)||(e.exports=o)},3487:function(e,t,n){var r,i,o;i=[n(7365)],void 0===(o="function"===typeof(r=function(e){"use strict";return e.Blocks={},e.Blocks})?r.apply(t,i):r)||(e.exports=o)},7365:function(e,t,n){var r,i,o;i=[n(9810)],void 0===(o="function"===typeof(r=function(e){"use strict";return e.Blocks.colour={},e.Constants={},e.Constants.Colour={},e.Constants.Colour.HUE=20,e.defineBlocksWithJsonArray([{type:"colour_picker",message0:"%1",args0:[{type:"field_colour",name:"COLOUR",colour:"#ff0000"}],output:"Colour",helpUrl:"%{BKY_COLOUR_PICKER_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_PICKER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"colour_random",message0:"%{BKY_COLOUR_RANDOM_TITLE}",output:"Colour",helpUrl:"%{BKY_COLOUR_RANDOM_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_RANDOM_TOOLTIP}"},{type:"colour_rgb",message0:"%{BKY_COLOUR_RGB_TITLE} %{BKY_COLOUR_RGB_RED} %1 %{BKY_COLOUR_RGB_GREEN} %2 %{BKY_COLOUR_RGB_BLUE} %3",args0:[{type:"input_value",name:"RED",check:"Number",align:"RIGHT"},{type:"input_value",name:"GREEN",check:"Number",align:"RIGHT"},{type:"input_value",name:"BLUE",check:"Number",align:"RIGHT"}],output:"Colour",helpUrl:"%{BKY_COLOUR_RGB_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_RGB_TOOLTIP}"},{type:"colour_blend",message0:"%{BKY_COLOUR_BLEND_TITLE} %{BKY_COLOUR_BLEND_COLOUR1} %1 %{BKY_COLOUR_BLEND_COLOUR2} %2 %{BKY_COLOUR_BLEND_RATIO} %3",args0:[{type:"input_value",name:"COLOUR1",check:"Colour",align:"RIGHT"},{type:"input_value",name:"COLOUR2",check:"Colour",align:"RIGHT"},{type:"input_value",name:"RATIO",check:"Number",align:"RIGHT"}],output:"Colour",helpUrl:"%{BKY_COLOUR_BLEND_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_BLEND_TOOLTIP}"}]),e.Constants.Lists={},e.Constants.Lists.HUE=260,e.defineBlocksWithJsonArray([{type:"lists_create_empty",message0:"%{BKY_LISTS_CREATE_EMPTY_TITLE}",output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_CREATE_EMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_CREATE_EMPTY_HELPURL}"},{type:"lists_repeat",message0:"%{BKY_LISTS_REPEAT_TITLE}",args0:[{type:"input_value",name:"ITEM"},{type:"input_value",name:"NUM",check:"Number"}],output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_LISTS_REPEAT_HELPURL}"},{type:"lists_reverse",message0:"%{BKY_LISTS_REVERSE_MESSAGE0}",args0:[{type:"input_value",name:"LIST",check:"Array"}],output:"Array",inputsInline:!0,style:"list_blocks",tooltip:"%{BKY_LISTS_REVERSE_TOOLTIP}",helpUrl:"%{BKY_LISTS_REVERSE_HELPURL}"},{type:"lists_isEmpty",message0:"%{BKY_LISTS_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"list_blocks",tooltip:"%{BKY_LISTS_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_ISEMPTY_HELPURL}"},{type:"lists_length",message0:"%{BKY_LISTS_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"list_blocks",tooltip:"%{BKY_LISTS_LENGTH_TOOLTIP}",helpUrl:"%{BKY_LISTS_LENGTH_HELPURL}"}]),e.Blocks.lists_create_with={init:function(){this.setHelpUrl(e.Msg.LISTS_CREATE_WITH_HELPURL),this.setStyle("list_blocks"),this.itemCount_=3,this.updateShape_(),this.setOutput(!0,"Array"),this.setMutator(new e.Mutator(["lists_create_with_item"])),this.setTooltip(e.Msg.LISTS_CREATE_WITH_TOOLTIP)},mutationToDom:function(){var t=e.utils.xml.createElement("mutation");return t.setAttribute("items",this.itemCount_),t},domToMutation:function(e){this.itemCount_=parseInt(e.getAttribute("items"),10),this.updateShape_()},decompose:function(e){var t=e.newBlock("lists_create_with_container");t.initSvg();for(var n=t.getInput("STACK").connection,r=0;r<this.itemCount_;r++){var i=e.newBlock("lists_create_with_item");i.initSvg(),n.connect(i.previousConnection),n=i.nextConnection}return t},compose:function(t){var n=t.getInputTargetBlock("STACK");for(t=[];n&&!n.isInsertionMarker();)t.push(n.valueConnection_),n=n.nextConnection&&n.nextConnection.targetBlock();for(n=0;n<this.itemCount_;n++){var r=this.getInput("ADD"+n).connection.targetConnection;r&&-1==t.indexOf(r)&&r.disconnect()}for(this.itemCount_=t.length,this.updateShape_(),n=0;n<this.itemCount_;n++)e.Mutator.reconnect(t[n],this,"ADD"+n)},saveConnections:function(e){e=e.getInputTargetBlock("STACK");for(var t=0;e;){var n=this.getInput("ADD"+t);e.valueConnection_=n&&n.connection.targetConnection,t++,e=e.nextConnection&&e.nextConnection.targetBlock()}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(e.Msg.LISTS_CREATE_EMPTY_TITLE);for(var t=0;t<this.itemCount_;t++)if(!this.getInput("ADD"+t)){var n=this.appendValueInput("ADD"+t).setAlign(e.ALIGN_RIGHT);0==t&&n.appendField(e.Msg.LISTS_CREATE_WITH_INPUT_WITH)}for(;this.getInput("ADD"+t);)this.removeInput("ADD"+t),t++}},e.Blocks.lists_create_with_container={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(e.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD),this.appendStatementInput("STACK"),this.setTooltip(e.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP),this.contextMenu=!1}},e.Blocks.lists_create_with_item={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(e.Msg.LISTS_CREATE_WITH_ITEM_TITLE),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(e.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP),this.contextMenu=!1}},e.Blocks.lists_indexOf={init:function(){var t=[[e.Msg.LISTS_INDEX_OF_FIRST,"FIRST"],[e.Msg.LISTS_INDEX_OF_LAST,"LAST"]];this.setHelpUrl(e.Msg.LISTS_INDEX_OF_HELPURL),this.setStyle("list_blocks"),this.setOutput(!0,"Number"),this.appendValueInput("VALUE").setCheck("Array").appendField(e.Msg.LISTS_INDEX_OF_INPUT_IN_LIST),this.appendValueInput("FIND").appendField(new e.FieldDropdown(t),"END"),this.setInputsInline(!0);var n=this;this.setTooltip((function(){return e.Msg.LISTS_INDEX_OF_TOOLTIP.replace("%1",n.workspace.options.oneBasedIndex?"0":"-1")}))}},e.Blocks.lists_getIndex={init:function(){var t=[[e.Msg.LISTS_GET_INDEX_GET,"GET"],[e.Msg.LISTS_GET_INDEX_GET_REMOVE,"GET_REMOVE"],[e.Msg.LISTS_GET_INDEX_REMOVE,"REMOVE"]];this.WHERE_OPTIONS=[[e.Msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[e.Msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[e.Msg.LISTS_GET_INDEX_FIRST,"FIRST"],[e.Msg.LISTS_GET_INDEX_LAST,"LAST"],[e.Msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(e.Msg.LISTS_GET_INDEX_HELPURL),this.setStyle("list_blocks"),t=new e.FieldDropdown(t,(function(e){e="REMOVE"==e,this.getSourceBlock().updateStatement_(e)})),this.appendValueInput("VALUE").setCheck("Array").appendField(e.Msg.LISTS_GET_INDEX_INPUT_IN_LIST),this.appendDummyInput().appendField(t,"MODE").appendField("","SPACE"),this.appendDummyInput("AT"),e.Msg.LISTS_GET_INDEX_TAIL&&this.appendDummyInput("TAIL").appendField(e.Msg.LISTS_GET_INDEX_TAIL),this.setInputsInline(!0),this.setOutput(!0),this.updateAt_(!0);var n=this;this.setTooltip((function(){var t=n.getFieldValue("MODE"),r=n.getFieldValue("WHERE"),i="";switch(t+" "+r){case"GET FROM_START":case"GET FROM_END":i=e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM;break;case"GET FIRST":i=e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST;break;case"GET LAST":i=e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST;break;case"GET RANDOM":i=e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM;break;case"GET_REMOVE FROM_START":case"GET_REMOVE FROM_END":i=e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM;break;case"GET_REMOVE FIRST":i=e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST;break;case"GET_REMOVE LAST":i=e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST;break;case"GET_REMOVE RANDOM":i=e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM;break;case"REMOVE FROM_START":case"REMOVE FROM_END":i=e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM;break;case"REMOVE FIRST":i=e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST;break;case"REMOVE LAST":i=e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST;break;case"REMOVE RANDOM":i=e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM}return"FROM_START"!=r&&"FROM_END"!=r||(i+="  "+("FROM_START"==r?e.Msg.LISTS_INDEX_FROM_START_TOOLTIP:e.Msg.LISTS_INDEX_FROM_END_TOOLTIP).replace("%1",n.workspace.options.oneBasedIndex?"#1":"#0")),i}))},mutationToDom:function(){var t=e.utils.xml.createElement("mutation");t.setAttribute("statement",!this.outputConnection);var n=this.getInput("AT").type==e.INPUT_VALUE;return t.setAttribute("at",n),t},domToMutation:function(e){var t="true"==e.getAttribute("statement");this.updateStatement_(t),e="false"!=e.getAttribute("at"),this.updateAt_(e)},updateStatement_:function(e){e!=!this.outputConnection&&(this.unplug(!0,!0),e?(this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0)):(this.setPreviousStatement(!1),this.setNextStatement(!1),this.setOutput(!0)))},updateAt_:function(t){this.removeInput("AT"),this.removeInput("ORDINAL",!0),t?(this.appendValueInput("AT").setCheck("Number"),e.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(e.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");var n=new e.FieldDropdown(this.WHERE_OPTIONS,(function(e){var n="FROM_START"==e||"FROM_END"==e;if(n!=t){var r=this.getSourceBlock();return r.updateAt_(n),r.setFieldValue(e,"WHERE"),null}}));this.getInput("AT").appendField(n,"WHERE"),e.Msg.LISTS_GET_INDEX_TAIL&&this.moveInputBefore("TAIL",null)}},e.Blocks.lists_setIndex={init:function(){var t=[[e.Msg.LISTS_SET_INDEX_SET,"SET"],[e.Msg.LISTS_SET_INDEX_INSERT,"INSERT"]];this.WHERE_OPTIONS=[[e.Msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[e.Msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[e.Msg.LISTS_GET_INDEX_FIRST,"FIRST"],[e.Msg.LISTS_GET_INDEX_LAST,"LAST"],[e.Msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(e.Msg.LISTS_SET_INDEX_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(e.Msg.LISTS_SET_INDEX_INPUT_IN_LIST),this.appendDummyInput().appendField(new e.FieldDropdown(t),"MODE").appendField("","SPACE"),this.appendDummyInput("AT"),this.appendValueInput("TO").appendField(e.Msg.LISTS_SET_INDEX_INPUT_TO),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(e.Msg.LISTS_SET_INDEX_TOOLTIP),this.updateAt_(!0);var n=this;this.setTooltip((function(){var t=n.getFieldValue("MODE"),r=n.getFieldValue("WHERE"),i="";switch(t+" "+r){case"SET FROM_START":case"SET FROM_END":i=e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM;break;case"SET FIRST":i=e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST;break;case"SET LAST":i=e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST;break;case"SET RANDOM":i=e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM;break;case"INSERT FROM_START":case"INSERT FROM_END":i=e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM;break;case"INSERT FIRST":i=e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST;break;case"INSERT LAST":i=e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST;break;case"INSERT RANDOM":i=e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM}return"FROM_START"!=r&&"FROM_END"!=r||(i+="  "+e.Msg.LISTS_INDEX_FROM_START_TOOLTIP.replace("%1",n.workspace.options.oneBasedIndex?"#1":"#0")),i}))},mutationToDom:function(){var t=e.utils.xml.createElement("mutation"),n=this.getInput("AT").type==e.INPUT_VALUE;return t.setAttribute("at",n),t},domToMutation:function(e){e="false"!=e.getAttribute("at"),this.updateAt_(e)},updateAt_:function(t){this.removeInput("AT"),this.removeInput("ORDINAL",!0),t?(this.appendValueInput("AT").setCheck("Number"),e.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(e.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");var n=new e.FieldDropdown(this.WHERE_OPTIONS,(function(e){var n="FROM_START"==e||"FROM_END"==e;if(n!=t){var r=this.getSourceBlock();return r.updateAt_(n),r.setFieldValue(e,"WHERE"),null}}));this.moveInputBefore("AT","TO"),this.getInput("ORDINAL")&&this.moveInputBefore("ORDINAL","TO"),this.getInput("AT").appendField(n,"WHERE")}},e.Blocks.lists_getSublist={init:function(){this.WHERE_OPTIONS_1=[[e.Msg.LISTS_GET_SUBLIST_START_FROM_START,"FROM_START"],[e.Msg.LISTS_GET_SUBLIST_START_FROM_END,"FROM_END"],[e.Msg.LISTS_GET_SUBLIST_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[e.Msg.LISTS_GET_SUBLIST_END_FROM_START,"FROM_START"],[e.Msg.LISTS_GET_SUBLIST_END_FROM_END,"FROM_END"],[e.Msg.LISTS_GET_SUBLIST_END_LAST,"LAST"]],this.setHelpUrl(e.Msg.LISTS_GET_SUBLIST_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(e.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST),this.appendDummyInput("AT1"),this.appendDummyInput("AT2"),e.Msg.LISTS_GET_SUBLIST_TAIL&&this.appendDummyInput("TAIL").appendField(e.Msg.LISTS_GET_SUBLIST_TAIL),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(e.Msg.LISTS_GET_SUBLIST_TOOLTIP)},mutationToDom:function(){var t=e.utils.xml.createElement("mutation"),n=this.getInput("AT1").type==e.INPUT_VALUE;return t.setAttribute("at1",n),n=this.getInput("AT2").type==e.INPUT_VALUE,t.setAttribute("at2",n),t},domToMutation:function(e){var t="true"==e.getAttribute("at1");e="true"==e.getAttribute("at2"),this.updateAt_(1,t),this.updateAt_(2,e)},updateAt_:function(t,n){this.removeInput("AT"+t),this.removeInput("ORDINAL"+t,!0),n?(this.appendValueInput("AT"+t).setCheck("Number"),e.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+t).appendField(e.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+t);var r=new e.FieldDropdown(this["WHERE_OPTIONS_"+t],(function(e){var r="FROM_START"==e||"FROM_END"==e;if(r!=n){var i=this.getSourceBlock();return i.updateAt_(t,r),i.setFieldValue(e,"WHERE"+t),null}}));this.getInput("AT"+t).appendField(r,"WHERE"+t),1==t&&(this.moveInputBefore("AT1","AT2"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","AT2")),e.Msg.LISTS_GET_SUBLIST_TAIL&&this.moveInputBefore("TAIL",null)}},e.Blocks.lists_sort={init:function(){this.jsonInit({message0:e.Msg.LISTS_SORT_TITLE,args0:[{type:"field_dropdown",name:"TYPE",options:[[e.Msg.LISTS_SORT_TYPE_NUMERIC,"NUMERIC"],[e.Msg.LISTS_SORT_TYPE_TEXT,"TEXT"],[e.Msg.LISTS_SORT_TYPE_IGNORECASE,"IGNORE_CASE"]]},{type:"field_dropdown",name:"DIRECTION",options:[[e.Msg.LISTS_SORT_ORDER_ASCENDING,"1"],[e.Msg.LISTS_SORT_ORDER_DESCENDING,"-1"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Array",style:"list_blocks",tooltip:e.Msg.LISTS_SORT_TOOLTIP,helpUrl:e.Msg.LISTS_SORT_HELPURL})}},e.Blocks.lists_split={init:function(){var t=this,n=new e.FieldDropdown([[e.Msg.LISTS_SPLIT_LIST_FROM_TEXT,"SPLIT"],[e.Msg.LISTS_SPLIT_TEXT_FROM_LIST,"JOIN"]],(function(e){t.updateType_(e)}));this.setHelpUrl(e.Msg.LISTS_SPLIT_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("INPUT").setCheck("String").appendField(n,"MODE"),this.appendValueInput("DELIM").setCheck("String").appendField(e.Msg.LISTS_SPLIT_WITH_DELIMITER),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.setTooltip((function(){var n=t.getFieldValue("MODE");if("SPLIT"==n)return e.Msg.LISTS_SPLIT_TOOLTIP_SPLIT;if("JOIN"==n)return e.Msg.LISTS_SPLIT_TOOLTIP_JOIN;throw Error("Unknown mode: "+n)}))},updateType_:function(e){if(this.getFieldValue("MODE")!=e){var t=this.getInput("INPUT").connection;t.setShadowDom(null);var n=t.targetBlock();n&&(t.disconnect(),n.isShadow()?n.dispose():this.bumpNeighbours())}"SPLIT"==e?(this.outputConnection.setCheck("Array"),this.getInput("INPUT").setCheck("String")):(this.outputConnection.setCheck("String"),this.getInput("INPUT").setCheck("Array"))},mutationToDom:function(){var t=e.utils.xml.createElement("mutation");return t.setAttribute("mode",this.getFieldValue("MODE")),t},domToMutation:function(e){this.updateType_(e.getAttribute("mode"))}},e.Blocks.logic={},e.Constants.Logic={},e.Constants.Logic.HUE=210,e.defineBlocksWithJsonArray([{type:"logic_boolean",message0:"%1",args0:[{type:"field_dropdown",name:"BOOL",options:[["%{BKY_LOGIC_BOOLEAN_TRUE}","TRUE"],["%{BKY_LOGIC_BOOLEAN_FALSE}","FALSE"]]}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_BOOLEAN_TOOLTIP}",helpUrl:"%{BKY_LOGIC_BOOLEAN_HELPURL}"},{type:"controls_if",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],previousStatement:null,nextStatement:null,style:"logic_blocks",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",mutator:"controls_if_mutator",extensions:["controls_if_tooltip"]},{type:"controls_ifelse",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],message2:"%{BKY_CONTROLS_IF_MSG_ELSE} %1",args2:[{type:"input_statement",name:"ELSE"}],previousStatement:null,nextStatement:null,style:"logic_blocks",tooltip:"%{BKYCONTROLS_IF_TOOLTIP_2}",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",extensions:["controls_if_tooltip"]},{type:"logic_compare",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A"},{type:"field_dropdown",name:"OP",options:[["=","EQ"],["\u2260","NEQ"],["\u200f<","LT"],["\u200f\u2264","LTE"],["\u200f>","GT"],["\u200f\u2265","GTE"]]},{type:"input_value",name:"B"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_COMPARE_HELPURL}",extensions:["logic_compare","logic_op_tooltip"]},{type:"logic_operation",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Boolean"},{type:"field_dropdown",name:"OP",options:[["%{BKY_LOGIC_OPERATION_AND}","AND"],["%{BKY_LOGIC_OPERATION_OR}","OR"]]},{type:"input_value",name:"B",check:"Boolean"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_OPERATION_HELPURL}",extensions:["logic_op_tooltip"]},{type:"logic_negate",message0:"%{BKY_LOGIC_NEGATE_TITLE}",args0:[{type:"input_value",name:"BOOL",check:"Boolean"}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_NEGATE_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NEGATE_HELPURL}"},{type:"logic_null",message0:"%{BKY_LOGIC_NULL}",output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_NULL_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NULL_HELPURL}"},{type:"logic_ternary",message0:"%{BKY_LOGIC_TERNARY_CONDITION} %1",args0:[{type:"input_value",name:"IF",check:"Boolean"}],message1:"%{BKY_LOGIC_TERNARY_IF_TRUE} %1",args1:[{type:"input_value",name:"THEN"}],message2:"%{BKY_LOGIC_TERNARY_IF_FALSE} %1",args2:[{type:"input_value",name:"ELSE"}],output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_TERNARY_TOOLTIP}",helpUrl:"%{BKY_LOGIC_TERNARY_HELPURL}",extensions:["logic_ternary"]}]),e.defineBlocksWithJsonArray([{type:"controls_if_if",message0:"%{BKY_CONTROLS_IF_IF_TITLE_IF}",nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_IF_TOOLTIP}"},{type:"controls_if_elseif",message0:"%{BKY_CONTROLS_IF_ELSEIF_TITLE_ELSEIF}",previousStatement:null,nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSEIF_TOOLTIP}"},{type:"controls_if_else",message0:"%{BKY_CONTROLS_IF_ELSE_TITLE_ELSE}",previousStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSE_TOOLTIP}"}]),e.Constants.Logic.TOOLTIPS_BY_OP={EQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_EQ}",NEQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_NEQ}",LT:"%{BKY_LOGIC_COMPARE_TOOLTIP_LT}",LTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_LTE}",GT:"%{BKY_LOGIC_COMPARE_TOOLTIP_GT}",GTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_GTE}",AND:"%{BKY_LOGIC_OPERATION_TOOLTIP_AND}",OR:"%{BKY_LOGIC_OPERATION_TOOLTIP_OR}"},e.Extensions.register("logic_op_tooltip",e.Extensions.buildTooltipForDropdown("OP",e.Constants.Logic.TOOLTIPS_BY_OP)),e.Constants.Logic.CONTROLS_IF_MUTATOR_MIXIN={elseifCount_:0,elseCount_:0,suppressPrefixSuffix:!0,mutationToDom:function(){if(!this.elseifCount_&&!this.elseCount_)return null;var t=e.utils.xml.createElement("mutation");return this.elseifCount_&&t.setAttribute("elseif",this.elseifCount_),this.elseCount_&&t.setAttribute("else",1),t},domToMutation:function(e){this.elseifCount_=parseInt(e.getAttribute("elseif"),10)||0,this.elseCount_=parseInt(e.getAttribute("else"),10)||0,this.rebuildShape_()},decompose:function(e){var t=e.newBlock("controls_if_if");t.initSvg();for(var n=t.nextConnection,r=1;r<=this.elseifCount_;r++){var i=e.newBlock("controls_if_elseif");i.initSvg(),n.connect(i.previousConnection),n=i.nextConnection}return this.elseCount_&&((e=e.newBlock("controls_if_else")).initSvg(),n.connect(e.previousConnection)),t},compose:function(e){e=e.nextConnection.targetBlock(),this.elseCount_=this.elseifCount_=0;for(var t=[null],n=[null],r=null;e&&!e.isInsertionMarker();){switch(e.type){case"controls_if_elseif":this.elseifCount_++,t.push(e.valueConnection_),n.push(e.statementConnection_);break;case"controls_if_else":this.elseCount_++,r=e.statementConnection_;break;default:throw TypeError("Unknown block type: "+e.type)}e=e.nextConnection&&e.nextConnection.targetBlock()}this.updateShape_(),this.reconnectChildBlocks_(t,n,r)},saveConnections:function(e){e=e.nextConnection.targetBlock();for(var t=1;e;){switch(e.type){case"controls_if_elseif":var n=this.getInput("IF"+t),r=this.getInput("DO"+t);e.valueConnection_=n&&n.connection.targetConnection,e.statementConnection_=r&&r.connection.targetConnection,t++;break;case"controls_if_else":r=this.getInput("ELSE"),e.statementConnection_=r&&r.connection.targetConnection;break;default:throw TypeError("Unknown block type: "+e.type)}e=e.nextConnection&&e.nextConnection.targetBlock()}},rebuildShape_:function(){var e=[null],t=[null],n=null;this.getInput("ELSE")&&(n=this.getInput("ELSE").connection.targetConnection);for(var r=1;this.getInput("IF"+r);){var i=this.getInput("IF"+r),o=this.getInput("DO"+r);e.push(i.connection.targetConnection),t.push(o.connection.targetConnection),r++}this.updateShape_(),this.reconnectChildBlocks_(e,t,n)},updateShape_:function(){this.getInput("ELSE")&&this.removeInput("ELSE");for(var t=1;this.getInput("IF"+t);)this.removeInput("IF"+t),this.removeInput("DO"+t),t++;for(t=1;t<=this.elseifCount_;t++)this.appendValueInput("IF"+t).setCheck("Boolean").appendField(e.Msg.CONTROLS_IF_MSG_ELSEIF),this.appendStatementInput("DO"+t).appendField(e.Msg.CONTROLS_IF_MSG_THEN);this.elseCount_&&this.appendStatementInput("ELSE").appendField(e.Msg.CONTROLS_IF_MSG_ELSE)},reconnectChildBlocks_:function(t,n,r){for(var i=1;i<=this.elseifCount_;i++)e.Mutator.reconnect(t[i],this,"IF"+i),e.Mutator.reconnect(n[i],this,"DO"+i);e.Mutator.reconnect(r,this,"ELSE")}},e.Extensions.registerMutator("controls_if_mutator",e.Constants.Logic.CONTROLS_IF_MUTATOR_MIXIN,null,["controls_if_elseif","controls_if_else"]),e.Constants.Logic.CONTROLS_IF_TOOLTIP_EXTENSION=function(){this.setTooltip(function(){return this.elseifCount_||this.elseCount_?!this.elseifCount_&&this.elseCount_?e.Msg.CONTROLS_IF_TOOLTIP_2:this.elseifCount_&&!this.elseCount_?e.Msg.CONTROLS_IF_TOOLTIP_3:this.elseifCount_&&this.elseCount_?e.Msg.CONTROLS_IF_TOOLTIP_4:"":e.Msg.CONTROLS_IF_TOOLTIP_1}.bind(this))},e.Extensions.register("controls_if_tooltip",e.Constants.Logic.CONTROLS_IF_TOOLTIP_EXTENSION),e.Constants.Logic.LOGIC_COMPARE_ONCHANGE_MIXIN={onchange:function(t){this.prevBlocks_||(this.prevBlocks_=[null,null]);var n=this.getInputTargetBlock("A"),r=this.getInputTargetBlock("B");n&&r&&!this.workspace.connectionChecker.doTypeChecks(n.outputConnection,r.outputConnection)&&(e.Events.setGroup(t.group),(t=this.prevBlocks_[0])!==n&&(n.unplug(),!t||t.isDisposed()||t.isShadow()||this.getInput("A").connection.connect(t.outputConnection)),(n=this.prevBlocks_[1])!==r&&(r.unplug(),!n||n.isDisposed()||n.isShadow()||this.getInput("B").connection.connect(n.outputConnection)),this.bumpNeighbours(),e.Events.setGroup(!1)),this.prevBlocks_[0]=this.getInputTargetBlock("A"),this.prevBlocks_[1]=this.getInputTargetBlock("B")}},e.Constants.Logic.LOGIC_COMPARE_EXTENSION=function(){this.mixin(e.Constants.Logic.LOGIC_COMPARE_ONCHANGE_MIXIN)},e.Extensions.register("logic_compare",e.Constants.Logic.LOGIC_COMPARE_EXTENSION),e.Constants.Logic.LOGIC_TERNARY_ONCHANGE_MIXIN={prevParentConnection_:null,onchange:function(t){var n=this.getInputTargetBlock("THEN"),r=this.getInputTargetBlock("ELSE"),i=this.outputConnection.targetConnection;if((n||r)&&i)for(var o=0;2>o;o++){var s=1==o?n:r;s&&!s.workspace.connectionChecker.doTypeChecks(s.outputConnection,i)&&(e.Events.setGroup(t.group),i===this.prevParentConnection_?(this.unplug(),i.getSourceBlock().bumpNeighbours()):(s.unplug(),s.bumpNeighbours()),e.Events.setGroup(!1))}this.prevParentConnection_=i}},e.Extensions.registerMixin("logic_ternary",e.Constants.Logic.LOGIC_TERNARY_ONCHANGE_MIXIN),e.Blocks.loops={},e.Constants.Loops={},e.Constants.Loops.HUE=120,e.defineBlocksWithJsonArray([{type:"controls_repeat_ext",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"input_value",name:"TIMES",check:"Number"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_repeat",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"field_number",name:"TIMES",value:10,min:0,precision:1}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_whileUntil",message0:"%1 %2",args0:[{type:"field_dropdown",name:"MODE",options:[["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_WHILE}","WHILE"],["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_UNTIL}","UNTIL"]]},{type:"input_value",name:"BOOL",check:"Boolean"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_WHILEUNTIL_HELPURL}",extensions:["controls_whileUntil_tooltip"]},{type:"controls_for",message0:"%{BKY_CONTROLS_FOR_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"},{type:"input_value",name:"BY",check:"Number",align:"RIGHT"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOR_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_for_tooltip"]},{type:"controls_forEach",message0:"%{BKY_CONTROLS_FOREACH_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"LIST",check:"Array"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOREACH_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_forEach_tooltip"]},{type:"controls_flow_statements",message0:"%1",args0:[{type:"field_dropdown",name:"FLOW",options:[["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK}","BREAK"],["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE}","CONTINUE"]]}],previousStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FLOW_STATEMENTS_HELPURL}",extensions:["controls_flow_tooltip","controls_flow_in_loop_check"]}]),e.Constants.Loops.WHILE_UNTIL_TOOLTIPS={WHILE:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_WHILE}",UNTIL:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL}"},e.Extensions.register("controls_whileUntil_tooltip",e.Extensions.buildTooltipForDropdown("MODE",e.Constants.Loops.WHILE_UNTIL_TOOLTIPS)),e.Constants.Loops.BREAK_CONTINUE_TOOLTIPS={BREAK:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK}",CONTINUE:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE}"},e.Extensions.register("controls_flow_tooltip",e.Extensions.buildTooltipForDropdown("FLOW",e.Constants.Loops.BREAK_CONTINUE_TOOLTIPS)),e.Constants.Loops.CUSTOM_CONTEXT_MENU_CREATE_VARIABLES_GET_MIXIN={customContextMenu:function(t){if(!this.isInFlyout){var n=this.getField("VAR").getVariable(),r=n.name;if(!this.isCollapsed()&&null!=r){var i={enabled:!0};i.text=e.Msg.VARIABLES_SET_CREATE_GET.replace("%1",r),n=e.Variables.generateVariableFieldDom(n),(r=e.utils.xml.createElement("block")).setAttribute("type","variables_get"),r.appendChild(n),i.callback=e.ContextMenu.callbackFactory(this,r),t.push(i)}}}},e.Extensions.registerMixin("contextMenu_newGetVariableBlock",e.Constants.Loops.CUSTOM_CONTEXT_MENU_CREATE_VARIABLES_GET_MIXIN),e.Extensions.register("controls_for_tooltip",e.Extensions.buildTooltipWithFieldText("%{BKY_CONTROLS_FOR_TOOLTIP}","VAR")),e.Extensions.register("controls_forEach_tooltip",e.Extensions.buildTooltipWithFieldText("%{BKY_CONTROLS_FOREACH_TOOLTIP}","VAR")),e.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN={LOOP_TYPES:["controls_repeat","controls_repeat_ext","controls_forEach","controls_for","controls_whileUntil"],suppressPrefixSuffix:!0,getSurroundLoop:function(t){do{if(-1!=e.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN.LOOP_TYPES.indexOf(t.type))return t;t=t.getSurroundParent()}while(t);return null},onchange:function(t){if(this.workspace.isDragging&&!this.workspace.isDragging()&&t.type==e.Events.BLOCK_MOVE){var n=e.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN.getSurroundLoop(this);if(this.setWarningText(n?null:e.Msg.CONTROLS_FLOW_STATEMENTS_WARNING),!this.isInFlyout){var r=e.Events.getGroup();e.Events.setGroup(t.group),this.setEnabled(n),e.Events.setGroup(r)}}}},e.Extensions.registerMixin("controls_flow_in_loop_check",e.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN),e.Blocks.math={},e.Constants.Math={},e.Constants.Math.HUE=230,e.defineBlocksWithJsonArray([{type:"math_number",message0:"%1",args0:[{type:"field_number",name:"NUM",value:0}],output:"Number",helpUrl:"%{BKY_MATH_NUMBER_HELPURL}",style:"math_blocks",tooltip:"%{BKY_MATH_NUMBER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"math_arithmetic",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ADDITION_SYMBOL}","ADD"],["%{BKY_MATH_SUBTRACTION_SYMBOL}","MINUS"],["%{BKY_MATH_MULTIPLICATION_SYMBOL}","MULTIPLY"],["%{BKY_MATH_DIVISION_SYMBOL}","DIVIDE"],["%{BKY_MATH_POWER_SYMBOL}","POWER"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ARITHMETIC_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_single",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_SINGLE_OP_ROOT}","ROOT"],["%{BKY_MATH_SINGLE_OP_ABSOLUTE}","ABS"],["-","NEG"],["ln","LN"],["log10","LOG10"],["e^","EXP"],["10^","POW10"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_SINGLE_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_trig",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_TRIG_SIN}","SIN"],["%{BKY_MATH_TRIG_COS}","COS"],["%{BKY_MATH_TRIG_TAN}","TAN"],["%{BKY_MATH_TRIG_ASIN}","ASIN"],["%{BKY_MATH_TRIG_ACOS}","ACOS"],["%{BKY_MATH_TRIG_ATAN}","ATAN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_TRIG_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_constant",message0:"%1",args0:[{type:"field_dropdown",name:"CONSTANT",options:[["\u03c0","PI"],["e","E"],["\u03c6","GOLDEN_RATIO"],["sqrt(2)","SQRT2"],["sqrt(\xbd)","SQRT1_2"],["\u221e","INFINITY"]]}],output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTANT_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTANT_HELPURL}"},{type:"math_number_property",message0:"%1 %2",args0:[{type:"input_value",name:"NUMBER_TO_CHECK",check:"Number"},{type:"field_dropdown",name:"PROPERTY",options:[["%{BKY_MATH_IS_EVEN}","EVEN"],["%{BKY_MATH_IS_ODD}","ODD"],["%{BKY_MATH_IS_PRIME}","PRIME"],["%{BKY_MATH_IS_WHOLE}","WHOLE"],["%{BKY_MATH_IS_POSITIVE}","POSITIVE"],["%{BKY_MATH_IS_NEGATIVE}","NEGATIVE"],["%{BKY_MATH_IS_DIVISIBLE_BY}","DIVISIBLE_BY"]]}],inputsInline:!0,output:"Boolean",style:"math_blocks",tooltip:"%{BKY_MATH_IS_TOOLTIP}",mutator:"math_is_divisibleby_mutator"},{type:"math_change",message0:"%{BKY_MATH_CHANGE_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_MATH_CHANGE_TITLE_ITEM}"},{type:"input_value",name:"DELTA",check:"Number"}],previousStatement:null,nextStatement:null,style:"variable_blocks",helpUrl:"%{BKY_MATH_CHANGE_HELPURL}",extensions:["math_change_tooltip"]},{type:"math_round",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ROUND_OPERATOR_ROUND}","ROUND"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDUP}","ROUNDUP"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDDOWN}","ROUNDDOWN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ROUND_HELPURL}",tooltip:"%{BKY_MATH_ROUND_TOOLTIP}"},{type:"math_on_list",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ONLIST_OPERATOR_SUM}","SUM"],["%{BKY_MATH_ONLIST_OPERATOR_MIN}","MIN"],["%{BKY_MATH_ONLIST_OPERATOR_MAX}","MAX"],["%{BKY_MATH_ONLIST_OPERATOR_AVERAGE}","AVERAGE"],["%{BKY_MATH_ONLIST_OPERATOR_MEDIAN}","MEDIAN"],["%{BKY_MATH_ONLIST_OPERATOR_MODE}","MODE"],["%{BKY_MATH_ONLIST_OPERATOR_STD_DEV}","STD_DEV"],["%{BKY_MATH_ONLIST_OPERATOR_RANDOM}","RANDOM"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ONLIST_HELPURL}",mutator:"math_modes_of_list_mutator",extensions:["math_op_tooltip"]},{type:"math_modulo",message0:"%{BKY_MATH_MODULO_TITLE}",args0:[{type:"input_value",name:"DIVIDEND",check:"Number"},{type:"input_value",name:"DIVISOR",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_MODULO_TOOLTIP}",helpUrl:"%{BKY_MATH_MODULO_HELPURL}"},{type:"math_constrain",message0:"%{BKY_MATH_CONSTRAIN_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"Number"},{type:"input_value",name:"LOW",check:"Number"},{type:"input_value",name:"HIGH",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTRAIN_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTRAIN_HELPURL}"},{type:"math_random_int",message0:"%{BKY_MATH_RANDOM_INT_TITLE}",args0:[{type:"input_value",name:"FROM",check:"Number"},{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_INT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_INT_HELPURL}"},{type:"math_random_float",message0:"%{BKY_MATH_RANDOM_FLOAT_TITLE_RANDOM}",output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_FLOAT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_FLOAT_HELPURL}"},{type:"math_atan2",message0:"%{BKY_MATH_ATAN2_TITLE}",args0:[{type:"input_value",name:"X",check:"Number"},{type:"input_value",name:"Y",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_ATAN2_TOOLTIP}",helpUrl:"%{BKY_MATH_ATAN2_HELPURL}"}]),e.Constants.Math.TOOLTIPS_BY_OP={ADD:"%{BKY_MATH_ARITHMETIC_TOOLTIP_ADD}",MINUS:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MINUS}",MULTIPLY:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MULTIPLY}",DIVIDE:"%{BKY_MATH_ARITHMETIC_TOOLTIP_DIVIDE}",POWER:"%{BKY_MATH_ARITHMETIC_TOOLTIP_POWER}",ROOT:"%{BKY_MATH_SINGLE_TOOLTIP_ROOT}",ABS:"%{BKY_MATH_SINGLE_TOOLTIP_ABS}",NEG:"%{BKY_MATH_SINGLE_TOOLTIP_NEG}",LN:"%{BKY_MATH_SINGLE_TOOLTIP_LN}",LOG10:"%{BKY_MATH_SINGLE_TOOLTIP_LOG10}",EXP:"%{BKY_MATH_SINGLE_TOOLTIP_EXP}",POW10:"%{BKY_MATH_SINGLE_TOOLTIP_POW10}",SIN:"%{BKY_MATH_TRIG_TOOLTIP_SIN}",COS:"%{BKY_MATH_TRIG_TOOLTIP_COS}",TAN:"%{BKY_MATH_TRIG_TOOLTIP_TAN}",ASIN:"%{BKY_MATH_TRIG_TOOLTIP_ASIN}",ACOS:"%{BKY_MATH_TRIG_TOOLTIP_ACOS}",ATAN:"%{BKY_MATH_TRIG_TOOLTIP_ATAN}",SUM:"%{BKY_MATH_ONLIST_TOOLTIP_SUM}",MIN:"%{BKY_MATH_ONLIST_TOOLTIP_MIN}",MAX:"%{BKY_MATH_ONLIST_TOOLTIP_MAX}",AVERAGE:"%{BKY_MATH_ONLIST_TOOLTIP_AVERAGE}",MEDIAN:"%{BKY_MATH_ONLIST_TOOLTIP_MEDIAN}",MODE:"%{BKY_MATH_ONLIST_TOOLTIP_MODE}",STD_DEV:"%{BKY_MATH_ONLIST_TOOLTIP_STD_DEV}",RANDOM:"%{BKY_MATH_ONLIST_TOOLTIP_RANDOM}"},e.Extensions.register("math_op_tooltip",e.Extensions.buildTooltipForDropdown("OP",e.Constants.Math.TOOLTIPS_BY_OP)),e.Constants.Math.IS_DIVISIBLEBY_MUTATOR_MIXIN={mutationToDom:function(){var t=e.utils.xml.createElement("mutation"),n="DIVISIBLE_BY"==this.getFieldValue("PROPERTY");return t.setAttribute("divisor_input",n),t},domToMutation:function(e){e="true"==e.getAttribute("divisor_input"),this.updateShape_(e)},updateShape_:function(e){var t=this.getInput("DIVISOR");e?t||this.appendValueInput("DIVISOR").setCheck("Number"):t&&this.removeInput("DIVISOR")}},e.Constants.Math.IS_DIVISIBLE_MUTATOR_EXTENSION=function(){this.getField("PROPERTY").setValidator((function(e){e="DIVISIBLE_BY"==e,this.getSourceBlock().updateShape_(e)}))},e.Extensions.registerMutator("math_is_divisibleby_mutator",e.Constants.Math.IS_DIVISIBLEBY_MUTATOR_MIXIN,e.Constants.Math.IS_DIVISIBLE_MUTATOR_EXTENSION),e.Extensions.register("math_change_tooltip",e.Extensions.buildTooltipWithFieldText("%{BKY_MATH_CHANGE_TOOLTIP}","VAR")),e.Constants.Math.LIST_MODES_MUTATOR_MIXIN={updateType_:function(e){"MODE"==e?this.outputConnection.setCheck("Array"):this.outputConnection.setCheck("Number")},mutationToDom:function(){var t=e.utils.xml.createElement("mutation");return t.setAttribute("op",this.getFieldValue("OP")),t},domToMutation:function(e){this.updateType_(e.getAttribute("op"))}},e.Constants.Math.LIST_MODES_MUTATOR_EXTENSION=function(){this.getField("OP").setValidator(function(e){this.updateType_(e)}.bind(this))},e.Extensions.registerMutator("math_modes_of_list_mutator",e.Constants.Math.LIST_MODES_MUTATOR_MIXIN,e.Constants.Math.LIST_MODES_MUTATOR_EXTENSION),e.Blocks.procedures={},e.Blocks.procedures_defnoreturn={init:function(){var t=e.Procedures.findLegalName("",this);(t=new e.FieldTextInput(t,e.Procedures.rename)).setSpellcheck(!1),this.appendDummyInput().appendField(e.Msg.PROCEDURES_DEFNORETURN_TITLE).appendField(t,"NAME").appendField("","PARAMS"),this.setMutator(new e.Mutator(["procedures_mutatorarg"])),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&e.Msg.PROCEDURES_DEFNORETURN_COMMENT&&this.setCommentText(e.Msg.PROCEDURES_DEFNORETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(e.Msg.PROCEDURES_DEFNORETURN_TOOLTIP),this.setHelpUrl(e.Msg.PROCEDURES_DEFNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},setStatements_:function(t){this.hasStatements_!==t&&(t?(this.appendStatementInput("STACK").appendField(e.Msg.PROCEDURES_DEFNORETURN_DO),this.getInput("RETURN")&&this.moveInputBefore("STACK","RETURN")):this.removeInput("STACK",!0),this.hasStatements_=t)},updateParams_:function(){var t="";this.arguments_.length&&(t=e.Msg.PROCEDURES_BEFORE_PARAMS+" "+this.arguments_.join(", ")),e.Events.disable();try{this.setFieldValue(t,"PARAMS")}finally{e.Events.enable()}},mutationToDom:function(t){var n=e.utils.xml.createElement("mutation");t&&n.setAttribute("name",this.getFieldValue("NAME"));for(var r=0;r<this.argumentVarModels_.length;r++){var i=e.utils.xml.createElement("arg"),o=this.argumentVarModels_[r];i.setAttribute("name",o.name),i.setAttribute("varid",o.getId()),t&&this.paramIds_&&i.setAttribute("paramId",this.paramIds_[r]),n.appendChild(i)}return this.hasStatements_||n.setAttribute("statements","false"),n},domToMutation:function(t){this.arguments_=[],this.argumentVarModels_=[];for(var n,r=0;n=t.childNodes[r];r++)if("arg"==n.nodeName.toLowerCase()){var i=n.getAttribute("name");n=n.getAttribute("varid")||n.getAttribute("varId"),this.arguments_.push(i),null!=(n=e.Variables.getOrCreateVariablePackage(this.workspace,n,i,""))?this.argumentVarModels_.push(n):console.log("Failed to create a variable with name "+i+", ignoring.")}this.updateParams_(),e.Procedures.mutateCallers(this),this.setStatements_("false"!==t.getAttribute("statements"))},decompose:function(t){var n=e.utils.xml.createElement("block");n.setAttribute("type","procedures_mutatorcontainer");var r=e.utils.xml.createElement("statement");r.setAttribute("name","STACK"),n.appendChild(r);for(var i=0;i<this.arguments_.length;i++){var o=e.utils.xml.createElement("block");o.setAttribute("type","procedures_mutatorarg");var s=e.utils.xml.createElement("field");s.setAttribute("name","NAME");var a=e.utils.xml.createTextNode(this.arguments_[i]);s.appendChild(a),o.appendChild(s),s=e.utils.xml.createElement("next"),o.appendChild(s),r.appendChild(o),r=s}return t=e.Xml.domToBlock(n,t),"procedures_defreturn"==this.type?t.setFieldValue(this.hasStatements_,"STATEMENTS"):t.removeInput("STATEMENT_INPUT"),e.Procedures.mutateCallers(this),t},compose:function(t){this.arguments_=[],this.paramIds_=[],this.argumentVarModels_=[];for(var n=t.getInputTargetBlock("STACK");n&&!n.isInsertionMarker();){var r=n.getFieldValue("NAME");this.arguments_.push(r),r=this.workspace.getVariable(r,""),this.argumentVarModels_.push(r),this.paramIds_.push(n.id),n=n.nextConnection&&n.nextConnection.targetBlock()}this.updateParams_(),e.Procedures.mutateCallers(this),null!==(t=t.getFieldValue("STATEMENTS"))&&(t="TRUE"==t,this.hasStatements_!=t)&&(t?(this.setStatements_(!0),e.Mutator.reconnect(this.statementConnection_,this,"STACK"),this.statementConnection_=null):(t=this.getInput("STACK").connection,(this.statementConnection_=t.targetConnection)&&((t=t.targetBlock()).unplug(),t.bumpNeighbours()),this.setStatements_(!1)))},getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!1]},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},renameVarById:function(t,n){var r=this.workspace.getVariableById(t);if(""==r.type){r=r.name,n=this.workspace.getVariableById(n);for(var i=!1,o=0;o<this.argumentVarModels_.length;o++)this.argumentVarModels_[o].getId()==t&&(this.arguments_[o]=n.name,this.argumentVarModels_[o]=n,i=!0);i&&(this.displayRenamedVar_(r,n.name),e.Procedures.mutateCallers(this))}},updateVarName:function(t){for(var n=t.name,r=!1,i=0;i<this.argumentVarModels_.length;i++)if(this.argumentVarModels_[i].getId()==t.getId()){var o=this.arguments_[i];this.arguments_[i]=n,r=!0}r&&(this.displayRenamedVar_(o,n),e.Procedures.mutateCallers(this))},displayRenamedVar_:function(t,n){if(this.updateParams_(),this.mutator&&this.mutator.isVisible())for(var r,i=this.mutator.workspace_.getAllBlocks(!1),o=0;r=i[o];o++)"procedures_mutatorarg"==r.type&&e.Names.equals(t,r.getFieldValue("NAME"))&&r.setFieldValue(n,"NAME")},customContextMenu:function(t){if(!this.isInFlyout){var n={enabled:!0},r=this.getFieldValue("NAME");n.text=e.Msg.PROCEDURES_CREATE_DO.replace("%1",r);var i=e.utils.xml.createElement("mutation");for(i.setAttribute("name",r),r=0;r<this.arguments_.length;r++){var o=e.utils.xml.createElement("arg");o.setAttribute("name",this.arguments_[r]),i.appendChild(o)}if((r=e.utils.xml.createElement("block")).setAttribute("type",this.callType_),r.appendChild(i),n.callback=e.ContextMenu.callbackFactory(this,r),t.push(n),!this.isCollapsed())for(r=0;r<this.argumentVarModels_.length;r++)n={enabled:!0},i=this.argumentVarModels_[r],n.text=e.Msg.VARIABLES_SET_CREATE_GET.replace("%1",i.name),i=e.Variables.generateVariableFieldDom(i),(o=e.utils.xml.createElement("block")).setAttribute("type","variables_get"),o.appendChild(i),n.callback=e.ContextMenu.callbackFactory(this,o),t.push(n)}},callType_:"procedures_callnoreturn"},e.Blocks.procedures_defreturn={init:function(){var t=e.Procedures.findLegalName("",this);(t=new e.FieldTextInput(t,e.Procedures.rename)).setSpellcheck(!1),this.appendDummyInput().appendField(e.Msg.PROCEDURES_DEFRETURN_TITLE).appendField(t,"NAME").appendField("","PARAMS"),this.appendValueInput("RETURN").setAlign(e.ALIGN_RIGHT).appendField(e.Msg.PROCEDURES_DEFRETURN_RETURN),this.setMutator(new e.Mutator(["procedures_mutatorarg"])),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&e.Msg.PROCEDURES_DEFRETURN_COMMENT&&this.setCommentText(e.Msg.PROCEDURES_DEFRETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(e.Msg.PROCEDURES_DEFRETURN_TOOLTIP),this.setHelpUrl(e.Msg.PROCEDURES_DEFRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},setStatements_:e.Blocks.procedures_defnoreturn.setStatements_,updateParams_:e.Blocks.procedures_defnoreturn.updateParams_,mutationToDom:e.Blocks.procedures_defnoreturn.mutationToDom,domToMutation:e.Blocks.procedures_defnoreturn.domToMutation,decompose:e.Blocks.procedures_defnoreturn.decompose,compose:e.Blocks.procedures_defnoreturn.compose,getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!0]},getVars:e.Blocks.procedures_defnoreturn.getVars,getVarModels:e.Blocks.procedures_defnoreturn.getVarModels,renameVarById:e.Blocks.procedures_defnoreturn.renameVarById,updateVarName:e.Blocks.procedures_defnoreturn.updateVarName,displayRenamedVar_:e.Blocks.procedures_defnoreturn.displayRenamedVar_,customContextMenu:e.Blocks.procedures_defnoreturn.customContextMenu,callType_:"procedures_callreturn"},e.Blocks.procedures_mutatorcontainer={init:function(){this.appendDummyInput().appendField(e.Msg.PROCEDURES_MUTATORCONTAINER_TITLE),this.appendStatementInput("STACK"),this.appendDummyInput("STATEMENT_INPUT").appendField(e.Msg.PROCEDURES_ALLOW_STATEMENTS).appendField(new e.FieldCheckbox("TRUE"),"STATEMENTS"),this.setStyle("procedure_blocks"),this.setTooltip(e.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP),this.contextMenu=!1}},e.Blocks.procedures_mutatorarg={init:function(){var t=new e.FieldTextInput(e.Procedures.DEFAULT_ARG,this.validator_);t.oldShowEditorFn_=t.showEditor_,t.showEditor_=function(){this.createdVariables_=[],this.oldShowEditorFn_()},this.appendDummyInput().appendField(e.Msg.PROCEDURES_MUTATORARG_TITLE).appendField(t,"NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(e.Msg.PROCEDURES_MUTATORARG_TOOLTIP),this.contextMenu=!1,t.onFinishEditing_=this.deleteIntermediateVars_,t.createdVariables_=[],t.onFinishEditing_("x")},validator_:function(t){var n=this.getSourceBlock(),r=e.Mutator.findParentWs(n.workspace);if(!(t=t.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,"")))return null;for(var i=(n.workspace.targetWorkspace||n.workspace).getAllBlocks(!1),o=t.toLowerCase(),s=0;s<i.length;s++)if(i[s].id!=this.getSourceBlock().id){var a=i[s].getFieldValue("NAME");if(a&&a.toLowerCase()==o)return null}return n.isInFlyout||((n=r.getVariable(t,""))&&n.name!=t&&r.renameVariableById(n.getId(),t),n||(n=r.createVariable(t,""))&&this.createdVariables_&&this.createdVariables_.push(n)),t},deleteIntermediateVars_:function(t){var n=e.Mutator.findParentWs(this.getSourceBlock().workspace);if(n)for(var r=0;r<this.createdVariables_.length;r++){var i=this.createdVariables_[r];i.name!=t&&n.deleteVariableById(i.getId())}}},e.Blocks.procedures_callnoreturn={init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(e.Msg.PROCEDURES_CALLNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null,this.previousEnabledState_=!0},getProcedureCall:function(){return this.getFieldValue("NAME")},renameProcedure:function(t,n){e.Names.equals(t,this.getProcedureCall())&&(this.setFieldValue(n,"NAME"),this.setTooltip((this.outputConnection?e.Msg.PROCEDURES_CALLRETURN_TOOLTIP:e.Msg.PROCEDURES_CALLNORETURN_TOOLTIP).replace("%1",n)))},setProcedureParameters_:function(t,n){var r=e.Procedures.getDefinition(this.getProcedureCall(),this.workspace),i=r&&r.mutator&&r.mutator.isVisible();if(i||(this.quarkConnections_={},this.quarkIds_=null),n)if(t.join("\n")==this.arguments_.join("\n"))this.quarkIds_=n;else{if(n.length!=t.length)throw RangeError("paramNames and paramIds must be the same length.");this.setCollapsed(!1),this.quarkIds_||(this.quarkConnections_={},this.quarkIds_=[]),r=this.rendered,this.rendered=!1;for(var o=0;o<this.arguments_.length;o++){var s=this.getInput("ARG"+o);s&&(s=s.connection.targetConnection,this.quarkConnections_[this.quarkIds_[o]]=s,i&&s&&-1==n.indexOf(this.quarkIds_[o])&&(s.disconnect(),s.getSourceBlock().bumpNeighbours()))}for(this.arguments_=[].concat(t),this.argumentVarModels_=[],o=0;o<this.arguments_.length;o++)t=e.Variables.getOrCreateVariablePackage(this.workspace,null,this.arguments_[o],""),this.argumentVarModels_.push(t);if(this.updateShape_(),this.quarkIds_=n)for(o=0;o<this.arguments_.length;o++)(n=this.quarkIds_[o])in this.quarkConnections_&&(s=this.quarkConnections_[n],e.Mutator.reconnect(s,this,"ARG"+o)||delete this.quarkConnections_[n]);(this.rendered=r)&&this.render()}},updateShape_:function(){for(var t=0;t<this.arguments_.length;t++){var n=this.getField("ARGNAME"+t);if(n){e.Events.disable();try{n.setValue(this.arguments_[t])}finally{e.Events.enable()}}else n=new e.FieldLabel(this.arguments_[t]),this.appendValueInput("ARG"+t).setAlign(e.ALIGN_RIGHT).appendField(n,"ARGNAME"+t).init()}for(;this.getInput("ARG"+t);)this.removeInput("ARG"+t),t++;(t=this.getInput("TOPROW"))&&(this.arguments_.length?this.getField("WITH")||(t.appendField(e.Msg.PROCEDURES_CALL_BEFORE_PARAMS,"WITH"),t.init()):this.getField("WITH")&&t.removeField("WITH"))},mutationToDom:function(){var t=e.utils.xml.createElement("mutation");t.setAttribute("name",this.getProcedureCall());for(var n=0;n<this.arguments_.length;n++){var r=e.utils.xml.createElement("arg");r.setAttribute("name",this.arguments_[n]),t.appendChild(r)}return t},domToMutation:function(e){var t=e.getAttribute("name");this.renameProcedure(this.getProcedureCall(),t),t=[];for(var n,r=[],i=0;n=e.childNodes[i];i++)"arg"==n.nodeName.toLowerCase()&&(t.push(n.getAttribute("name")),r.push(n.getAttribute("paramId")));this.setProcedureParameters_(t,r)},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},onchange:function(t){if(this.workspace&&!this.workspace.isFlyout&&t.recordUndo)if(t.type==e.Events.BLOCK_CREATE&&-1!=t.ids.indexOf(this.id)){var n=this.getProcedureCall();if(!(n=e.Procedures.getDefinition(n,this.workspace))||n.type==this.defType_&&JSON.stringify(n.getVars())==JSON.stringify(this.arguments_)||(n=null),!n){e.Events.setGroup(t.group),t=e.utils.xml.createElement("xml"),(n=e.utils.xml.createElement("block")).setAttribute("type",this.defType_);var r=this.getRelativeToSurfaceXY(),i=r.y+2*e.SNAP_RADIUS;n.setAttribute("x",r.x+e.SNAP_RADIUS*(this.RTL?-1:1)),n.setAttribute("y",i),r=this.mutationToDom(),n.appendChild(r),(r=e.utils.xml.createElement("field")).setAttribute("name","NAME"),(i=this.getProcedureCall())||(i=e.Procedures.findLegalName("",this),this.renameProcedure("",i)),r.appendChild(e.utils.xml.createTextNode(i)),n.appendChild(r),t.appendChild(n),e.Xml.domToWorkspace(t,this.workspace),e.Events.setGroup(!1)}}else t.type==e.Events.BLOCK_DELETE?(n=this.getProcedureCall(),(n=e.Procedures.getDefinition(n,this.workspace))||(e.Events.setGroup(t.group),this.dispose(!0),e.Events.setGroup(!1))):t.type==e.Events.CHANGE&&"disabled"==t.element&&(n=this.getProcedureCall(),(n=e.Procedures.getDefinition(n,this.workspace))&&n.id==t.blockId&&((n=e.Events.getGroup())&&console.log("Saw an existing group while responding to a definition change"),e.Events.setGroup(t.group),t.newValue?(this.previousEnabledState_=this.isEnabled(),this.setEnabled(!1)):this.setEnabled(this.previousEnabledState_),e.Events.setGroup(n)))},customContextMenu:function(t){if(this.workspace.isMovable()){var n={enabled:!0};n.text=e.Msg.PROCEDURES_HIGHLIGHT_DEF;var r=this.getProcedureCall(),i=this.workspace;n.callback=function(){var t=e.Procedures.getDefinition(r,i);t&&(i.centerOnBlock(t.id),t.select())},t.push(n)}},defType_:"procedures_defnoreturn"},e.Blocks.procedures_callreturn={init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setOutput(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(e.Msg.PROCEDURES_CALLRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null,this.previousEnabledState_=!0},getProcedureCall:e.Blocks.procedures_callnoreturn.getProcedureCall,renameProcedure:e.Blocks.procedures_callnoreturn.renameProcedure,setProcedureParameters_:e.Blocks.procedures_callnoreturn.setProcedureParameters_,updateShape_:e.Blocks.procedures_callnoreturn.updateShape_,mutationToDom:e.Blocks.procedures_callnoreturn.mutationToDom,domToMutation:e.Blocks.procedures_callnoreturn.domToMutation,getVars:e.Blocks.procedures_callnoreturn.getVars,getVarModels:e.Blocks.procedures_callnoreturn.getVarModels,onchange:e.Blocks.procedures_callnoreturn.onchange,customContextMenu:e.Blocks.procedures_callnoreturn.customContextMenu,defType_:"procedures_defreturn"},e.Blocks.procedures_ifreturn={init:function(){this.appendValueInput("CONDITION").setCheck("Boolean").appendField(e.Msg.CONTROLS_IF_MSG_IF),this.appendValueInput("VALUE").appendField(e.Msg.PROCEDURES_DEFRETURN_RETURN),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(e.Msg.PROCEDURES_IFRETURN_TOOLTIP),this.setHelpUrl(e.Msg.PROCEDURES_IFRETURN_HELPURL),this.hasReturnValue_=!0},mutationToDom:function(){var t=e.utils.xml.createElement("mutation");return t.setAttribute("value",Number(this.hasReturnValue_)),t},domToMutation:function(t){this.hasReturnValue_=1==t.getAttribute("value"),this.hasReturnValue_||(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(e.Msg.PROCEDURES_DEFRETURN_RETURN))},onchange:function(t){if(this.workspace.isDragging&&!this.workspace.isDragging()){t=!1;var n=this;do{if(-1!=this.FUNCTION_TYPES.indexOf(n.type)){t=!0;break}n=n.getSurroundParent()}while(n);t?("procedures_defnoreturn"==n.type&&this.hasReturnValue_?(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(e.Msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!1):"procedures_defreturn"!=n.type||this.hasReturnValue_||(this.removeInput("VALUE"),this.appendValueInput("VALUE").appendField(e.Msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!0),this.setWarningText(null),this.isInFlyout||this.setEnabled(!0)):(this.setWarningText(e.Msg.PROCEDURES_IFRETURN_WARNING),this.isInFlyout||this.getInheritedDisabled()||this.setEnabled(!1))}},FUNCTION_TYPES:["procedures_defnoreturn","procedures_defreturn"]},e.Blocks.texts={},e.Constants.Text={},e.Constants.Text.HUE=160,e.defineBlocksWithJsonArray([{type:"text",message0:"%1",args0:[{type:"field_input",name:"TEXT",text:""}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["text_quotes","parent_tooltip_when_inline"]},{type:"text_multiline",message0:"%1 %2",args0:[{type:"field_image",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAARCAYAAADpPU2iAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAdhgAAHYYBXaITgQAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMS42/U4J6AAAAP1JREFUOE+Vks0KQUEYhjmRIja4ABtZ2dm5A3t3Ia6AUm7CylYuQRaUhZSlLZJiQbFAyRnPN33y01HOW08z8873zpwzM4F3GWOCruvGIE4/rLaV+Nq1hVGMBqzhqlxgCys4wJA65xnogMHsQ5lujnYHTejBBCK2mE4abjCgMGhNxHgDFWjDSG07kdfVa2pZMf4ZyMAdWmpZMfYOsLiDMYMjlMB+K613QISRhTnITnsYg5yUd0DETmEoMlkFOeIT/A58iyK5E18BuTBfgYXfwNJv4P9/oEBerLylOnRhygmGdPpTTBZAPkde61lbQe4moWUvYUZYLfUNftIY4zwA5X2Z9AYnQrEAAAAASUVORK5CYII=",width:12,height:17,alt:"\xb6"},{type:"field_multilinetext",name:"TEXT",text:""}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"text_join",message0:"",output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_JOIN_HELPURL}",tooltip:"%{BKY_TEXT_JOIN_TOOLTIP}",mutator:"text_join_mutator"},{type:"text_create_join_container",message0:"%{BKY_TEXT_CREATE_JOIN_TITLE_JOIN} %1 %2",args0:[{type:"input_dummy"},{type:"input_statement",name:"STACK"}],style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_TOOLTIP}",enableContextMenu:!1},{type:"text_create_join_item",message0:"%{BKY_TEXT_CREATE_JOIN_ITEM_TITLE_ITEM}",previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_ITEM_TOOLTIP}",enableContextMenu:!1},{type:"text_append",message0:"%{BKY_TEXT_APPEND_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_TEXT_APPEND_VARIABLE}"},{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",extensions:["text_append_tooltip"]},{type:"text_length",message0:"%{BKY_TEXT_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"text_blocks",tooltip:"%{BKY_TEXT_LENGTH_TOOLTIP}",helpUrl:"%{BKY_TEXT_LENGTH_HELPURL}"},{type:"text_isEmpty",message0:"%{BKY_TEXT_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"text_blocks",tooltip:"%{BKY_TEXT_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_TEXT_ISEMPTY_HELPURL}"},{type:"text_indexOf",message0:"%{BKY_TEXT_INDEXOF_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"END",options:[["%{BKY_TEXT_INDEXOF_OPERATOR_FIRST}","FIRST"],["%{BKY_TEXT_INDEXOF_OPERATOR_LAST}","LAST"]]},{type:"input_value",name:"FIND",check:"String"}],output:"Number",style:"text_blocks",helpUrl:"%{BKY_TEXT_INDEXOF_HELPURL}",inputsInline:!0,extensions:["text_indexOf_tooltip"]},{type:"text_charAt",message0:"%{BKY_TEXT_CHARAT_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"WHERE",options:[["%{BKY_TEXT_CHARAT_FROM_START}","FROM_START"],["%{BKY_TEXT_CHARAT_FROM_END}","FROM_END"],["%{BKY_TEXT_CHARAT_FIRST}","FIRST"],["%{BKY_TEXT_CHARAT_LAST}","LAST"],["%{BKY_TEXT_CHARAT_RANDOM}","RANDOM"]]}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_CHARAT_HELPURL}",inputsInline:!0,mutator:"text_charAt_mutator"}]),e.Blocks.text_getSubstring={init:function(){this.WHERE_OPTIONS_1=[[e.Msg.TEXT_GET_SUBSTRING_START_FROM_START,"FROM_START"],[e.Msg.TEXT_GET_SUBSTRING_START_FROM_END,"FROM_END"],[e.Msg.TEXT_GET_SUBSTRING_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[e.Msg.TEXT_GET_SUBSTRING_END_FROM_START,"FROM_START"],[e.Msg.TEXT_GET_SUBSTRING_END_FROM_END,"FROM_END"],[e.Msg.TEXT_GET_SUBSTRING_END_LAST,"LAST"]],this.setHelpUrl(e.Msg.TEXT_GET_SUBSTRING_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("STRING").setCheck("String").appendField(e.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT),this.appendDummyInput("AT1"),this.appendDummyInput("AT2"),e.Msg.TEXT_GET_SUBSTRING_TAIL&&this.appendDummyInput("TAIL").appendField(e.Msg.TEXT_GET_SUBSTRING_TAIL),this.setInputsInline(!0),this.setOutput(!0,"String"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(e.Msg.TEXT_GET_SUBSTRING_TOOLTIP)},mutationToDom:function(){var t=e.utils.xml.createElement("mutation"),n=this.getInput("AT1").type==e.INPUT_VALUE;return t.setAttribute("at1",n),n=this.getInput("AT2").type==e.INPUT_VALUE,t.setAttribute("at2",n),t},domToMutation:function(e){var t="true"==e.getAttribute("at1");e="true"==e.getAttribute("at2"),this.updateAt_(1,t),this.updateAt_(2,e)},updateAt_:function(t,n){this.removeInput("AT"+t),this.removeInput("ORDINAL"+t,!0),n?(this.appendValueInput("AT"+t).setCheck("Number"),e.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+t).appendField(e.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+t),2==t&&e.Msg.TEXT_GET_SUBSTRING_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(e.Msg.TEXT_GET_SUBSTRING_TAIL));var r=new e.FieldDropdown(this["WHERE_OPTIONS_"+t],(function(e){var r="FROM_START"==e||"FROM_END"==e;if(r!=n){var i=this.getSourceBlock();return i.updateAt_(t,r),i.setFieldValue(e,"WHERE"+t),null}}));this.getInput("AT"+t).appendField(r,"WHERE"+t),1==t&&(this.moveInputBefore("AT1","AT2"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","AT2"))}},e.Blocks.text_changeCase={init:function(){var t=[[e.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE,"UPPERCASE"],[e.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE,"LOWERCASE"],[e.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE,"TITLECASE"]];this.setHelpUrl(e.Msg.TEXT_CHANGECASE_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(new e.FieldDropdown(t),"CASE"),this.setOutput(!0,"String"),this.setTooltip(e.Msg.TEXT_CHANGECASE_TOOLTIP)}},e.Blocks.text_trim={init:function(){var t=[[e.Msg.TEXT_TRIM_OPERATOR_BOTH,"BOTH"],[e.Msg.TEXT_TRIM_OPERATOR_LEFT,"LEFT"],[e.Msg.TEXT_TRIM_OPERATOR_RIGHT,"RIGHT"]];this.setHelpUrl(e.Msg.TEXT_TRIM_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(new e.FieldDropdown(t),"MODE"),this.setOutput(!0,"String"),this.setTooltip(e.Msg.TEXT_TRIM_TOOLTIP)}},e.Blocks.text_print={init:function(){this.jsonInit({message0:e.Msg.TEXT_PRINT_TITLE,args0:[{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:e.Msg.TEXT_PRINT_TOOLTIP,helpUrl:e.Msg.TEXT_PRINT_HELPURL})}},e.Blocks.text_prompt_ext={init:function(){var t=[[e.Msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[e.Msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]];this.setHelpUrl(e.Msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks");var n=this;t=new e.FieldDropdown(t,(function(e){n.updateType_(e)})),this.appendValueInput("TEXT").appendField(t,"TYPE"),this.setOutput(!0,"String"),this.setTooltip((function(){return"TEXT"==n.getFieldValue("TYPE")?e.Msg.TEXT_PROMPT_TOOLTIP_TEXT:e.Msg.TEXT_PROMPT_TOOLTIP_NUMBER}))},updateType_:function(e){this.outputConnection.setCheck("NUMBER"==e?"Number":"String")},mutationToDom:function(){var t=e.utils.xml.createElement("mutation");return t.setAttribute("type",this.getFieldValue("TYPE")),t},domToMutation:function(e){this.updateType_(e.getAttribute("type"))}},e.Blocks.text_prompt={init:function(){this.mixin(e.Constants.Text.QUOTE_IMAGE_MIXIN);var t=[[e.Msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[e.Msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]],n=this;this.setHelpUrl(e.Msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks"),t=new e.FieldDropdown(t,(function(e){n.updateType_(e)})),this.appendDummyInput().appendField(t,"TYPE").appendField(this.newQuote_(!0)).appendField(new e.FieldTextInput(""),"TEXT").appendField(this.newQuote_(!1)),this.setOutput(!0,"String"),this.setTooltip((function(){return"TEXT"==n.getFieldValue("TYPE")?e.Msg.TEXT_PROMPT_TOOLTIP_TEXT:e.Msg.TEXT_PROMPT_TOOLTIP_NUMBER}))},updateType_:e.Blocks.text_prompt_ext.updateType_,mutationToDom:e.Blocks.text_prompt_ext.mutationToDom,domToMutation:e.Blocks.text_prompt_ext.domToMutation},e.Blocks.text_count={init:function(){this.jsonInit({message0:e.Msg.TEXT_COUNT_MESSAGE0,args0:[{type:"input_value",name:"SUB",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"Number",inputsInline:!0,style:"text_blocks",tooltip:e.Msg.TEXT_COUNT_TOOLTIP,helpUrl:e.Msg.TEXT_COUNT_HELPURL})}},e.Blocks.text_replace={init:function(){this.jsonInit({message0:e.Msg.TEXT_REPLACE_MESSAGE0,args0:[{type:"input_value",name:"FROM",check:"String"},{type:"input_value",name:"TO",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:e.Msg.TEXT_REPLACE_TOOLTIP,helpUrl:e.Msg.TEXT_REPLACE_HELPURL})}},e.Blocks.text_reverse={init:function(){this.jsonInit({message0:e.Msg.TEXT_REVERSE_MESSAGE0,args0:[{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:e.Msg.TEXT_REVERSE_TOOLTIP,helpUrl:e.Msg.TEXT_REVERSE_HELPURL})}},e.Constants.Text.QUOTE_IMAGE_MIXIN={QUOTE_IMAGE_LEFT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAn0lEQVQI1z3OMa5BURSF4f/cQhAKjUQhuQmFNwGJEUi0RKN5rU7FHKhpjEH3TEMtkdBSCY1EIv8r7nFX9e29V7EBAOvu7RPjwmWGH/VuF8CyN9/OAdvqIXYLvtRaNjx9mMTDyo+NjAN1HNcl9ZQ5oQMM3dgDUqDo1l8DzvwmtZN7mnD+PkmLa+4mhrxVA9fRowBWmVBhFy5gYEjKMfz9AylsaRRgGzvZAAAAAElFTkSuQmCC",QUOTE_IMAGE_RIGHT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAqUlEQVQI1z3KvUpCcRiA8ef9E4JNHhI0aFEacm1o0BsI0Slx8wa8gLauoDnoBhq7DcfWhggONDmJJgqCPA7neJ7p934EOOKOnM8Q7PDElo/4x4lFb2DmuUjcUzS3URnGib9qaPNbuXvBO3sGPHJDRG6fGVdMSeWDP2q99FQdFrz26Gu5Tq7dFMzUvbXy8KXeAj57cOklgA+u1B5AoslLtGIHQMaCVnwDnADZIFIrXsoXrgAAAABJRU5ErkJggg==",QUOTE_IMAGE_WIDTH:12,QUOTE_IMAGE_HEIGHT:12,quoteField_:function(e){for(var t,n=0;t=this.inputList[n];n++)for(var r,i=0;r=t.fieldRow[i];i++)if(e==r.name)return t.insertFieldAt(i,this.newQuote_(!0)),void t.insertFieldAt(i+2,this.newQuote_(!1));console.warn('field named "'+e+'" not found in '+this.toDevString())},newQuote_:function(t){return t=this.RTL?!t:t,new e.FieldImage(t?this.QUOTE_IMAGE_LEFT_DATAURI:this.QUOTE_IMAGE_RIGHT_DATAURI,this.QUOTE_IMAGE_WIDTH,this.QUOTE_IMAGE_HEIGHT,t?"\u201c":"\u201d")}},e.Constants.Text.TEXT_QUOTES_EXTENSION=function(){this.mixin(e.Constants.Text.QUOTE_IMAGE_MIXIN),this.quoteField_("TEXT")},e.Constants.Text.TEXT_JOIN_MUTATOR_MIXIN={mutationToDom:function(){var t=e.utils.xml.createElement("mutation");return t.setAttribute("items",this.itemCount_),t},domToMutation:function(e){this.itemCount_=parseInt(e.getAttribute("items"),10),this.updateShape_()},decompose:function(e){var t=e.newBlock("text_create_join_container");t.initSvg();for(var n=t.getInput("STACK").connection,r=0;r<this.itemCount_;r++){var i=e.newBlock("text_create_join_item");i.initSvg(),n.connect(i.previousConnection),n=i.nextConnection}return t},compose:function(t){var n=t.getInputTargetBlock("STACK");for(t=[];n&&!n.isInsertionMarker();)t.push(n.valueConnection_),n=n.nextConnection&&n.nextConnection.targetBlock();for(n=0;n<this.itemCount_;n++){var r=this.getInput("ADD"+n).connection.targetConnection;r&&-1==t.indexOf(r)&&r.disconnect()}for(this.itemCount_=t.length,this.updateShape_(),n=0;n<this.itemCount_;n++)e.Mutator.reconnect(t[n],this,"ADD"+n)},saveConnections:function(e){e=e.getInputTargetBlock("STACK");for(var t=0;e;){var n=this.getInput("ADD"+t);e.valueConnection_=n&&n.connection.targetConnection,t++,e=e.nextConnection&&e.nextConnection.targetBlock()}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(this.newQuote_(!0)).appendField(this.newQuote_(!1));for(var t=0;t<this.itemCount_;t++)if(!this.getInput("ADD"+t)){var n=this.appendValueInput("ADD"+t).setAlign(e.ALIGN_RIGHT);0==t&&n.appendField(e.Msg.TEXT_JOIN_TITLE_CREATEWITH)}for(;this.getInput("ADD"+t);)this.removeInput("ADD"+t),t++}},e.Constants.Text.TEXT_JOIN_EXTENSION=function(){this.mixin(e.Constants.Text.QUOTE_IMAGE_MIXIN),this.itemCount_=2,this.updateShape_(),this.setMutator(new e.Mutator(["text_create_join_item"]))},e.Extensions.register("text_append_tooltip",e.Extensions.buildTooltipWithFieldText("%{BKY_TEXT_APPEND_TOOLTIP}","VAR")),e.Constants.Text.TEXT_INDEXOF_TOOLTIP_EXTENSION=function(){var t=this;this.setTooltip((function(){return e.Msg.TEXT_INDEXOF_TOOLTIP.replace("%1",t.workspace.options.oneBasedIndex?"0":"-1")}))},e.Constants.Text.TEXT_CHARAT_MUTATOR_MIXIN={mutationToDom:function(){var t=e.utils.xml.createElement("mutation");return t.setAttribute("at",!!this.isAt_),t},domToMutation:function(e){e="false"!=e.getAttribute("at"),this.updateAt_(e)},updateAt_:function(t){this.removeInput("AT",!0),this.removeInput("ORDINAL",!0),t&&(this.appendValueInput("AT").setCheck("Number"),e.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(e.Msg.ORDINAL_NUMBER_SUFFIX)),e.Msg.TEXT_CHARAT_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(e.Msg.TEXT_CHARAT_TAIL)),this.isAt_=t}},e.Constants.Text.TEXT_CHARAT_EXTENSION=function(){this.getField("WHERE").setValidator((function(e){(e="FROM_START"==e||"FROM_END"==e)!=this.isAt_&&this.getSourceBlock().updateAt_(e)})),this.updateAt_(!0);var t=this;this.setTooltip((function(){var n=t.getFieldValue("WHERE"),r=e.Msg.TEXT_CHARAT_TOOLTIP;return("FROM_START"==n||"FROM_END"==n)&&(n="FROM_START"==n?e.Msg.LISTS_INDEX_FROM_START_TOOLTIP:e.Msg.LISTS_INDEX_FROM_END_TOOLTIP)&&(r+="  "+n.replace("%1",t.workspace.options.oneBasedIndex?"#1":"#0")),r}))},e.Extensions.register("text_indexOf_tooltip",e.Constants.Text.TEXT_INDEXOF_TOOLTIP_EXTENSION),e.Extensions.register("text_quotes",e.Constants.Text.TEXT_QUOTES_EXTENSION),e.Extensions.registerMutator("text_join_mutator",e.Constants.Text.TEXT_JOIN_MUTATOR_MIXIN,e.Constants.Text.TEXT_JOIN_EXTENSION),e.Extensions.registerMutator("text_charAt_mutator",e.Constants.Text.TEXT_CHARAT_MUTATOR_MIXIN,e.Constants.Text.TEXT_CHARAT_EXTENSION),e.Blocks.variables={},e.Constants.Variables={},e.Constants.Variables.HUE=330,e.defineBlocksWithJsonArray([{type:"variables_get",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableSetterGetter"]},{type:"variables_set",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableSetterGetter"]}]),e.Constants.Variables.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN={customContextMenu:function(t){if(this.isInFlyout)"variables_get"!=this.type&&"variables_get_reporter"!=this.type||(n={text:e.Msg.RENAME_VARIABLE,enabled:!0,callback:e.Constants.Variables.RENAME_OPTION_CALLBACK_FACTORY(this)},o=this.getField("VAR").getText(),i={text:e.Msg.DELETE_VARIABLE.replace("%1",o),enabled:!0,callback:e.Constants.Variables.DELETE_OPTION_CALLBACK_FACTORY(this)},t.unshift(n),t.unshift(i));else{if("variables_get"==this.type)var n="variables_set",r=e.Msg.VARIABLES_GET_CREATE_SET;else n="variables_get",r=e.Msg.VARIABLES_SET_CREATE_GET;var i={enabled:0<this.workspace.remainingCapacity()},o=this.getField("VAR").getText();i.text=r.replace("%1",o),(r=e.utils.xml.createElement("field")).setAttribute("name","VAR"),r.appendChild(e.utils.xml.createTextNode(o)),(o=e.utils.xml.createElement("block")).setAttribute("type",n),o.appendChild(r),i.callback=e.ContextMenu.callbackFactory(this,o),t.push(i)}}},e.Constants.Variables.RENAME_OPTION_CALLBACK_FACTORY=function(t){return function(){var n=t.workspace,r=t.getField("VAR").getVariable();e.Variables.renameVariable(n,r)}},e.Constants.Variables.DELETE_OPTION_CALLBACK_FACTORY=function(e){return function(){var t=e.workspace,n=e.getField("VAR").getVariable();t.deleteVariableById(n.getId()),t.refreshToolboxSelection()}},e.Extensions.registerMixin("contextMenu_variableSetterGetter",e.Constants.Variables.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN),e.Constants.VariablesDynamic={},e.Constants.VariablesDynamic.HUE=310,e.defineBlocksWithJsonArray([{type:"variables_get_dynamic",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_dynamic_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableDynamicSetterGetter"]},{type:"variables_set_dynamic",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_dynamic_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableDynamicSetterGetter"]}]),e.Constants.VariablesDynamic.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN={customContextMenu:function(t){if(this.isInFlyout)"variables_get_dynamic"!=this.type&&"variables_get_reporter_dynamic"!=this.type||(n={text:e.Msg.RENAME_VARIABLE,enabled:!0,callback:e.Constants.Variables.RENAME_OPTION_CALLBACK_FACTORY(this)},s=this.getField("VAR").getText(),o={text:e.Msg.DELETE_VARIABLE.replace("%1",s),enabled:!0,callback:e.Constants.Variables.DELETE_OPTION_CALLBACK_FACTORY(this)},t.unshift(n),t.unshift(o));else{var n=this.getFieldValue("VAR"),r=this.workspace.getVariableById(n).type;if("variables_get_dynamic"==this.type){n="variables_set_dynamic";var i=e.Msg.VARIABLES_GET_CREATE_SET}else n="variables_get_dynamic",i=e.Msg.VARIABLES_SET_CREATE_GET;var o={enabled:0<this.workspace.remainingCapacity()},s=this.getField("VAR").getText();o.text=i.replace("%1",s),(i=e.utils.xml.createElement("field")).setAttribute("name","VAR"),i.setAttribute("variabletype",r),i.appendChild(e.utils.xml.createTextNode(s)),(s=e.utils.xml.createElement("block")).setAttribute("type",n),s.appendChild(i),o.callback=e.ContextMenu.callbackFactory(this,s),t.push(o)}},onchange:function(t){t=this.getFieldValue("VAR"),t=e.Variables.getVariable(this.workspace,t),"variables_get_dynamic"==this.type?this.outputConnection.setCheck(t.type):this.getInput("VALUE").connection.setCheck(t.type)}},e.Constants.VariablesDynamic.RENAME_OPTION_CALLBACK_FACTORY=function(t){return function(){var n=t.workspace,r=t.getField("VAR").getVariable();e.Variables.renameVariable(n,r)}},e.Constants.VariablesDynamic.DELETE_OPTION_CALLBACK_FACTORY=function(e){return function(){var t=e.workspace,n=e.getField("VAR").getVariable();t.deleteVariableById(n.getId()),t.refreshToolboxSelection()}},e.Extensions.registerMixin("contextMenu_variableDynamicSetterGetter",e.Constants.VariablesDynamic.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN),e.Blocks})?r.apply(t,i):r)||(e.exports=o)},4117:function(e,t,n){var r,i,o;i=[n(947),n(8052),n(3487),n(4173)],void 0===(o="function"===typeof(r=function(e,t,n,r){"use strict";return e.setLocale(t),e.Blocks=e.Blocks||{},Object.keys(n).forEach((function(t){e.Blocks[t]=n[t]})),e.JavaScript=r,e})?r.apply(t,i):r)||(e.exports=o)},947:function(e,t,n){var r,i,o;i=[n(2845)],void 0===(o="function"===typeof(r=function(e){"use strict";return e.setLocale=function(t){e.Msg=e.Msg||{},Object.keys(t).forEach((function(n){e.Msg[n]=t[n]}))},e})?r.apply(t,i):r)||(e.exports=o)},7496:function(e,t,n){var r,i,o;i=[n(4117)],void 0===(o="function"===typeof(r=function(e){"use strict";return e})?r.apply(t,i):r)||(e.exports=o)},4173:function(e,t,n){var r,i,o;i=[n(947),n(9881)],void 0===(o="function"===typeof(r=function(e,t){"use strict";return e.JavaScript=t,t})?r.apply(t,i):r)||(e.exports=o)},9881:function(e,t,n){var r,i,o;i=[n(9810)],void 0===(o="function"===typeof(r=function(e){"use strict";return e.JavaScript=new e.Generator("JavaScript"),e.JavaScript.addReservedWords("break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,new,return,super,switch,this,throw,try,typeof,var,void,while,with,yield,enum,implements,interface,let,package,private,protected,public,static,await,null,true,false,arguments,"+Object.getOwnPropertyNames(e.utils.global).join(",")),e.JavaScript.ORDER_ATOMIC=0,e.JavaScript.ORDER_NEW=1.1,e.JavaScript.ORDER_MEMBER=1.2,e.JavaScript.ORDER_FUNCTION_CALL=2,e.JavaScript.ORDER_INCREMENT=3,e.JavaScript.ORDER_DECREMENT=3,e.JavaScript.ORDER_BITWISE_NOT=4.1,e.JavaScript.ORDER_UNARY_PLUS=4.2,e.JavaScript.ORDER_UNARY_NEGATION=4.3,e.JavaScript.ORDER_LOGICAL_NOT=4.4,e.JavaScript.ORDER_TYPEOF=4.5,e.JavaScript.ORDER_VOID=4.6,e.JavaScript.ORDER_DELETE=4.7,e.JavaScript.ORDER_AWAIT=4.8,e.JavaScript.ORDER_EXPONENTIATION=5,e.JavaScript.ORDER_MULTIPLICATION=5.1,e.JavaScript.ORDER_DIVISION=5.2,e.JavaScript.ORDER_MODULUS=5.3,e.JavaScript.ORDER_SUBTRACTION=6.1,e.JavaScript.ORDER_ADDITION=6.2,e.JavaScript.ORDER_BITWISE_SHIFT=7,e.JavaScript.ORDER_RELATIONAL=8,e.JavaScript.ORDER_IN=8,e.JavaScript.ORDER_INSTANCEOF=8,e.JavaScript.ORDER_EQUALITY=9,e.JavaScript.ORDER_BITWISE_AND=10,e.JavaScript.ORDER_BITWISE_XOR=11,e.JavaScript.ORDER_BITWISE_OR=12,e.JavaScript.ORDER_LOGICAL_AND=13,e.JavaScript.ORDER_LOGICAL_OR=14,e.JavaScript.ORDER_CONDITIONAL=15,e.JavaScript.ORDER_ASSIGNMENT=16,e.JavaScript.ORDER_YIELD=17,e.JavaScript.ORDER_COMMA=18,e.JavaScript.ORDER_NONE=99,e.JavaScript.ORDER_OVERRIDES=[[e.JavaScript.ORDER_FUNCTION_CALL,e.JavaScript.ORDER_MEMBER],[e.JavaScript.ORDER_FUNCTION_CALL,e.JavaScript.ORDER_FUNCTION_CALL],[e.JavaScript.ORDER_MEMBER,e.JavaScript.ORDER_MEMBER],[e.JavaScript.ORDER_MEMBER,e.JavaScript.ORDER_FUNCTION_CALL],[e.JavaScript.ORDER_LOGICAL_NOT,e.JavaScript.ORDER_LOGICAL_NOT],[e.JavaScript.ORDER_MULTIPLICATION,e.JavaScript.ORDER_MULTIPLICATION],[e.JavaScript.ORDER_ADDITION,e.JavaScript.ORDER_ADDITION],[e.JavaScript.ORDER_LOGICAL_AND,e.JavaScript.ORDER_LOGICAL_AND],[e.JavaScript.ORDER_LOGICAL_OR,e.JavaScript.ORDER_LOGICAL_OR]],e.JavaScript.isInitialized=!1,e.JavaScript.init=function(t){Object.getPrototypeOf(this).init.call(this),this.nameDB_?this.nameDB_.reset():this.nameDB_=new e.Names(this.RESERVED_WORDS_),this.nameDB_.setVariableMap(t.getVariableMap()),this.nameDB_.populateVariables(t),this.nameDB_.populateProcedures(t);for(var n=[],r=e.Variables.allDeveloperVariables(t),i=0;i<r.length;i++)n.push(this.nameDB_.getName(r[i],e.Names.DEVELOPER_VARIABLE_TYPE));for(t=e.Variables.allUsedVarModels(t),i=0;i<t.length;i++)n.push(this.nameDB_.getName(t[i].getId(),e.VARIABLE_CATEGORY_NAME));n.length&&(this.definitions_.variables="var "+n.join(", ")+";"),this.isInitialized=!0},e.JavaScript.finish=function(t){var n=e.utils.object.values(this.definitions_);return t=Object.getPrototypeOf(this).finish.call(this,t),this.isInitialized=!1,this.nameDB_.reset(),n.join("\n\n")+"\n\n\n"+t},e.JavaScript.scrubNakedValue=function(e){return e+";\n"},e.JavaScript.quote_=function(e){return"'"+(e=e.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'"))+"'"},e.JavaScript.multiline_quote_=function(e){return e.split(/\n/g).map(this.quote_).join(" + '\\n' +\n")},e.JavaScript.scrub_=function(t,n,r){var i="";if(!t.outputConnection||!t.outputConnection.targetConnection){var o=t.getCommentText();o&&(o=e.utils.string.wrap(o,this.COMMENT_WRAP-3),i+=this.prefixLines(o+"\n","// "));for(var s=0;s<t.inputList.length;s++)t.inputList[s].type==e.inputTypes.VALUE&&(o=t.inputList[s].connection.targetBlock())&&(o=this.allNestedComments(o))&&(i+=this.prefixLines(o,"// "))}return t=t.nextConnection&&t.nextConnection.targetBlock(),i+n+(r=r?"":this.blockToCode(t))},e.JavaScript.getAdjusted=function(t,n,r,i,o){r=r||0,o=o||this.ORDER_NONE,t.workspace.options.oneBasedIndex&&r--;var s=t.workspace.options.oneBasedIndex?"1":"0";if(t=0<r?this.valueToCode(t,n,this.ORDER_ADDITION)||s:0>r?this.valueToCode(t,n,this.ORDER_SUBTRACTION)||s:i?this.valueToCode(t,n,this.ORDER_UNARY_NEGATION)||s:this.valueToCode(t,n,o)||s,e.isNumber(t))t=Number(t)+r,i&&(t=-t);else{if(0<r){t=t+" + "+r;var a=this.ORDER_ADDITION}else 0>r&&(t=t+" - "+-r,a=this.ORDER_SUBTRACTION);i&&(t=r?"-("+t+")":"-"+t,a=this.ORDER_UNARY_NEGATION),a=Math.floor(a),o=Math.floor(o),a&&o>=a&&(t="("+t+")")}return t},e.JavaScript.colour={},e.JavaScript.colour_picker=function(t){return[e.JavaScript.quote_(t.getFieldValue("COLOUR")),e.JavaScript.ORDER_ATOMIC]},e.JavaScript.colour_random=function(t){return[e.JavaScript.provideFunction_("colourRandom",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"() {","  var num = Math.floor(Math.random() * Math.pow(2, 24));","  return '#' + ('00000' + num.toString(16)).substr(-6);","}"])+"()",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.colour_rgb=function(t){var n=e.JavaScript.valueToCode(t,"RED",e.JavaScript.ORDER_NONE)||0,r=e.JavaScript.valueToCode(t,"GREEN",e.JavaScript.ORDER_NONE)||0;return t=e.JavaScript.valueToCode(t,"BLUE",e.JavaScript.ORDER_NONE)||0,[e.JavaScript.provideFunction_("colourRgb",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(r, g, b) {","  r = Math.max(Math.min(Number(r), 100), 0) * 2.55;","  g = Math.max(Math.min(Number(g), 100), 0) * 2.55;","  b = Math.max(Math.min(Number(b), 100), 0) * 2.55;","  r = ('0' + (Math.round(r) || 0).toString(16)).slice(-2);","  g = ('0' + (Math.round(g) || 0).toString(16)).slice(-2);","  b = ('0' + (Math.round(b) || 0).toString(16)).slice(-2);","  return '#' + r + g + b;","}"])+"("+n+", "+r+", "+t+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.colour_blend=function(t){var n=e.JavaScript.valueToCode(t,"COLOUR1",e.JavaScript.ORDER_NONE)||"'#000000'",r=e.JavaScript.valueToCode(t,"COLOUR2",e.JavaScript.ORDER_NONE)||"'#000000'";return t=e.JavaScript.valueToCode(t,"RATIO",e.JavaScript.ORDER_NONE)||.5,[e.JavaScript.provideFunction_("colourBlend",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(c1, c2, ratio) {","  ratio = Math.max(Math.min(Number(ratio), 1), 0);","  var r1 = parseInt(c1.substring(1, 3), 16);","  var g1 = parseInt(c1.substring(3, 5), 16);","  var b1 = parseInt(c1.substring(5, 7), 16);","  var r2 = parseInt(c2.substring(1, 3), 16);","  var g2 = parseInt(c2.substring(3, 5), 16);","  var b2 = parseInt(c2.substring(5, 7), 16);","  var r = Math.round(r1 * (1 - ratio) + r2 * ratio);","  var g = Math.round(g1 * (1 - ratio) + g2 * ratio);","  var b = Math.round(b1 * (1 - ratio) + b2 * ratio);","  r = ('0' + (r || 0).toString(16)).slice(-2);","  g = ('0' + (g || 0).toString(16)).slice(-2);","  b = ('0' + (b || 0).toString(16)).slice(-2);","  return '#' + r + g + b;","}"])+"("+n+", "+r+", "+t+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.lists={},e.JavaScript.lists_create_empty=function(t){return["[]",e.JavaScript.ORDER_ATOMIC]},e.JavaScript.lists_create_with=function(t){for(var n=Array(t.itemCount_),r=0;r<t.itemCount_;r++)n[r]=e.JavaScript.valueToCode(t,"ADD"+r,e.JavaScript.ORDER_NONE)||"null";return["["+n.join(", ")+"]",e.JavaScript.ORDER_ATOMIC]},e.JavaScript.lists_repeat=function(t){return[e.JavaScript.provideFunction_("listsRepeat",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(value, n) {","  var array = [];","  for (var i = 0; i < n; i++) {","    array[i] = value;","  }","  return array;","}"])+"("+(e.JavaScript.valueToCode(t,"ITEM",e.JavaScript.ORDER_NONE)||"null")+", "+(t=e.JavaScript.valueToCode(t,"NUM",e.JavaScript.ORDER_NONE)||"0")+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.lists_length=function(t){return[(e.JavaScript.valueToCode(t,"VALUE",e.JavaScript.ORDER_MEMBER)||"[]")+".length",e.JavaScript.ORDER_MEMBER]},e.JavaScript.lists_isEmpty=function(t){return["!"+(e.JavaScript.valueToCode(t,"VALUE",e.JavaScript.ORDER_MEMBER)||"[]")+".length",e.JavaScript.ORDER_LOGICAL_NOT]},e.JavaScript.lists_indexOf=function(t){var n="FIRST"==t.getFieldValue("END")?"indexOf":"lastIndexOf",r=e.JavaScript.valueToCode(t,"FIND",e.JavaScript.ORDER_NONE)||"''";return n=(e.JavaScript.valueToCode(t,"VALUE",e.JavaScript.ORDER_MEMBER)||"[]")+"."+n+"("+r+")",t.workspace.options.oneBasedIndex?[n+" + 1",e.JavaScript.ORDER_ADDITION]:[n,e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.lists_getIndex=function(t){var n=t.getFieldValue("MODE")||"GET",r=t.getFieldValue("WHERE")||"FROM_START",i=e.JavaScript.valueToCode(t,"VALUE","RANDOM"==r?e.JavaScript.ORDER_NONE:e.JavaScript.ORDER_MEMBER)||"[]";switch(r){case"FIRST":if("GET"==n)return[i+"[0]",e.JavaScript.ORDER_MEMBER];if("GET_REMOVE"==n)return[i+".shift()",e.JavaScript.ORDER_MEMBER];if("REMOVE"==n)return i+".shift();\n";break;case"LAST":if("GET"==n)return[i+".slice(-1)[0]",e.JavaScript.ORDER_MEMBER];if("GET_REMOVE"==n)return[i+".pop()",e.JavaScript.ORDER_MEMBER];if("REMOVE"==n)return i+".pop();\n";break;case"FROM_START":if(t=e.JavaScript.getAdjusted(t,"AT"),"GET"==n)return[i+"["+t+"]",e.JavaScript.ORDER_MEMBER];if("GET_REMOVE"==n)return[i+".splice("+t+", 1)[0]",e.JavaScript.ORDER_FUNCTION_CALL];if("REMOVE"==n)return i+".splice("+t+", 1);\n";break;case"FROM_END":if(t=e.JavaScript.getAdjusted(t,"AT",1,!0),"GET"==n)return[i+".slice("+t+")[0]",e.JavaScript.ORDER_FUNCTION_CALL];if("GET_REMOVE"==n)return[i+".splice("+t+", 1)[0]",e.JavaScript.ORDER_FUNCTION_CALL];if("REMOVE"==n)return i+".splice("+t+", 1);";break;case"RANDOM":if(i=e.JavaScript.provideFunction_("listsGetRandomItem",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(list, remove) {","  var x = Math.floor(Math.random() * list.length);","  if (remove) {","    return list.splice(x, 1)[0];","  } else {","    return list[x];","  }","}"])+"("+i+", "+("GET"!=n)+")","GET"==n||"GET_REMOVE"==n)return[i,e.JavaScript.ORDER_FUNCTION_CALL];if("REMOVE"==n)return i+";\n"}throw Error("Unhandled combination (lists_getIndex).")},e.JavaScript.lists_setIndex=function(t){function n(){if(r.match(/^\w+$/))return"";var t=e.JavaScript.nameDB_.getDistinctName("tmpList",e.VARIABLE_CATEGORY_NAME),n="var "+t+" = "+r+";\n";return r=t,n}var r=e.JavaScript.valueToCode(t,"LIST",e.JavaScript.ORDER_MEMBER)||"[]",i=t.getFieldValue("MODE")||"GET",o=t.getFieldValue("WHERE")||"FROM_START",s=e.JavaScript.valueToCode(t,"TO",e.JavaScript.ORDER_ASSIGNMENT)||"null";switch(o){case"FIRST":if("SET"==i)return r+"[0] = "+s+";\n";if("INSERT"==i)return r+".unshift("+s+");\n";break;case"LAST":if("SET"==i)return(t=n())+(r+"[")+r+".length - 1] = "+s+";\n";if("INSERT"==i)return r+".push("+s+");\n";break;case"FROM_START":if(o=e.JavaScript.getAdjusted(t,"AT"),"SET"==i)return r+"["+o+"] = "+s+";\n";if("INSERT"==i)return r+".splice("+o+", 0, "+s+");\n";break;case"FROM_END":if(o=e.JavaScript.getAdjusted(t,"AT",1,!1,e.JavaScript.ORDER_SUBTRACTION),t=n(),"SET"==i)return t+(r+"[")+r+".length - "+o+"] = "+s+";\n";if("INSERT"==i)return t+(r+".splice(")+r+".length - "+o+", 0, "+s+");\n";break;case"RANDOM":if(t=n(),t+="var "+(o=e.JavaScript.nameDB_.getDistinctName("tmpX",e.VARIABLE_CATEGORY_NAME))+" = Math.floor(Math.random() * "+r+".length);\n","SET"==i)return t+(r+"[")+o+"] = "+s+";\n";if("INSERT"==i)return t+(r+".splice(")+o+", 0, "+s+");\n"}throw Error("Unhandled combination (lists_setIndex).")},e.JavaScript.lists.getIndex_=function(e,t,n){return"FIRST"==t?"0":"FROM_END"==t?e+".length - 1 - "+n:"LAST"==t?e+".length - 1":n},e.JavaScript.lists_getSublist=function(t){var n=e.JavaScript.valueToCode(t,"LIST",e.JavaScript.ORDER_MEMBER)||"[]",r=t.getFieldValue("WHERE1"),i=t.getFieldValue("WHERE2");if("FIRST"==r&&"LAST"==i)n+=".slice(0)";else if(n.match(/^\w+$/)||"FROM_END"!=r&&"FROM_START"==i){switch(r){case"FROM_START":var o=e.JavaScript.getAdjusted(t,"AT1");break;case"FROM_END":o=n+".length - "+(o=e.JavaScript.getAdjusted(t,"AT1",1,!1,e.JavaScript.ORDER_SUBTRACTION));break;case"FIRST":o="0";break;default:throw Error("Unhandled option (lists_getSublist).")}switch(i){case"FROM_START":t=e.JavaScript.getAdjusted(t,"AT2",1);break;case"FROM_END":t=n+".length - "+(t=e.JavaScript.getAdjusted(t,"AT2",0,!1,e.JavaScript.ORDER_SUBTRACTION));break;case"LAST":t=n+".length";break;default:throw Error("Unhandled option (lists_getSublist).")}n=n+".slice("+o+", "+t+")"}else{o=e.JavaScript.getAdjusted(t,"AT1"),t=e.JavaScript.getAdjusted(t,"AT2");var s=e.JavaScript.lists.getIndex_,a={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};n=e.JavaScript.provideFunction_("subsequence"+a[r]+a[i],["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(sequence"+("FROM_END"==r||"FROM_START"==r?", at1":"")+("FROM_END"==i||"FROM_START"==i?", at2":"")+") {","  var start = "+s("sequence",r,"at1")+";","  var end = "+s("sequence",i,"at2")+" + 1;","  return sequence.slice(start, end);","}"])+"("+n+("FROM_END"==r||"FROM_START"==r?", "+o:"")+("FROM_END"==i||"FROM_START"==i?", "+t:"")+")"}return[n,e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.lists_sort=function(t){var n=e.JavaScript.valueToCode(t,"LIST",e.JavaScript.ORDER_FUNCTION_CALL)||"[]",r="1"===t.getFieldValue("DIRECTION")?1:-1;return t=t.getFieldValue("TYPE"),[n+".slice().sort("+e.JavaScript.provideFunction_("listsGetSortCompare",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(type, direction) {","  var compareFuncs = {",'    "NUMERIC": function(a, b) {',"        return Number(a) - Number(b); },",'    "TEXT": function(a, b) {',"        return a.toString() > b.toString() ? 1 : -1; },",'    "IGNORE_CASE": function(a, b) {',"        return a.toString().toLowerCase() > b.toString().toLowerCase() ? 1 : -1; },","  };","  var compare = compareFuncs[type];","  return function(a, b) { return compare(a, b) * direction; }","}"])+'("'+t+'", '+r+"))",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.lists_split=function(t){var n=e.JavaScript.valueToCode(t,"INPUT",e.JavaScript.ORDER_MEMBER),r=e.JavaScript.valueToCode(t,"DELIM",e.JavaScript.ORDER_NONE)||"''";if("SPLIT"==(t=t.getFieldValue("MODE")))n||(n="''"),t="split";else{if("JOIN"!=t)throw Error("Unknown mode: "+t);n||(n="[]"),t="join"}return[n+"."+t+"("+r+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.lists_reverse=function(t){return[(e.JavaScript.valueToCode(t,"LIST",e.JavaScript.ORDER_FUNCTION_CALL)||"[]")+".slice().reverse()",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.logic={},e.JavaScript.controls_if=function(t){var n=0,r="";e.JavaScript.STATEMENT_PREFIX&&(r+=e.JavaScript.injectId(e.JavaScript.STATEMENT_PREFIX,t));do{var i=e.JavaScript.valueToCode(t,"IF"+n,e.JavaScript.ORDER_NONE)||"false",o=e.JavaScript.statementToCode(t,"DO"+n);e.JavaScript.STATEMENT_SUFFIX&&(o=e.JavaScript.prefixLines(e.JavaScript.injectId(e.JavaScript.STATEMENT_SUFFIX,t),e.JavaScript.INDENT)+o),r+=(0<n?" else ":"")+"if ("+i+") {\n"+o+"}",++n}while(t.getInput("IF"+n));return(t.getInput("ELSE")||e.JavaScript.STATEMENT_SUFFIX)&&(o=e.JavaScript.statementToCode(t,"ELSE"),e.JavaScript.STATEMENT_SUFFIX&&(o=e.JavaScript.prefixLines(e.JavaScript.injectId(e.JavaScript.STATEMENT_SUFFIX,t),e.JavaScript.INDENT)+o),r+=" else {\n"+o+"}"),r+"\n"},e.JavaScript.controls_ifelse=e.JavaScript.controls_if,e.JavaScript.logic_compare=function(t){var n={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[t.getFieldValue("OP")],r="=="==n||"!="==n?e.JavaScript.ORDER_EQUALITY:e.JavaScript.ORDER_RELATIONAL;return[(e.JavaScript.valueToCode(t,"A",r)||"0")+" "+n+" "+(t=e.JavaScript.valueToCode(t,"B",r)||"0"),r]},e.JavaScript.logic_operation=function(t){var n="AND"==t.getFieldValue("OP")?"&&":"||",r="&&"==n?e.JavaScript.ORDER_LOGICAL_AND:e.JavaScript.ORDER_LOGICAL_OR,i=e.JavaScript.valueToCode(t,"A",r);if(t=e.JavaScript.valueToCode(t,"B",r),i||t){var o="&&"==n?"true":"false";i||(i=o),t||(t=o)}else t=i="false";return[i+" "+n+" "+t,r]},e.JavaScript.logic_negate=function(t){var n=e.JavaScript.ORDER_LOGICAL_NOT;return["!"+(e.JavaScript.valueToCode(t,"BOOL",n)||"true"),n]},e.JavaScript.logic_boolean=function(t){return["TRUE"==t.getFieldValue("BOOL")?"true":"false",e.JavaScript.ORDER_ATOMIC]},e.JavaScript.logic_null=function(t){return["null",e.JavaScript.ORDER_ATOMIC]},e.JavaScript.logic_ternary=function(t){return[(e.JavaScript.valueToCode(t,"IF",e.JavaScript.ORDER_CONDITIONAL)||"false")+" ? "+(e.JavaScript.valueToCode(t,"THEN",e.JavaScript.ORDER_CONDITIONAL)||"null")+" : "+(t=e.JavaScript.valueToCode(t,"ELSE",e.JavaScript.ORDER_CONDITIONAL)||"null"),e.JavaScript.ORDER_CONDITIONAL]},e.JavaScript.loops={},e.JavaScript.controls_repeat_ext=function(t){var n=t.getField("TIMES")?String(Number(t.getFieldValue("TIMES"))):e.JavaScript.valueToCode(t,"TIMES",e.JavaScript.ORDER_ASSIGNMENT)||"0",r=e.JavaScript.statementToCode(t,"DO");r=e.JavaScript.addLoopTrap(r,t),t="";var i=e.JavaScript.nameDB_.getDistinctName("count",e.VARIABLE_CATEGORY_NAME),o=n;return n.match(/^\w+$/)||e.isNumber(n)||(t+="var "+(o=e.JavaScript.nameDB_.getDistinctName("repeat_end",e.VARIABLE_CATEGORY_NAME))+" = "+n+";\n"),t+"for (var "+i+" = 0; "+i+" < "+o+"; "+i+"++) {\n"+r+"}\n"},e.JavaScript.controls_repeat=e.JavaScript.controls_repeat_ext,e.JavaScript.controls_whileUntil=function(t){var n="UNTIL"==t.getFieldValue("MODE"),r=e.JavaScript.valueToCode(t,"BOOL",n?e.JavaScript.ORDER_LOGICAL_NOT:e.JavaScript.ORDER_NONE)||"false",i=e.JavaScript.statementToCode(t,"DO");return n&&(r="!"+r),"while ("+r+") {\n"+(i=e.JavaScript.addLoopTrap(i,t))+"}\n"},e.JavaScript.controls_for=function(t){var n=e.JavaScript.nameDB_.getName(t.getFieldValue("VAR"),e.VARIABLE_CATEGORY_NAME),r=e.JavaScript.valueToCode(t,"FROM",e.JavaScript.ORDER_ASSIGNMENT)||"0",i=e.JavaScript.valueToCode(t,"TO",e.JavaScript.ORDER_ASSIGNMENT)||"0",o=e.JavaScript.valueToCode(t,"BY",e.JavaScript.ORDER_ASSIGNMENT)||"1",s=e.JavaScript.statementToCode(t,"DO");if(s=e.JavaScript.addLoopTrap(s,t),e.isNumber(r)&&e.isNumber(i)&&e.isNumber(o)){var a=Number(r)<=Number(i);t="for ("+n+" = "+r+"; "+n+(a?" <= ":" >= ")+i+"; "+n,t=(1==(n=Math.abs(Number(o)))?t+(a?"++":"--"):t+(a?" += ":" -= ")+n)+") {\n"+s+"}\n"}else t="",a=r,r.match(/^\w+$/)||e.isNumber(r)||(t+="var "+(a=e.JavaScript.nameDB_.getDistinctName(n+"_start",e.VARIABLE_CATEGORY_NAME))+" = "+r+";\n"),r=i,i.match(/^\w+$/)||e.isNumber(i)||(t+="var "+(r=e.JavaScript.nameDB_.getDistinctName(n+"_end",e.VARIABLE_CATEGORY_NAME))+" = "+i+";\n"),t+="var "+(i=e.JavaScript.nameDB_.getDistinctName(n+"_inc",e.VARIABLE_CATEGORY_NAME))+" = ",t=(t=e.isNumber(o)?t+(Math.abs(o)+";\n"):t+"Math.abs("+o+");\n")+"if ("+a+" > "+r+") {\n"+(e.JavaScript.INDENT+i)+" = -"+i+";\n",t+="}\n",t+="for ("+n+" = "+a+"; "+i+" >= 0 ? "+n+" <= "+r+" : "+n+" >= "+r+"; "+n+" += "+i+") {\n"+s+"}\n";return t},e.JavaScript.controls_forEach=function(t){var n=e.JavaScript.nameDB_.getName(t.getFieldValue("VAR"),e.VARIABLE_CATEGORY_NAME),r=e.JavaScript.valueToCode(t,"LIST",e.JavaScript.ORDER_ASSIGNMENT)||"[]",i=e.JavaScript.statementToCode(t,"DO");i=e.JavaScript.addLoopTrap(i,t),t="";var o=r;return r.match(/^\w+$/)||(t+="var "+(o=e.JavaScript.nameDB_.getDistinctName(n+"_list",e.VARIABLE_CATEGORY_NAME))+" = "+r+";\n"),t+"for (var "+(r=e.JavaScript.nameDB_.getDistinctName(n+"_index",e.VARIABLE_CATEGORY_NAME))+" in "+o+") {\n"+(i=e.JavaScript.INDENT+n+" = "+o+"["+r+"];\n"+i)+"}\n"},e.JavaScript.controls_flow_statements=function(t){var n="";if(e.JavaScript.STATEMENT_PREFIX&&(n+=e.JavaScript.injectId(e.JavaScript.STATEMENT_PREFIX,t)),e.JavaScript.STATEMENT_SUFFIX&&(n+=e.JavaScript.injectId(e.JavaScript.STATEMENT_SUFFIX,t)),e.JavaScript.STATEMENT_PREFIX){var r=e.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN.getSurroundLoop(t);r&&!r.suppressPrefixSuffix&&(n+=e.JavaScript.injectId(e.JavaScript.STATEMENT_PREFIX,r))}switch(t.getFieldValue("FLOW")){case"BREAK":return n+"break;\n";case"CONTINUE":return n+"continue;\n"}throw Error("Unknown flow statement.")},e.JavaScript.math={},e.JavaScript.math_number=function(t){return[t=Number(t.getFieldValue("NUM")),0<=t?e.JavaScript.ORDER_ATOMIC:e.JavaScript.ORDER_UNARY_NEGATION]},e.JavaScript.math_arithmetic=function(t){var n={ADD:[" + ",e.JavaScript.ORDER_ADDITION],MINUS:[" - ",e.JavaScript.ORDER_SUBTRACTION],MULTIPLY:[" * ",e.JavaScript.ORDER_MULTIPLICATION],DIVIDE:[" / ",e.JavaScript.ORDER_DIVISION],POWER:[null,e.JavaScript.ORDER_NONE]}[t.getFieldValue("OP")],r=n[0];n=n[1];var i=e.JavaScript.valueToCode(t,"A",n)||"0";return t=e.JavaScript.valueToCode(t,"B",n)||"0",r?[i+r+t,n]:["Math.pow("+i+", "+t+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.math_single=function(t){var n=t.getFieldValue("OP");if("NEG"==n)return"-"==(t=e.JavaScript.valueToCode(t,"NUM",e.JavaScript.ORDER_UNARY_NEGATION)||"0")[0]&&(t=" "+t),["-"+t,e.JavaScript.ORDER_UNARY_NEGATION];switch(t="SIN"==n||"COS"==n||"TAN"==n?e.JavaScript.valueToCode(t,"NUM",e.JavaScript.ORDER_DIVISION)||"0":e.JavaScript.valueToCode(t,"NUM",e.JavaScript.ORDER_NONE)||"0",n){case"ABS":var r="Math.abs("+t+")";break;case"ROOT":r="Math.sqrt("+t+")";break;case"LN":r="Math.log("+t+")";break;case"EXP":r="Math.exp("+t+")";break;case"POW10":r="Math.pow(10,"+t+")";break;case"ROUND":r="Math.round("+t+")";break;case"ROUNDUP":r="Math.ceil("+t+")";break;case"ROUNDDOWN":r="Math.floor("+t+")";break;case"SIN":r="Math.sin("+t+" / 180 * Math.PI)";break;case"COS":r="Math.cos("+t+" / 180 * Math.PI)";break;case"TAN":r="Math.tan("+t+" / 180 * Math.PI)"}if(r)return[r,e.JavaScript.ORDER_FUNCTION_CALL];switch(n){case"LOG10":r="Math.log("+t+") / Math.log(10)";break;case"ASIN":r="Math.asin("+t+") / Math.PI * 180";break;case"ACOS":r="Math.acos("+t+") / Math.PI * 180";break;case"ATAN":r="Math.atan("+t+") / Math.PI * 180";break;default:throw Error("Unknown math operator: "+n)}return[r,e.JavaScript.ORDER_DIVISION]},e.JavaScript.math_constant=function(t){return{PI:["Math.PI",e.JavaScript.ORDER_MEMBER],E:["Math.E",e.JavaScript.ORDER_MEMBER],GOLDEN_RATIO:["(1 + Math.sqrt(5)) / 2",e.JavaScript.ORDER_DIVISION],SQRT2:["Math.SQRT2",e.JavaScript.ORDER_MEMBER],SQRT1_2:["Math.SQRT1_2",e.JavaScript.ORDER_MEMBER],INFINITY:["Infinity",e.JavaScript.ORDER_ATOMIC]}[t.getFieldValue("CONSTANT")]},e.JavaScript.math_number_property=function(t){var n=e.JavaScript.valueToCode(t,"NUMBER_TO_CHECK",e.JavaScript.ORDER_MODULUS)||"0",r=t.getFieldValue("PROPERTY");if("PRIME"==r)return[e.JavaScript.provideFunction_("mathIsPrime",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(n) {","  // https://en.wikipedia.org/wiki/Primality_test#Naive_methods","  if (n == 2 || n == 3) {","    return true;","  }","  // False if n is NaN, negative, is 1, or not whole.","  // And false if n is divisible by 2 or 3.","  if (isNaN(n) || n <= 1 || n % 1 != 0 || n % 2 == 0 || n % 3 == 0) {","    return false;","  }","  // Check all the numbers of form 6k +/- 1, up to sqrt(n).","  for (var x = 6; x <= Math.sqrt(n) + 1; x += 6) {","    if (n % (x - 1) == 0 || n % (x + 1) == 0) {","      return false;","    }","  }","  return true;","}"])+"("+n+")",e.JavaScript.ORDER_FUNCTION_CALL];switch(r){case"EVEN":var i=n+" % 2 == 0";break;case"ODD":i=n+" % 2 == 1";break;case"WHOLE":i=n+" % 1 == 0";break;case"POSITIVE":i=n+" > 0";break;case"NEGATIVE":i=n+" < 0";break;case"DIVISIBLE_BY":i=n+" % "+(t=e.JavaScript.valueToCode(t,"DIVISOR",e.JavaScript.ORDER_MODULUS)||"0")+" == 0"}return[i,e.JavaScript.ORDER_EQUALITY]},e.JavaScript.math_change=function(t){var n=e.JavaScript.valueToCode(t,"DELTA",e.JavaScript.ORDER_ADDITION)||"0";return(t=e.JavaScript.nameDB_.getName(t.getFieldValue("VAR"),e.VARIABLE_CATEGORY_NAME))+" = (typeof "+t+" == 'number' ? "+t+" : 0) + "+n+";\n"},e.JavaScript.math_round=e.JavaScript.math_single,e.JavaScript.math_trig=e.JavaScript.math_single,e.JavaScript.math_on_list=function(t){var n=t.getFieldValue("OP");switch(n){case"SUM":t=e.JavaScript.valueToCode(t,"LIST",e.JavaScript.ORDER_MEMBER)||"[]",t+=".reduce(function(x, y) {return x + y;})";break;case"MIN":t="Math.min.apply(null, "+(t=e.JavaScript.valueToCode(t,"LIST",e.JavaScript.ORDER_NONE)||"[]")+")";break;case"MAX":t="Math.max.apply(null, "+(t=e.JavaScript.valueToCode(t,"LIST",e.JavaScript.ORDER_NONE)||"[]")+")";break;case"AVERAGE":t=(n=e.JavaScript.provideFunction_("mathMean",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(myList) {","  return myList.reduce(function(x, y) {return x + y;}) / myList.length;","}"]))+"("+(t=e.JavaScript.valueToCode(t,"LIST",e.JavaScript.ORDER_NONE)||"[]")+")";break;case"MEDIAN":t=(n=e.JavaScript.provideFunction_("mathMedian",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(myList) {","  var localList = myList.filter(function (x) {return typeof x == 'number';});","  if (!localList.length) return null;","  localList.sort(function(a, b) {return b - a;});","  if (localList.length % 2 == 0) {","    return (localList[localList.length / 2 - 1] + localList[localList.length / 2]) / 2;","  } else {","    return localList[(localList.length - 1) / 2];","  }","}"]))+"("+(t=e.JavaScript.valueToCode(t,"LIST",e.JavaScript.ORDER_NONE)||"[]")+")";break;case"MODE":t=(n=e.JavaScript.provideFunction_("mathModes",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(values) {","  var modes = [];","  var counts = [];","  var maxCount = 0;","  for (var i = 0; i < values.length; i++) {","    var value = values[i];","    var found = false;","    var thisCount;","    for (var j = 0; j < counts.length; j++) {","      if (counts[j][0] === value) {","        thisCount = ++counts[j][1];","        found = true;","        break;","      }","    }","    if (!found) {","      counts.push([value, 1]);","      thisCount = 1;","    }","    maxCount = Math.max(thisCount, maxCount);","  }","  for (var j = 0; j < counts.length; j++) {","    if (counts[j][1] == maxCount) {","        modes.push(counts[j][0]);","    }","  }","  return modes;","}"]))+"("+(t=e.JavaScript.valueToCode(t,"LIST",e.JavaScript.ORDER_NONE)||"[]")+")";break;case"STD_DEV":t=(n=e.JavaScript.provideFunction_("mathStandardDeviation",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(numbers) {","  var n = numbers.length;","  if (!n) return null;","  var mean = numbers.reduce(function(x, y) {return x + y;}) / n;","  var variance = 0;","  for (var j = 0; j < n; j++) {","    variance += Math.pow(numbers[j] - mean, 2);","  }","  variance = variance / n;","  return Math.sqrt(variance);","}"]))+"("+(t=e.JavaScript.valueToCode(t,"LIST",e.JavaScript.ORDER_NONE)||"[]")+")";break;case"RANDOM":t=(n=e.JavaScript.provideFunction_("mathRandomList",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(list) {","  var x = Math.floor(Math.random() * list.length);","  return list[x];","}"]))+"("+(t=e.JavaScript.valueToCode(t,"LIST",e.JavaScript.ORDER_NONE)||"[]")+")";break;default:throw Error("Unknown operator: "+n)}return[t,e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.math_modulo=function(t){return[(e.JavaScript.valueToCode(t,"DIVIDEND",e.JavaScript.ORDER_MODULUS)||"0")+" % "+(t=e.JavaScript.valueToCode(t,"DIVISOR",e.JavaScript.ORDER_MODULUS)||"0"),e.JavaScript.ORDER_MODULUS]},e.JavaScript.math_constrain=function(t){return["Math.min(Math.max("+(e.JavaScript.valueToCode(t,"VALUE",e.JavaScript.ORDER_NONE)||"0")+", "+(e.JavaScript.valueToCode(t,"LOW",e.JavaScript.ORDER_NONE)||"0")+"), "+(t=e.JavaScript.valueToCode(t,"HIGH",e.JavaScript.ORDER_NONE)||"Infinity")+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.math_random_int=function(t){var n=e.JavaScript.valueToCode(t,"FROM",e.JavaScript.ORDER_NONE)||"0";return t=e.JavaScript.valueToCode(t,"TO",e.JavaScript.ORDER_NONE)||"0",[e.JavaScript.provideFunction_("mathRandomInt",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(a, b) {","  if (a > b) {","    // Swap a and b to ensure a is smaller.","    var c = a;","    a = b;","    b = c;","  }","  return Math.floor(Math.random() * (b - a + 1) + a);","}"])+"("+n+", "+t+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.math_random_float=function(t){return["Math.random()",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.math_atan2=function(t){var n=e.JavaScript.valueToCode(t,"X",e.JavaScript.ORDER_NONE)||"0";return["Math.atan2("+(e.JavaScript.valueToCode(t,"Y",e.JavaScript.ORDER_NONE)||"0")+", "+n+") / Math.PI * 180",e.JavaScript.ORDER_DIVISION]},e.JavaScript.procedures={},e.JavaScript.procedures_defreturn=function(t){var n=e.JavaScript.nameDB_.getName(t.getFieldValue("NAME"),e.PROCEDURE_CATEGORY_NAME),r="";e.JavaScript.STATEMENT_PREFIX&&(r+=e.JavaScript.injectId(e.JavaScript.STATEMENT_PREFIX,t)),e.JavaScript.STATEMENT_SUFFIX&&(r+=e.JavaScript.injectId(e.JavaScript.STATEMENT_SUFFIX,t)),r&&(r=e.JavaScript.prefixLines(r,e.JavaScript.INDENT));var i="";e.JavaScript.INFINITE_LOOP_TRAP&&(i=e.JavaScript.prefixLines(e.JavaScript.injectId(e.JavaScript.INFINITE_LOOP_TRAP,t),e.JavaScript.INDENT));var o=e.JavaScript.statementToCode(t,"STACK"),s=e.JavaScript.valueToCode(t,"RETURN",e.JavaScript.ORDER_NONE)||"",a="";o&&s&&(a=r),s&&(s=e.JavaScript.INDENT+"return "+s+";\n");for(var l=[],c=t.getVars(),u=0;u<c.length;u++)l[u]=e.JavaScript.nameDB_.getName(c[u],e.VARIABLE_CATEGORY_NAME);return r="function "+n+"("+l.join(", ")+") {\n"+r+i+o+a+s+"}",r=e.JavaScript.scrub_(t,r),e.JavaScript.definitions_["%"+n]=r,null},e.JavaScript.procedures_defnoreturn=e.JavaScript.procedures_defreturn,e.JavaScript.procedures_callreturn=function(t){for(var n=e.JavaScript.nameDB_.getName(t.getFieldValue("NAME"),e.PROCEDURE_CATEGORY_NAME),r=[],i=t.getVars(),o=0;o<i.length;o++)r[o]=e.JavaScript.valueToCode(t,"ARG"+o,e.JavaScript.ORDER_NONE)||"null";return[n+"("+r.join(", ")+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.procedures_callnoreturn=function(t){return e.JavaScript.procedures_callreturn(t)[0]+";\n"},e.JavaScript.procedures_ifreturn=function(t){var n="if ("+(e.JavaScript.valueToCode(t,"CONDITION",e.JavaScript.ORDER_NONE)||"false")+") {\n";return e.JavaScript.STATEMENT_SUFFIX&&(n+=e.JavaScript.prefixLines(e.JavaScript.injectId(e.JavaScript.STATEMENT_SUFFIX,t),e.JavaScript.INDENT)),t.hasReturnValue_?(t=e.JavaScript.valueToCode(t,"VALUE",e.JavaScript.ORDER_NONE)||"null",n+=e.JavaScript.INDENT+"return "+t+";\n"):n+=e.JavaScript.INDENT+"return;\n",n+"}\n"},e.JavaScript.texts={},e.JavaScript.text=function(t){return[e.JavaScript.quote_(t.getFieldValue("TEXT")),e.JavaScript.ORDER_ATOMIC]},e.JavaScript.text_multiline=function(t){var n=-1!=(t=e.JavaScript.multiline_quote_(t.getFieldValue("TEXT"))).indexOf("+")?e.JavaScript.ORDER_ADDITION:e.JavaScript.ORDER_ATOMIC;return[t,n]},e.JavaScript.text.forceString_=function(t){return e.JavaScript.text.forceString_.strRegExp.test(t)?[t,e.JavaScript.ORDER_ATOMIC]:["String("+t+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.text.forceString_.strRegExp=/^\s*'([^']|\\')*'\s*$/,e.JavaScript.text_join=function(t){switch(t.itemCount_){case 0:return["''",e.JavaScript.ORDER_ATOMIC];case 1:return t=e.JavaScript.valueToCode(t,"ADD0",e.JavaScript.ORDER_NONE)||"''",e.JavaScript.text.forceString_(t);case 2:var n=e.JavaScript.valueToCode(t,"ADD0",e.JavaScript.ORDER_NONE)||"''";return t=e.JavaScript.valueToCode(t,"ADD1",e.JavaScript.ORDER_NONE)||"''",[t=e.JavaScript.text.forceString_(n)[0]+" + "+e.JavaScript.text.forceString_(t)[0],e.JavaScript.ORDER_ADDITION];default:n=Array(t.itemCount_);for(var r=0;r<t.itemCount_;r++)n[r]=e.JavaScript.valueToCode(t,"ADD"+r,e.JavaScript.ORDER_NONE)||"''";return[t="["+n.join(",")+"].join('')",e.JavaScript.ORDER_FUNCTION_CALL]}},e.JavaScript.text_append=function(t){var n=e.JavaScript.nameDB_.getName(t.getFieldValue("VAR"),e.VARIABLE_CATEGORY_NAME);return t=e.JavaScript.valueToCode(t,"TEXT",e.JavaScript.ORDER_NONE)||"''",n+" += "+e.JavaScript.text.forceString_(t)[0]+";\n"},e.JavaScript.text_length=function(t){return[(e.JavaScript.valueToCode(t,"VALUE",e.JavaScript.ORDER_MEMBER)||"''")+".length",e.JavaScript.ORDER_MEMBER]},e.JavaScript.text_isEmpty=function(t){return["!"+(e.JavaScript.valueToCode(t,"VALUE",e.JavaScript.ORDER_MEMBER)||"''")+".length",e.JavaScript.ORDER_LOGICAL_NOT]},e.JavaScript.text_indexOf=function(t){var n="FIRST"==t.getFieldValue("END")?"indexOf":"lastIndexOf",r=e.JavaScript.valueToCode(t,"FIND",e.JavaScript.ORDER_NONE)||"''";return n=(e.JavaScript.valueToCode(t,"VALUE",e.JavaScript.ORDER_MEMBER)||"''")+"."+n+"("+r+")",t.workspace.options.oneBasedIndex?[n+" + 1",e.JavaScript.ORDER_ADDITION]:[n,e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.text_charAt=function(t){var n=t.getFieldValue("WHERE")||"FROM_START",r=e.JavaScript.valueToCode(t,"VALUE","RANDOM"==n?e.JavaScript.ORDER_NONE:e.JavaScript.ORDER_MEMBER)||"''";switch(n){case"FIRST":return[r+".charAt(0)",e.JavaScript.ORDER_FUNCTION_CALL];case"LAST":return[r+".slice(-1)",e.JavaScript.ORDER_FUNCTION_CALL];case"FROM_START":return[r+".charAt("+(t=e.JavaScript.getAdjusted(t,"AT"))+")",e.JavaScript.ORDER_FUNCTION_CALL];case"FROM_END":return[r+".slice("+(t=e.JavaScript.getAdjusted(t,"AT",1,!0))+").charAt(0)",e.JavaScript.ORDER_FUNCTION_CALL];case"RANDOM":return[e.JavaScript.provideFunction_("textRandomLetter",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(text) {","  var x = Math.floor(Math.random() * text.length);","  return text[x];","}"])+"("+r+")",e.JavaScript.ORDER_FUNCTION_CALL]}throw Error("Unhandled option (text_charAt).")},e.JavaScript.text.getIndex_=function(e,t,n){return"FIRST"==t?"0":"FROM_END"==t?e+".length - 1 - "+n:"LAST"==t?e+".length - 1":n},e.JavaScript.text_getSubstring=function(t){var n=t.getFieldValue("WHERE1"),r=t.getFieldValue("WHERE2"),i="FROM_END"!=n&&"LAST"!=n&&"FROM_END"!=r&&"LAST"!=r,o=e.JavaScript.valueToCode(t,"STRING",i?e.JavaScript.ORDER_MEMBER:e.JavaScript.ORDER_NONE)||"''";if("FIRST"==n&&"LAST"==r)return[o,e.JavaScript.ORDER_NONE];if(o.match(/^'?\w+'?$/)||i){switch(n){case"FROM_START":i=e.JavaScript.getAdjusted(t,"AT1");break;case"FROM_END":i=o+".length - "+(i=e.JavaScript.getAdjusted(t,"AT1",1,!1,e.JavaScript.ORDER_SUBTRACTION));break;case"FIRST":i="0";break;default:throw Error("Unhandled option (text_getSubstring).")}switch(r){case"FROM_START":t=e.JavaScript.getAdjusted(t,"AT2",1);break;case"FROM_END":t=o+".length - "+(t=e.JavaScript.getAdjusted(t,"AT2",0,!1,e.JavaScript.ORDER_SUBTRACTION));break;case"LAST":t=o+".length";break;default:throw Error("Unhandled option (text_getSubstring).")}n=o+".slice("+i+", "+t+")"}else{i=e.JavaScript.getAdjusted(t,"AT1"),t=e.JavaScript.getAdjusted(t,"AT2");var s=e.JavaScript.text.getIndex_,a={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};n=e.JavaScript.provideFunction_("subsequence"+a[n]+a[r],["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(sequence"+("FROM_END"==n||"FROM_START"==n?", at1":"")+("FROM_END"==r||"FROM_START"==r?", at2":"")+") {","  var start = "+s("sequence",n,"at1")+";","  var end = "+s("sequence",r,"at2")+" + 1;","  return sequence.slice(start, end);","}"])+"("+o+("FROM_END"==n||"FROM_START"==n?", "+i:"")+("FROM_END"==r||"FROM_START"==r?", "+t:"")+")"}return[n,e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.text_changeCase=function(t){var n={UPPERCASE:".toUpperCase()",LOWERCASE:".toLowerCase()",TITLECASE:null}[t.getFieldValue("CASE")];return t=e.JavaScript.valueToCode(t,"TEXT",n?e.JavaScript.ORDER_MEMBER:e.JavaScript.ORDER_NONE)||"''",[n?t+n:e.JavaScript.provideFunction_("textToTitleCase",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(str) {","  return str.replace(/\\S+/g,","      function(txt) {return txt[0].toUpperCase() + txt.substring(1).toLowerCase();});","}"])+"("+t+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.text_trim=function(t){var n={LEFT:".replace(/^[\\s\\xa0]+/, '')",RIGHT:".replace(/[\\s\\xa0]+$/, '')",BOTH:".trim()"}[t.getFieldValue("MODE")];return[(e.JavaScript.valueToCode(t,"TEXT",e.JavaScript.ORDER_MEMBER)||"''")+n,e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.text_print=function(t){return"window.alert("+(e.JavaScript.valueToCode(t,"TEXT",e.JavaScript.ORDER_NONE)||"''")+");\n"},e.JavaScript.text_prompt_ext=function(t){var n="window.prompt("+(t.getField("TEXT")?e.JavaScript.quote_(t.getFieldValue("TEXT")):e.JavaScript.valueToCode(t,"TEXT",e.JavaScript.ORDER_NONE)||"''")+")";return"NUMBER"==t.getFieldValue("TYPE")&&(n="Number("+n+")"),[n,e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.text_prompt=e.JavaScript.text_prompt_ext,e.JavaScript.text_count=function(t){var n=e.JavaScript.valueToCode(t,"TEXT",e.JavaScript.ORDER_NONE)||"''";return t=e.JavaScript.valueToCode(t,"SUB",e.JavaScript.ORDER_NONE)||"''",[e.JavaScript.provideFunction_("textCount",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(haystack, needle) {","  if (needle.length === 0) {","    return haystack.length + 1;","  } else {","    return haystack.split(needle).length - 1;","  }","}"])+"("+n+", "+t+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.text_replace=function(t){var n=e.JavaScript.valueToCode(t,"TEXT",e.JavaScript.ORDER_NONE)||"''",r=e.JavaScript.valueToCode(t,"FROM",e.JavaScript.ORDER_NONE)||"''";return t=e.JavaScript.valueToCode(t,"TO",e.JavaScript.ORDER_NONE)||"''",[e.JavaScript.provideFunction_("textReplace",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(haystack, needle, replacement) {",'  needle = needle.replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g,"\\\\$1")','                 .replace(/\\x08/g,"\\\\x08");',"  return haystack.replace(new RegExp(needle, 'g'), replacement);","}"])+"("+n+", "+r+", "+t+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.text_reverse=function(t){return[(e.JavaScript.valueToCode(t,"TEXT",e.JavaScript.ORDER_MEMBER)||"''")+".split('').reverse().join('')",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.variables={},e.JavaScript.variables_get=function(t){return[e.JavaScript.nameDB_.getName(t.getFieldValue("VAR"),e.VARIABLE_CATEGORY_NAME),e.JavaScript.ORDER_ATOMIC]},e.JavaScript.variables_set=function(t){var n=e.JavaScript.valueToCode(t,"VALUE",e.JavaScript.ORDER_ASSIGNMENT)||"0";return e.JavaScript.nameDB_.getName(t.getFieldValue("VAR"),e.VARIABLE_CATEGORY_NAME)+" = "+n+";\n"},e.JavaScript.variablesDynamic={},e.JavaScript.variables_get_dynamic=e.JavaScript.variables_get,e.JavaScript.variables_set_dynamic=e.JavaScript.variables_set,e.JavaScript})?r.apply(t,i):r)||(e.exports=o)},8052:function(e,t,n){var r,i,o;i=[n(947)],void 0===(o="function"===typeof(r=function(e){return(e={Msg:{}}).Msg.ADD_COMMENT="Add Comment",e.Msg.CANNOT_DELETE_VARIABLE_PROCEDURE="Can't delete the variable '%1' because it's part of the definition of the function '%2'",e.Msg.CHANGE_VALUE_TITLE="Change value:",e.Msg.CLEAN_UP="Clean up Blocks",e.Msg.COLLAPSED_WARNINGS_WARNING="Collapsed blocks contain warnings.",e.Msg.COLLAPSE_ALL="Collapse Blocks",e.Msg.COLLAPSE_BLOCK="Collapse Block",e.Msg.COLOUR_BLEND_COLOUR1="colour 1",e.Msg.COLOUR_BLEND_COLOUR2="colour 2",e.Msg.COLOUR_BLEND_HELPURL="https://meyerweb.com/eric/tools/color-blend/#:::rgbp",e.Msg.COLOUR_BLEND_RATIO="ratio",e.Msg.COLOUR_BLEND_TITLE="blend",e.Msg.COLOUR_BLEND_TOOLTIP="Blends two colours together with a given ratio (0.0 - 1.0).",e.Msg.COLOUR_PICKER_HELPURL="https://en.wikipedia.org/wiki/Color",e.Msg.COLOUR_PICKER_TOOLTIP="Choose a colour from the palette.",e.Msg.COLOUR_RANDOM_HELPURL="http://randomcolour.com",e.Msg.COLOUR_RANDOM_TITLE="random colour",e.Msg.COLOUR_RANDOM_TOOLTIP="Choose a colour at random.",e.Msg.COLOUR_RGB_BLUE="blue",e.Msg.COLOUR_RGB_GREEN="green",e.Msg.COLOUR_RGB_HELPURL="https://www.december.com/html/spec/colorpercompact.html",e.Msg.COLOUR_RGB_RED="red",e.Msg.COLOUR_RGB_TITLE="colour with",e.Msg.COLOUR_RGB_TOOLTIP="Create a colour with the specified amount of red, green, and blue. All values must be between 0 and 100.",e.Msg.CONTROLS_FLOW_STATEMENTS_HELPURL="https://github.com/google/blockly/wiki/Loops#loop-termination-blocks",e.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK="break out of loop",e.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE="continue with next iteration of loop",e.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK="Break out of the containing loop.",e.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE="Skip the rest of this loop, and continue with the next iteration.",e.Msg.CONTROLS_FLOW_STATEMENTS_WARNING="Warning: This block may only be used within a loop.",e.Msg.CONTROLS_FOREACH_HELPURL="https://github.com/google/blockly/wiki/Loops#for-each",e.Msg.CONTROLS_FOREACH_TITLE="for each item %1 in list %2",e.Msg.CONTROLS_FOREACH_TOOLTIP="For each item in a list, set the variable '%1' to the item, and then do some statements.",e.Msg.CONTROLS_FOR_HELPURL="https://github.com/google/blockly/wiki/Loops#count-with",e.Msg.CONTROLS_FOR_TITLE="count with %1 from %2 to %3 by %4",e.Msg.CONTROLS_FOR_TOOLTIP="Have the variable '%1' take on the values from the start number to the end number, counting by the specified interval, and do the specified blocks.",e.Msg.CONTROLS_IF_ELSEIF_TOOLTIP="Add a condition to the if block.",e.Msg.CONTROLS_IF_ELSE_TOOLTIP="Add a final, catch-all condition to the if block.",e.Msg.CONTROLS_IF_HELPURL="https://github.com/google/blockly/wiki/IfElse",e.Msg.CONTROLS_IF_IF_TOOLTIP="Add, remove, or reorder sections to reconfigure this if block.",e.Msg.CONTROLS_IF_MSG_ELSE="else",e.Msg.CONTROLS_IF_MSG_ELSEIF="else if",e.Msg.CONTROLS_IF_MSG_IF="if",e.Msg.CONTROLS_IF_TOOLTIP_1="If a value is true, then do some statements.",e.Msg.CONTROLS_IF_TOOLTIP_2="If a value is true, then do the first block of statements. Otherwise, do the second block of statements.",e.Msg.CONTROLS_IF_TOOLTIP_3="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements.",e.Msg.CONTROLS_IF_TOOLTIP_4="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements. If none of the values are true, do the last block of statements.",e.Msg.CONTROLS_REPEAT_HELPURL="https://en.wikipedia.org/wiki/For_loop",e.Msg.CONTROLS_REPEAT_INPUT_DO="do",e.Msg.CONTROLS_REPEAT_TITLE="repeat %1 times",e.Msg.CONTROLS_REPEAT_TOOLTIP="Do some statements several times.",e.Msg.CONTROLS_WHILEUNTIL_HELPURL="https://github.com/google/blockly/wiki/Loops#repeat",e.Msg.CONTROLS_WHILEUNTIL_OPERATOR_UNTIL="repeat until",e.Msg.CONTROLS_WHILEUNTIL_OPERATOR_WHILE="repeat while",e.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL="While a value is false, then do some statements.",e.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE="While a value is true, then do some statements.",e.Msg.DELETE_ALL_BLOCKS="Delete all %1 blocks?",e.Msg.DELETE_BLOCK="Delete Block",e.Msg.DELETE_VARIABLE="Delete the '%1' variable",e.Msg.DELETE_VARIABLE_CONFIRMATION="Delete %1 uses of the '%2' variable?",e.Msg.DELETE_X_BLOCKS="Delete %1 Blocks",e.Msg.DISABLE_BLOCK="Disable Block",e.Msg.DUPLICATE_BLOCK="Duplicate",e.Msg.DUPLICATE_COMMENT="Duplicate Comment",e.Msg.ENABLE_BLOCK="Enable Block",e.Msg.EXPAND_ALL="Expand Blocks",e.Msg.EXPAND_BLOCK="Expand Block",e.Msg.EXTERNAL_INPUTS="External Inputs",e.Msg.HELP="Help",e.Msg.INLINE_INPUTS="Inline Inputs",e.Msg.IOS_CANCEL="Cancel",e.Msg.IOS_ERROR="Error",e.Msg.IOS_OK="OK",e.Msg.IOS_PROCEDURES_ADD_INPUT="+ Add Input",e.Msg.IOS_PROCEDURES_ALLOW_STATEMENTS="Allow statements",e.Msg.IOS_PROCEDURES_DUPLICATE_INPUTS_ERROR="This function has duplicate inputs.",e.Msg.IOS_PROCEDURES_INPUTS="INPUTS",e.Msg.IOS_VARIABLES_ADD_BUTTON="Add",e.Msg.IOS_VARIABLES_ADD_VARIABLE="+ Add Variable",e.Msg.IOS_VARIABLES_DELETE_BUTTON="Delete",e.Msg.IOS_VARIABLES_EMPTY_NAME_ERROR="You can't use an empty variable name.",e.Msg.IOS_VARIABLES_RENAME_BUTTON="Rename",e.Msg.IOS_VARIABLES_VARIABLE_NAME="Variable name",e.Msg.LISTS_CREATE_EMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#create-empty-list",e.Msg.LISTS_CREATE_EMPTY_TITLE="create empty list",e.Msg.LISTS_CREATE_EMPTY_TOOLTIP="Returns a list, of length 0, containing no data records",e.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD="list",e.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP="Add, remove, or reorder sections to reconfigure this list block.",e.Msg.LISTS_CREATE_WITH_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",e.Msg.LISTS_CREATE_WITH_INPUT_WITH="create list with",e.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP="Add an item to the list.",e.Msg.LISTS_CREATE_WITH_TOOLTIP="Create a list with any number of items.",e.Msg.LISTS_GET_INDEX_FIRST="first",e.Msg.LISTS_GET_INDEX_FROM_END="# from end",e.Msg.LISTS_GET_INDEX_FROM_START="#",e.Msg.LISTS_GET_INDEX_GET="get",e.Msg.LISTS_GET_INDEX_GET_REMOVE="get and remove",e.Msg.LISTS_GET_INDEX_LAST="last",e.Msg.LISTS_GET_INDEX_RANDOM="random",e.Msg.LISTS_GET_INDEX_REMOVE="remove",e.Msg.LISTS_GET_INDEX_TAIL="",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST="Returns the first item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM="Returns the item at the specified position in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST="Returns the last item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM="Returns a random item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST="Removes and returns the first item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM="Removes and returns the item at the specified position in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST="Removes and returns the last item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM="Removes and returns a random item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST="Removes the first item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM="Removes the item at the specified position in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST="Removes the last item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM="Removes a random item in a list.",e.Msg.LISTS_GET_SUBLIST_END_FROM_END="to # from end",e.Msg.LISTS_GET_SUBLIST_END_FROM_START="to #",e.Msg.LISTS_GET_SUBLIST_END_LAST="to last",e.Msg.LISTS_GET_SUBLIST_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-a-sublist",e.Msg.LISTS_GET_SUBLIST_START_FIRST="get sub-list from first",e.Msg.LISTS_GET_SUBLIST_START_FROM_END="get sub-list from # from end",e.Msg.LISTS_GET_SUBLIST_START_FROM_START="get sub-list from #",e.Msg.LISTS_GET_SUBLIST_TAIL="",e.Msg.LISTS_GET_SUBLIST_TOOLTIP="Creates a copy of the specified portion of a list.",e.Msg.LISTS_INDEX_FROM_END_TOOLTIP="%1 is the last item.",e.Msg.LISTS_INDEX_FROM_START_TOOLTIP="%1 is the first item.",e.Msg.LISTS_INDEX_OF_FIRST="find first occurrence of item",e.Msg.LISTS_INDEX_OF_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-items-from-a-list",e.Msg.LISTS_INDEX_OF_LAST="find last occurrence of item",e.Msg.LISTS_INDEX_OF_TOOLTIP="Returns the index of the first/last occurrence of the item in the list. Returns %1 if item is not found.",e.Msg.LISTS_INLIST="in list",e.Msg.LISTS_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#is-empty",e.Msg.LISTS_ISEMPTY_TITLE="%1 is empty",e.Msg.LISTS_ISEMPTY_TOOLTIP="Returns true if the list is empty.",e.Msg.LISTS_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Lists#length-of",e.Msg.LISTS_LENGTH_TITLE="length of %1",e.Msg.LISTS_LENGTH_TOOLTIP="Returns the length of a list.",e.Msg.LISTS_REPEAT_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",e.Msg.LISTS_REPEAT_TITLE="create list with item %1 repeated %2 times",e.Msg.LISTS_REPEAT_TOOLTIP="Creates a list consisting of the given value repeated the specified number of times.",e.Msg.LISTS_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Lists#reversing-a-list",e.Msg.LISTS_REVERSE_MESSAGE0="reverse %1",e.Msg.LISTS_REVERSE_TOOLTIP="Reverse a copy of a list.",e.Msg.LISTS_SET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#in-list--set",e.Msg.LISTS_SET_INDEX_INPUT_TO="as",e.Msg.LISTS_SET_INDEX_INSERT="insert at",e.Msg.LISTS_SET_INDEX_SET="set",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST="Inserts the item at the start of a list.",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM="Inserts the item at the specified position in a list.",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST="Append the item to the end of a list.",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM="Inserts the item randomly in a list.",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST="Sets the first item in a list.",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM="Sets the item at the specified position in a list.",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST="Sets the last item in a list.",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM="Sets a random item in a list.",e.Msg.LISTS_SORT_HELPURL="https://github.com/google/blockly/wiki/Lists#sorting-a-list",e.Msg.LISTS_SORT_ORDER_ASCENDING="ascending",e.Msg.LISTS_SORT_ORDER_DESCENDING="descending",e.Msg.LISTS_SORT_TITLE="sort %1 %2 %3",e.Msg.LISTS_SORT_TOOLTIP="Sort a copy of a list.",e.Msg.LISTS_SORT_TYPE_IGNORECASE="alphabetic, ignore case",e.Msg.LISTS_SORT_TYPE_NUMERIC="numeric",e.Msg.LISTS_SORT_TYPE_TEXT="alphabetic",e.Msg.LISTS_SPLIT_HELPURL="https://github.com/google/blockly/wiki/Lists#splitting-strings-and-joining-lists",e.Msg.LISTS_SPLIT_LIST_FROM_TEXT="make list from text",e.Msg.LISTS_SPLIT_TEXT_FROM_LIST="make text from list",e.Msg.LISTS_SPLIT_TOOLTIP_JOIN="Join a list of texts into one text, separated by a delimiter.",e.Msg.LISTS_SPLIT_TOOLTIP_SPLIT="Split text into a list of texts, breaking at each delimiter.",e.Msg.LISTS_SPLIT_WITH_DELIMITER="with delimiter",e.Msg.LOGIC_BOOLEAN_FALSE="false",e.Msg.LOGIC_BOOLEAN_HELPURL="https://github.com/google/blockly/wiki/Logic#values",e.Msg.LOGIC_BOOLEAN_TOOLTIP="Returns either true or false.",e.Msg.LOGIC_BOOLEAN_TRUE="true",e.Msg.LOGIC_COMPARE_HELPURL="https://en.wikipedia.org/wiki/Inequality_(mathematics)",e.Msg.LOGIC_COMPARE_TOOLTIP_EQ="Return true if both inputs equal each other.",e.Msg.LOGIC_COMPARE_TOOLTIP_GT="Return true if the first input is greater than the second input.",e.Msg.LOGIC_COMPARE_TOOLTIP_GTE="Return true if the first input is greater than or equal to the second input.",e.Msg.LOGIC_COMPARE_TOOLTIP_LT="Return true if the first input is smaller than the second input.",e.Msg.LOGIC_COMPARE_TOOLTIP_LTE="Return true if the first input is smaller than or equal to the second input.",e.Msg.LOGIC_COMPARE_TOOLTIP_NEQ="Return true if both inputs are not equal to each other.",e.Msg.LOGIC_NEGATE_HELPURL="https://github.com/google/blockly/wiki/Logic#not",e.Msg.LOGIC_NEGATE_TITLE="not %1",e.Msg.LOGIC_NEGATE_TOOLTIP="Returns true if the input is false. Returns false if the input is true.",e.Msg.LOGIC_NULL="null",e.Msg.LOGIC_NULL_HELPURL="https://en.wikipedia.org/wiki/Nullable_type",e.Msg.LOGIC_NULL_TOOLTIP="Returns null.",e.Msg.LOGIC_OPERATION_AND="and",e.Msg.LOGIC_OPERATION_HELPURL="https://github.com/google/blockly/wiki/Logic#logical-operations",e.Msg.LOGIC_OPERATION_OR="or",e.Msg.LOGIC_OPERATION_TOOLTIP_AND="Return true if both inputs are true.",e.Msg.LOGIC_OPERATION_TOOLTIP_OR="Return true if at least one of the inputs is true.",e.Msg.LOGIC_TERNARY_CONDITION="test",e.Msg.LOGIC_TERNARY_HELPURL="https://en.wikipedia.org/wiki/%3F:",e.Msg.LOGIC_TERNARY_IF_FALSE="if false",e.Msg.LOGIC_TERNARY_IF_TRUE="if true",e.Msg.LOGIC_TERNARY_TOOLTIP="Check the condition in 'test'. If the condition is true, returns the 'if true' value; otherwise returns the 'if false' value.",e.Msg.MATH_ADDITION_SYMBOL="+",e.Msg.MATH_ARITHMETIC_HELPURL="https://en.wikipedia.org/wiki/Arithmetic",e.Msg.MATH_ARITHMETIC_TOOLTIP_ADD="Return the sum of the two numbers.",e.Msg.MATH_ARITHMETIC_TOOLTIP_DIVIDE="Return the quotient of the two numbers.",e.Msg.MATH_ARITHMETIC_TOOLTIP_MINUS="Return the difference of the two numbers.",e.Msg.MATH_ARITHMETIC_TOOLTIP_MULTIPLY="Return the product of the two numbers.",e.Msg.MATH_ARITHMETIC_TOOLTIP_POWER="Return the first number raised to the power of the second number.",e.Msg.MATH_ATAN2_HELPURL="https://en.wikipedia.org/wiki/Atan2",e.Msg.MATH_ATAN2_TITLE="atan2 of X:%1 Y:%2",e.Msg.MATH_ATAN2_TOOLTIP="Return the arctangent of point (X, Y) in degrees from -180 to 180.",e.Msg.MATH_CHANGE_HELPURL="https://en.wikipedia.org/wiki/Programming_idiom#Incrementing_a_counter",e.Msg.MATH_CHANGE_TITLE="change %1 by %2",e.Msg.MATH_CHANGE_TOOLTIP="Add a number to variable '%1'.",e.Msg.MATH_CONSTANT_HELPURL="https://en.wikipedia.org/wiki/Mathematical_constant",e.Msg.MATH_CONSTANT_TOOLTIP="Return one of the common constants: \u03c0 (3.141\u2026), e (2.718\u2026), \u03c6 (1.618\u2026), sqrt(2) (1.414\u2026), sqrt(\xbd) (0.707\u2026), or \u221e (infinity).",e.Msg.MATH_CONSTRAIN_HELPURL="https://en.wikipedia.org/wiki/Clamping_(graphics)",e.Msg.MATH_CONSTRAIN_TITLE="constrain %1 low %2 high %3",e.Msg.MATH_CONSTRAIN_TOOLTIP="Constrain a number to be between the specified limits (inclusive).",e.Msg.MATH_DIVISION_SYMBOL="\xf7",e.Msg.MATH_IS_DIVISIBLE_BY="is divisible by",e.Msg.MATH_IS_EVEN="is even",e.Msg.MATH_IS_NEGATIVE="is negative",e.Msg.MATH_IS_ODD="is odd",e.Msg.MATH_IS_POSITIVE="is positive",e.Msg.MATH_IS_PRIME="is prime",e.Msg.MATH_IS_TOOLTIP="Check if a number is an even, odd, prime, whole, positive, negative, or if it is divisible by certain number. Returns true or false.",e.Msg.MATH_IS_WHOLE="is whole",e.Msg.MATH_MODULO_HELPURL="https://en.wikipedia.org/wiki/Modulo_operation",e.Msg.MATH_MODULO_TITLE="remainder of %1 \xf7 %2",e.Msg.MATH_MODULO_TOOLTIP="Return the remainder from dividing the two numbers.",e.Msg.MATH_MULTIPLICATION_SYMBOL="\xd7",e.Msg.MATH_NUMBER_HELPURL="https://en.wikipedia.org/wiki/Number",e.Msg.MATH_NUMBER_TOOLTIP="A number.",e.Msg.MATH_ONLIST_HELPURL="",e.Msg.MATH_ONLIST_OPERATOR_AVERAGE="average of list",e.Msg.MATH_ONLIST_OPERATOR_MAX="max of list",e.Msg.MATH_ONLIST_OPERATOR_MEDIAN="median of list",e.Msg.MATH_ONLIST_OPERATOR_MIN="min of list",e.Msg.MATH_ONLIST_OPERATOR_MODE="modes of list",e.Msg.MATH_ONLIST_OPERATOR_RANDOM="random item of list",e.Msg.MATH_ONLIST_OPERATOR_STD_DEV="standard deviation of list",e.Msg.MATH_ONLIST_OPERATOR_SUM="sum of list",e.Msg.MATH_ONLIST_TOOLTIP_AVERAGE="Return the average (arithmetic mean) of the numeric values in the list.",e.Msg.MATH_ONLIST_TOOLTIP_MAX="Return the largest number in the list.",e.Msg.MATH_ONLIST_TOOLTIP_MEDIAN="Return the median number in the list.",e.Msg.MATH_ONLIST_TOOLTIP_MIN="Return the smallest number in the list.",e.Msg.MATH_ONLIST_TOOLTIP_MODE="Return a list of the most common item(s) in the list.",e.Msg.MATH_ONLIST_TOOLTIP_RANDOM="Return a random element from the list.",e.Msg.MATH_ONLIST_TOOLTIP_STD_DEV="Return the standard deviation of the list.",e.Msg.MATH_ONLIST_TOOLTIP_SUM="Return the sum of all the numbers in the list.",e.Msg.MATH_POWER_SYMBOL="^",e.Msg.MATH_RANDOM_FLOAT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",e.Msg.MATH_RANDOM_FLOAT_TITLE_RANDOM="random fraction",e.Msg.MATH_RANDOM_FLOAT_TOOLTIP="Return a random fraction between 0.0 (inclusive) and 1.0 (exclusive).",e.Msg.MATH_RANDOM_INT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",e.Msg.MATH_RANDOM_INT_TITLE="random integer from %1 to %2",e.Msg.MATH_RANDOM_INT_TOOLTIP="Return a random integer between the two specified limits, inclusive.",e.Msg.MATH_ROUND_HELPURL="https://en.wikipedia.org/wiki/Rounding",e.Msg.MATH_ROUND_OPERATOR_ROUND="round",e.Msg.MATH_ROUND_OPERATOR_ROUNDDOWN="round down",e.Msg.MATH_ROUND_OPERATOR_ROUNDUP="round up",e.Msg.MATH_ROUND_TOOLTIP="Round a number up or down.",e.Msg.MATH_SINGLE_HELPURL="https://en.wikipedia.org/wiki/Square_root",e.Msg.MATH_SINGLE_OP_ABSOLUTE="absolute",e.Msg.MATH_SINGLE_OP_ROOT="square root",e.Msg.MATH_SINGLE_TOOLTIP_ABS="Return the absolute value of a number.",e.Msg.MATH_SINGLE_TOOLTIP_EXP="Return e to the power of a number.",e.Msg.MATH_SINGLE_TOOLTIP_LN="Return the natural logarithm of a number.",e.Msg.MATH_SINGLE_TOOLTIP_LOG10="Return the base 10 logarithm of a number.",e.Msg.MATH_SINGLE_TOOLTIP_NEG="Return the negation of a number.",e.Msg.MATH_SINGLE_TOOLTIP_POW10="Return 10 to the power of a number.",e.Msg.MATH_SINGLE_TOOLTIP_ROOT="Return the square root of a number.",e.Msg.MATH_SUBTRACTION_SYMBOL="-",e.Msg.MATH_TRIG_ACOS="acos",e.Msg.MATH_TRIG_ASIN="asin",e.Msg.MATH_TRIG_ATAN="atan",e.Msg.MATH_TRIG_COS="cos",e.Msg.MATH_TRIG_HELPURL="https://en.wikipedia.org/wiki/Trigonometric_functions",e.Msg.MATH_TRIG_SIN="sin",e.Msg.MATH_TRIG_TAN="tan",e.Msg.MATH_TRIG_TOOLTIP_ACOS="Return the arccosine of a number.",e.Msg.MATH_TRIG_TOOLTIP_ASIN="Return the arcsine of a number.",e.Msg.MATH_TRIG_TOOLTIP_ATAN="Return the arctangent of a number.",e.Msg.MATH_TRIG_TOOLTIP_COS="Return the cosine of a degree (not radian).",e.Msg.MATH_TRIG_TOOLTIP_SIN="Return the sine of a degree (not radian).",e.Msg.MATH_TRIG_TOOLTIP_TAN="Return the tangent of a degree (not radian).",e.Msg.NEW_COLOUR_VARIABLE="Create colour variable...",e.Msg.NEW_NUMBER_VARIABLE="Create number variable...",e.Msg.NEW_STRING_VARIABLE="Create string variable...",e.Msg.NEW_VARIABLE="Create variable...",e.Msg.NEW_VARIABLE_TITLE="New variable name:",e.Msg.NEW_VARIABLE_TYPE_TITLE="New variable type:",e.Msg.ORDINAL_NUMBER_SUFFIX="",e.Msg.PROCEDURES_ALLOW_STATEMENTS="allow statements",e.Msg.PROCEDURES_BEFORE_PARAMS="with:",e.Msg.PROCEDURES_CALLNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",e.Msg.PROCEDURES_CALLNORETURN_TOOLTIP="Run the user-defined function '%1'.",e.Msg.PROCEDURES_CALLRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",e.Msg.PROCEDURES_CALLRETURN_TOOLTIP="Run the user-defined function '%1' and use its output.",e.Msg.PROCEDURES_CALL_BEFORE_PARAMS="with:",e.Msg.PROCEDURES_CREATE_DO="Create '%1'",e.Msg.PROCEDURES_DEFNORETURN_COMMENT="Describe this function...",e.Msg.PROCEDURES_DEFNORETURN_DO="",e.Msg.PROCEDURES_DEFNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",e.Msg.PROCEDURES_DEFNORETURN_PROCEDURE="do something",e.Msg.PROCEDURES_DEFNORETURN_TITLE="to",e.Msg.PROCEDURES_DEFNORETURN_TOOLTIP="Creates a function with no output.",e.Msg.PROCEDURES_DEFRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",e.Msg.PROCEDURES_DEFRETURN_RETURN="return",e.Msg.PROCEDURES_DEFRETURN_TOOLTIP="Creates a function with an output.",e.Msg.PROCEDURES_DEF_DUPLICATE_WARNING="Warning: This function has duplicate parameters.",e.Msg.PROCEDURES_HIGHLIGHT_DEF="Highlight function definition",e.Msg.PROCEDURES_IFRETURN_HELPURL="http://c2.com/cgi/wiki?GuardClause",e.Msg.PROCEDURES_IFRETURN_TOOLTIP="If a value is true, then return a second value.",e.Msg.PROCEDURES_IFRETURN_WARNING="Warning: This block may be used only within a function definition.",e.Msg.PROCEDURES_MUTATORARG_TITLE="input name:",e.Msg.PROCEDURES_MUTATORARG_TOOLTIP="Add an input to the function.",e.Msg.PROCEDURES_MUTATORCONTAINER_TITLE="inputs",e.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP="Add, remove, or reorder inputs to this function.",e.Msg.REDO="Redo",e.Msg.REMOVE_COMMENT="Remove Comment",e.Msg.RENAME_VARIABLE="Rename variable...",e.Msg.RENAME_VARIABLE_TITLE="Rename all '%1' variables to:",e.Msg.TEXT_APPEND_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",e.Msg.TEXT_APPEND_TITLE="to %1 append text %2",e.Msg.TEXT_APPEND_TOOLTIP="Append some text to variable '%1'.",e.Msg.TEXT_CHANGECASE_HELPURL="https://github.com/google/blockly/wiki/Text#adjusting-text-case",e.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE="to lower case",e.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE="to Title Case",e.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE="to UPPER CASE",e.Msg.TEXT_CHANGECASE_TOOLTIP="Return a copy of the text in a different case.",e.Msg.TEXT_CHARAT_FIRST="get first letter",e.Msg.TEXT_CHARAT_FROM_END="get letter # from end",e.Msg.TEXT_CHARAT_FROM_START="get letter #",e.Msg.TEXT_CHARAT_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-text",e.Msg.TEXT_CHARAT_LAST="get last letter",e.Msg.TEXT_CHARAT_RANDOM="get random letter",e.Msg.TEXT_CHARAT_TAIL="",e.Msg.TEXT_CHARAT_TITLE="in text %1 %2",e.Msg.TEXT_CHARAT_TOOLTIP="Returns the letter at the specified position.",e.Msg.TEXT_COUNT_HELPURL="https://github.com/google/blockly/wiki/Text#counting-substrings",e.Msg.TEXT_COUNT_MESSAGE0="count %1 in %2",e.Msg.TEXT_COUNT_TOOLTIP="Count how many times some text occurs within some other text.",e.Msg.TEXT_CREATE_JOIN_ITEM_TOOLTIP="Add an item to the text.",e.Msg.TEXT_CREATE_JOIN_TITLE_JOIN="join",e.Msg.TEXT_CREATE_JOIN_TOOLTIP="Add, remove, or reorder sections to reconfigure this text block.",e.Msg.TEXT_GET_SUBSTRING_END_FROM_END="to letter # from end",e.Msg.TEXT_GET_SUBSTRING_END_FROM_START="to letter #",e.Msg.TEXT_GET_SUBSTRING_END_LAST="to last letter",e.Msg.TEXT_GET_SUBSTRING_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-a-region-of-text",e.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT="in text",e.Msg.TEXT_GET_SUBSTRING_START_FIRST="get substring from first letter",e.Msg.TEXT_GET_SUBSTRING_START_FROM_END="get substring from letter # from end",e.Msg.TEXT_GET_SUBSTRING_START_FROM_START="get substring from letter #",e.Msg.TEXT_GET_SUBSTRING_TAIL="",e.Msg.TEXT_GET_SUBSTRING_TOOLTIP="Returns a specified portion of the text.",e.Msg.TEXT_INDEXOF_HELPURL="https://github.com/google/blockly/wiki/Text#finding-text",e.Msg.TEXT_INDEXOF_OPERATOR_FIRST="find first occurrence of text",e.Msg.TEXT_INDEXOF_OPERATOR_LAST="find last occurrence of text",e.Msg.TEXT_INDEXOF_TITLE="in text %1 %2 %3",e.Msg.TEXT_INDEXOF_TOOLTIP="Returns the index of the first/last occurrence of the first text in the second text. Returns %1 if text is not found.",e.Msg.TEXT_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Text#checking-for-empty-text",e.Msg.TEXT_ISEMPTY_TITLE="%1 is empty",e.Msg.TEXT_ISEMPTY_TOOLTIP="Returns true if the provided text is empty.",e.Msg.TEXT_JOIN_HELPURL="https://github.com/google/blockly/wiki/Text#text-creation",e.Msg.TEXT_JOIN_TITLE_CREATEWITH="create text with",e.Msg.TEXT_JOIN_TOOLTIP="Create a piece of text by joining together any number of items.",e.Msg.TEXT_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",e.Msg.TEXT_LENGTH_TITLE="length of %1",e.Msg.TEXT_LENGTH_TOOLTIP="Returns the number of letters (including spaces) in the provided text.",e.Msg.TEXT_PRINT_HELPURL="https://github.com/google/blockly/wiki/Text#printing-text",e.Msg.TEXT_PRINT_TITLE="print %1",e.Msg.TEXT_PRINT_TOOLTIP="Print the specified text, number or other value.",e.Msg.TEXT_PROMPT_HELPURL="https://github.com/google/blockly/wiki/Text#getting-input-from-the-user",e.Msg.TEXT_PROMPT_TOOLTIP_NUMBER="Prompt for user for a number.",e.Msg.TEXT_PROMPT_TOOLTIP_TEXT="Prompt for user for some text.",e.Msg.TEXT_PROMPT_TYPE_NUMBER="prompt for number with message",e.Msg.TEXT_PROMPT_TYPE_TEXT="prompt for text with message",e.Msg.TEXT_REPLACE_HELPURL="https://github.com/google/blockly/wiki/Text#replacing-substrings",e.Msg.TEXT_REPLACE_MESSAGE0="replace %1 with %2 in %3",e.Msg.TEXT_REPLACE_TOOLTIP="Replace all occurances of some text within some other text.",e.Msg.TEXT_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Text#reversing-text",e.Msg.TEXT_REVERSE_MESSAGE0="reverse %1",e.Msg.TEXT_REVERSE_TOOLTIP="Reverses the order of the characters in the text.",e.Msg.TEXT_TEXT_HELPURL="https://en.wikipedia.org/wiki/String_(computer_science)",e.Msg.TEXT_TEXT_TOOLTIP="A letter, word, or line of text.",e.Msg.TEXT_TRIM_HELPURL="https://github.com/google/blockly/wiki/Text#trimming-removing-spaces",e.Msg.TEXT_TRIM_OPERATOR_BOTH="trim spaces from both sides of",e.Msg.TEXT_TRIM_OPERATOR_LEFT="trim spaces from left side of",e.Msg.TEXT_TRIM_OPERATOR_RIGHT="trim spaces from right side of",e.Msg.TEXT_TRIM_TOOLTIP="Return a copy of the text with spaces removed from one or both ends.",e.Msg.TODAY="Today",e.Msg.UNDO="Undo",e.Msg.UNNAMED_KEY="unnamed",e.Msg.VARIABLES_DEFAULT_NAME="item",e.Msg.VARIABLES_GET_CREATE_SET="Create 'set %1'",e.Msg.VARIABLES_GET_HELPURL="https://github.com/google/blockly/wiki/Variables#get",e.Msg.VARIABLES_GET_TOOLTIP="Returns the value of this variable.",e.Msg.VARIABLES_SET="set %1 to %2",e.Msg.VARIABLES_SET_CREATE_GET="Create 'get %1'",e.Msg.VARIABLES_SET_HELPURL="https://github.com/google/blockly/wiki/Variables#set",e.Msg.VARIABLES_SET_TOOLTIP="Sets this variable to be equal to the input.",e.Msg.VARIABLE_ALREADY_EXISTS="A variable named '%1' already exists.",e.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="A variable named '%1' already exists for another type: '%2'.",e.Msg.WORKSPACE_ARIA_LABEL="Blockly Workspace",e.Msg.WORKSPACE_COMMENT_DEFAULT_TEXT="Say something...",e.Msg.CONTROLS_FOREACH_INPUT_DO=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.CONTROLS_FOR_INPUT_DO=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.CONTROLS_IF_ELSEIF_TITLE_ELSEIF=e.Msg.CONTROLS_IF_MSG_ELSEIF,e.Msg.CONTROLS_IF_ELSE_TITLE_ELSE=e.Msg.CONTROLS_IF_MSG_ELSE,e.Msg.CONTROLS_IF_IF_TITLE_IF=e.Msg.CONTROLS_IF_MSG_IF,e.Msg.CONTROLS_IF_MSG_THEN=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.CONTROLS_WHILEUNTIL_INPUT_DO=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.LISTS_CREATE_WITH_ITEM_TITLE=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.LISTS_GET_INDEX_HELPURL=e.Msg.LISTS_INDEX_OF_HELPURL,e.Msg.LISTS_GET_INDEX_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.LISTS_INDEX_OF_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.LISTS_SET_INDEX_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.MATH_CHANGE_TITLE_ITEM=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.PROCEDURES_DEFRETURN_COMMENT=e.Msg.PROCEDURES_DEFNORETURN_COMMENT,e.Msg.PROCEDURES_DEFRETURN_DO=e.Msg.PROCEDURES_DEFNORETURN_DO,e.Msg.PROCEDURES_DEFRETURN_PROCEDURE=e.Msg.PROCEDURES_DEFNORETURN_PROCEDURE,e.Msg.PROCEDURES_DEFRETURN_TITLE=e.Msg.PROCEDURES_DEFNORETURN_TITLE,e.Msg.TEXT_APPEND_VARIABLE=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.TEXT_CREATE_JOIN_ITEM_TITLE_ITEM=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.MATH_HUE="230",e.Msg.LOOPS_HUE="120",e.Msg.LISTS_HUE="260",e.Msg.LOGIC_HUE="210",e.Msg.VARIABLES_HUE="330",e.Msg.TEXTS_HUE="160",e.Msg.PROCEDURES_HUE="290",e.Msg.COLOUR_HUE="20",e.Msg.VARIABLES_DYNAMIC_HUE="310",e.Msg})?r.apply(t,i):r)||(e.exports=o)},145:function(e,t,n){var r,i,o;i=[n(947)],void 0===(o="function"===typeof(r=function(e){return(e={Msg:{}}).Msg.ADD_COMMENT="\u30b3\u30e1\u30f3\u30c8\u3092\u8ffd\u52a0",e.Msg.CANNOT_DELETE_VARIABLE_PROCEDURE="\u5909\u6570 '%1' \u306f\u95a2\u6570 '%2' \u306e\u5b9a\u7fa9\u306e\u4e00\u90e8\u3067\u3042\u308b\u305f\u3081\u3001\u524a\u9664\u3067\u304d\u307e\u305b\u3093",e.Msg.CHANGE_VALUE_TITLE="\u5024\u3092\u5909\u3048\u308b\uff1a",e.Msg.CLEAN_UP="\u30d6\u30ed\u30c3\u30af\u3092\u6574\u7406\u3059\u308b",e.Msg.COLLAPSED_WARNINGS_WARNING="\u3064\u3076\u3057\u305f\u30d6\u30ed\u30c3\u30af\u306b\u306f\u8b66\u544a\u304c\u5165\u3063\u3066\u3044\u307e\u3059\u3002",e.Msg.COLLAPSE_ALL="\u30d6\u30ed\u30c3\u30af\u3092\u6298\u308a\u305f\u305f\u3080",e.Msg.COLLAPSE_BLOCK="\u30d6\u30ed\u30c3\u30af\u3092\u6298\u308a\u305f\u305f\u3080",e.Msg.COLOUR_BLEND_COLOUR1="\u8272 1",e.Msg.COLOUR_BLEND_COLOUR2="\u8272 2",e.Msg.COLOUR_BLEND_HELPURL="http://meyerweb.com/eric/tools/color-blend/",e.Msg.COLOUR_BLEND_RATIO="\u6bd4\u7387",e.Msg.COLOUR_BLEND_TITLE="\u30d6\u30ec\u30f3\u30c9",e.Msg.COLOUR_BLEND_TOOLTIP="2\u8272\u3092\u4e0e\u3048\u3089\u308c\u305f\u6bd4\u7387\uff080.0\uff5e1.0\uff09\u3067\u6df7\u305c\u307e\u3059\u3002",e.Msg.COLOUR_PICKER_HELPURL="https://ja.wikipedia.org/wiki/\u8272",e.Msg.COLOUR_PICKER_TOOLTIP="\u30d1\u30ec\u30c3\u30c8\u304b\u3089\u8272\u3092\u9078\u3093\u3067\u304f\u3060\u3055\u3044\u3002",e.Msg.COLOUR_RANDOM_HELPURL="http://randomcolour.com",e.Msg.COLOUR_RANDOM_TITLE="\u30e9\u30f3\u30c0\u30e0\u306a\u8272",e.Msg.COLOUR_RANDOM_TOOLTIP="\u30e9\u30f3\u30c0\u30e0\u306b\u8272\u3092\u9078\u3076\u3002",e.Msg.COLOUR_RGB_BLUE="\u9752",e.Msg.COLOUR_RGB_GREEN="\u7dd1",e.Msg.COLOUR_RGB_HELPURL="http://www.december.com/html/spec/colorper.html",e.Msg.COLOUR_RGB_RED="\u8d64",e.Msg.COLOUR_RGB_TITLE="\u8272:",e.Msg.COLOUR_RGB_TOOLTIP="\u8d64\u3001\u7dd1\u3001\u304a\u3088\u3073\u9752\u306e\u6307\u5b9a\u3055\u308c\u305f\u91cf\u3067\u8272\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u3059\u3079\u3066\u306e\u5024\u306f 0 \uff5e 100 \u306e\u9593\u3067\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\u3002",e.Msg.CONTROLS_FLOW_STATEMENTS_HELPURL="https://github.com/google/blockly/wiki/Loops#loop-termination-blocks",e.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK="\u30eb\u30fc\u30d7\u304b\u3089\u629c\u3051\u51fa\u3059",e.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE="\u30eb\u30fc\u30d7\u306e\u6b21\u306e\u53cd\u5fa9\u51e6\u7406\u3092\u7d9a\u884c\u3057\u307e\u3059",e.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK="\u5165\u3063\u3066\u3044\u308b\u30eb\u30fc\u30d7\u304b\u3089\u629c\u3051\u51fa\u3057\u307e\u3059\u3002",e.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE="\u3053\u306e\u30eb\u30fc\u30d7\u306e\u6b8b\u308a\u306e\u90e8\u5206\u3092\u30b9\u30ad\u30c3\u30d7\u3057\u3066\u3001\u30eb\u30fc\u30d7\u306e\u7e70\u308a\u8fd4\u3057\u3092\u7d9a\u3051\u307e\u3059\u3002",e.Msg.CONTROLS_FLOW_STATEMENTS_WARNING="\u6ce8\u610f: \u3053\u306e\u30d6\u30ed\u30c3\u30af\u306f\u3001\u30eb\u30fc\u30d7\u5185\u3067\u306e\u307f\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002",e.Msg.CONTROLS_FOREACH_HELPURL="https://github.com/google/blockly/wiki/Loops#for-each",e.Msg.CONTROLS_FOREACH_TITLE="\u30ea\u30b9\u30c8%2\u306e\u5404\u9805\u76ee%1\u306b\u3064\u3044\u3066",e.Msg.CONTROLS_FOREACH_TOOLTIP="\u30ea\u30b9\u30c8\u306e\u5404\u9805\u76ee\u306b\u3064\u3044\u3066\u3001\u305d\u306e\u9805\u76ee\u3092\u5909\u6570'%1'\u3068\u3057\u3066\u3001\u3044\u304f\u3064\u304b\u306e\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002",e.Msg.CONTROLS_FOR_HELPURL="https://github.com/google/blockly/wiki/Loops#count-with",e.Msg.CONTROLS_FOR_TITLE="%1 \u3092 %2 \u304b\u3089 %3 \u307e\u3067 %4 \u305a\u3064\u30ab\u30a6\u30f3\u30c8\u3059\u308b",e.Msg.CONTROLS_FOR_TOOLTIP="\u5909\u6570 '%1' \u304c\u958b\u59cb\u756a\u53f7\u304b\u3089\u7d42\u4e86\u756a\u53f7\u307e\u3067\u6307\u5b9a\u3057\u305f\u9593\u9694\u3067\u306e\u5024\u3092\u3068\u3063\u3066\u3001\u6307\u5b9a\u3057\u305f\u30d6\u30ed\u30c3\u30af\u3092\u5b9f\u884c\u3059\u308b\u3002",e.Msg.CONTROLS_IF_ELSEIF_TOOLTIP="\u300c\u3082\u3057\u3082\u300d\u306e\u30d6\u30ed\u30c3\u30af\u306b\u6761\u4ef6\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002",e.Msg.CONTROLS_IF_ELSE_TOOLTIP="If\u30d6\u30ed\u30c3\u30af\u306b\u3001\u3059\u3079\u3066\u3092\u30ad\u30e3\u30c3\u30c1\u3059\u308b\u6761\u4ef6\u3092\u8ffd\u52a0\u3002",e.Msg.CONTROLS_IF_HELPURL="https://github.com/google/blockly/wiki/IfElse",e.Msg.CONTROLS_IF_IF_TOOLTIP="\u8ffd\u52a0\u3001\u524a\u9664\u3001\u307e\u305f\u306f\u30bb\u30af\u30b7\u30e7\u30f3\u3092\u9806\u5e8f\u5909\u66f4\u3057\u3066\u3001\u30d6\u30ed\u30c3\u30af\u3092\u3053\u308c\u3092\u518d\u69cb\u6210\u3057\u307e\u3059\u3002",e.Msg.CONTROLS_IF_MSG_ELSE="\u305d\u3046\u3067\u306a\u3051\u308c\u3070",e.Msg.CONTROLS_IF_MSG_ELSEIF="\u305d\u3046\u3067\u306a\u304f\u3082\u3057",e.Msg.CONTROLS_IF_MSG_IF="\u3082\u3057",e.Msg.CONTROLS_IF_TOOLTIP_1="\u5024\u304c true \u306e\u5834\u5408\u3001\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002",e.Msg.CONTROLS_IF_TOOLTIP_2="\u5024\u304c true \u306e\u5834\u5408\u306f\u3001\u6700\u521d\u306e\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u306e\u30d6\u30ed\u30c3\u30af\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\u305d\u308c\u4ee5\u5916\u306e\u5834\u5408\u306f\u30012\u756a\u76ee\u306e\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u306e\u30d6\u30ed\u30c3\u30af\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002",e.Msg.CONTROLS_IF_TOOLTIP_3="\u6700\u521d\u306e\u5024\u304c true \u306e\u5834\u5408\u306f\u3001\u6700\u521d\u306e\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u306e\u30d6\u30ed\u30c3\u30af\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\u305d\u308c\u4ee5\u5916\u306e\u5834\u5408\u3067\u30012\u756a\u76ee\u306e\u5024\u304c true \u306e\u5834\u5408\u306f\u30012\u756a\u76ee\u306e\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u306e\u30d6\u30ed\u30c3\u30af\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002",e.Msg.CONTROLS_IF_TOOLTIP_4="\u6700\u521d\u306e\u5024\u304c true \u306e\u5834\u5408\u306f\u3001\u6700\u521d\u306e\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u306e\u30d6\u30ed\u30c3\u30af\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\u305d\u308c\u4ee5\u5916\u306e\u5834\u5408\u3067\u30012\u756a\u76ee\u306e\u5024\u304c true \u306e\u5834\u5408\u306f\u30012\u756a\u76ee\u306e\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u306e\u30d6\u30ed\u30c3\u30af\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\u3059\u3079\u3066\u306e\u5024\u304c true \u3067\u306a\u3044\u5834\u5408\u306f\u3001\u6700\u5f8c\u306e\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u306e\u30d6\u30ed\u30c3\u30af\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002",e.Msg.CONTROLS_REPEAT_HELPURL="https://ja.wikipedia.org/wiki/for\u6587",e.Msg.CONTROLS_REPEAT_INPUT_DO="\u5b9f\u884c",e.Msg.CONTROLS_REPEAT_TITLE="%1 \u56de\u7e70\u308a\u8fd4\u3059",e.Msg.CONTROLS_REPEAT_TOOLTIP="\u3044\u304f\u3064\u304b\u306e\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u3092\u6570\u56de\u5b9f\u884c\u3057\u307e\u3059\u3002",e.Msg.CONTROLS_WHILEUNTIL_HELPURL="https://github.com/google/blockly/wiki/Loops#repeat",e.Msg.CONTROLS_WHILEUNTIL_OPERATOR_UNTIL="\u7e70\u308a\u8fd4\u3059\uff1a\u7d42\u308f\u308b\u6761\u4ef6",e.Msg.CONTROLS_WHILEUNTIL_OPERATOR_WHILE="\u7e70\u308a\u8fd4\u3059\uff1a\u7d9a\u3051\u308b\u6761\u4ef6",e.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL="\u5024\u304cfalse\u306e\u9593\u3001\u3044\u304f\u3064\u304b\u306e\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u3092\u5b9f\u884c\u3059\u308b\u3002",e.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE="\u5024\u304ctrue\u306e\u9593\u3001\u3044\u304f\u3064\u304b\u306e\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u3092\u5b9f\u884c\u3059\u308b\u3002",e.Msg.DELETE_ALL_BLOCKS="%1\u500b\u3042\u308b\u3059\u3079\u3066\u306e\u30d6\u30ed\u30c3\u30af\u3092\u524a\u9664\u3057\u307e\u3059\u304b\uff1f",e.Msg.DELETE_BLOCK="\u30d6\u30ed\u30c3\u30af\u3092\u524a\u9664",e.Msg.DELETE_VARIABLE="\u5909\u6570 '%1' \u3092\u524a\u9664",e.Msg.DELETE_VARIABLE_CONFIRMATION="%1\u304b\u6240\u3067\u4f7f\u308f\u308c\u3066\u3044\u308b\u5909\u6570 '%2' \u3092\u524a\u9664\u3057\u307e\u3059\u304b\uff1f",e.Msg.DELETE_X_BLOCKS="%1\u500b\u306e\u30d6\u30ed\u30c3\u30af\u3092\u524a\u9664",e.Msg.DISABLE_BLOCK="\u30d6\u30ed\u30c3\u30af\u3092\u7121\u52b9\u306b\u3059\u308b",e.Msg.DUPLICATE_BLOCK="\u8907\u88fd",e.Msg.DUPLICATE_COMMENT="\u30b3\u30e1\u30f3\u30c8\u3092\u8907\u88fd",e.Msg.ENABLE_BLOCK="\u30d6\u30ed\u30c3\u30af\u3092\u6709\u52b9\u306b\u3059\u308b",e.Msg.EXPAND_ALL="\u30d6\u30ed\u30c3\u30af\u3092\u5c55\u958b\u3059\u308b",e.Msg.EXPAND_BLOCK="\u30d6\u30ed\u30c3\u30af\u3092\u5c55\u958b\u3059\u308b",e.Msg.EXTERNAL_INPUTS="\u5916\u90e8\u5165\u529b",e.Msg.HELP="\u30d8\u30eb\u30d7",e.Msg.INLINE_INPUTS="\u30a4\u30f3\u30e9\u30a4\u30f3\u5165\u529b",e.Msg.IOS_CANCEL="\u30ad\u30e3\u30f3\u30bb\u30eb",e.Msg.IOS_ERROR="\u30a8\u30e9\u30fc",e.Msg.IOS_OK="OK",e.Msg.IOS_PROCEDURES_ADD_INPUT="+\u3000\u5165\u529b\u3092\u8ffd\u52a0",e.Msg.IOS_PROCEDURES_ALLOW_STATEMENTS="\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u3092\u8a31\u53ef",e.Msg.IOS_PROCEDURES_DUPLICATE_INPUTS_ERROR="\u3053\u306e\u95a2\u6570\u306b\u306f\u91cd\u8907\u3059\u308b\u5165\u529b\u304c\u3042\u308a\u307e\u3059\u3002",e.Msg.IOS_PROCEDURES_INPUTS="\u5165\u529b",e.Msg.IOS_VARIABLES_ADD_BUTTON="\u8ffd\u52a0",e.Msg.IOS_VARIABLES_ADD_VARIABLE="+ \u5909\u6570\u3092\u8ffd\u52a0",e.Msg.IOS_VARIABLES_DELETE_BUTTON="\u524a\u9664",e.Msg.IOS_VARIABLES_EMPTY_NAME_ERROR="\u7a7a\u306e\u5909\u6570\u540d\u306f\u4f7f\u7528\u3067\u304d\u307e\u305b\u3093\u3002",e.Msg.IOS_VARIABLES_RENAME_BUTTON="\u540d\u524d\u3092\u5909\u66f4",e.Msg.IOS_VARIABLES_VARIABLE_NAME="\u5909\u6570\u540d",e.Msg.LISTS_CREATE_EMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#create-empty-list",e.Msg.LISTS_CREATE_EMPTY_TITLE="\u7a7a\u306e\u30ea\u30b9\u30c8\u3092\u4f5c\u6210",e.Msg.LISTS_CREATE_EMPTY_TOOLTIP="\u9577\u3055\uff10\u3067\u30c7\u30fc\u30bf\u30fb\u30ec\u30b3\u30fc\u30c9\u3092\u542b\u307e\u306a\u3044\u7a7a\u306e\u30ea\u30b9\u30c8\u3092\u8fd4\u3059",e.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD="\u30ea\u30b9\u30c8",e.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP="\u8ffd\u52a0\u3001\u524a\u9664\u3001\u307e\u305f\u306f\u30bb\u30af\u30b7\u30e7\u30f3\u306e\u9806\u5e8f\u5909\u66f4\u3092\u3057\u3066\u3001\u3053\u306e\u30ea\u30b9\u30c8\u30fb\u30d6\u30ed\u30c3\u30af\u3092\u518d\u69cb\u6210\u3059\u308b\u3002",e.Msg.LISTS_CREATE_WITH_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",e.Msg.LISTS_CREATE_WITH_INPUT_WITH="\u4ee5\u4e0b\u3092\u4f7f\u3063\u3066\u30ea\u30b9\u30c8\u3092\u4f5c\u6210\uff1a",e.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP="\u30ea\u30b9\u30c8\u306b\u9805\u76ee\u3092\u8ffd\u52a0\u3002",e.Msg.LISTS_CREATE_WITH_TOOLTIP="\u9805\u76ee\u6570\u304c\u4e0d\u5b9a\u306e\u30ea\u30b9\u30c8\u3092\u4f5c\u6210\u3002",e.Msg.LISTS_GET_INDEX_FIRST="\u6700\u521d",e.Msg.LISTS_GET_INDEX_FROM_END="\u4f4d\u7f6e\uff1a\u5f8c\u308d\u304b\u3089",e.Msg.LISTS_GET_INDEX_FROM_START="#",e.Msg.LISTS_GET_INDEX_GET="\u53d6\u5f97",e.Msg.LISTS_GET_INDEX_GET_REMOVE="\u53d6\u5f97\u3057\u3066\u524a\u9664",e.Msg.LISTS_GET_INDEX_LAST="\u6700\u5f8c",e.Msg.LISTS_GET_INDEX_RANDOM="\u30e9\u30f3\u30c0\u30e0",e.Msg.LISTS_GET_INDEX_REMOVE="\u524a\u9664",e.Msg.LISTS_GET_INDEX_TAIL="",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST="\u30ea\u30b9\u30c8\u306e\u6700\u521d\u306e\u9805\u76ee\u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM="\u30ea\u30b9\u30c8\u5185\u306e\u6307\u5b9a\u4f4d\u7f6e\u306b\u3042\u308b\u9805\u76ee\u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST="\u30ea\u30b9\u30c8\u306e\u6700\u5f8c\u306e\u9805\u76ee\u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM="\u30e9\u30f3\u30c0\u30e0 \u30a2\u30a4\u30c6\u30e0 \u30ea\u30b9\u30c8\u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST="\u30ea\u30b9\u30c8\u5185\u306e\u6700\u521d\u306e\u9805\u76ee\u3092\u524a\u9664\u3057\u8fd4\u3057\u307e\u3059\u3002",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM="\u30ea\u30b9\u30c8\u5185\u306e\u6307\u5b9a\u4f4d\u7f6e\u306b\u3042\u308b\u9805\u76ee\u3092\u524a\u9664\u3057\u3001\u8fd4\u3057\u307e\u3059\u3002",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST="\u30ea\u30b9\u30c8\u5185\u306e\u6700\u5f8c\u306e\u9805\u76ee\u3092\u524a\u9664\u3057\u305f\u3042\u3068\u8fd4\u3057\u307e\u3059\u3002",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM="\u30ea\u30b9\u30c8\u306e\u30e9\u30f3\u30c0\u30e0\u306a\u30a2\u30a4\u30c6\u30e0\u3092\u524a\u9664\u3057\u8fd4\u3057\u307e\u3059\u3002",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST="\u30ea\u30b9\u30c8\u5185\u306e\u6700\u521d\u306e\u9805\u76ee\u3092\u524a\u9664\u3057\u307e\u3059\u3002",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM="\u30ea\u30b9\u30c8\u5185\u306e\u6307\u5b9a\u3055\u308c\u305f\u9805\u76ee\u3092\u524a\u9664\u3057\u307e\u3059\u3002",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST="\u30ea\u30b9\u30c8\u5185\u306e\u6700\u5f8c\u306e\u9805\u76ee\u3092\u524a\u9664\u3057\u307e\u3059\u3002",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM="\u30ea\u30b9\u30c8\u5185\u306b\u3042\u308b\u30a2\u30a4\u30c6\u30e0\u3092\u30e9\u30f3\u30c0\u30e0\u306b\u524a\u9664\u3057\u307e\u3059\u3002",e.Msg.LISTS_GET_SUBLIST_END_FROM_END="\u7d42\u4e86\u4f4d\u7f6e\uff1a\u5f8c\u308d\u304b\u3089",e.Msg.LISTS_GET_SUBLIST_END_FROM_START="\u7d42\u4e86\u4f4d\u7f6e\uff1a",e.Msg.LISTS_GET_SUBLIST_END_LAST="\u6700\u5f8c\u307e\u3067",e.Msg.LISTS_GET_SUBLIST_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-a-sublist",e.Msg.LISTS_GET_SUBLIST_START_FIRST="\u6700\u521d\u304b\u3089\u30b5\u30d6\u30ea\u30b9\u30c8\u3092\u53d6\u5f97\u3059\u308b\u3002",e.Msg.LISTS_GET_SUBLIST_START_FROM_END="\u7aef\u304b\u3089 #\u306e\u30b5\u30d6\u30ea\u30b9\u30c8\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002",e.Msg.LISTS_GET_SUBLIST_START_FROM_START="# \u304b\u3089\u30b5\u30d6\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u30ea\u30b9\u30c8\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002",e.Msg.LISTS_GET_SUBLIST_TAIL="",e.Msg.LISTS_GET_SUBLIST_TOOLTIP="\u30ea\u30b9\u30c8\u306e\u6307\u5b9a\u3055\u308c\u305f\u90e8\u5206\u306e\u30b3\u30d4\u30fc\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002",e.Msg.LISTS_INDEX_FROM_END_TOOLTIP="%1 \u306f\u3001\u6700\u5f8c\u306e\u9805\u76ee\u3067\u3059\u3002",e.Msg.LISTS_INDEX_FROM_START_TOOLTIP="%1 \u306f\u3001\u6700\u521d\u306e\u9805\u76ee\u3067\u3059\u3002",e.Msg.LISTS_INDEX_OF_FIRST="\u3067\u4ee5\u4e0b\u306e\u30a2\u30a4\u30c6\u30e0\u306e\u6700\u521d\u306e\u51fa\u73fe\u7b87\u6240\u3092\u691c\u7d22\uff1a",e.Msg.LISTS_INDEX_OF_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-items-from-a-list",e.Msg.LISTS_INDEX_OF_LAST="\u3067\u4ee5\u4e0b\u306e\u30c6\u30ad\u30b9\u30c8\u306e\u6700\u5f8c\u306e\u51fa\u73fe\u7b87\u6240\u3092\u691c\u7d22\uff1a",e.Msg.LISTS_INDEX_OF_TOOLTIP="\u30ea\u30b9\u30c8\u9805\u76ee\u306e\u6700\u521d/\u6700\u5f8c\u306b\u51fa\u73fe\u3059\u308b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u4f4d\u7f6e\u3092\u8fd4\u3057\u307e\u3059\u3002\u9805\u76ee\u304c\u898b\u3064\u304b\u3089\u306a\u3044\u5834\u5408\u306f %1 \u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.LISTS_INLIST="\u30ea\u30b9\u30c8",e.Msg.LISTS_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#is-empty",e.Msg.LISTS_ISEMPTY_TITLE="%1\u304c\u7a7a",e.Msg.LISTS_ISEMPTY_TOOLTIP="\u30ea\u30b9\u30c8\u304c\u7a7a\u306e\u5834\u5408\u306f\u3001true \u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.LISTS_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Lists#length-of",e.Msg.LISTS_LENGTH_TITLE="%1\u306e\u9577\u3055",e.Msg.LISTS_LENGTH_TOOLTIP="\u30ea\u30b9\u30c8\u306e\u9577\u3055\u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.LISTS_REPEAT_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",e.Msg.LISTS_REPEAT_TITLE="\u9805\u76ee%1\u3092%2\u56de\u7e70\u308a\u8fd4\u3057\u305f\u30ea\u30b9\u30c8\u3092\u4f5c\u6210",e.Msg.LISTS_REPEAT_TOOLTIP="\u4e0e\u3048\u3089\u308c\u305f\u5024\u3092\u6307\u5b9a\u3055\u308c\u305f\u56de\u6570\u7e70\u308a\u8fd4\u3057\u3066\u30ea\u30b9\u30c8\u3092\u4f5c\u6210\u3002",e.Msg.LISTS_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Lists#reversing-a-list",e.Msg.LISTS_REVERSE_MESSAGE0="%1\u3092\u9006\u9806\u306b",e.Msg.LISTS_REVERSE_TOOLTIP="\u30ea\u30b9\u30c8\u306e\u30b3\u30d4\u30fc\u3092\u9006\u9806\u306b\u3059\u308b\u3002",e.Msg.LISTS_SET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#in-list--set",e.Msg.LISTS_SET_INDEX_INPUT_TO="\u5024\uff1a",e.Msg.LISTS_SET_INDEX_INSERT="\u633f\u5165\u4f4d\u7f6e\uff1a",e.Msg.LISTS_SET_INDEX_SET="\u30bb\u30c3\u30c8",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST="\u30ea\u30b9\u30c8\u306e\u5148\u982d\u306b\u9805\u76ee\u3092\u633f\u5165\u3057\u307e\u3059\u3002",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM="\u30ea\u30b9\u30c8\u5185\u306e\u6307\u5b9a\u4f4d\u7f6e\u306b\u9805\u76ee\u3092\u633f\u5165\u3057\u307e\u3059\u3002",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST="\u30ea\u30b9\u30c8\u306e\u672b\u5c3e\u306b\u9805\u76ee\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM="\u30ea\u30b9\u30c8\u306b\u9805\u76ee\u3092\u30e9\u30f3\u30c0\u30e0\u306b\u633f\u5165\u3057\u307e\u3059\u3002",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST="\u30ea\u30b9\u30c8\u5185\u306b\u6700\u521d\u306e\u9805\u76ee\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM="\u30ea\u30b9\u30c8\u5185\u306e\u6307\u5b9a\u3055\u308c\u305f\u4f4d\u7f6e\u306b\u9805\u76ee\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST="\u30ea\u30b9\u30c8\u5185\u306e\u6700\u5f8c\u306e\u9805\u76ee\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM="\u30ea\u30b9\u30c8\u5185\u306b\u30e9\u30f3\u30c0\u30e0\u306a\u30a2\u30a4\u30c6\u30e0\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002",e.Msg.LISTS_SORT_HELPURL="https://github.com/google/blockly/wiki/Lists#sorting-a-list",e.Msg.LISTS_SORT_ORDER_ASCENDING="\u6607\u9806",e.Msg.LISTS_SORT_ORDER_DESCENDING="\u964d\u9806",e.Msg.LISTS_SORT_TITLE="%1 ( %2 ) \u306b %3 \u3092\u4e26\u3073\u66ff\u3048\u308b",e.Msg.LISTS_SORT_TOOLTIP="\u30ea\u30b9\u30c8\u306e\u30b3\u30d4\u30fc\u3092\u4e26\u3079\u66ff\u3048",e.Msg.LISTS_SORT_TYPE_IGNORECASE="\u30a2\u30eb\u30d5\u30a1\u30d9\u30c3\u30c8\u9806\uff08\u5927\u6587\u5b57\u30fb\u5c0f\u6587\u5b57\u306e\u533a\u5225\u7121\u3057\uff09",e.Msg.LISTS_SORT_TYPE_NUMERIC="\u6570\u5024\u9806",e.Msg.LISTS_SORT_TYPE_TEXT="\u30a2\u30eb\u30d5\u30a1\u30d9\u30c3\u30c8\u9806",e.Msg.LISTS_SPLIT_HELPURL="https://github.com/google/blockly/wiki/Lists#splitting-strings-and-joining-lists",e.Msg.LISTS_SPLIT_LIST_FROM_TEXT="\u30c6\u30ad\u30b9\u30c8\u304b\u3089\u30ea\u30b9\u30c8\u3092\u4f5c\u308b",e.Msg.LISTS_SPLIT_TEXT_FROM_LIST="\u30ea\u30b9\u30c8\u304b\u3089\u30c6\u30ad\u30b9\u30c8\u3092\u4f5c\u308b",e.Msg.LISTS_SPLIT_TOOLTIP_JOIN="\u30c6\u30ad\u30b9\u30c8\u306e\u30ea\u30b9\u30c8\u3092\u533a\u5207\u308a\u8a18\u53f7\u3067\u533a\u5207\u3089\u308c\u305f\u4e00\u3064\u306e\u30c6\u30ad\u30b9\u30c8\u306b\u3059\u308b",e.Msg.LISTS_SPLIT_TOOLTIP_SPLIT="\u30c6\u30ad\u30b9\u30c8\u3092\u533a\u5207\u308a\u8a18\u53f7\u3067\u5206\u5272\u3057\u305f\u30ea\u30b9\u30c8\u306b\u3059\u308b",e.Msg.LISTS_SPLIT_WITH_DELIMITER="\u533a\u5207\u308a\u8a18\u53f7",e.Msg.LOGIC_BOOLEAN_FALSE="false",e.Msg.LOGIC_BOOLEAN_HELPURL="https://github.com/google/blockly/wiki/Logic#values",e.Msg.LOGIC_BOOLEAN_TOOLTIP="true \u307e\u305f\u306f false \u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.LOGIC_BOOLEAN_TRUE="true",e.Msg.LOGIC_COMPARE_HELPURL="https://ja.wikipedia.org/wiki/\u4e0d\u7b49\u5f0f",e.Msg.LOGIC_COMPARE_TOOLTIP_EQ="\u4e21\u65b9\u306e\u5165\u529b\u304c\u4e92\u3044\u306b\u7b49\u3057\u3044\u5834\u5408\u306b true \u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.LOGIC_COMPARE_TOOLTIP_GT="\u6700\u521d\u306e\u5165\u529b\u304c 2 \u756a\u76ee\u306e\u5165\u529b\u3088\u308a\u3082\u5927\u304d\u3044\u5834\u5408\u306f true \u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.LOGIC_COMPARE_TOOLTIP_GTE="\u6700\u521d\u306e\u5165\u529b\u304c 2 \u756a\u76ee\u306e\u5165\u529b\u4ee5\u4e0a\u306e\u5834\u5408\u306b true \u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.LOGIC_COMPARE_TOOLTIP_LT="\u6700\u521d\u306e\u5165\u529b\u304c 2 \u756a\u76ee\u306e\u5165\u529b\u3088\u308a\u3082\u5c0f\u3055\u3044\u5834\u5408\u306f true \u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.LOGIC_COMPARE_TOOLTIP_LTE="\u6700\u521d\u306e\u5165\u529b\u304c 2 \u756a\u76ee\u306e\u5165\u529b\u4ee5\u4e0b\u306e\u5834\u5408\u306b true \u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.LOGIC_COMPARE_TOOLTIP_NEQ="\u4e21\u65b9\u306e\u5165\u529b\u304c\u4e92\u3044\u306b\u7b49\u3057\u304f\u306a\u3044\u5834\u5408\u306b true \u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.LOGIC_NEGATE_HELPURL="https://ja.wikipedia.org/wiki/\u5426\u5b9a",e.Msg.LOGIC_NEGATE_TITLE="%1\u3067\u306f\u306a\u3044",e.Msg.LOGIC_NEGATE_TOOLTIP="\u5165\u529b\u304c false \u306e\u5834\u5408\u306f\u3001true \u3092\u8fd4\u3057\u307e\u3059\u3002\u5165\u529b\u304c true \u306e\u5834\u5408\u306f false \u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.LOGIC_NULL="null",e.Msg.LOGIC_NULL_HELPURL="https://en.wikipedia.org/wiki/Nullable_type",e.Msg.LOGIC_NULL_TOOLTIP="null \u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.LOGIC_OPERATION_AND="\u304b\u3064",e.Msg.LOGIC_OPERATION_HELPURL="https://github.com/google/blockly/wiki/Logic#logical-operations",e.Msg.LOGIC_OPERATION_OR="\u307e\u305f\u306f",e.Msg.LOGIC_OPERATION_TOOLTIP_AND="\u4e21\u65b9\u306e\u5165\u529b\u304c true \u306e\u3068\u304d\u306b true \u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.LOGIC_OPERATION_TOOLTIP_OR="\u5c11\u306a\u304f\u3068\u3082 1 \u3064\u306e\u5165\u529b\u304c true \u306e\u3068\u304d\u306b true \u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.LOGIC_TERNARY_CONDITION="\u30c6\u30b9\u30c8",e.Msg.LOGIC_TERNARY_HELPURL="https://ja.wikipedia.org/wiki/%3F:",e.Msg.LOGIC_TERNARY_IF_FALSE="false \u306e\u5834\u5408",e.Msg.LOGIC_TERNARY_IF_TRUE="true \u306e\u5834\u5408",e.Msg.LOGIC_TERNARY_TOOLTIP="'\u30c6\u30b9\u30c8' \u306e\u6761\u4ef6\u3092\u30c1\u30a7\u30c3\u30af\u3057\u307e\u3059\u3002\u6761\u4ef6\u304c true \u306e\u5834\u5408\u3001'true' \u306e\u5024\u3092\u8fd4\u3057\u307e\u3059\u3002\u305d\u308c\u4ee5\u5916\u306e\u5834\u5408 'false' \u306e\u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.MATH_ADDITION_SYMBOL="+",e.Msg.MATH_ARITHMETIC_HELPURL="https://ja.wikipedia.org/wiki/\u7b97\u8853",e.Msg.MATH_ARITHMETIC_TOOLTIP_ADD="2 \u3064\u306e\u6570\u306e\u5408\u8a08\u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.MATH_ARITHMETIC_TOOLTIP_DIVIDE="2 \u3064\u306e\u6570\u306e\u5546\u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.MATH_ARITHMETIC_TOOLTIP_MINUS="2 \u3064\u306e\u6570\u306e\u5dee\u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.MATH_ARITHMETIC_TOOLTIP_MULTIPLY="2 \u3064\u306e\u6570\u306e\u7a4d\u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.MATH_ARITHMETIC_TOOLTIP_POWER="\u6700\u521d\u306e\u6570\u30922 \u756a\u76ee\u306e\u5024\u3067\u7d2f\u4e57\u3057\u305f\u7d50\u679c\u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.MATH_ATAN2_HELPURL="https://en.wikipedia.org/wiki/Atan2",e.Msg.MATH_ATAN2_TITLE="X:%1 Y:%2\u306earan2",e.Msg.MATH_ATAN2_TOOLTIP="\u70b9 (X, Y) \u306e\u9006\u95a2\u6570\u3092 -180 \u5ea6\u304b\u3089 180\u5ea6\u307e\u3067\u8fd4\u3057\u307e\u3059\u3002",e.Msg.MATH_CHANGE_HELPURL="https://ja.wikipedia.org/wiki/\u52a0\u6cd5",e.Msg.MATH_CHANGE_TITLE="%1 \u3092 %2 \u5897\u3084\u3059",e.Msg.MATH_CHANGE_TOOLTIP="\u5909\u6570'%1'\u306b\u6570\u3092\u305f\u3059\u3002",e.Msg.MATH_CONSTANT_HELPURL="https://ja.wikipedia.org/wiki/\u6570\u5b66\u5b9a\u6570",e.Msg.MATH_CONSTANT_TOOLTIP="\u3044\u305a\u308c\u304b\u306e\u5171\u901a\u306e\u5b9a\u6570\u306e\u3092\u8fd4\u3059: \u03c0 (3.141\u2026), e (2.718\u2026), \u03c6 (1.618\u2026), sqrt(2) (1.414\u2026), sqrt(\xbd) (0.707\u2026), or \u221e (\u7121\u9650).",e.Msg.MATH_CONSTRAIN_HELPURL="https://en.wikipedia.org/wiki/Clamping_(graphics)",e.Msg.MATH_CONSTRAIN_TITLE="%1 \u3092 %2 \u4ee5\u4e0a %3 \u4ee5\u4e0b\u306e\u7bc4\u56f2\u306b\u5236\u9650",e.Msg.MATH_CONSTRAIN_TOOLTIP="\u6307\u5b9a\u3057\u305f\u4e0a\u9650\u3068\u4e0b\u9650\u306e\u9593\u306b\u5024\u3092\u5236\u9650\u3059\u308b\uff08\u4e0a\u9650\u3068\u4e0b\u9650\u306e\u5024\u3092\u542b\u3080\uff09\u3002",e.Msg.MATH_DIVISION_SYMBOL="\xf7",e.Msg.MATH_IS_DIVISIBLE_BY="\u306f\u4ee5\u4e0b\u3067\u5272\u308a\u304d\u308c\u308b\uff1a",e.Msg.MATH_IS_EVEN="\u306f\u5076\u6570",e.Msg.MATH_IS_NEGATIVE="\u306f\u8ca0",e.Msg.MATH_IS_ODD="\u306f\u5947\u6570",e.Msg.MATH_IS_POSITIVE="\u306f\u6b63",e.Msg.MATH_IS_PRIME="\u306f\u7d20\u6570",e.Msg.MATH_IS_TOOLTIP="\u6570\u5b57\u304c\u3001\u5076\u6570\u3001\u5947\u6570\u3001\u7d20\u6570\u3001\u6574\u6570\u3001\u6b63\u6570\u3001\u8ca0\u6570\u3001\u307e\u305f\u306f\u7279\u5b9a\u306e\u6570\u3067\u5272\u308a\u5207\u308c\u308b\u304b\u3069\u3046\u304b\u3092\u5224\u5b9a\u3057\u3001true \u304b false \u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.MATH_IS_WHOLE="\u306f\u6574\u6570",e.Msg.MATH_MODULO_HELPURL="https://en.wikipedia.org/wiki/Modulo_operation",e.Msg.MATH_MODULO_TITLE="%1\xf7%2\u306e\u4f59\u308a",e.Msg.MATH_MODULO_TOOLTIP="2\u3064\u306e\u6570\u5024\u306e\u5272\u308a\u7b97\u306e\u4f59\u308a\u3092\u8fd4\u3059\u3002",e.Msg.MATH_MULTIPLICATION_SYMBOL="\xd7",e.Msg.MATH_NUMBER_HELPURL="https://ja.wikipedia.org/wiki/\u6570",e.Msg.MATH_NUMBER_TOOLTIP="\u6570\u3067\u3059\u3002",e.Msg.MATH_ONLIST_HELPURL="",e.Msg.MATH_ONLIST_OPERATOR_AVERAGE="\u30ea\u30b9\u30c8\u306e\u5e73\u5747",e.Msg.MATH_ONLIST_OPERATOR_MAX="\u30ea\u30b9\u30c8\u306e\u6700\u5927\u5024",e.Msg.MATH_ONLIST_OPERATOR_MEDIAN="\u30ea\u30b9\u30c8\u306e\u4e2d\u592e\u5024",e.Msg.MATH_ONLIST_OPERATOR_MIN="\u30ea\u30b9\u30c8\u306e\u6700\u5c0f\u5024",e.Msg.MATH_ONLIST_OPERATOR_MODE="\u30ea\u30b9\u30c8\u306e\u6700\u983b\u5024",e.Msg.MATH_ONLIST_OPERATOR_RANDOM="\u30ea\u30b9\u30c8\u304b\u3089\u30e9\u30f3\u30c0\u30e0\u306b\u9078\u3070\u308c\u305f\u9805\u76ee",e.Msg.MATH_ONLIST_OPERATOR_STD_DEV="\u30ea\u30b9\u30c8\u306e\u6a19\u6e96\u504f\u5dee",e.Msg.MATH_ONLIST_OPERATOR_SUM="\u30ea\u30b9\u30c8\u306e\u5408\u8a08",e.Msg.MATH_ONLIST_TOOLTIP_AVERAGE="\u30ea\u30b9\u30c8\u306e\u6570\u5024\u306e\u5e73\u5747 (\u7b97\u8853\u5e73\u5747) \u3092\u8fd4\u3059\u3002",e.Msg.MATH_ONLIST_TOOLTIP_MAX="\u30ea\u30b9\u30c8\u306e\u6700\u5927\u5024\u3092\u8fd4\u3059\u3002",e.Msg.MATH_ONLIST_TOOLTIP_MEDIAN="\u30ea\u30b9\u30c8\u306e\u4e2d\u592e\u5024\u3092\u8fd4\u3059\u3002",e.Msg.MATH_ONLIST_TOOLTIP_MIN="\u30ea\u30b9\u30c8\u306e\u6700\u5c0f\u5024\u3092\u8fd4\u3059\u3002",e.Msg.MATH_ONLIST_TOOLTIP_MODE="\u30ea\u30b9\u30c8\u4e2d\u306e\u6700\u983b\u9805\u76ee\u306e\u30ea\u30b9\u30c8\u3092\u8fd4\u3059\u3002",e.Msg.MATH_ONLIST_TOOLTIP_RANDOM="\u30ea\u30b9\u30c8\u304b\u3089\u30e9\u30f3\u30c0\u30e0\u306b\u9078\u3070\u308c\u305f\u8981\u7d20\u3092\u8fd4\u3059\u3002",e.Msg.MATH_ONLIST_TOOLTIP_STD_DEV="\u30ea\u30b9\u30c8\u306e\u6a19\u6e96\u504f\u5dee\u3092\u8fd4\u3059\u3002",e.Msg.MATH_ONLIST_TOOLTIP_SUM="\u30ea\u30b9\u30c8\u306e\u6570\u5024\u3092\u8db3\u3057\u3066\u8fd4\u3059\u3002",e.Msg.MATH_POWER_SYMBOL="^",e.Msg.MATH_RANDOM_FLOAT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",e.Msg.MATH_RANDOM_FLOAT_TITLE_RANDOM="1\u672a\u6e80\u306e\u6b63\u306e\u4e71\u6570",e.Msg.MATH_RANDOM_FLOAT_TOOLTIP="0.0\u4ee5\u4e0a\u30671.0\u672a\u6e80\u306e\u7bc4\u56f2\u306e\u4e71\u6570\u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.MATH_RANDOM_INT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",e.Msg.MATH_RANDOM_INT_TITLE="%1\u304b\u3089%2\u307e\u3067\u306e\u30e9\u30f3\u30c0\u30e0\u306a\u6574\u6570",e.Msg.MATH_RANDOM_INT_TOOLTIP="\u6307\u5b9a\u3055\u308c\u305f\uff08\u4e0a\u4e0b\u9650\u3092\u542b\u3080\uff09\u7bc4\u56f2\u306e\u30e9\u30f3\u30c0\u30e0\u306a\u6574\u6570\u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.MATH_ROUND_HELPURL="https://ja.wikipedia.org/wiki/\u7aef\u6570\u51e6\u7406",e.Msg.MATH_ROUND_OPERATOR_ROUND="\u56db\u6368\u4e94\u5165",e.Msg.MATH_ROUND_OPERATOR_ROUNDDOWN="\u5207\u308a\u6368\u3066",e.Msg.MATH_ROUND_OPERATOR_ROUNDUP="\u5207\u308a\u4e0a\u3052",e.Msg.MATH_ROUND_TOOLTIP="\u6570\u5024\u3092\u5207\u308a\u4e0a\u3052\u308b\u304b\u5207\u308a\u6368\u3066\u308b",e.Msg.MATH_SINGLE_HELPURL="https://ja.wikipedia.org/wiki/\u5e73\u65b9\u6839",e.Msg.MATH_SINGLE_OP_ABSOLUTE="\u7d76\u5bfe\u5024",e.Msg.MATH_SINGLE_OP_ROOT="\u5e73\u65b9\u6839",e.Msg.MATH_SINGLE_TOOLTIP_ABS="\u7d76\u5bfe\u5024\u3092\u8fd4\u3059\u3002",e.Msg.MATH_SINGLE_TOOLTIP_EXP="\u30cd\u30a4\u30d4\u30a2\u6570e\u306e\u6570\u5024\u4e57\u3092\u8fd4\u3059\u3002",e.Msg.MATH_SINGLE_TOOLTIP_LN="\u6570\u5024\u306e\u81ea\u7136\u5bfe\u6570\u3092\u8fd4\u3059\u3002",e.Msg.MATH_SINGLE_TOOLTIP_LOG10="\u5e95\u304c10\u306e\u5bfe\u6570\u3092\u8fd4\u3059\u3002",e.Msg.MATH_SINGLE_TOOLTIP_NEG="\u8ca0\u306e\u6570\u3092\u8fd4\u3059\u3002",e.Msg.MATH_SINGLE_TOOLTIP_POW10="10\u306e\u6570\u5024\u4e57\u3092\u8fd4\u3059\u3002",e.Msg.MATH_SINGLE_TOOLTIP_ROOT="\u5e73\u65b9\u6839\u3092\u8fd4\u3059\u3002",e.Msg.MATH_SUBTRACTION_SYMBOL="-",e.Msg.MATH_TRIG_ACOS="acos",e.Msg.MATH_TRIG_ASIN="asin",e.Msg.MATH_TRIG_ATAN="atan",e.Msg.MATH_TRIG_COS="cos",e.Msg.MATH_TRIG_HELPURL="https://ja.wikipedia.org/wiki/\u4e09\u89d2\u95a2\u6570",e.Msg.MATH_TRIG_SIN="sin",e.Msg.MATH_TRIG_TAN="tan",e.Msg.MATH_TRIG_TOOLTIP_ACOS="\u30a2\u30fc\u30af\u30b3\u30b5\u30a4\u30f3\uff08arccosin\uff09\u3092\u8fd4\u3059\u3002",e.Msg.MATH_TRIG_TOOLTIP_ASIN="\u30a2\u30fc\u30af\u30b5\u30a4\u30f3\uff08arcsin\uff09\u3092\u8fd4\u3059\u3002",e.Msg.MATH_TRIG_TOOLTIP_ATAN="\u30a2\u30fc\u30af\u30bf\u30f3\u30b8\u30a7\u30f3\u30c8\uff08arctan\uff09\u3092\u8fd4\u3059\u3002",e.Msg.MATH_TRIG_TOOLTIP_COS="\uff08\u30e9\u30b8\u30a2\u30f3\u3067\u306f\u306a\u304f\uff09\u5ea6\u6570\u306e\u4f59\u5f26\uff08cosin\uff09\u3092\u8fd4\u3059\u3002",e.Msg.MATH_TRIG_TOOLTIP_SIN="\uff08\u30e9\u30b8\u30a2\u30f3\u3067\u306f\u306a\u304f\uff09\u5ea6\u6570\u306e\u6b63\u5f26\uff08sin\uff09\u3092\u8fd4\u3059\u3002",e.Msg.MATH_TRIG_TOOLTIP_TAN="\uff08\u30e9\u30b8\u30a2\u30f3\u3067\u306f\u306a\u304f\uff09\u5ea6\u6570\u306e\u6b63\u63a5\uff08tan\uff09\u3092\u8fd4\u3059\u3002",e.Msg.NEW_COLOUR_VARIABLE="\u8272\u306e\u5909\u6570\u3092\u4f5c\u308b...",e.Msg.NEW_NUMBER_VARIABLE="\u6570\u306e\u5909\u6570\u3092\u4f5c\u308b...",e.Msg.NEW_STRING_VARIABLE="\u6587\u5b57\u5217\u306e\u5909\u6570\u3092\u4f5c\u308b...",e.Msg.NEW_VARIABLE="\u5909\u6570\u306e\u4f5c\u6210\u2026",e.Msg.NEW_VARIABLE_TITLE="\u65b0\u3057\u3044\u5909\u6570\u306e\u540d\u524d:",e.Msg.NEW_VARIABLE_TYPE_TITLE="\u65b0\u3057\u3044\u5909\u6570\u306e\u578b:",e.Msg.ORDINAL_NUMBER_SUFFIX="",e.Msg.PROCEDURES_ALLOW_STATEMENTS="\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u3092\u8a31\u53ef",e.Msg.PROCEDURES_BEFORE_PARAMS="\u5f15\u6570\uff1a",e.Msg.PROCEDURES_CALLNORETURN_HELPURL="https://ja.wikipedia.org/wiki/\u30b5\u30d6\u30eb\u30fc\u30c1\u30f3",e.Msg.PROCEDURES_CALLNORETURN_TOOLTIP="\u30e6\u30fc\u30b6\u30fc\u5b9a\u7fa9\u95a2\u6570 '%1' \u3092\u5b9f\u884c\u3057\u307e\u3059\u3002",e.Msg.PROCEDURES_CALLRETURN_HELPURL="https://ja.wikipedia.org/wiki/\u30b5\u30d6\u30eb\u30fc\u30c1\u30f3",e.Msg.PROCEDURES_CALLRETURN_TOOLTIP="\u30e6\u30fc\u30b6\u30fc\u5b9a\u7fa9\u95a2\u6570 '%1' \u3092\u5b9f\u884c\u3057\u3001\u305d\u306e\u51fa\u529b\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002",e.Msg.PROCEDURES_CALL_BEFORE_PARAMS="\u5f15\u6570\uff1a",e.Msg.PROCEDURES_CREATE_DO="'%1' \u3092\u4f5c\u6210",e.Msg.PROCEDURES_DEFNORETURN_COMMENT="\u3053\u306e\u95a2\u6570\u306e\u8aac\u660e\u2026",e.Msg.PROCEDURES_DEFNORETURN_DO="",e.Msg.PROCEDURES_DEFNORETURN_HELPURL="https://ja.wikipedia.org/wiki/\u30b5\u30d6\u30eb\u30fc\u30c1\u30f3",e.Msg.PROCEDURES_DEFNORETURN_PROCEDURE="\u4f55\u304b\u3059\u308b",e.Msg.PROCEDURES_DEFNORETURN_TITLE="\u95a2\u6570",e.Msg.PROCEDURES_DEFNORETURN_TOOLTIP="\u51fa\u529b\u306a\u3057\u306e\u95a2\u6570\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002",e.Msg.PROCEDURES_DEFRETURN_HELPURL="https://ja.wikipedia.org/wiki/\u30b5\u30d6\u30eb\u30fc\u30c1\u30f3",e.Msg.PROCEDURES_DEFRETURN_RETURN="\u8fd4\u3059",e.Msg.PROCEDURES_DEFRETURN_TOOLTIP="\u4e00\u3064\u306e\u51fa\u529b\u3092\u6301\u3064\u95a2\u6570\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002",e.Msg.PROCEDURES_DEF_DUPLICATE_WARNING="\u8b66\u544a: \u3053\u306e\u95a2\u6570\u306b\u306f\u91cd\u8907\u3059\u308b\u30d1\u30e9\u30e1\u30fc\u30bf\u30fc\u304c\u3042\u308a\u307e\u3059\u3002",e.Msg.PROCEDURES_HIGHLIGHT_DEF="\u95a2\u6570\u306e\u5185\u5bb9\u3092\u5f37\u8abf\u8868\u793a\u3057\u307e\u3059\u3002",e.Msg.PROCEDURES_IFRETURN_HELPURL="http://c2.com/cgi/wiki?GuardClause",e.Msg.PROCEDURES_IFRETURN_TOOLTIP="1\u756a\u76ee\u306e\u5024\u304c true \u306e\u5834\u5408\u30012\u756a\u76ee\u306e\u5024\u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.PROCEDURES_IFRETURN_WARNING="\u8b66\u544a: \u3053\u306e\u30d6\u30ed\u30c3\u30af\u306f\u3001\u95a2\u6570\u5b9a\u7fa9\u5185\u3067\u306e\u307f\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002",e.Msg.PROCEDURES_MUTATORARG_TITLE="\u5165\u529b\u540d:",e.Msg.PROCEDURES_MUTATORARG_TOOLTIP="\u95a2\u6570\u3078\u306e\u5165\u529b\u306e\u8ffd\u52a0\u3002",e.Msg.PROCEDURES_MUTATORCONTAINER_TITLE="\u5165\u529b",e.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP="\u3053\u306e\u95a2\u6570\u3078\u306e\u5165\u529b\u306e\u8ffd\u52a0\u3001\u524a\u9664\u3001\u9806\u756a\u5909\u66f4\u3002",e.Msg.REDO="\u3084\u308a\u76f4\u3059",e.Msg.REMOVE_COMMENT="\u30b3\u30e1\u30f3\u30c8\u3092\u524a\u9664",e.Msg.RENAME_VARIABLE="\u5909\u6570\u306e\u540d\u524d\u3092\u5909\u3048\u308b\u2026",e.Msg.RENAME_VARIABLE_TITLE="\u9078\u629e\u3057\u305f%1\u500b\u3059\u3079\u3066\u306e\u5909\u6570\u306e\u540d\u524d\u3092\u5909\u3048\u308b\uff1a",e.Msg.TEXT_APPEND_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",e.Msg.TEXT_APPEND_TITLE="\u9805\u76ee %1 \u3078\u30c6\u30ad\u30b9\u30c8\u3092\u8ffd\u52a0 %2",e.Msg.TEXT_APPEND_TOOLTIP="\u5909\u6570 '%1' \u306b\u30c6\u30ad\u30b9\u30c8\u3092\u8ffd\u52a0\u3002",e.Msg.TEXT_CHANGECASE_HELPURL="https://github.com/google/blockly/wiki/Text#adjusting-text-case",e.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE="\u5c0f\u6587\u5b57\u306b",e.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE="\u30bf\u30a4\u30c8\u30eb \u30b1\u30fc\u30b9\u306b",e.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE="\u5927\u6587\u5b57\u306b",e.Msg.TEXT_CHANGECASE_TOOLTIP="\u5225\u306e\u30b1\u30fc\u30b9\u306b\u3001\u30c6\u30ad\u30b9\u30c8\u306e\u30b3\u30d4\u30fc\u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.TEXT_CHARAT_FIRST="\u6700\u521d\u306e\u6587\u5b57\u3092\u5f97\u308b",e.Msg.TEXT_CHARAT_FROM_END="\u306e\u3001\u5f8c\u308d\u304b\u3089\u4ee5\u4e0b\u306e\u6570\u5b57\u756a\u76ee\u306e\u6587\u5b57\uff1a",e.Msg.TEXT_CHARAT_FROM_START="\u306e\u3001\u4ee5\u4e0b\u306e\u6570\u5b57\u756a\u76ee\u306e\u6587\u5b57\uff1a",e.Msg.TEXT_CHARAT_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-text",e.Msg.TEXT_CHARAT_LAST="\u6700\u5f8c\u306e\u6587\u5b57\u3092\u5f97\u308b",e.Msg.TEXT_CHARAT_RANDOM="\u30e9\u30f3\u30c0\u30e0\u306a\u6587\u5b57\u3092\u5f97\u308b",e.Msg.TEXT_CHARAT_TAIL="",e.Msg.TEXT_CHARAT_TITLE="\u30c6\u30ad\u30b9\u30c8 %1 %2",e.Msg.TEXT_CHARAT_TOOLTIP="\u6307\u5b9a\u3055\u308c\u305f\u4f4d\u7f6e\u306b\u6587\u5b57\u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.TEXT_COUNT_HELPURL="https://github.com/google/blockly/wiki/Text#counting-substrings",e.Msg.TEXT_COUNT_MESSAGE0="%2\u306b\u542b\u307e\u308c\u308b%1\u306e\u6570\u3092\u6570\u3048\u308b",e.Msg.TEXT_COUNT_TOOLTIP="\u3068\u3042\u308b\u6587\u304c\u5225\u306e\u6587\u306e\u306a\u304b\u306b\u4f7f\u308f\u308c\u305f\u56de\u6570\u3092\u6570\u3048\u308b\u3002",e.Msg.TEXT_CREATE_JOIN_ITEM_TOOLTIP="\u30c6\u30ad\u30b9\u30c8\u3078\u9805\u76ee\u3092\u8ffd\u52a0\u3002",e.Msg.TEXT_CREATE_JOIN_TITLE_JOIN="\u7d50\u5408",e.Msg.TEXT_CREATE_JOIN_TOOLTIP="\u30bb\u30af\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0\u3001\u524a\u9664\u3001\u307e\u305f\u306f\u9806\u5e8f\u5909\u66f4\u3057\u3066\u3001\u30d6\u30ed\u30c3\u30af\u3092\u518d\u69cb\u6210\u3002",e.Msg.TEXT_GET_SUBSTRING_END_FROM_END="\u7d42\u4e86\u4f4d\u7f6e\uff1a\u5f8c\u308d\u304b\u3089",e.Msg.TEXT_GET_SUBSTRING_END_FROM_START="\u7d42\u4e86\u4f4d\u7f6e\uff1a",e.Msg.TEXT_GET_SUBSTRING_END_LAST="\u6700\u5f8c\u306e\u306e\u6587\u5b57",e.Msg.TEXT_GET_SUBSTRING_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-a-region-of-text",e.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT="\u30c6\u30ad\u30b9\u30c8",e.Msg.TEXT_GET_SUBSTRING_START_FIRST="\u306e\u90e8\u5206\u6587\u5b57\u5217\u3092\u53d6\u5f97\uff1b\u6700\u521d\u304b\u3089",e.Msg.TEXT_GET_SUBSTRING_START_FROM_END="\u306e\u90e8\u5206\u6587\u5b57\u5217\u3092\u53d6\u5f97\uff1b\u958b\u59cb\u4f4d\u7f6e\uff1a\u5f8c\u308d\u304b\u3089",e.Msg.TEXT_GET_SUBSTRING_START_FROM_START="\u306e\u90e8\u5206\u6587\u5b57\u5217\u3092\u53d6\u5f97\uff1b\u958b\u59cb\u4f4d\u7f6e\uff1a",e.Msg.TEXT_GET_SUBSTRING_TAIL="",e.Msg.TEXT_GET_SUBSTRING_TOOLTIP="\u30c6\u30ad\u30b9\u30c8\u306e\u6307\u5b9a\u90e8\u5206\u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.TEXT_INDEXOF_HELPURL="https://github.com/google/blockly/wiki/Text#finding-text",e.Msg.TEXT_INDEXOF_OPERATOR_FIRST="\u3067\u4ee5\u4e0b\u306e\u30c6\u30ad\u30b9\u30c8\u306e\u6700\u521d\u306e\u51fa\u73fe\u7b87\u6240\u3092\u691c\u7d22\uff1a",e.Msg.TEXT_INDEXOF_OPERATOR_LAST="\u3067\u4ee5\u4e0b\u306e\u30c6\u30ad\u30b9\u30c8\u306e\u6700\u5f8c\u306e\u51fa\u73fe\u7b87\u6240\u3092\u691c\u7d22\uff1a",e.Msg.TEXT_INDEXOF_TITLE="\u30c6\u30ad\u30b9\u30c8 %1 %2 %3",e.Msg.TEXT_INDEXOF_TOOLTIP="\u4e8c\u756a\u76ee\u306e\u30c6\u30ad\u30b9\u30c8\u306e\u4e2d\u3067\u4e00\u756a\u76ee\u306e\u30c6\u30ad\u30b9\u30c8\u304c\u6700\u521d\uff0f\u6700\u5f8c\u306b\u51fa\u73fe\u3057\u305f\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u8fd4\u3059\u3002\u30c6\u30ad\u30b9\u30c8\u304c\u898b\u3064\u304b\u3089\u306a\u3044\u5834\u5408\u306f%1\u3092\u8fd4\u3059\u3002",e.Msg.TEXT_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Text#checking-for-empty-text",e.Msg.TEXT_ISEMPTY_TITLE="%1\u304c\u7a7a",e.Msg.TEXT_ISEMPTY_TOOLTIP="\u4e0e\u3048\u3089\u308c\u305f\u30c6\u30ad\u30b9\u30c8\u304c\u7a7a\u306e\u5834\u5408\u306f true \u3092\u8fd4\u3059\u3002",e.Msg.TEXT_JOIN_HELPURL="https://github.com/google/blockly/wiki/Text#text-creation",e.Msg.TEXT_JOIN_TITLE_CREATEWITH="\u30c6\u30ad\u30b9\u30c8\u306e\u4f5c\u6210\uff1a",e.Msg.TEXT_JOIN_TOOLTIP="\u4efb\u610f\u306e\u6570\u306e\u9805\u76ee\u4e00\u90e8\u3092\u4e00\u7dd2\u306b\u63a5\u5408\u3057\u3066\u30c6\u30ad\u30b9\u30c8\u3092\u4f5c\u6210\u3002",e.Msg.TEXT_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",e.Msg.TEXT_LENGTH_TITLE="%1\u306e\u9577\u3055",e.Msg.TEXT_LENGTH_TOOLTIP="\u4e0e\u3048\u3089\u308c\u305f\u30c6\u30ad\u30b9\u30c8\u306e(\u30b9\u30da\u30fc\u30b9\u3092\u542b\u3080)\u6587\u5b57\u6570\u3092\u8fd4\u3059\u3002",e.Msg.TEXT_PRINT_HELPURL="https://github.com/google/blockly/wiki/Text#printing-text",e.Msg.TEXT_PRINT_TITLE="%1 \u3092\u8868\u793a",e.Msg.TEXT_PRINT_TOOLTIP="\u6307\u5b9a\u3057\u305f\u30c6\u30ad\u30b9\u30c8\u3001\u756a\u53f7\u307e\u305f\u306f\u4ed6\u306e\u5024\u3092\u5370\u5237\u3057\u307e\u3059\u3002",e.Msg.TEXT_PROMPT_HELPURL="https://github.com/google/blockly/wiki/Text#getting-input-from-the-user",e.Msg.TEXT_PROMPT_TOOLTIP_NUMBER="\u30e6\u30fc\u30b6\u30fc\u306b\u6570\u5024\u306e\u30a4\u30f3\u30d7\u30c3\u30c8\u3092\u6c42\u3081\u308b\u3002",e.Msg.TEXT_PROMPT_TOOLTIP_TEXT="\u30e6\u30fc\u30b6\u30fc\u306b\u30c6\u30ad\u30b9\u30c8\u5165\u529b\u3092\u6c42\u3081\u308b\u3002",e.Msg.TEXT_PROMPT_TYPE_NUMBER="\u30e1\u30c3\u30bb\u30fc\u30b8\u3067\u756a\u53f7\u306e\u5165\u529b\u3092\u6c42\u3081\u308b",e.Msg.TEXT_PROMPT_TYPE_TEXT="\u30e1\u30c3\u30bb\u30fc\u30b8\u3067\u30c6\u30ad\u30b9\u30c8\u5165\u529b\u3092\u6c42\u3081\u308b",e.Msg.TEXT_REPLACE_HELPURL="https://github.com/google/blockly/wiki/Text#replacing-substrings",e.Msg.TEXT_REPLACE_MESSAGE0="%3\u306b\u542b\u307e\u308c\u308b%1\u3092%2\u306b\u7f6e\u63db",e.Msg.TEXT_REPLACE_TOOLTIP="\u6587\u306b\u542b\u307e\u308c\u308b\u30ad\u30fc\u30ef\u30fc\u30c9\u3092\u7f6e\u63db\u3059\u308b\u3002",e.Msg.TEXT_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Text#reversing-text",e.Msg.TEXT_REVERSE_MESSAGE0="%1\u3092\u9006\u9806\u306b",e.Msg.TEXT_REVERSE_TOOLTIP="\u6587\u306e\u6587\u5b57\u3092\u9006\u9806\u306b\u3059\u308b\u3002",e.Msg.TEXT_TEXT_HELPURL="https://ja.wikipedia.org/wiki/\u6587\u5b57\u5217",e.Msg.TEXT_TEXT_TOOLTIP="\u6587\u5b57\u3001\u5358\u8a9e\u3001\u307e\u305f\u306f\u884c\u306e\u30c6\u30ad\u30b9\u30c8\u3002",e.Msg.TEXT_TRIM_HELPURL="https://github.com/google/blockly/wiki/Text#trimming-removing-spaces",e.Msg.TEXT_TRIM_OPERATOR_BOTH="\u4e21\u7aef\u306e\u30b9\u30da\u30fc\u30b9\u3092\u53d6\u308a\u9664\u304f",e.Msg.TEXT_TRIM_OPERATOR_LEFT="\u5de6\u7aef\u306e\u30b9\u30da\u30fc\u30b9\u3092\u53d6\u308a\u9664\u304f",e.Msg.TEXT_TRIM_OPERATOR_RIGHT="\u53f3\u7aef\u306e\u30b9\u30da\u30fc\u30b9\u3092\u53d6\u308a\u9664\u304f",e.Msg.TEXT_TRIM_TOOLTIP="\u30b9\u30da\u30fc\u30b9\u3092 1 \u3064\u307e\u305f\u306f\u4e21\u65b9\u306e\u7aef\u304b\u3089\u524a\u9664\u3057\u305f\u306e\u3061\u3001\u30c6\u30ad\u30b9\u30c8\u306e\u30b3\u30d4\u30fc\u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.TODAY="\u4eca\u65e5",e.Msg.UNDO="\u53d6\u308a\u6d88\u3059",e.Msg.UNNAMED_KEY="\u540d\u524d\u306a\u3057",e.Msg.VARIABLES_DEFAULT_NAME="\u9805\u76ee",e.Msg.VARIABLES_GET_CREATE_SET="'\u30bb\u30c3\u30c8%1\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002",e.Msg.VARIABLES_GET_HELPURL="https://github.com/google/blockly/wiki/Variables#get",e.Msg.VARIABLES_GET_TOOLTIP="\u3053\u306e\u5909\u6570\u306e\u5024\u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.VARIABLES_SET="%1 \u306b %2 \u3092\u30bb\u30c3\u30c8",e.Msg.VARIABLES_SET_CREATE_GET="'%1 \u3092\u53d6\u5f97' \u3092\u4f5c\u6210\u3057\u307e\u3059\u3002",e.Msg.VARIABLES_SET_HELPURL="https://github.com/google/blockly/wiki/Variables#set",e.Msg.VARIABLES_SET_TOOLTIP="\u3053\u306e\u5165\u529b\u3092\u5909\u6570\u3068\u7b49\u3057\u304f\u306a\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002",e.Msg.VARIABLE_ALREADY_EXISTS="\u5909\u6570\u540d '%1' \u306f\u65e2\u306b\u5b58\u5728\u3057\u3066\u3044\u307e\u3059\u3002",e.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="'%2' \u578b\u306e '%1' \u3068\u3044\u3046\u540d\u524d\u306e\u5909\u6570\u304c\u65e2\u306b\u5b58\u5728\u3057\u307e\u3059\u3002",e.Msg.WORKSPACE_ARIA_LABEL="Blockly\u30ef\u30fc\u30af\u30b9\u30da\u30fc\u30b9",e.Msg.WORKSPACE_COMMENT_DEFAULT_TEXT="\u3053\u3053\u3078\u5165\u529b",e.Msg.CONTROLS_FOREACH_INPUT_DO=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.CONTROLS_FOR_INPUT_DO=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.CONTROLS_IF_ELSEIF_TITLE_ELSEIF=e.Msg.CONTROLS_IF_MSG_ELSEIF,e.Msg.CONTROLS_IF_ELSE_TITLE_ELSE=e.Msg.CONTROLS_IF_MSG_ELSE,e.Msg.CONTROLS_IF_IF_TITLE_IF=e.Msg.CONTROLS_IF_MSG_IF,e.Msg.CONTROLS_IF_MSG_THEN=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.CONTROLS_WHILEUNTIL_INPUT_DO=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.LISTS_CREATE_WITH_ITEM_TITLE=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.LISTS_GET_INDEX_HELPURL=e.Msg.LISTS_INDEX_OF_HELPURL,e.Msg.LISTS_GET_INDEX_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.LISTS_INDEX_OF_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.LISTS_SET_INDEX_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.MATH_CHANGE_TITLE_ITEM=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.PROCEDURES_DEFRETURN_COMMENT=e.Msg.PROCEDURES_DEFNORETURN_COMMENT,e.Msg.PROCEDURES_DEFRETURN_DO=e.Msg.PROCEDURES_DEFNORETURN_DO,e.Msg.PROCEDURES_DEFRETURN_PROCEDURE=e.Msg.PROCEDURES_DEFNORETURN_PROCEDURE,e.Msg.PROCEDURES_DEFRETURN_TITLE=e.Msg.PROCEDURES_DEFNORETURN_TITLE,e.Msg.TEXT_APPEND_VARIABLE=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.TEXT_CREATE_JOIN_ITEM_TITLE_ITEM=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.MATH_HUE="230",e.Msg.LOOPS_HUE="120",e.Msg.LISTS_HUE="260",e.Msg.LOGIC_HUE="210",e.Msg.VARIABLES_HUE="330",e.Msg.TEXTS_HUE="160",e.Msg.PROCEDURES_HUE="290",e.Msg.COLOUR_HUE="20",e.Msg.VARIABLES_DYNAMIC_HUE="310",e.Msg})?r.apply(t,i):r)||(e.exports=o)},7161:function(e,t,n){var r,i,o;i=[n(947)],void 0===(o="function"===typeof(r=function(e){return(e={Msg:{}}).Msg.ADD_COMMENT="\uc8fc\uc11d \ucd94\uac00",e.Msg.CANNOT_DELETE_VARIABLE_PROCEDURE="'%2' \ud568\uc218 \uc815\uc758\uc758 \uc77c\ubd80\uc774\uae30 \ub54c\ubb38\uc5d0 '%1' \ubcc0\uc218\ub97c \uc0ad\uc81c\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4",e.Msg.CHANGE_VALUE_TITLE="\uac12 \ubc14\uafb8\uae30:",e.Msg.CLEAN_UP="\ube14\ub85d \uc815\ub9ac",e.Msg.COLLAPSED_WARNINGS_WARNING="\uc811\ud78c \ube14\ub85d\uc774 \uacbd\uace0\ub97c \ud3ec\ud568\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4.",e.Msg.COLLAPSE_ALL="\ube14\ub85d \ucd95\uc18c",e.Msg.COLLAPSE_BLOCK="\ube14\ub85d \ucd95\uc18c",e.Msg.COLOUR_BLEND_COLOUR1="\uc0c9 1",e.Msg.COLOUR_BLEND_COLOUR2="\uc0c9 2",e.Msg.COLOUR_BLEND_HELPURL="http://meyerweb.com/eric/tools/color-blend/",e.Msg.COLOUR_BLEND_RATIO="\ube44\uc728",e.Msg.COLOUR_BLEND_TITLE="\ud63c\ud569",e.Msg.COLOUR_BLEND_TOOLTIP="\ub450 \uc0c9\uc744 \uc8fc\uc5b4\uc9c4 \ube44\uc728\ub85c \ud63c\ud569 (0.0 - 1.0)",e.Msg.COLOUR_PICKER_HELPURL="https://ko.wikipedia.org/wiki/\uc0c9",e.Msg.COLOUR_PICKER_TOOLTIP="\ud314\ub808\ud2b8\uc5d0\uc11c \uc0c9\uc744 \uace0\ub985\ub2c8\ub2e4",e.Msg.COLOUR_RANDOM_HELPURL="http://randomcolour.com",e.Msg.COLOUR_RANDOM_TITLE="\ubb34\uc791\uc704 \uc0c9\uc0c1",e.Msg.COLOUR_RANDOM_TOOLTIP="\ubb34\uc791\uc704\ub85c \uc0c9\uc744 \uace0\ub985\ub2c8\ub2e4.",e.Msg.COLOUR_RGB_BLUE="\ud30c\ub791",e.Msg.COLOUR_RGB_GREEN="\ucd08\ub85d",e.Msg.COLOUR_RGB_HELPURL="http://www.december.com/html/spec/colorper.html",e.Msg.COLOUR_RGB_RED="\ube68\uac15",e.Msg.COLOUR_RGB_TITLE="\uc0c9",e.Msg.COLOUR_RGB_TOOLTIP="\ube68\uac15,\ud30c\ub791,\ucd08\ub85d\uc758 \uac12\uc744 \uc774\uc6a9\ud558\uc5ec \uc0c9\uc744 \ub9cc\ub4dc\uc2ed\uc2dc\uc624. \ubaa8\ub4e0 \uac12\uc740 0\uacfc 100 \uc0ac\uc774\uc5d0 \uc788\uc5b4\uc57c \ud569\ub2c8\ub2e4.",e.Msg.CONTROLS_FLOW_STATEMENTS_HELPURL="https://ko.wikipedia.org/wiki/%EC%A0%9C%EC%96%B4_%ED%9D%90%EB%A6%84",e.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK="\ubc18\ubcf5 \uc911\ub2e8",e.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE="\ub2e4\uc74c \ubc18\ubcf5",e.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK="\ud604\uc7ac \ubc18\ubcf5 \uc2e4\ud589 \ube14\ub7ed\uc744 \ube60\uc838\ub098\uac11\ub2c8\ub2e4.",e.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE="\ub098\uba38\uc9c0 \ubc18\ubcf5 \ubd80\ubd84\uc744 \ub354 \uc774\uc0c1 \uc2e4\ud589\ud558\uc9c0 \uc54a\uace0, \ub2e4\uc74c \ubc18\ubcf5\uc744 \uc218\ud589\ud569\ub2c8\ub2e4.",e.Msg.CONTROLS_FLOW_STATEMENTS_WARNING="\uacbd\uace0 : \uc774 \ube14\ub85d\uc740 \ubc18\ubcf5 \uc2e4\ud589 \ube14\ub7ed \uc548\uc5d0\uc11c\ub9cc \uc0ac\uc6a9\ub429\ub2c8\ub2e4.",e.Msg.CONTROLS_FOREACH_HELPURL="https://ko.wikipedia.org/wiki/For_%EB%A3%A8%ED%94%84#.EC.9E.84.EC.9D.98.EC.9D.98_.EC.A7.91.ED.95.A9",e.Msg.CONTROLS_FOREACH_TITLE="\uac01 \ud56d\ubaa9\uc5d0 \ub300\ud574 %1 \ubaa9\ub85d\uc73c\ub85c %2",e.Msg.CONTROLS_FOREACH_TOOLTIP="\ub9ac\uc2a4\ud2b8 \uc548\uc5d0 \ub4e4\uc5b4\uc788\ub294 \uac01 \uc544\uc774\ud15c\ub4e4\uc744, \uc21c\uc11c\ub300\ub85c \ubcc0\uc218 '%1' \uc5d0 \ud55c \ubc88\uc529 \uc800\uc7a5\uc2dc\ud0a4\uace0, \uadf8 \ub54c \ub9c8\ub2e4 \uba85\ub839\uc744 \uc2e4\ud589\ud569\ub2c8\ub2e4.",e.Msg.CONTROLS_FOR_HELPURL="https://ko.wikipedia.org/wiki/For_%EB%A3%A8%ED%94%84",e.Msg.CONTROLS_FOR_TITLE="\uc73c\ub85c \uacc4\uc0b0 %1 %2\uc5d0\uc11c %4\uc744 \uc774\uc6a9\ud558\uc5ec %3\ub85c",e.Msg.CONTROLS_FOR_TOOLTIP='\ubcc0\uc218 "%1"\uc740 \uc9c0\uc815\ub41c \uac04\uaca9\uc73c\ub85c \uc2dc\uc791 \uc218\uc5d0\uc11c \ub05d \uc218\uae4c\uc9c0\ub97c \uc138\uc5b4 \uc9c0\uc815\ub41c \ube14\ub85d\uc744 \uc218\ud589\ud574\uc57c \ud569\ub2c8\ub2e4.',e.Msg.CONTROLS_IF_ELSEIF_TOOLTIP='"\ub9cc\uc57d" \ube14\ub7ed\uc5d0 \uc870\uac74 \uac80\uc0ac\ub97c \ucd94\uac00\ud569\ub2c8\ub2e4.',e.Msg.CONTROLS_IF_ELSE_TOOLTIP='"\ub9cc\uc57d" \ube14\ub7ed\uc758 \ub9c8\uc9c0\ub9c9\uc5d0, \ubaa8\ub4e0 \uac80\uc0ac \uacb0\uacfc\uac00 \uac70\uc9d3\uc778 \uacbd\uc6b0 \uc2e4\ud589\ud560 \ubd80\ubd84\uc744 \ucd94\uac00\ud569\ub2c8\ub2e4.',e.Msg.CONTROLS_IF_HELPURL="https://ko.wikipedia.org/wiki/%EC%A1%B0%EA%B1%B4%EB%AC%B8",e.Msg.CONTROLS_IF_IF_TOOLTIP="\uc139\uc158\uc744 \ucd94\uac00, \uc81c\uac70\ud558\uac70\ub098 \uc21c\uc11c\ub97c \ubcc0\uacbd\ud558\uc5ec \uc774 if \ube14\ub7ed\uc744 \uc7ac\uad6c\uc131\ud569\ub2c8\ub2e4.",e.Msg.CONTROLS_IF_MSG_ELSE="\uc544\ub2c8\ub77c\uba74",e.Msg.CONTROLS_IF_MSG_ELSEIF="\ub2e4\ub978 \uacbd\uc6b0",e.Msg.CONTROLS_IF_MSG_IF="\ub9cc\uc57d",e.Msg.CONTROLS_IF_TOOLTIP_1="\uc870\uac74\uc2dd\uc758 \uacc4\uc0b0 \uacb0\uacfc\uac00 \ucc38\uc774\uba74, \uba85\ub839\uc744 \uc2e4\ud589\ud569\ub2c8\ub2e4.",e.Msg.CONTROLS_IF_TOOLTIP_2="\uc870\uac74\uc2dd\uc758 \uacc4\uc0b0 \uacb0\uacfc\uac00 \ucc38\uc774\uba74, \uccab \ubc88\uc9f8 \ube14\ub7ed\uc758 \uba85\ub839\uc744 \uc2e4\ud589\ud558\uace0, \uadf8\ub807\uc9c0 \uc54a\uc73c\uba74 \ub450 \ubc88\uc9f8 \ube14\ub7ed\uc758 \uba85\ub839\uc744 \uc2e4\ud589\ud569\ub2c8\ub2e4.",e.Msg.CONTROLS_IF_TOOLTIP_3="\uccab \ubc88\uc9f8 \uc870\uac74\uc2dd\uc758 \uacc4\uc0b0 \uacb0\uacfc\uac00 \ucc38\uc774\uba74, \uccab \ubc88\uc9f8 \ube14\ub7ed\uc758 \uba85\ub839\uc744 \uc2e4\ud589\ud558\uace0, \ub450 \ubc88\uc9f8 \uc870\uac74\uc2dd\uc758 \uacc4\uc0b0 \uacb0\uacfc\uac00 \ucc38\uc774\uba74, \ub450 \ubc88\uc9f8 \ube14\ub7ed\uc758 \uba85\ub839\uc744 \uc2e4\ud589\ud569\ub2c8\ub2e4.",e.Msg.CONTROLS_IF_TOOLTIP_4="\uccab \ubc88\uc9f8 \uc870\uac74\uc2dd\uc758 \uacc4\uc0b0 \uacb0\uacfc\uac00 \ucc38\uc774\uba74, \uccab \ubc88\uc9f8 \ube14\ub7ed\uc758 \uba85\ub839\uc744 \uc2e4\ud589\ud558\uace0, \ub450 \ubc88\uc9f8 \uc870\uac74\uc2dd\uc758 \uacc4\uc0b0 \uacb0\uacfc\uac00 \ucc38\uc774\uba74, \ub450 \ubc88\uc9f8 \ube14\ub7ed\uc758 \uba85\ub839\uc744 \uc2e4\ud589\ud558\uace0, ... , \uc5b4\ub5a4 \uc870\uac74\uc2dd\uc758 \uacc4\uc0b0 \uacb0\uacfc\ub3c4 \ucc38\uc774 \uc544\ub2c8\uba74, \ub9c8\uc9c0\ub9c9 \ube14\ub7ed\uc758 \uba85\ub839\uc744 \uc2e4\ud589\ud569\ub2c8\ub2e4.",e.Msg.CONTROLS_REPEAT_HELPURL="https://ko.wikipedia.org/wiki/For_\ub8e8\ud504",e.Msg.CONTROLS_REPEAT_INPUT_DO="\ud558\uae30",e.Msg.CONTROLS_REPEAT_TITLE="%1\ud68c \ubc18\ubcf5",e.Msg.CONTROLS_REPEAT_TOOLTIP="\uc5ec\ub7ec \ubc88 \ubc18\ubcf5\ud574 \uba85\ub839\ub4e4\uc744 \uc2e4\ud589\ud569\ub2c8\ub2e4.",e.Msg.CONTROLS_WHILEUNTIL_HELPURL="https://ko.wikipedia.org/wiki/While_%EB%A3%A8%ED%94%84",e.Msg.CONTROLS_WHILEUNTIL_OPERATOR_UNTIL="\ub2e4\uc74c\uae4c\uc9c0 \ubc18\ubcf5",e.Msg.CONTROLS_WHILEUNTIL_OPERATOR_WHILE="\ub3d9\uc548 \ubc18\ubcf5",e.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL="\uac12\uc774 \uac70\uc9d3\uc77c \ub54c, \uba87 \uac00\uc9c0 \uc120\uc5b8\uc744 \ud569\ub2c8\ub2e4.",e.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE="\uac12\uc774 \ucc38\uc77c \ub54c, \uba87 \uac00\uc9c0 \uc120\uc5b8\uc744 \ud569\ub2c8\ub2e4.",e.Msg.DELETE_ALL_BLOCKS="\ubaa8\ub4e0 \ube14\ub85d %1\uac1c\ub97c \uc0ad\uc81c\ud558\uaca0\uc2b5\ub2c8\uae4c?",e.Msg.DELETE_BLOCK="\ube14\ub85d \uc0ad\uc81c",e.Msg.DELETE_VARIABLE="'%1' \ubcc0\uc218\ub97c \uc0ad\uc81c\ud569\ub2c8\ub2e4",e.Msg.DELETE_VARIABLE_CONFIRMATION="'%2' \ubcc0\uc218\uc5d0\uc11c %1\uc744(\ub97c) \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",e.Msg.DELETE_X_BLOCKS="\ube14\ub85d %1\uac1c \uc0ad\uc81c",e.Msg.DISABLE_BLOCK="\ube14\ub85d \ube44\ud65c\uc131\ud654",e.Msg.DUPLICATE_BLOCK="\ubcf5\uc81c",e.Msg.DUPLICATE_COMMENT="\uc8fc\uc11d \ubcf5\uc81c\ud558\uae30",e.Msg.ENABLE_BLOCK="\ube14\ub85d \ud65c\uc131\ud654",e.Msg.EXPAND_ALL="\ube14\ub85d \ud655\uc7a5",e.Msg.EXPAND_BLOCK="\ube14\ub85d \ud655\uc7a5",e.Msg.EXTERNAL_INPUTS="\uc678\ubd80 \uc785\ub825",e.Msg.HELP="\ub3c4\uc6c0\ub9d0",e.Msg.INLINE_INPUTS="\ub0b4\ubd80 \uc785\ub825",e.Msg.IOS_CANCEL="\ucde8\uc18c",e.Msg.IOS_ERROR="\uc624\ub958",e.Msg.IOS_OK="\ud655\uc778",e.Msg.IOS_PROCEDURES_ADD_INPUT="+ \uc785\ub825 \ucd94\uac00",e.Msg.IOS_PROCEDURES_ALLOW_STATEMENTS="\uad6c\ubb38 \ud5c8\uac00",e.Msg.IOS_PROCEDURES_DUPLICATE_INPUTS_ERROR="\uc774 \uae30\ub2a5\uc740 \uc911\ubcf5\ub41c \uc785\ub825\uc774 \uc788\uc2b5\ub2c8\ub2e4.",e.Msg.IOS_PROCEDURES_INPUTS="\uc785\ub825",e.Msg.IOS_VARIABLES_ADD_BUTTON="\ucd94\uac00",e.Msg.IOS_VARIABLES_ADD_VARIABLE="+ \ubcc0\uc218 \ucd94\uac00",e.Msg.IOS_VARIABLES_DELETE_BUTTON="\uc0ad\uc81c",e.Msg.IOS_VARIABLES_EMPTY_NAME_ERROR="\ube44\uc5b4\uc788\ub294 \ubcc0\uc218 \uc774\ub984\uc744 \uc0ac\uc6a9\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.",e.Msg.IOS_VARIABLES_RENAME_BUTTON="\uc774\ub984 \ubc14\uafb8\uae30",e.Msg.IOS_VARIABLES_VARIABLE_NAME="\ubcc0\uc218 \uc774\ub984",e.Msg.LISTS_CREATE_EMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#create-empty-list",e.Msg.LISTS_CREATE_EMPTY_TITLE="\ube48 \ub9ac\uc2a4\ud2b8 \uc0dd\uc131",e.Msg.LISTS_CREATE_EMPTY_TOOLTIP="\ub370\uc774\ud130 \ub808\ucf54\ub4dc\uac00 \uc5c6\ub294, \uae38\uc774\uac00 0\uc778 \ubaa9\ub85d\uc744 \ubc18\ud658\ud569\ub2c8\ub2e4.",e.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD="\ub9ac\uc2a4\ud2b8",e.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP="\uc139\uc158\uc744 \ucd94\uac00, \uc81c\uac70\ud558\uac70\ub098 \uc21c\uc11c\ub97c \ubcc0\uacbd\ud558\uc5ec \uc774 \ub9ac\uc2a4\ud2b8 \ube14\ub7ed\uc744 \uc7ac\uad6c\uc131\ud569\ub2c8\ub2e4.",e.Msg.LISTS_CREATE_WITH_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",e.Msg.LISTS_CREATE_WITH_INPUT_WITH="\ub9ac\uc2a4\ud2b8 \ub9cc\ub4e4\uae30",e.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP="\uc544\uc774\ud15c\uc744 \ub9ac\uc2a4\ud2b8\uc5d0 \ucd94\uac00\ud569\ub2c8\ub2e4.",e.Msg.LISTS_CREATE_WITH_TOOLTIP="\uc6d0\ud558\ub294 \uc218\uc758 \ud56d\ubaa9\ub4e4\ub85c \ubaa9\ub85d\uc744 \uc0dd\uc131\ud569\ub2c8\ub2e4.",e.Msg.LISTS_GET_INDEX_FIRST="\uccab \ubc88\uc9f8",e.Msg.LISTS_GET_INDEX_FROM_END="\ub9c8\uc9c0\ub9c9 \ubc88\uc9f8 \uc704\uce58\ubd80\ud130, # \ubc88\uc9f8",e.Msg.LISTS_GET_INDEX_FROM_START="#",e.Msg.LISTS_GET_INDEX_GET="\uac00\uc838\uc624\uae30",e.Msg.LISTS_GET_INDEX_GET_REMOVE="\uc798\ub77c \ub0b4\uae30",e.Msg.LISTS_GET_INDEX_LAST="\ub9c8\uc9c0\ub9c9",e.Msg.LISTS_GET_INDEX_RANDOM="\uc784\uc758\ub85c",e.Msg.LISTS_GET_INDEX_REMOVE="\uc0ad\uc81c",e.Msg.LISTS_GET_INDEX_TAIL="",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST="\uccab \ubc88\uc9f8 \uc544\uc774\ud15c\uc744 \ucc3e\uc544 \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM="\ubaa9\ub85d\uc5d0\uc11c \ud2b9\uc815 \uc704\uce58\uc758 \ud56d\ubaa9\uc744 \ubc18\ud658\ud569\ub2c8\ub2e4.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST="\ub9c8\uc9c0\ub9c9 \uc544\uc774\ud15c\uc744 \ucc3e\uc544 \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM="\ub9ac\uc2a4\ud2b8\uc758 \uc544\uc774\ud15c\ub4e4 \uc911, \ub79c\ub364\uc73c\ub85c \uc120\ud0dd\ud574 \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST="\uccab \ubc88\uc9f8 \uc544\uc774\ud15c\uc744 \ucc3e\uc544\ub0b4 \ub3cc\ub824\uc8fc\uace0, \uadf8 \uc544\uc774\ud15c\uc744 \ub9ac\uc2a4\ud2b8\uc5d0\uc11c \uc0ad\uc81c\ud569\ub2c8\ub2e4.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM="\ubaa9\ub85d\uc758 \ud2b9\uc815 \uc704\uce58\uc5d0 \uc788\ub294 \ud56d\ubaa9\uc744 \uc81c\uac70\ud558\uace0 \ubc18\ud658\ud569\ub2c8\ub2e4.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST="\ub9c8\uc9c0\ub9c9 \uc544\uc774\ud15c\uc744 \ucc3e\uc544\ub0b4 \ub3cc\ub824\uc8fc\uace0, \uadf8 \uc544\uc774\ud15c\uc744 \ub9ac\uc2a4\ud2b8\uc5d0\uc11c \uc0ad\uc81c\ud569\ub2c8\ub2e4.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM="\ubaa9\ub85d\uc5d0\uc11c \uc784\uc758 \uc704\uce58\uc758 \uc544\uc774\ud15c\uc744 \ucc3e\uc544\ub0b4 \uc0ad\uc81c\ud558\uace0 \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST="\ub9ac\uc2a4\ud2b8\uc5d0\uc11c \uccab \ubc88\uc9f8 \uc544\uc774\ud15c\uc744 \uc0ad\uc81c\ud569\ub2c8\ub2e4.",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM="\ubaa9\ub85d\uc5d0\uc11c \ud2b9\uc815 \uc704\uce58\uc758 \ud56d\ubaa9\uc744 \uc0ad\uc81c\ud569\ub2c8\ub2e4.",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST="\ub9ac\uc2a4\ud2b8\uc5d0\uc11c \ub9c8\uc9c0\ub9c9 \uc544\uc774\ud15c\uc744 \ucc3e\uc544 \uc0ad\uc81c\ud569\ub2c8\ub2e4.",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM="\ub9ac\uc2a4\ud2b8\uc5d0\uc11c \ub79c\ub364\ud558\uac8c \uc544\uc774\ud15c\uc744 \uc0ad\uc81c\ud569\ub2c8\ub2e4.",e.Msg.LISTS_GET_SUBLIST_END_FROM_END="\ub05d\uc5d0\uc11c\ubd80\ud130 # \ubc88\uc9f8\ub85c",e.Msg.LISTS_GET_SUBLIST_END_FROM_START="\uc55e\uc5d0\uc11c\ubd80\ud130 # \ubc88\uc9f8\ub85c",e.Msg.LISTS_GET_SUBLIST_END_LAST="\ub9c8\uc9c0\ub9c9\uc73c\ub85c",e.Msg.LISTS_GET_SUBLIST_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-a-sublist",e.Msg.LISTS_GET_SUBLIST_START_FIRST="\uccab \ubc88\uc9f8 \uc704\uce58\ubd80\ud130, \uc11c\ube0c \ub9ac\uc2a4\ud2b8 \ucd94\ucd9c",e.Msg.LISTS_GET_SUBLIST_START_FROM_END="\ub9c8\uc9c0\ub9c9\ubd80\ud130 # \ubc88\uc9f8 \uc704\uce58\ubd80\ud130, \uc11c\ube0c \ub9ac\uc2a4\ud2b8 \ucd94\ucd9c",e.Msg.LISTS_GET_SUBLIST_START_FROM_START="\ucc98\uc74c # \ubc88\uc9f8 \uc704\uce58\ubd80\ud130, \uc11c\ube0c \ub9ac\uc2a4\ud2b8 \ucd94\ucd9c",e.Msg.LISTS_GET_SUBLIST_TAIL="",e.Msg.LISTS_GET_SUBLIST_TOOLTIP="\ubaa9\ub85d\uc758 \ud2b9\uc815 \ubd80\ubd84\uc5d0 \ub300\ud55c \ubcf5\uc0ac\ubcf8\uc744 \ub9cc\ub4ed\ub2c8\ub2e4.",e.Msg.LISTS_INDEX_FROM_END_TOOLTIP="%1\uc740(\ub294) \ub9c8\uc9c0\ub9c9 \ud56d\ubaa9\uc785\ub2c8\ub2e4.",e.Msg.LISTS_INDEX_FROM_START_TOOLTIP="%1\uc740 \uccab \ubc88\uc9f8 \ud56d\ubaa9\uc785\ub2c8\ub2e4.",e.Msg.LISTS_INDEX_OF_FIRST="\ucc98\uc74c\uc73c\ub85c \ub098\ud0c0\ub09c \uc704\uce58",e.Msg.LISTS_INDEX_OF_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-items-from-a-list",e.Msg.LISTS_INDEX_OF_LAST="\ub9c8\uc9c0\ub9c9\uc73c\ub85c \ub098\ud0c0\ub09c \uc704\uce58",e.Msg.LISTS_INDEX_OF_TOOLTIP="\ubaa9\ub85d\uc5d0\uc11c \ud56d\ubaa9\uc774 \ucc98\uc74c \ub610\ub294 \ub9c8\uc9c0\ub9c9\uc73c\ub85c \ubc1c\uc0dd\ud55c \uc0c9\uc778 \uc704\uce58\ub97c \ubc18\ud658\ud569\ub2c8\ub2e4. \ud56d\ubaa9\uc774 \uc5c6\uc73c\uba74 %1\uc744 \ubc18\ud658\ud569\ub2c8\ub2e4.",e.Msg.LISTS_INLIST="\ub9ac\uc2a4\ud2b8",e.Msg.LISTS_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#is-empty",e.Msg.LISTS_ISEMPTY_TITLE="%1\uc774 \ube44\uc5b4 \uc788\uc2b5\ub2c8\ub2e4",e.Msg.LISTS_ISEMPTY_TOOLTIP="\ubaa9\ub85d\uc774 \ube44\uc5c8\uc744 \ub54c \ucc38\uc744 \ubc18\ud658\ud569\ub2c8\ub2e4.",e.Msg.LISTS_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Lists#length-of",e.Msg.LISTS_LENGTH_TITLE="%1\uc758 \uae38\uc774",e.Msg.LISTS_LENGTH_TOOLTIP="\ubaa9\ub85d\uc758 \uae38\uc774\ub97c \ubc18\ud658\ud569\ub2c8\ub2e4.",e.Msg.LISTS_REPEAT_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",e.Msg.LISTS_REPEAT_TITLE="%1\uc744 %2\ubc88 \ub123\uc5b4, \ub9ac\uc2a4\ud2b8 \uc0dd\uc131",e.Msg.LISTS_REPEAT_TOOLTIP="\uc9c0\uc815\ub41c \uac12\uc744, \uc9c0\uc815\ub41c \uac1c\uc218 \ub9cc\ud07c \ub123\uc5b4, \ubaa9\ub85d\uc744 \uc0dd\uc131\ud569\ub2c8\ub2e4.",e.Msg.LISTS_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Lists#reversing-a-list",e.Msg.LISTS_REVERSE_MESSAGE0="%1 \ub4a4\uc9d1\uae30",e.Msg.LISTS_REVERSE_TOOLTIP="\ub9ac\uc2a4\ud2b8\uc758 \ubcf5\uc0ac\ubcf8\uc744 \ub4a4\uc9d1\uc2b5\ub2c8\ub2e4.",e.Msg.LISTS_SET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#in-list--set",e.Msg.LISTS_SET_INDEX_INPUT_TO="\uc5d0",e.Msg.LISTS_SET_INDEX_INSERT="\uc5d0\uc11c \uc6d0\ud558\ub294 \uc704\uce58\uc5d0 \uc0bd\uc785",e.Msg.LISTS_SET_INDEX_SET="\uc5d0\uc11c \uc124\uc815",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST="\ud56d\ubaa9\uc744 \ubaa9\ub85d\uc758 \ucc98\uc74c \uc704\uce58\uc5d0 \uc0bd\uc785\ud569\ub2c8\ub2e4.",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM="\ubaa9\ub85d\uc758 \ud2b9\uc815 \uc704\uce58\uc5d0 \ud56d\ubaa9\uc744 \uc0bd\uc785\ud569\ub2c8\ub2e4.",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST="\ub9ac\uc2a4\ud2b8\uc758 \ub9c8\uc9c0\ub9c9\uc5d0 \uc544\uc774\ud15c\uc744 \ucd94\uac00\ud569\ub2c8\ub2e4.",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM="\ubaa9\ub85d\uc5d0\uc11c \uc784\uc758 \uc704\uce58\uc5d0 \uc544\uc774\ud15c\uc744 \uc0bd\uc785\ud569\ub2c8\ub2e4.",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST="\uccab \ubc88\uc9f8 \uc704\uce58\uc758 \uc544\uc774\ud15c\uc73c\ub85c \uc124\uc815\ud569\ub2c8\ub2e4.",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM="\ubaa9\ub85d\uc758 \ud2b9\uc815 \uc704\uce58\uc5d0 \uc788\ub294 \ud56d\ubaa9\uc73c\ub85c \uc124\uc815\ud569\ub2c8\ub2e4.",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST="\ub9c8\uc9c0\ub9c9 \uc544\uc774\ud15c\uc73c\ub85c \uc124\uc815\ud569\ub2c8\ub2e4.",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM="\ubaa9\ub85d\uc5d0\uc11c \uc784\uc758 \uc704\uce58\uc758 \uc544\uc774\ud15c\uc744 \uc124\uc815\ud569\ub2c8\ub2e4.",e.Msg.LISTS_SORT_HELPURL="https://github.com/google/blockly/wiki/Lists#sorting-a-list",e.Msg.LISTS_SORT_ORDER_ASCENDING="\uc624\ub984\ucc28\uc21c",e.Msg.LISTS_SORT_ORDER_DESCENDING="\ub0b4\ub9bc\ucc28\uc21c",e.Msg.LISTS_SORT_TITLE="\uc815\ub82c %1 %2 %3",e.Msg.LISTS_SORT_TOOLTIP="\ubaa9\ub85d\uc758 \uc0ac\ubcf8\uc744 \uc815\ub82c\ud569\ub2c8\ub2e4.",e.Msg.LISTS_SORT_TYPE_IGNORECASE="\uc54c\ud30c\ubcb3\uc21c (\ub300\uc18c\ubb38\uc790 \uad6c\ubd84 \uc548 \ud568)",e.Msg.LISTS_SORT_TYPE_NUMERIC="\uc22b\uc790\uc21c",e.Msg.LISTS_SORT_TYPE_TEXT="\uc54c\ud30c\ubcb3\uc21c",e.Msg.LISTS_SPLIT_HELPURL="https://github.com/google/blockly/wiki/Lists#splitting-strings-and-joining-lists",e.Msg.LISTS_SPLIT_LIST_FROM_TEXT="\ud14d\uc2a4\ud2b8\uc5d0\uc11c \ubaa9\ub85d \ub9cc\ub4e4\uae30",e.Msg.LISTS_SPLIT_TEXT_FROM_LIST="\ubaa9\ub85d\uc5d0\uc11c \ud14d\uc2a4\ud2b8 \ub9cc\ub4e4\uae30",e.Msg.LISTS_SPLIT_TOOLTIP_JOIN="\uad6c\ubd84 \uae30\ud638\ub85c \uad6c\ubd84\ud558\uc5ec \ud14d\uc2a4\ud2b8 \ubaa9\ub85d\uc744 \ud558\ub098\uc758 \ud14d\uc2a4\ud2b8\uc5d0 \ubcd1\ud569\ud569\ub2c8\ub2e4.",e.Msg.LISTS_SPLIT_TOOLTIP_SPLIT="\uac01 \uc18d\ubcf4, \ud14d\uc2a4\ud2b8\uc758 \ubaa9\ub85d\ub4e4\uc5d0\uc11c \ud14d\uc2a4\ud2b8\ub97c \ubd84\ud560\ud569\ub2c8\ub2e4.",e.Msg.LISTS_SPLIT_WITH_DELIMITER="\ubd84\ub9ac\uc640",e.Msg.LOGIC_BOOLEAN_FALSE="\uac70\uc9d3",e.Msg.LOGIC_BOOLEAN_HELPURL="https://ko.wikipedia.org/wiki/%EC%A7%84%EB%A6%BF%EA%B0%92",e.Msg.LOGIC_BOOLEAN_TOOLTIP="\ucc38 \ud639\uc740 \uac70\uc9d3 \ubaa8\ub450 \ubc18\ud658\ud569\ub2c8\ub2e4.",e.Msg.LOGIC_BOOLEAN_TRUE="\ucc38",e.Msg.LOGIC_COMPARE_HELPURL="https://ko.wikipedia.org/wiki/\ubd80\ub4f1\uc2dd",e.Msg.LOGIC_COMPARE_TOOLTIP_EQ="\ub450 \uac12\uc774 \uac19\uc73c\uba74, \ucc38(true) \uac12\uc744 \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.LOGIC_COMPARE_TOOLTIP_GT="\uccab \ubc88\uc9f8 \uac12\uc774 \ub450 \ubc88\uc9f8 \uac12\ubcf4\ub2e4 \ud06c\uba74, \ucc38(true) \uac12\uc744 \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.LOGIC_COMPARE_TOOLTIP_GTE="\uccab \ubc88\uc9f8 \uac12\uc774 \ub450 \ubc88\uc9f8 \uac12\ubcf4\ub2e4 \ud06c\uac70\ub098 \uac19\uc73c\uba74, \ucc38(true) \uac12\uc744 \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.LOGIC_COMPARE_TOOLTIP_LT="\uccab \ubc88\uc9f8 \uac12\uc774 \ub450 \ubc88\uc9f8 \uac12\ubcf4\ub2e4 \uc791\uc73c\uba74, \ucc38(true) \uac12\uc744 \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.LOGIC_COMPARE_TOOLTIP_LTE="\uccab \ubc88\uc9f8 \uac12\uc774 \ub450 \ubc88\uc9f8 \uac12\ubcf4\ub2e4 \uc791\uac70\ub098 \uac19\uc73c\uba74, \ucc38(true) \uac12\uc744 \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.LOGIC_COMPARE_TOOLTIP_NEQ="\ub450 \uac12\uc774 \uc11c\ub85c \ub2e4\ub974\uba74, \ucc38(true) \uac12\uc744 \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.LOGIC_NEGATE_HELPURL="https://ko.wikipedia.org/wiki/%EB%B6%80%EC%A0%95",e.Msg.LOGIC_NEGATE_TITLE="%1\uac00 \uc544\ub2d9\ub2c8\ub2e4",e.Msg.LOGIC_NEGATE_TOOLTIP="\uc785\ub825\uac12\uc774 \uac70\uc9d3\uc774\ub77c\uba74 \ucc38\uc744 \ubc18\ud658\ud569\ub2c8\ub2e4. \ucc38\uc774\ub77c\uba74 \uac70\uc9d3\uc744 \ubc18\ud658\ud569\ub2c8\ub2e4.",e.Msg.LOGIC_NULL="\ube48 \uac12",e.Msg.LOGIC_NULL_HELPURL="https://en.wikipedia.org/wiki/Nullable_type",e.Msg.LOGIC_NULL_TOOLTIP="\ube48 \uac12\uc744 \ubc18\ud658\ud569\ub2c8\ub2e4.",e.Msg.LOGIC_OPERATION_AND="\uadf8\ub9ac\uace0",e.Msg.LOGIC_OPERATION_HELPURL="https://ko.wikipedia.org/wiki/%EB%B6%88_%EB%85%BC%EB%A6%AC",e.Msg.LOGIC_OPERATION_OR="\ub610\ub294",e.Msg.LOGIC_OPERATION_TOOLTIP_AND="\ub450 \uac12\uc774 \ubaa8\ub450 \ucc38(true) \uac12\uc774\uba74, \ucc38 \uac12\uc744 \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.LOGIC_OPERATION_TOOLTIP_OR="\uc801\uc5b4\ub3c4 \ud558\ub098\uc758 \uac12\uc774 \ucc38\uc77c \uacbd\uc6b0 \ucc38\uc744 \ubc18\ud658\ud569\ub2c8\ub2e4.",e.Msg.LOGIC_TERNARY_CONDITION="\ud14c\uc2a4\ud2b8",e.Msg.LOGIC_TERNARY_HELPURL="https://ko.wikipedia.org/wiki/\ubb3c\uc74c\ud45c",e.Msg.LOGIC_TERNARY_IF_FALSE="\ub9cc\uc57d \uac70\uc9d3\uc774\ub77c\uba74",e.Msg.LOGIC_TERNARY_IF_TRUE="\ub9cc\uc57d \ucc38\uc774\ub77c\uba74",e.Msg.LOGIC_TERNARY_TOOLTIP="'test'\uc758 \uc870\uac74\uc744 \uac80\uc0ac\ud569\ub2c8\ub2e4. \uc870\uac74\uc774 \ucc38\uc774\uba74 'if true' \uac12\uc744 \ubc18\ud658\ud569\ub2c8\ub2e4. \uac70\uc9d3\uc774\uba74 'if false' \uac12\uc744 \ubc18\ud658\ud569\ub2c8\ub2e4.",e.Msg.MATH_ADDITION_SYMBOL="+",e.Msg.MATH_ARITHMETIC_HELPURL="https://ko.wikipedia.org/wiki/\uc0b0\uc220",e.Msg.MATH_ARITHMETIC_TOOLTIP_ADD="\ub450 \uc218\uc758 \ud569\uc744 \ubc18\ud658\ud569\ub2c8\ub2e4.",e.Msg.MATH_ARITHMETIC_TOOLTIP_DIVIDE="\ub450 \uc218\uc758 \ub098\ub208 \uacb0\uacfc\ub97c \ubc18\ud658\ud569\ub2c8\ub2e4.",e.Msg.MATH_ARITHMETIC_TOOLTIP_MINUS="\ub450 \uc218\uac04\uc758 \ucc28\uc774\ub97c \ubc18\ud658\ud569\ub2c8\ub2e4.",e.Msg.MATH_ARITHMETIC_TOOLTIP_MULTIPLY="\ub450 \uc218\uc758 \uacf1\uc744 \ubc18\ud658\ud569\ub2c8\ub2e4.",e.Msg.MATH_ARITHMETIC_TOOLTIP_POWER="\uccab \ubc88\uc9f8 \uc218\ub97c \ub450 \ubc88\uc9f8 \uc218 \ub9cc\ud07c, \uac70\ub4ed\uc81c\uacf1 \ud55c \uacb0\uacfc\uac12\uc744 \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.MATH_ATAN2_HELPURL="https://en.wikipedia.org/wiki/Atan2",e.Msg.MATH_ATAN2_TITLE="X:%1 Y:%2\uc758 atan2",e.Msg.MATH_ATAN2_TOOLTIP="\uc810 (X, Y)\uc758 \uc544\ud06c\ud0c4\uc820\ud2b8\ub97c -180\uc5d0\uc11c 180\uae4c\uc9c0 \ub3c4 \ub2e8\uc704\ub85c \ubc18\ud658\ud569\ub2c8\ub2e4.",e.Msg.MATH_CHANGE_HELPURL="https://en.wikipedia.org/wiki/Programming_idiom#Incrementing_a_counter",e.Msg.MATH_CHANGE_TITLE="\ubc14\uafb8\uae30 %1 \ub9cc\ud07c %2",e.Msg.MATH_CHANGE_TOOLTIP="\ubcc0\uc218 '%1' \uc5d0 \uc800\uc7a5\ub418\uc5b4\uc788\ub294 \uac12\uc5d0, \uc5b4\ub5a4 \uc218\ub97c \ub354\ud574, \ubcc0\uc218\uc5d0 \ub2e4\uc2dc \uc800\uc7a5\ud569\ub2c8\ub2e4.",e.Msg.MATH_CONSTANT_HELPURL="https://ko.wikipedia.org/wiki/\uc218\ud559_\uc0c1\uc218",e.Msg.MATH_CONSTANT_TOOLTIP="\uc77c\ubc18\uc801\uc778 \uc0c1\uc218 \uac12\ub4e4 \uc911 \ud558\ub098\ub97c \ub3cc\ub824\uc90d\ub2c8\ub2e4. : \u03c0 (3.141\u2026), e (2.718\u2026), \u03c6 (1.618\u2026), sqrt(2) (1.414\u2026), sqrt(\xbd) (0.707\u2026), or \u221e (infinity).",e.Msg.MATH_CONSTRAIN_HELPURL="https://ko.wikipedia.org/wiki/\ud074\ub7a8\ud551_(\uadf8\ub798\ud53d)",e.Msg.MATH_CONSTRAIN_TITLE="%1\uc758 \uac12\uc744, \ucd5c\uc18c %2 \ucd5c\ub300 %3\uc73c\ub85c \uc870\uc815",e.Msg.MATH_CONSTRAIN_TOOLTIP="\uc5b4\ub5a4 \uc218\ub97c, \ud2b9\uc815 \ubc94\uc704\uc758 \uac12\uc774 \ub418\ub3c4\ub85d \uac15\uc81c\ub85c \uc870\uc815\ud569\ub2c8\ub2e4.",e.Msg.MATH_DIVISION_SYMBOL="\xf7",e.Msg.MATH_IS_DIVISIBLE_BY="\uac00 \ub2e4\uc74c \uc218\ub85c \ub098\ub204\uc5b4 \ub5a8\uc5b4\uc9c0\uba74 :",e.Msg.MATH_IS_EVEN="\uac00 \uc9dd\uc218(even) \uc774\uba74",e.Msg.MATH_IS_NEGATIVE="\uac00 \uc74c(-)\uc218 \uc774\uba74",e.Msg.MATH_IS_ODD="\uac00 \ud640\uc218(odd) \uc774\uba74",e.Msg.MATH_IS_POSITIVE="\uac00 \uc591(+)\uc218 \uc774\uba74",e.Msg.MATH_IS_PRIME="\uac00 \uc18c\uc218(prime) \uc774\uba74",e.Msg.MATH_IS_TOOLTIP="\uc5b4\ub5a4 \uc218\uac00 \uc9dd \uc218, \ud640 \uc218, \uc18c \uc218, \uc815 \uc218, \uc591 \uc218, \uc74c \uc218, \ub098\ub204\uc5b4 \ub5a8\uc5b4\uc9c0\ub294 \uc218 \uc778\uc9c0 \uac80\uc0ac\ud574 \uacb0\uacfc\uac12\uc744 \ub3cc\ub824\uc90d\ub2c8\ub2e4. \ucc38(true) \ub610\ub294 \uac70\uc9d3(false) \uac12\uc744 \ub3cc\ub824\uc90c.",e.Msg.MATH_IS_WHOLE="\uac00 \uc815\uc218\uc774\uba74",e.Msg.MATH_MODULO_HELPURL="https://en.wikipedia.org/wiki/Modulo_operation",e.Msg.MATH_MODULO_TITLE="%1 \xf7 %2\uc758 \ub098\uba38\uc9c0",e.Msg.MATH_MODULO_TOOLTIP="\uccab \ubc88\uc9f8 \uc218\ub97c \ub450 \ubc88\uc9f8 \uc218\ub85c \ub098\ub208, \ub098\uba38\uc9c0 \uac12\uc744 \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.MATH_MULTIPLICATION_SYMBOL="x",e.Msg.MATH_NUMBER_HELPURL="https://ko.wikipedia.org/wiki/\uc218_(\uc218\ud559)",e.Msg.MATH_NUMBER_TOOLTIP="\uc218",e.Msg.MATH_ONLIST_HELPURL="",e.Msg.MATH_ONLIST_OPERATOR_AVERAGE="\ud3c9\uade0\uac12",e.Msg.MATH_ONLIST_OPERATOR_MAX="\ucd5c\ub300\uac12",e.Msg.MATH_ONLIST_OPERATOR_MEDIAN="\uc911\uac04\uac12",e.Msg.MATH_ONLIST_OPERATOR_MIN="\ucd5c\uc18c\uac12",e.Msg.MATH_ONLIST_OPERATOR_MODE="\uac00\uc7a5 \uc5ec\ub7ec \uac1c \uc788\ub294 \uac12",e.Msg.MATH_ONLIST_OPERATOR_RANDOM="\ubaa9\ub85d\uc758 \uc784\uc758 \ud56d\ubaa9",e.Msg.MATH_ONLIST_OPERATOR_STD_DEV="\ud45c\uc900 \ud3b8\ucc28",e.Msg.MATH_ONLIST_OPERATOR_SUM="\ud569",e.Msg.MATH_ONLIST_TOOLTIP_AVERAGE="\ub9ac\uc2a4\ud2b8\uc5d0 \ub4e4\uc5b4\uc788\ub294 \uc218(\uac12)\ub4e4\uc5d0 \ub300\ud574, \uc0b0\uc220 \ud3c9\uade0(arithmetic mean) \ud55c \uac12\uc744 \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.MATH_ONLIST_TOOLTIP_MAX="\ub9ac\uc2a4\ud2b8\uc5d0 \ub4e4\uc5b4\uc788\ub294 \uc218(\uac12) \ub4e4 \uc911, \uac00\uc7a5 \ud070(max) \uc218(\uac12)\ub97c \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.MATH_ONLIST_TOOLTIP_MEDIAN="\ub9ac\uc2a4\ud2b8\uc5d0 \ub4e4\uc5b4\uc788\ub294 \uc218(\uac12) \ub4e4 \uc911, \uc911\uac04(median) \uc218(\uac12)\ub97c \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.MATH_ONLIST_TOOLTIP_MIN="\ub9ac\uc2a4\ud2b8\uc5d0 \ub4e4\uc5b4\uc788\ub294 \uc218(\uac12) \ub4e4 \uc911, \uac00\uc7a5 \uc791\uc740(min) \uc218(\uac12)\ub97c \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.MATH_ONLIST_TOOLTIP_MODE="\ub9ac\uc2a4\ud2b8\uc5d0 \ub4e4\uc5b4\uc788\ub294 \uc544\uc774\ud15c\ub4e4 \uc911\uc5d0\uc11c, \uac00\uc7a5 \uc5ec\ub7ec \ubc88 \ub4e4\uc5b4\uc788\ub294 \uc544\uc774\ud15c\ub4e4\uc744 \ub9ac\uc2a4\ud2b8\ub85c \ub9cc\ub4e4\uc5b4 \ub3cc\ub824\uc90d\ub2c8\ub2e4. (\ucd5c\ube48\uac12, modes)",e.Msg.MATH_ONLIST_TOOLTIP_RANDOM="\ubaa9\ub85d\uc5d0\uc11c \uc784\uc758\uc758 \uc544\uc774\ud15c\uc744 \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.MATH_ONLIST_TOOLTIP_STD_DEV="\uc774 \ub9ac\uc2a4\ud2b8\uc758 \ud45c\uc900 \ud3b8\ucc28\ub97c \ubc18\ud658\ud569\ub2c8\ub2e4.",e.Msg.MATH_ONLIST_TOOLTIP_SUM="\ub9ac\uc2a4\ud2b8\uc5d0 \ub4e4\uc5b4\uc788\ub294 \uc218(\uac12)\ub4e4\uc744, \ubaa8\ub450 \ud569(sum) \ud55c, \ucd1d\ud569(sum)\uc744 \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.MATH_POWER_SYMBOL="^",e.Msg.MATH_RANDOM_FLOAT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",e.Msg.MATH_RANDOM_FLOAT_TITLE_RANDOM="\uc784\uc758 \ubd84\uc218",e.Msg.MATH_RANDOM_FLOAT_TOOLTIP="0.0 (\ud3ec\ud568)\uacfc 1.0 (\ubc30\ud0c0\uc801) \uc0ac\uc774\uc758 \uc784\uc758 \ubd84\uc218 \uac12\uc744 \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.MATH_RANDOM_INT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",e.Msg.MATH_RANDOM_INT_TITLE="\ub79c\ub364\uc815\uc218(%1<= n <=%2)",e.Msg.MATH_RANDOM_INT_TOOLTIP="\ub450 \uc8fc\uc5b4\uc9c4 \uc81c\ud55c\ub41c \ubc94\uc704 \uc0ac\uc774\uc758 \uc784\uc758 \uc815\uc218\uac12\uc744 \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.MATH_ROUND_HELPURL="https://ko.wikipedia.org/wiki/\ubc18\uc62c\ub9bc",e.Msg.MATH_ROUND_OPERATOR_ROUND="\ubc18\uc62c\ub9bc",e.Msg.MATH_ROUND_OPERATOR_ROUNDDOWN="\ubc84\ub9bc",e.Msg.MATH_ROUND_OPERATOR_ROUNDUP="\uc62c\ub9bc",e.Msg.MATH_ROUND_TOOLTIP="\uc5b4\ub5a4 \uc218\ub97c \ubc18\uc62c\ub9bc/\uc62c\ub9bc/\ubc84\ub9bc\ud55c \uacb0\uacfc\ub97c, \uc815\uc218\uac12\uc73c\ub85c \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.MATH_SINGLE_HELPURL="https://ko.wikipedia.org/wiki/\uc81c\uacf1\uadfc",e.Msg.MATH_SINGLE_OP_ABSOLUTE="\uc808\ub300\uac12",e.Msg.MATH_SINGLE_OP_ROOT="\uc81c\uacf1\uadfc",e.Msg.MATH_SINGLE_TOOLTIP_ABS="\uc5b4\ub5a4 \uc218\uc758 \uc808\ub300\uac12(absolute)\uc744 \uacc4\uc0b0\ud55c \uacb0\uacfc\ub97c, \uc815\uc218\uac12\uc73c\ub85c \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.MATH_SINGLE_TOOLTIP_EXP="e\uc758 \uac70\ub4ed\uc81c\uacf1 \uac12\uc744 \ubc18\ud658\ud569\ub2c8\ub2e4.",e.Msg.MATH_SINGLE_TOOLTIP_LN="\uc5b4\ub5a4 \uc218\uc758, \uc790\uc5f0\ub85c\uadf8(natural logarithm) \uac12\uc744 \ub3cc\ub824\uc90d\ub2c8\ub2e4.(\ubc11 e, \uc608\uc2dc log e x)",e.Msg.MATH_SINGLE_TOOLTIP_LOG10="\uc5b4\ub5a4 \uc218\uc758, \uae30\ubcf8\ub85c\uadf8(logarithm) \uac12\uc744 \ub3cc\ub824\uc90d\ub2c8\ub2e4.(\ubc11 10, \uc608\uc2dc log 10 x)",e.Msg.MATH_SINGLE_TOOLTIP_NEG="\uc74c(-)/\uc591(+), \ubd80\ud638\ub97c \ubc18\ub300\ub85c \ud558\uc5ec \uac12\uc744 \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.MATH_SINGLE_TOOLTIP_POW10="10\uc758 \uac70\ub4ed\uc81c\uacf1 \uac12\uc744 \ubc18\ud658\ud569\ub2c8\ub2e4.",e.Msg.MATH_SINGLE_TOOLTIP_ROOT="\uc22b\uc790\uc758 \uc81c\uacf1\uadfc\uc744 \ubc18\ud658\ud569\ub2c8\ub2e4.",e.Msg.MATH_SUBTRACTION_SYMBOL="-",e.Msg.MATH_TRIG_ACOS="acos",e.Msg.MATH_TRIG_ASIN="asin",e.Msg.MATH_TRIG_ATAN="atan",e.Msg.MATH_TRIG_COS="cos",e.Msg.MATH_TRIG_HELPURL="https://ko.wikipedia.org/wiki/\uc0bc\uac01\ud568\uc218",e.Msg.MATH_TRIG_SIN="sin",e.Msg.MATH_TRIG_TAN="tan",e.Msg.MATH_TRIG_TOOLTIP_ACOS="\uc5b4\ub5a4 \uc218\uc5d0 \ub300\ud55c, acos(arccosine) \uac12\uc744 \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.MATH_TRIG_TOOLTIP_ASIN="\uc5b4\ub5a4 \uc218\uc5d0 \ub300\ud55c, asin(arcsine) \uac12\uc744 \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.MATH_TRIG_TOOLTIP_ATAN="\uc5b4\ub5a4 \uc218\uc5d0 \ub300\ud55c, atan(arctangent) \uac12\uc744 \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.MATH_TRIG_TOOLTIP_COS="\uac01\ub3c4\uc758 \ucf54\uc0ac\uc778\uc744 \ubc18\ud658\ud569\ub2c8\ub2e4. (\ub77c\ub514\uc548 \uc544\ub2d8)",e.Msg.MATH_TRIG_TOOLTIP_SIN="\uac01\ub3c4\uc758 \uc0ac\uc778\uc744 \ubc18\ud658\ud569\ub2c8\ub2e4. (\ub77c\ub514\uc548 \uc544\ub2d8)",e.Msg.MATH_TRIG_TOOLTIP_TAN="\uac01\ub3c4\uc758 \ud0c4\uc820\ud2b8\ub97c \ubc18\ud658\ud569\ub2c8\ub2e4. (\ub77c\ub514\uc548 \uc544\ub2d8)",e.Msg.NEW_COLOUR_VARIABLE="\uc0c9 \ubcc0\uc218 \ub9cc\ub4e4\uae30...",e.Msg.NEW_NUMBER_VARIABLE="\uc22b\uc790 \ubcc0\uc218 \ub9cc\ub4e4\uae30....",e.Msg.NEW_STRING_VARIABLE="\ubb38\uc790\uc5f4 \ubcc0\uc218 \ub9cc\ub4e4\uae30...",e.Msg.NEW_VARIABLE="\ubcc0\uc218 \ub9cc\ub4e4\uae30...",e.Msg.NEW_VARIABLE_TITLE="\uc0c8 \ubcc0\uc218 \uc774\ub984:",e.Msg.NEW_VARIABLE_TYPE_TITLE="\uc0c8 \ubcc0\uc218 \uc720\ud615:",e.Msg.ORDINAL_NUMBER_SUFFIX="",e.Msg.PROCEDURES_ALLOW_STATEMENTS="\uc11c\uc220 \ud5c8\uac00",e.Msg.PROCEDURES_BEFORE_PARAMS="\uc0ac\uc6a9:",e.Msg.PROCEDURES_CALLNORETURN_HELPURL="https://ko.wikipedia.org/wiki/\ud568\uc218_(\ud504\ub85c\uadf8\ub798\ubc0d)",e.Msg.PROCEDURES_CALLNORETURN_TOOLTIP="\ubbf8\ub9ac \uc815\uc758\ud574 \ub454 '%1' \ud568\uc218\ub97c \uc2e4\ud589\ud569\ub2c8\ub2e4.",e.Msg.PROCEDURES_CALLRETURN_HELPURL="https://ko.wikipedia.org/wiki/\ud568\uc218_(\ud504\ub85c\uadf8\ub798\ubc0d)",e.Msg.PROCEDURES_CALLRETURN_TOOLTIP="\ubbf8\ub9ac \uc815\uc758\ud574 \ub454 '%1' \ud568\uc218\ub97c \uc2e4\ud589\ud558\uace0, \ud568\uc218\ub97c \uc2e4\ud589\ud55c \uacb0\uacfc \uac12\uc744 \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.PROCEDURES_CALL_BEFORE_PARAMS="\uc0ac\uc6a9:",e.Msg.PROCEDURES_CREATE_DO="'%1' \uc0dd\uc131",e.Msg.PROCEDURES_DEFNORETURN_COMMENT="\uc774 \ud568\uc218\ub97c \uc124\uba85\ud558\uc138\uc694...",e.Msg.PROCEDURES_DEFNORETURN_DO="",e.Msg.PROCEDURES_DEFNORETURN_HELPURL="https://ko.wikipedia.org/wiki/%ED%95%A8%EC%88%98_%28%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D%29",e.Msg.PROCEDURES_DEFNORETURN_PROCEDURE="\ud568\uc218 \uc774\ub984",e.Msg.PROCEDURES_DEFNORETURN_TITLE="\ud568\uc218",e.Msg.PROCEDURES_DEFNORETURN_TOOLTIP="\uc2e4\ud589 \ud6c4, \uacb0\uacfc \uac12\uc744 \ub3cc\ub824\uc8fc\uc9c0 \uc54a\ub294 \ud568\uc218\ub97c \ub9cc\ub4ed\ub2c8\ub2e4.",e.Msg.PROCEDURES_DEFRETURN_HELPURL="https://ko.wikipedia.org/wiki/%ED%95%A8%EC%88%98_%28%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D%29",e.Msg.PROCEDURES_DEFRETURN_RETURN="\ub2e4\uc74c\uc744 \ub3cc\ub824\uc90c",e.Msg.PROCEDURES_DEFRETURN_TOOLTIP="\uc2e4\ud589 \ud6c4, \uacb0\uacfc \uac12\uc744 \ub3cc\ub824\uc8fc\ub294 \ud568\uc218\ub97c \ub9cc\ub4ed\ub2c8\ub2e4.",e.Msg.PROCEDURES_DEF_DUPLICATE_WARNING="\uacbd\uace0: \uc774 \ud568\uc218\uc5d0\ub294, \uac19\uc740 \uc774\ub984\uc744 \uc0ac\uc6a9\ud558\ub294 \ub9e4\uac1c \ubcc0\uc218\ub4e4\uc774 \uc788\uc2b5\ub2c8\ub2e4.",e.Msg.PROCEDURES_HIGHLIGHT_DEF="\ud568\uc218 \uc815\uc758 \ucc3e\uae30",e.Msg.PROCEDURES_IFRETURN_HELPURL="http://c2.com/cgi/wiki?GuardClause",e.Msg.PROCEDURES_IFRETURN_TOOLTIP="\uac12\uc774 \ucc38\uc774\ub77c\uba74, \ub450 \ubc88\uc9f8 \uac12\uc744 \ubc18\ud658\ud569\ub2c8\ub2e4.",e.Msg.PROCEDURES_IFRETURN_WARNING="\uacbd\uace0: \uc774 \ube14\ub7ed\uc740, \ud568\uc218 \uc815\uc758 \ube14\ub7ed \uc548\uc5d0\uc11c\ub9cc \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.",e.Msg.PROCEDURES_MUTATORARG_TITLE="\ub9e4\uac1c \ubcc0\uc218:",e.Msg.PROCEDURES_MUTATORARG_TOOLTIP="\ud568\uc218\uc5d0 \uac12\uc744 \ub354\ud569\ub2c8\ub2e4.",e.Msg.PROCEDURES_MUTATORCONTAINER_TITLE="\ub9e4\uac1c \ubcc0\uc218\ub4e4",e.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP="\uc774 \ud568\uc218\ub97c \ucd94\uac00, \uc0ad\uc81c, \ud639\uc740 \uc7ac\uc815\ub82c\ud569\ub2c8\ub2e4.",e.Msg.REDO="\ub2e4\uc2dc \uc2e4\ud589",e.Msg.REMOVE_COMMENT="\uc8fc\uc11d \uc81c\uac70",e.Msg.RENAME_VARIABLE="\ubcc0\uc218 \uc774\ub984 \ubc14\uafb8\uae30:",e.Msg.RENAME_VARIABLE_TITLE="'%1' \ubcc0\uc218 \uc774\ub984\uc744 \ubc14\uafb8\uae30:",e.Msg.TEXT_APPEND_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",e.Msg.TEXT_APPEND_TITLE="\ub2e4\uc74c %1 \ub0b4\uc6a9 \ub367\ubd99\uc774\uae30 %2",e.Msg.TEXT_APPEND_TOOLTIP="'%1' \ubcc0\uc218\uc758 \ub05d\uc5d0 \uc77c\ubd80 \ud14d\uc2a4\ud2b8\ub97c \ub367\ubd99\uc785\ub2c8\ub2e4.",e.Msg.TEXT_CHANGECASE_HELPURL="https://github.com/google/blockly/wiki/Text#adjusting-text-case",e.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE="\uc18c\ubb38\uc790\ub85c",e.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE="\uccab \ubb38\uc790\ub9cc \ub300\ubb38\uc790\ub85c",e.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE="\ub300\ubb38\uc790\ub85c",e.Msg.TEXT_CHANGECASE_TOOLTIP="\uc601\ubb38 \ub300\uc18c\ubb38\uc790 \ud615\ud0dc\ub97c \ubcc0\uacbd\ud574 \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.TEXT_CHARAT_FIRST="\uc5d0\uc11c, \uccab \ubc88\uc9f8 \ubb38\uc790 \uc5bb\uae30",e.Msg.TEXT_CHARAT_FROM_END="\uc5d0\uc11c, \ub9c8\uc9c0\ub9c9\ubd80\ud130 # \ubc88\uc9f8 \uc704\uce58\uc758 \ubb38\uc790 \uc5bb\uae30",e.Msg.TEXT_CHARAT_FROM_START="\uc5d0\uc11c, \uc55e\uc5d0\uc11c\ubd80\ud130 # \ubc88\uc9f8 \uc704\uce58\uc758 \ubb38\uc790 \uc5bb\uae30",e.Msg.TEXT_CHARAT_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-text",e.Msg.TEXT_CHARAT_LAST="\uc5d0\uc11c, \ub9c8\uc9c0\ub9c9 \ubb38\uc790 \uc5bb\uae30",e.Msg.TEXT_CHARAT_RANDOM="\uc5d0\uc11c, \ub79c\ub364\ud558\uac8c \ud55c \ubb38\uc790 \uc5bb\uae30",e.Msg.TEXT_CHARAT_TAIL="",e.Msg.TEXT_CHARAT_TITLE="\ud14d\uc2a4\ud2b8 %1 %2\uc5d0\uc11c",e.Msg.TEXT_CHARAT_TOOLTIP="\ud2b9\uc815 \ubc88\uc9f8 \uc704\uce58\uc5d0\uc11c, \ubb38\uc790\ub97c \uc5bb\uc5b4\ub0b4 \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.TEXT_COUNT_HELPURL="https://github.com/google/blockly/wiki/Text#counting-substrings",e.Msg.TEXT_COUNT_MESSAGE0="%2\uc5d0\uc11c %1 \uc22b\uc790 \uc138\uae30",e.Msg.TEXT_COUNT_TOOLTIP="\ub2e4\ub978 \uc5b4\ub5a4 \ud14d\uc2a4\ud2b8\uc5d0\uc11c \uc5b4\ub5a4 \ud14d\uc2a4\ud2b8\uac00 \ub098\ud0c0\ub09c \ud69f\uc218\ub97c \uc149\ub2c8\ub2e4.",e.Msg.TEXT_CREATE_JOIN_ITEM_TOOLTIP="\ud14d\uc2a4\ud2b8\uc5d0 \ud56d\ubaa9\uc744 \ucd94\uac00\ud569\ub2c8\ub2e4.",e.Msg.TEXT_CREATE_JOIN_TITLE_JOIN="\uac00\uc785",e.Msg.TEXT_CREATE_JOIN_TOOLTIP="\uc139\uc158\uc744 \ucd94\uac00, \uc81c\uac70\ud558\uac70\ub098 \uc21c\uc11c\ub97c \ubcc0\uacbd\ud558\uc5ec \uc774 \ud14d\uc2a4\ud2b8 \ube14\ub7ed\uc744 \uc7ac\uad6c\uc131\ud569\ub2c8\ub2e4.",e.Msg.TEXT_GET_SUBSTRING_END_FROM_END="\ub05d\uc5d0\uc11c\ubd80\ud130 # \ubc88\uc9f8 \ubb38\uc790\uae4c\uc9c0",e.Msg.TEXT_GET_SUBSTRING_END_FROM_START="# \ubc88\uc9f8 \ubb38\uc790\uae4c\uc9c0",e.Msg.TEXT_GET_SUBSTRING_END_LAST="\ub9c8\uc9c0\ub9c9 \ubb38\uc790\uae4c\uc9c0",e.Msg.TEXT_GET_SUBSTRING_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-a-region-of-text",e.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT="\ubb38\uc7a5",e.Msg.TEXT_GET_SUBSTRING_START_FIRST="\uc5d0\uc11c, \ucc98\uc74c\ubd80\ud130 \uc5bb\uc5b4\ub0c4",e.Msg.TEXT_GET_SUBSTRING_START_FROM_END="\uc5d0\uc11c, \ub9c8\uc9c0\ub9c9\uc5d0\uc11c # \ubc88\uc9f8\ubd80\ud130 \uc5bb\uc5b4\ub0c4",e.Msg.TEXT_GET_SUBSTRING_START_FROM_START="\uc5d0\uc11c, \ucc98\uc74c\ubd80\ud130 # \ubc88\uc9f8 \ubb38\uc790\ubd80\ud130 \uc5bb\uc5b4\ub0c4",e.Msg.TEXT_GET_SUBSTRING_TAIL="",e.Msg.TEXT_GET_SUBSTRING_TOOLTIP="\ubb38\uc7a5 \uc911 \uc77c\ubd80\ub97c \uc5bb\uc5b4\ub0b4 \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.TEXT_INDEXOF_HELPURL="https://github.com/google/blockly/wiki/Text#finding-text",e.Msg.TEXT_INDEXOF_OPERATOR_FIRST="\uc5d0\uc11c \ub2e4\uc74c \ubb38\uc7a5\uc774 \ucc98\uc74c\uc73c\ub85c \ub098\ud0c0\ub09c \uc704\uce58 \ucc3e\uae30 :",e.Msg.TEXT_INDEXOF_OPERATOR_LAST="\uc5d0\uc11c \ub2e4\uc74c \ubb38\uc7a5\uc774 \ub9c8\uc9c0\ub9c9\uc73c\ub85c \ub098\ud0c0\ub09c \uc704\uce58 \ucc3e\uae30 :",e.Msg.TEXT_INDEXOF_TITLE="\ubb38\uc7a5 %1 %2 %3",e.Msg.TEXT_INDEXOF_TOOLTIP="\ub450 \ubc88\uc9f8 \ud14d\uc2a4\ud2b8\uc5d0\uc11c \uccab \ubc88\uc9f8 \ud14d\uc2a4\ud2b8\uac00 \ucc98\uc74c \ub610\ub294 \ub9c8\uc9c0\ub9c9\uc73c\ub85c \ubc1c\uc0dd\ud55c \uc0c9\uc778 \uc704\uce58\ub97c \ubc18\ud658\ud569\ub2c8\ub2e4. \ud14d\uc2a4\ud2b8\uac00 \uc5c6\uc73c\uba74 %1\uc744 \ubc18\ud658\ud569\ub2c8\ub2e4.",e.Msg.TEXT_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Text#checking-for-empty-text",e.Msg.TEXT_ISEMPTY_TITLE="%1\uc774 \ube44\uc5b4 \uc788\uc2b5\ub2c8\ub2e4",e.Msg.TEXT_ISEMPTY_TOOLTIP='\uc785\ub825\ub41c \ubb38\uc7a5\uc774, \ube48 \ubb38\uc7a5("")\uc774\uba74 \ucc38(true) \uac12\uc744 \ub3cc\ub824\uc90d\ub2c8\ub2e4.',e.Msg.TEXT_JOIN_HELPURL="https://github.com/google/blockly/wiki/Text#text-creation",e.Msg.TEXT_JOIN_TITLE_CREATEWITH="\ud14d\uc2a4\ud2b8 \ub9cc\ub4e4\uae30",e.Msg.TEXT_JOIN_TOOLTIP="\uc5ec\ub7ec \uac1c\uc758 \uc544\uc774\ud15c\ub4e4\uc744 \uc5f0\uacb0\ud574(\ubb36\uc5b4), \uc0c8\ub85c\uc6b4 \ubb38\uc7a5\uc744 \ub9cc\ub4ed\ub2c8\ub2e4.",e.Msg.TEXT_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",e.Msg.TEXT_LENGTH_TITLE="\ub2e4\uc74c \ubb38\uc7a5\uc758 \ubb38\uc790 \uac1c\uc218 %1",e.Msg.TEXT_LENGTH_TOOLTIP="\uc785\ub825\ub41c \ubb38\uc7a5\uc758, \ubb38\uc790 \uac1c\uc218\ub97c \ub3cc\ub824\uc90d\ub2c8\ub2e4.(\uacf5\ubc31\ubb38\uc790 \ud3ec\ud568)",e.Msg.TEXT_PRINT_HELPURL="https://github.com/google/blockly/wiki/Text#printing-text",e.Msg.TEXT_PRINT_TITLE="\ub2e4\uc74c \ub0b4\uc6a9 \ucd9c\ub825 %1",e.Msg.TEXT_PRINT_TOOLTIP="\uc6d0\ud558\ub294 \ubb38\uc7a5, \uc218, \uac12 \ub4f1\uc744 \ucd9c\ub825\ud569\ub2c8\ub2e4.",e.Msg.TEXT_PROMPT_HELPURL="https://github.com/google/blockly/wiki/Text#getting-input-from-the-user",e.Msg.TEXT_PROMPT_TOOLTIP_NUMBER="\uc218\uc5d0 \ub300\ud574 \uc0ac\uc6a9\uc790\uc758 \uc785\ub825\uc744 \ubc1b\uc2b5\ub2c8\ub2e4.",e.Msg.TEXT_PROMPT_TOOLTIP_TEXT="\ubb38\uc7a5\uc5d0 \ub300\ud574 \uc0ac\uc6a9\uc790\uc758 \uc785\ub825\uc744 \ubc1b\uc2b5\ub2c8\ub2e4.",e.Msg.TEXT_PROMPT_TYPE_NUMBER="\uba54\uc2dc\uc9c0\ub97c \ud65c\uc6a9\ud574 \uc218 \uc785\ub825",e.Msg.TEXT_PROMPT_TYPE_TEXT="\uba54\uc2dc\uc9c0\ub97c \ud65c\uc6a9\ud574 \ubb38\uc7a5 \uc785\ub825",e.Msg.TEXT_REPLACE_HELPURL="https://github.com/google/blockly/wiki/Text#replacing-substrings",e.Msg.TEXT_REPLACE_MESSAGE0="%3\uc5d0\uc11c %2\uc744(\ub97c) %1(\uc73c)\ub85c \ubc14\uafb8\uae30",e.Msg.TEXT_REPLACE_TOOLTIP="\ub2e4\ub978 \ud14d\uc2a4\ud2b8 \ub0b4\uc5d0\uc11c \uc77c\ubd80 \ud14d\uc2a4\ud2b8\uc758 \ubaa8\ub4e0 \ubc1c\uc0dd\uc744 \uce58\ud658\ud569\ub2c8\ub2e4.",e.Msg.TEXT_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Text#reversing-text",e.Msg.TEXT_REVERSE_MESSAGE0="%1 \ub4a4\uc9d1\uae30",e.Msg.TEXT_REVERSE_TOOLTIP="\ud14d\uc2a4\ud2b8 \uc548\uc758 \ubb38\uc790\uc758 \uc21c\uc11c\ub97c \ubc18\uc804\uc2dc\ud0b5\ub2c8\ub2e4.",e.Msg.TEXT_TEXT_HELPURL="https://ko.wikipedia.org/wiki/\ubb38\uc790\uc5f4",e.Msg.TEXT_TEXT_TOOLTIP="\ubb38\uc790, \ub2e8\uc5b4, \ubb38\uc7a5.",e.Msg.TEXT_TRIM_HELPURL="https://github.com/google/blockly/wiki/Text#trimming-removing-spaces",e.Msg.TEXT_TRIM_OPERATOR_BOTH="\uc591\ucabd\uc758 \uacf5\ubc31 \ubb38\uc790 \uc81c\uac70",e.Msg.TEXT_TRIM_OPERATOR_LEFT="\uc67c\ucabd\uc758 \uacf5\ubc31 \ubb38\uc790 \uc81c\uac70",e.Msg.TEXT_TRIM_OPERATOR_RIGHT="\uc624\ub978\ucabd\uc758 \uacf5\ubc31 \ubb38\uc790 \uc81c\uac70",e.Msg.TEXT_TRIM_TOOLTIP="\ubb38\uc7a5\uc758 \uc67c\ucabd/\uc624\ub978\ucabd/\uc591\ucabd\uc5d0\uc11c \uc2a4\ud398\uc774\uc2a4 \ubb38\uc790\ub97c \uc81c\uac70\ud574 \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.TODAY="\uc624\ub298",e.Msg.UNDO="\uc2e4\ud589 \ucde8\uc18c",e.Msg.UNNAMED_KEY="\uc774\ub984\uc774 \uc5c6\ub294",e.Msg.VARIABLES_DEFAULT_NAME="\ud56d\ubaa9",e.Msg.VARIABLES_GET_CREATE_SET="'\uc9d1\ud569 %1' \uc0dd\uc131",e.Msg.VARIABLES_GET_HELPURL="https://ko.wikipedia.org/wiki/%EB%B3%80%EC%88%98_(%EC%BB%B4%ED%93%A8%ED%84%B0_%EA%B3%BC%ED%95%99)",e.Msg.VARIABLES_GET_TOOLTIP="\ubcc0\uc218\uc5d0 \uc800\uc7a5 \ub418\uc5b4\uc788\ub294 \uac12\uc744 \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.VARIABLES_SET="%1\ub97c %2\ub85c \uc124\uc815",e.Msg.VARIABLES_SET_CREATE_GET="'%1 \uac12 \uc77d\uae30' \ube14\ub7ed \uc0dd\uc131",e.Msg.VARIABLES_SET_HELPURL="https://ko.wikipedia.org/wiki/%EB%B3%80%EC%88%98_(%EC%BB%B4%ED%93%A8%ED%84%B0_%EA%B3%BC%ED%95%99)",e.Msg.VARIABLES_SET_TOOLTIP="\ubcc0\uc218\uc758 \uac12\uc744 \uc785\ub825\ud55c \uac12\uc73c\ub85c \ubcc0\uacbd\ud574 \uc90d\ub2c8\ub2e4.",e.Msg.VARIABLE_ALREADY_EXISTS="'%1' \ubcc0\uc218\ub294 \uc774\ubbf8 \uc874\uc7ac\ud569\ub2c8\ub2e4.",e.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="'%1' \ubcc0\uc218\ub294 \ub2e4\ub978 \uc720\ud615\uc5d0 \ub300\ud574 \uc774\ubbf8 \uc874\uc7ac\ud569\ub2c8\ub2e4: '%2'.",e.Msg.WORKSPACE_ARIA_LABEL="Blockly \uc6cc\ud06c\uc2a4\ud398\uc774\uc2a4",e.Msg.WORKSPACE_COMMENT_DEFAULT_TEXT="\ub9d0\ud574 \ubcf4\uc138\uc694...",e.Msg.CONTROLS_FOREACH_INPUT_DO=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.CONTROLS_FOR_INPUT_DO=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.CONTROLS_IF_ELSEIF_TITLE_ELSEIF=e.Msg.CONTROLS_IF_MSG_ELSEIF,e.Msg.CONTROLS_IF_ELSE_TITLE_ELSE=e.Msg.CONTROLS_IF_MSG_ELSE,e.Msg.CONTROLS_IF_IF_TITLE_IF=e.Msg.CONTROLS_IF_MSG_IF,e.Msg.CONTROLS_IF_MSG_THEN=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.CONTROLS_WHILEUNTIL_INPUT_DO=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.LISTS_CREATE_WITH_ITEM_TITLE=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.LISTS_GET_INDEX_HELPURL=e.Msg.LISTS_INDEX_OF_HELPURL,e.Msg.LISTS_GET_INDEX_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.LISTS_INDEX_OF_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.LISTS_SET_INDEX_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.MATH_CHANGE_TITLE_ITEM=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.PROCEDURES_DEFRETURN_COMMENT=e.Msg.PROCEDURES_DEFNORETURN_COMMENT,e.Msg.PROCEDURES_DEFRETURN_DO=e.Msg.PROCEDURES_DEFNORETURN_DO,e.Msg.PROCEDURES_DEFRETURN_PROCEDURE=e.Msg.PROCEDURES_DEFNORETURN_PROCEDURE,e.Msg.PROCEDURES_DEFRETURN_TITLE=e.Msg.PROCEDURES_DEFNORETURN_TITLE,e.Msg.TEXT_APPEND_VARIABLE=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.TEXT_CREATE_JOIN_ITEM_TITLE_ITEM=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.MATH_HUE="230",e.Msg.LOOPS_HUE="120",e.Msg.LISTS_HUE="260",e.Msg.LOGIC_HUE="210",e.Msg.VARIABLES_HUE="330",e.Msg.TEXTS_HUE="160",e.Msg.PROCEDURES_HUE="290",e.Msg.COLOUR_HUE="20",e.Msg.VARIABLES_DYNAMIC_HUE="310",e.Msg})?r.apply(t,i):r)||(e.exports=o)},5702:function(e,t,n){var r,i,o;i=[n(947),n(9074)],void 0===(o="function"===typeof(r=function(e,t){"use strict";return e.Python=t,t})?r.apply(t,i):r)||(e.exports=o)},9074:function(e,t,n){var r,i,o;i=[n(9810)],void 0===(o="function"===typeof(r=function(e){"use strict";return e.Python=new e.Generator("Python"),e.Python.addReservedWords("False,None,True,and,as,assert,break,class,continue,def,del,elif,else,except,exec,finally,for,from,global,if,import,in,is,lambda,nonlocal,not,or,pass,print,raise,return,try,while,with,yield,NotImplemented,Ellipsis,__debug__,quit,exit,copyright,license,credits,ArithmeticError,AssertionError,AttributeError,BaseException,BlockingIOError,BrokenPipeError,BufferError,BytesWarning,ChildProcessError,ConnectionAbortedError,ConnectionError,ConnectionRefusedError,ConnectionResetError,DeprecationWarning,EOFError,Ellipsis,EnvironmentError,Exception,FileExistsError,FileNotFoundError,FloatingPointError,FutureWarning,GeneratorExit,IOError,ImportError,ImportWarning,IndentationError,IndexError,InterruptedError,IsADirectoryError,KeyError,KeyboardInterrupt,LookupError,MemoryError,ModuleNotFoundError,NameError,NotADirectoryError,NotImplemented,NotImplementedError,OSError,OverflowError,PendingDeprecationWarning,PermissionError,ProcessLookupError,RecursionError,ReferenceError,ResourceWarning,RuntimeError,RuntimeWarning,StandardError,StopAsyncIteration,StopIteration,SyntaxError,SyntaxWarning,SystemError,SystemExit,TabError,TimeoutError,TypeError,UnboundLocalError,UnicodeDecodeError,UnicodeEncodeError,UnicodeError,UnicodeTranslateError,UnicodeWarning,UserWarning,ValueError,Warning,ZeroDivisionError,_,__build_class__,__debug__,__doc__,__import__,__loader__,__name__,__package__,__spec__,abs,all,any,apply,ascii,basestring,bin,bool,buffer,bytearray,bytes,callable,chr,classmethod,cmp,coerce,compile,complex,copyright,credits,delattr,dict,dir,divmod,enumerate,eval,exec,execfile,exit,file,filter,float,format,frozenset,getattr,globals,hasattr,hash,help,hex,id,input,int,intern,isinstance,issubclass,iter,len,license,list,locals,long,map,max,memoryview,min,next,object,oct,open,ord,pow,print,property,quit,range,raw_input,reduce,reload,repr,reversed,round,set,setattr,slice,sorted,staticmethod,str,sum,super,tuple,type,unichr,unicode,vars,xrange,zip"),e.Python.ORDER_ATOMIC=0,e.Python.ORDER_COLLECTION=1,e.Python.ORDER_STRING_CONVERSION=1,e.Python.ORDER_MEMBER=2.1,e.Python.ORDER_FUNCTION_CALL=2.2,e.Python.ORDER_EXPONENTIATION=3,e.Python.ORDER_UNARY_SIGN=4,e.Python.ORDER_BITWISE_NOT=4,e.Python.ORDER_MULTIPLICATIVE=5,e.Python.ORDER_ADDITIVE=6,e.Python.ORDER_BITWISE_SHIFT=7,e.Python.ORDER_BITWISE_AND=8,e.Python.ORDER_BITWISE_XOR=9,e.Python.ORDER_BITWISE_OR=10,e.Python.ORDER_RELATIONAL=11,e.Python.ORDER_LOGICAL_NOT=12,e.Python.ORDER_LOGICAL_AND=13,e.Python.ORDER_LOGICAL_OR=14,e.Python.ORDER_CONDITIONAL=15,e.Python.ORDER_LAMBDA=16,e.Python.ORDER_NONE=99,e.Python.ORDER_OVERRIDES=[[e.Python.ORDER_FUNCTION_CALL,e.Python.ORDER_MEMBER],[e.Python.ORDER_FUNCTION_CALL,e.Python.ORDER_FUNCTION_CALL],[e.Python.ORDER_MEMBER,e.Python.ORDER_MEMBER],[e.Python.ORDER_MEMBER,e.Python.ORDER_FUNCTION_CALL],[e.Python.ORDER_LOGICAL_NOT,e.Python.ORDER_LOGICAL_NOT],[e.Python.ORDER_LOGICAL_AND,e.Python.ORDER_LOGICAL_AND],[e.Python.ORDER_LOGICAL_OR,e.Python.ORDER_LOGICAL_OR]],e.Python.isInitialized=!1,e.Python.init=function(t){Object.getPrototypeOf(this).init.call(this),this.PASS=this.INDENT+"pass\n",this.nameDB_?this.nameDB_.reset():this.nameDB_=new e.Names(this.RESERVED_WORDS_),this.nameDB_.setVariableMap(t.getVariableMap()),this.nameDB_.populateVariables(t),this.nameDB_.populateProcedures(t);for(var n=[],r=e.Variables.allDeveloperVariables(t),i=0;i<r.length;i++)n.push(this.nameDB_.getName(r[i],e.Names.DEVELOPER_VARIABLE_TYPE)+" = None");for(t=e.Variables.allUsedVarModels(t),i=0;i<t.length;i++)n.push(this.nameDB_.getName(t[i].getId(),e.VARIABLE_CATEGORY_NAME)+" = None");this.definitions_.variables=n.join("\n"),this.isInitialized=!0},e.Python.finish=function(e){var t,n=[],r=[];for(t in this.definitions_){var i=this.definitions_[t];i.match(/^(from\s+\S+\s+)?import\s+\S+/)?n.push(i):r.push(i)}return e=Object.getPrototypeOf(this).finish.call(this,e),this.isInitialized=!1,this.nameDB_.reset(),(n.join("\n")+"\n\n"+r.join("\n\n")).replace(/\n\n+/g,"\n\n").replace(/\n*$/,"\n\n\n")+e},e.Python.scrubNakedValue=function(e){return e+"\n"},e.Python.quote_=function(e){var t="'";return-1!==(e=e.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n")).indexOf("'")&&(-1===e.indexOf('"')?t='"':e=e.replace(/'/g,"\\'")),t+e+t},e.Python.multiline_quote_=function(e){return e.split(/\n/g).map(this.quote_).join(" + '\\n' + \n")},e.Python.scrub_=function(t,n,r){var i="";if(!t.outputConnection||!t.outputConnection.targetConnection){var o=t.getCommentText();o&&(o=e.utils.string.wrap(o,this.COMMENT_WRAP-3),i+=this.prefixLines(o+"\n","# "));for(var s=0;s<t.inputList.length;s++)t.inputList[s].type==e.inputTypes.VALUE&&(o=t.inputList[s].connection.targetBlock())&&(o=this.allNestedComments(o))&&(i+=this.prefixLines(o,"# "))}return t=t.nextConnection&&t.nextConnection.targetBlock(),i+n+(r=r?"":this.blockToCode(t))},e.Python.getAdjustedInt=function(t,n,r,i){r=r||0,t.workspace.options.oneBasedIndex&&r--;var o=t.workspace.options.oneBasedIndex?"1":"0";return t=this.valueToCode(t,n,r?this.ORDER_ADDITIVE:this.ORDER_NONE)||o,e.isNumber(t)?(t=parseInt(t,10)+r,i&&(t=-t)):(t=0<r?"int("+t+" + "+r+")":0>r?"int("+t+" - "+-r+")":"int("+t+")",i&&(t="-"+t)),t},e.Python.colour={},e.Python.colour_picker=function(t){return[e.Python.quote_(t.getFieldValue("COLOUR")),e.Python.ORDER_ATOMIC]},e.Python.colour_random=function(t){return e.Python.definitions_.import_random="import random",["'#%06x' % random.randint(0, 2**24 - 1)",e.Python.ORDER_FUNCTION_CALL]},e.Python.colour_rgb=function(t){return[e.Python.provideFunction_("colour_rgb",["def "+e.Python.FUNCTION_NAME_PLACEHOLDER_+"(r, g, b):","  r = round(min(100, max(0, r)) * 2.55)","  g = round(min(100, max(0, g)) * 2.55)","  b = round(min(100, max(0, b)) * 2.55)","  return '#%02x%02x%02x' % (r, g, b)"])+"("+(e.Python.valueToCode(t,"RED",e.Python.ORDER_NONE)||0)+", "+(e.Python.valueToCode(t,"GREEN",e.Python.ORDER_NONE)||0)+", "+(t=e.Python.valueToCode(t,"BLUE",e.Python.ORDER_NONE)||0)+")",e.Python.ORDER_FUNCTION_CALL]},e.Python.colour_blend=function(t){return[e.Python.provideFunction_("colour_blend",["def "+e.Python.FUNCTION_NAME_PLACEHOLDER_+"(colour1, colour2, ratio):","  r1, r2 = int(colour1[1:3], 16), int(colour2[1:3], 16)","  g1, g2 = int(colour1[3:5], 16), int(colour2[3:5], 16)","  b1, b2 = int(colour1[5:7], 16), int(colour2[5:7], 16)","  ratio = min(1, max(0, ratio))","  r = round(r1 * (1 - ratio) + r2 * ratio)","  g = round(g1 * (1 - ratio) + g2 * ratio)","  b = round(b1 * (1 - ratio) + b2 * ratio)","  return '#%02x%02x%02x' % (r, g, b)"])+"("+(e.Python.valueToCode(t,"COLOUR1",e.Python.ORDER_NONE)||"'#000000'")+", "+(e.Python.valueToCode(t,"COLOUR2",e.Python.ORDER_NONE)||"'#000000'")+", "+(t=e.Python.valueToCode(t,"RATIO",e.Python.ORDER_NONE)||0)+")",e.Python.ORDER_FUNCTION_CALL]},e.Python.lists={},e.Python.lists_create_empty=function(t){return["[]",e.Python.ORDER_ATOMIC]},e.Python.lists_create_with=function(t){for(var n=Array(t.itemCount_),r=0;r<t.itemCount_;r++)n[r]=e.Python.valueToCode(t,"ADD"+r,e.Python.ORDER_NONE)||"None";return["["+n.join(", ")+"]",e.Python.ORDER_ATOMIC]},e.Python.lists_repeat=function(t){return["["+(e.Python.valueToCode(t,"ITEM",e.Python.ORDER_NONE)||"None")+"] * "+(t=e.Python.valueToCode(t,"NUM",e.Python.ORDER_MULTIPLICATIVE)||"0"),e.Python.ORDER_MULTIPLICATIVE]},e.Python.lists_length=function(t){return["len("+(e.Python.valueToCode(t,"VALUE",e.Python.ORDER_NONE)||"[]")+")",e.Python.ORDER_FUNCTION_CALL]},e.Python.lists_isEmpty=function(t){return["not len("+(e.Python.valueToCode(t,"VALUE",e.Python.ORDER_NONE)||"[]")+")",e.Python.ORDER_LOGICAL_NOT]},e.Python.lists_indexOf=function(t){var n=e.Python.valueToCode(t,"FIND",e.Python.ORDER_NONE)||"[]",r=e.Python.valueToCode(t,"VALUE",e.Python.ORDER_NONE)||"''";if(t.workspace.options.oneBasedIndex)var i=" 0",o=" + 1",s="";else i=" -1",o="",s=" - 1";return"FIRST"==t.getFieldValue("END")?[(t=e.Python.provideFunction_("first_index",["def "+e.Python.FUNCTION_NAME_PLACEHOLDER_+"(my_list, elem):","  try: index = my_list.index(elem)"+o,"  except: index ="+i,"  return index"]))+"("+r+", "+n+")",e.Python.ORDER_FUNCTION_CALL]:[(t=e.Python.provideFunction_("last_index",["def "+e.Python.FUNCTION_NAME_PLACEHOLDER_+"(my_list, elem):","  try: index = len(my_list) - my_list[::-1].index(elem)"+s,"  except: index ="+i,"  return index"]))+"("+r+", "+n+")",e.Python.ORDER_FUNCTION_CALL]},e.Python.lists_getIndex=function(t){var n=t.getFieldValue("MODE")||"GET",r=t.getFieldValue("WHERE")||"FROM_START",i=e.Python.valueToCode(t,"VALUE","RANDOM"==r?e.Python.ORDER_NONE:e.Python.ORDER_MEMBER)||"[]";switch(r){case"FIRST":if("GET"==n)return[i+"[0]",e.Python.ORDER_MEMBER];if("GET_REMOVE"==n)return[i+".pop(0)",e.Python.ORDER_FUNCTION_CALL];if("REMOVE"==n)return i+".pop(0)\n";break;case"LAST":if("GET"==n)return[i+"[-1]",e.Python.ORDER_MEMBER];if("GET_REMOVE"==n)return[i+".pop()",e.Python.ORDER_FUNCTION_CALL];if("REMOVE"==n)return i+".pop()\n";break;case"FROM_START":if(t=e.Python.getAdjustedInt(t,"AT"),"GET"==n)return[i+"["+t+"]",e.Python.ORDER_MEMBER];if("GET_REMOVE"==n)return[i+".pop("+t+")",e.Python.ORDER_FUNCTION_CALL];if("REMOVE"==n)return i+".pop("+t+")\n";break;case"FROM_END":if(t=e.Python.getAdjustedInt(t,"AT",1,!0),"GET"==n)return[i+"["+t+"]",e.Python.ORDER_MEMBER];if("GET_REMOVE"==n)return[i+".pop("+t+")",e.Python.ORDER_FUNCTION_CALL];if("REMOVE"==n)return i+".pop("+t+")\n";break;case"RANDOM":if(e.Python.definitions_.import_random="import random","GET"==n)return["random.choice("+i+")",e.Python.ORDER_FUNCTION_CALL];if(i=e.Python.provideFunction_("lists_remove_random_item",["def "+e.Python.FUNCTION_NAME_PLACEHOLDER_+"(myList):","  x = int(random.random() * len(myList))","  return myList.pop(x)"])+"("+i+")","GET_REMOVE"==n)return[i,e.Python.ORDER_FUNCTION_CALL];if("REMOVE"==n)return i+"\n"}throw Error("Unhandled combination (lists_getIndex).")},e.Python.lists_setIndex=function(t){var n=e.Python.valueToCode(t,"LIST",e.Python.ORDER_MEMBER)||"[]",r=t.getFieldValue("MODE")||"GET",i=t.getFieldValue("WHERE")||"FROM_START",o=e.Python.valueToCode(t,"TO",e.Python.ORDER_NONE)||"None";switch(i){case"FIRST":if("SET"==r)return n+"[0] = "+o+"\n";if("INSERT"==r)return n+".insert(0, "+o+")\n";break;case"LAST":if("SET"==r)return n+"[-1] = "+o+"\n";if("INSERT"==r)return n+".append("+o+")\n";break;case"FROM_START":if(t=e.Python.getAdjustedInt(t,"AT"),"SET"==r)return n+"["+t+"] = "+o+"\n";if("INSERT"==r)return n+".insert("+t+", "+o+")\n";break;case"FROM_END":if(t=e.Python.getAdjustedInt(t,"AT",1,!0),"SET"==r)return n+"["+t+"] = "+o+"\n";if("INSERT"==r)return n+".insert("+t+", "+o+")\n";break;case"RANDOM":if(e.Python.definitions_.import_random="import random",n.match(/^\w+$/)?t="":(i=(t=e.Python.nameDB_.getDistinctName("tmp_list",e.VARIABLE_CATEGORY_NAME))+" = "+n+"\n",n=t,t=i),t+=(i=e.Python.nameDB_.getDistinctName("tmp_x",e.VARIABLE_CATEGORY_NAME))+" = int(random.random() * len("+n+"))\n","SET"==r)return t+(n+"[")+i+"] = "+o+"\n";if("INSERT"==r)return t+(n+".insert(")+i+", "+o+")\n"}throw Error("Unhandled combination (lists_setIndex).")},e.Python.lists_getSublist=function(t){var n=e.Python.valueToCode(t,"LIST",e.Python.ORDER_MEMBER)||"[]",r=t.getFieldValue("WHERE1"),i=t.getFieldValue("WHERE2");switch(r){case"FROM_START":"0"==(r=e.Python.getAdjustedInt(t,"AT1"))&&(r="");break;case"FROM_END":r=e.Python.getAdjustedInt(t,"AT1",1,!0);break;case"FIRST":r="";break;default:throw Error("Unhandled option (lists_getSublist)")}switch(i){case"FROM_START":t=e.Python.getAdjustedInt(t,"AT2",1);break;case"FROM_END":t=e.Python.getAdjustedInt(t,"AT2",0,!0),e.isNumber(String(t))?"0"==t&&(t=""):(e.Python.definitions_.import_sys="import sys",t+=" or sys.maxsize");break;case"LAST":t="";break;default:throw Error("Unhandled option (lists_getSublist)")}return[n+"["+r+" : "+t+"]",e.Python.ORDER_MEMBER]},e.Python.lists_sort=function(t){var n=e.Python.valueToCode(t,"LIST",e.Python.ORDER_NONE)||"[]",r=t.getFieldValue("TYPE");return t="1"===t.getFieldValue("DIRECTION")?"False":"True",[e.Python.provideFunction_("lists_sort",["def "+e.Python.FUNCTION_NAME_PLACEHOLDER_+"(my_list, type, reverse):","  def try_float(s):","    try:","      return float(s)","    except:","      return 0","  key_funcs = {",'    "NUMERIC": try_float,','    "TEXT": str,','    "IGNORE_CASE": lambda s: str(s).lower()',"  }","  key_func = key_funcs[type]","  list_cpy = list(my_list)","  return sorted(list_cpy, key=key_func, reverse=reverse)"])+"("+n+', "'+r+'", '+t+")",e.Python.ORDER_FUNCTION_CALL]},e.Python.lists_split=function(t){var n=t.getFieldValue("MODE");if("SPLIT"==n)t=(n=e.Python.valueToCode(t,"INPUT",e.Python.ORDER_MEMBER)||"''")+".split("+(t=e.Python.valueToCode(t,"DELIM",e.Python.ORDER_NONE))+")";else{if("JOIN"!=n)throw Error("Unknown mode: "+n);n=e.Python.valueToCode(t,"INPUT",e.Python.ORDER_NONE)||"[]",t=(t=e.Python.valueToCode(t,"DELIM",e.Python.ORDER_MEMBER)||"''")+".join("+n+")"}return[t,e.Python.ORDER_FUNCTION_CALL]},e.Python.lists_reverse=function(t){return["list(reversed("+(e.Python.valueToCode(t,"LIST",e.Python.ORDER_NONE)||"[]")+"))",e.Python.ORDER_FUNCTION_CALL]},e.Python.logic={},e.Python.controls_if=function(t){var n=0,r="";e.Python.STATEMENT_PREFIX&&(r+=e.Python.injectId(e.Python.STATEMENT_PREFIX,t));do{var i=e.Python.valueToCode(t,"IF"+n,e.Python.ORDER_NONE)||"False",o=e.Python.statementToCode(t,"DO"+n)||e.Python.PASS;e.Python.STATEMENT_SUFFIX&&(o=e.Python.prefixLines(e.Python.injectId(e.Python.STATEMENT_SUFFIX,t),e.Python.INDENT)+o),r+=(0==n?"if ":"elif ")+i+":\n"+o,++n}while(t.getInput("IF"+n));return(t.getInput("ELSE")||e.Python.STATEMENT_SUFFIX)&&(o=e.Python.statementToCode(t,"ELSE")||e.Python.PASS,e.Python.STATEMENT_SUFFIX&&(o=e.Python.prefixLines(e.Python.injectId(e.Python.STATEMENT_SUFFIX,t),e.Python.INDENT)+o),r+="else:\n"+o),r},e.Python.controls_ifelse=e.Python.controls_if,e.Python.logic_compare=function(t){var n={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[t.getFieldValue("OP")],r=e.Python.ORDER_RELATIONAL;return[(e.Python.valueToCode(t,"A",r)||"0")+" "+n+" "+(t=e.Python.valueToCode(t,"B",r)||"0"),r]},e.Python.logic_operation=function(t){var n="AND"==t.getFieldValue("OP")?"and":"or",r="and"==n?e.Python.ORDER_LOGICAL_AND:e.Python.ORDER_LOGICAL_OR,i=e.Python.valueToCode(t,"A",r);if(t=e.Python.valueToCode(t,"B",r),i||t){var o="and"==n?"True":"False";i||(i=o),t||(t=o)}else t=i="False";return[i+" "+n+" "+t,r]},e.Python.logic_negate=function(t){return["not "+(e.Python.valueToCode(t,"BOOL",e.Python.ORDER_LOGICAL_NOT)||"True"),e.Python.ORDER_LOGICAL_NOT]},e.Python.logic_boolean=function(t){return["TRUE"==t.getFieldValue("BOOL")?"True":"False",e.Python.ORDER_ATOMIC]},e.Python.logic_null=function(t){return["None",e.Python.ORDER_ATOMIC]},e.Python.logic_ternary=function(t){var n=e.Python.valueToCode(t,"IF",e.Python.ORDER_CONDITIONAL)||"False";return[(e.Python.valueToCode(t,"THEN",e.Python.ORDER_CONDITIONAL)||"None")+" if "+n+" else "+(t=e.Python.valueToCode(t,"ELSE",e.Python.ORDER_CONDITIONAL)||"None"),e.Python.ORDER_CONDITIONAL]},e.Python.loops={},e.Python.controls_repeat_ext=function(t){var n=t.getField("TIMES")?String(parseInt(t.getFieldValue("TIMES"),10)):e.Python.valueToCode(t,"TIMES",e.Python.ORDER_NONE)||"0";n=e.isNumber(n)?parseInt(n,10):"int("+n+")";var r=e.Python.statementToCode(t,"DO");return r=e.Python.addLoopTrap(r,t)||e.Python.PASS,"for "+e.Python.nameDB_.getDistinctName("count",e.VARIABLE_CATEGORY_NAME)+" in range("+n+"):\n"+r},e.Python.controls_repeat=e.Python.controls_repeat_ext,e.Python.controls_whileUntil=function(t){var n="UNTIL"==t.getFieldValue("MODE"),r=e.Python.valueToCode(t,"BOOL",n?e.Python.ORDER_LOGICAL_NOT:e.Python.ORDER_NONE)||"False",i=e.Python.statementToCode(t,"DO");return n&&(r="not "+r),"while "+r+":\n"+(i=e.Python.addLoopTrap(i,t)||e.Python.PASS)},e.Python.controls_for=function(t){var n=e.Python.nameDB_.getName(t.getFieldValue("VAR"),e.VARIABLE_CATEGORY_NAME),r=e.Python.valueToCode(t,"FROM",e.Python.ORDER_NONE)||"0",i=e.Python.valueToCode(t,"TO",e.Python.ORDER_NONE)||"0",o=e.Python.valueToCode(t,"BY",e.Python.ORDER_NONE)||"1",s=e.Python.statementToCode(t,"DO");s=e.Python.addLoopTrap(s,t)||e.Python.PASS;var a="",l=function(){return e.Python.provideFunction_("upRange",["def "+e.Python.FUNCTION_NAME_PLACEHOLDER_+"(start, stop, step):","  while start <= stop:","    yield start","    start += abs(step)"])},c=function(){return e.Python.provideFunction_("downRange",["def "+e.Python.FUNCTION_NAME_PLACEHOLDER_+"(start, stop, step):","  while start >= stop:","    yield start","    start -= abs(step)"])};if(t=function(e,t,n){return"("+e+" <= "+t+") and "+l()+"("+e+", "+t+", "+n+") or "+c()+"("+e+", "+t+", "+n+")"},e.isNumber(r)&&e.isNumber(i)&&e.isNumber(o))r=Number(r),i=Number(i),o=Math.abs(Number(o)),0===r%1&&0===i%1&&0===o%1?(r<=i?(i++,t=0==r&&1==o?i:r+", "+i,1!=o&&(t+=", "+o)):t=r+", "+--i+", -"+o,t="range("+t+")"):(t=r<i?l():c(),t+="("+r+", "+i+", "+o+")");else{var u=function(t,r){return e.isNumber(t)?t=Number(t):t.match(/^\w+$/)?t="float("+t+")":(r=e.Python.nameDB_.getDistinctName(n+r,e.VARIABLE_CATEGORY_NAME),a+=r+" = float("+t+")\n",t=r),t};r=u(r,"_start"),i=u(i,"_end"),o=u(o,"_inc"),"number"==typeof r&&"number"==typeof i?(t=r<i?l():c(),t+="("+r+", "+i+", "+o+")"):t=t(r,i,o)}return a+="for "+n+" in "+t+":\n"+s},e.Python.controls_forEach=function(t){var n=e.Python.nameDB_.getName(t.getFieldValue("VAR"),e.VARIABLE_CATEGORY_NAME),r=e.Python.valueToCode(t,"LIST",e.Python.ORDER_RELATIONAL)||"[]",i=e.Python.statementToCode(t,"DO");return"for "+n+" in "+r+":\n"+(i=e.Python.addLoopTrap(i,t)||e.Python.PASS)},e.Python.controls_flow_statements=function(t){var n="";if(e.Python.STATEMENT_PREFIX&&(n+=e.Python.injectId(e.Python.STATEMENT_PREFIX,t)),e.Python.STATEMENT_SUFFIX&&(n+=e.Python.injectId(e.Python.STATEMENT_SUFFIX,t)),e.Python.STATEMENT_PREFIX){var r=e.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN.getSurroundLoop(t);r&&!r.suppressPrefixSuffix&&(n+=e.Python.injectId(e.Python.STATEMENT_PREFIX,r))}switch(t.getFieldValue("FLOW")){case"BREAK":return n+"break\n";case"CONTINUE":return n+"continue\n"}throw Error("Unknown flow statement.")},e.Python.math={},e.Python.addReservedWords("math,random,Number"),e.Python.math_number=function(t){if(1/0==(t=Number(t.getFieldValue("NUM")))){t='float("inf")';var n=e.Python.ORDER_FUNCTION_CALL}else-1/0==t?(t='-float("inf")',n=e.Python.ORDER_UNARY_SIGN):n=0>t?e.Python.ORDER_UNARY_SIGN:e.Python.ORDER_ATOMIC;return[t,n]},e.Python.math_arithmetic=function(t){var n={ADD:[" + ",e.Python.ORDER_ADDITIVE],MINUS:[" - ",e.Python.ORDER_ADDITIVE],MULTIPLY:[" * ",e.Python.ORDER_MULTIPLICATIVE],DIVIDE:[" / ",e.Python.ORDER_MULTIPLICATIVE],POWER:[" ** ",e.Python.ORDER_EXPONENTIATION]}[t.getFieldValue("OP")],r=n[0];return n=n[1],[(e.Python.valueToCode(t,"A",n)||"0")+r+(t=e.Python.valueToCode(t,"B",n)||"0"),n]},e.Python.math_single=function(t){var n=t.getFieldValue("OP");if("NEG"==n){var r=e.Python.valueToCode(t,"NUM",e.Python.ORDER_UNARY_SIGN)||"0";return["-"+r,e.Python.ORDER_UNARY_SIGN]}switch(e.Python.definitions_.import_math="import math",t="SIN"==n||"COS"==n||"TAN"==n?e.Python.valueToCode(t,"NUM",e.Python.ORDER_MULTIPLICATIVE)||"0":e.Python.valueToCode(t,"NUM",e.Python.ORDER_NONE)||"0",n){case"ABS":r="math.fabs("+t+")";break;case"ROOT":r="math.sqrt("+t+")";break;case"LN":r="math.log("+t+")";break;case"LOG10":r="math.log10("+t+")";break;case"EXP":r="math.exp("+t+")";break;case"POW10":r="math.pow(10,"+t+")";break;case"ROUND":r="round("+t+")";break;case"ROUNDUP":r="math.ceil("+t+")";break;case"ROUNDDOWN":r="math.floor("+t+")";break;case"SIN":r="math.sin("+t+" / 180.0 * math.pi)";break;case"COS":r="math.cos("+t+" / 180.0 * math.pi)";break;case"TAN":r="math.tan("+t+" / 180.0 * math.pi)"}if(r)return[r,e.Python.ORDER_FUNCTION_CALL];switch(n){case"ASIN":r="math.asin("+t+") / math.pi * 180";break;case"ACOS":r="math.acos("+t+") / math.pi * 180";break;case"ATAN":r="math.atan("+t+") / math.pi * 180";break;default:throw Error("Unknown math operator: "+n)}return[r,e.Python.ORDER_MULTIPLICATIVE]},e.Python.math_constant=function(t){var n={PI:["math.pi",e.Python.ORDER_MEMBER],E:["math.e",e.Python.ORDER_MEMBER],GOLDEN_RATIO:["(1 + math.sqrt(5)) / 2",e.Python.ORDER_MULTIPLICATIVE],SQRT2:["math.sqrt(2)",e.Python.ORDER_MEMBER],SQRT1_2:["math.sqrt(1.0 / 2)",e.Python.ORDER_MEMBER],INFINITY:["float('inf')",e.Python.ORDER_ATOMIC]};return"INFINITY"!=(t=t.getFieldValue("CONSTANT"))&&(e.Python.definitions_.import_math="import math"),n[t]},e.Python.math_number_property=function(t){var n=e.Python.valueToCode(t,"NUMBER_TO_CHECK",e.Python.ORDER_MULTIPLICATIVE)||"0",r=t.getFieldValue("PROPERTY");if("PRIME"==r)return e.Python.definitions_.import_math="import math",e.Python.definitions_.from_numbers_import_Number="from numbers import Number",[e.Python.provideFunction_("math_isPrime",["def "+e.Python.FUNCTION_NAME_PLACEHOLDER_+"(n):","  # https://en.wikipedia.org/wiki/Primality_test#Naive_methods","  # If n is not a number but a string, try parsing it.","  if not isinstance(n, Number):","    try:","      n = float(n)","    except:","      return False","  if n == 2 or n == 3:","    return True","  # False if n is negative, is 1, or not whole, or if n is divisible by 2 or 3.","  if n <= 1 or n % 1 != 0 or n % 2 == 0 or n % 3 == 0:","    return False","  # Check all the numbers of form 6k +/- 1, up to sqrt(n).","  for x in range(6, int(math.sqrt(n)) + 2, 6):","    if n % (x - 1) == 0 or n % (x + 1) == 0:","      return False","  return True"])+"("+n+")",e.Python.ORDER_FUNCTION_CALL];switch(r){case"EVEN":var i=n+" % 2 == 0";break;case"ODD":i=n+" % 2 == 1";break;case"WHOLE":i=n+" % 1 == 0";break;case"POSITIVE":i=n+" > 0";break;case"NEGATIVE":i=n+" < 0";break;case"DIVISIBLE_BY":if(!(t=e.Python.valueToCode(t,"DIVISOR",e.Python.ORDER_MULTIPLICATIVE))||"0"==t)return["False",e.Python.ORDER_ATOMIC];i=n+" % "+t+" == 0"}return[i,e.Python.ORDER_RELATIONAL]},e.Python.math_change=function(t){e.Python.definitions_.from_numbers_import_Number="from numbers import Number";var n=e.Python.valueToCode(t,"DELTA",e.Python.ORDER_ADDITIVE)||"0";return(t=e.Python.nameDB_.getName(t.getFieldValue("VAR"),e.VARIABLE_CATEGORY_NAME))+" = ("+t+" if isinstance("+t+", Number) else 0) + "+n+"\n"},e.Python.math_round=e.Python.math_single,e.Python.math_trig=e.Python.math_single,e.Python.math_on_list=function(t){var n=t.getFieldValue("OP");switch(t=e.Python.valueToCode(t,"LIST",e.Python.ORDER_NONE)||"[]",n){case"SUM":n="sum("+t+")";break;case"MIN":n="min("+t+")";break;case"MAX":n="max("+t+")";break;case"AVERAGE":e.Python.definitions_.from_numbers_import_Number="from numbers import Number",n=(n=e.Python.provideFunction_("math_mean",["def "+e.Python.FUNCTION_NAME_PLACEHOLDER_+"(myList):","  localList = [e for e in myList if isinstance(e, Number)]","  if not localList: return","  return float(sum(localList)) / len(localList)"]))+"("+t+")";break;case"MEDIAN":e.Python.definitions_.from_numbers_import_Number="from numbers import Number",n=(n=e.Python.provideFunction_("math_median",["def "+e.Python.FUNCTION_NAME_PLACEHOLDER_+"(myList):","  localList = sorted([e for e in myList if isinstance(e, Number)])","  if not localList: return","  if len(localList) % 2 == 0:","    return (localList[len(localList) // 2 - 1] + localList[len(localList) // 2]) / 2.0","  else:","    return localList[(len(localList) - 1) // 2]"]))+"("+t+")";break;case"MODE":n=(n=e.Python.provideFunction_("math_modes",["def "+e.Python.FUNCTION_NAME_PLACEHOLDER_+"(some_list):","  modes = []","  # Using a lists of [item, count] to keep count rather than dict",'  # to avoid "unhashable" errors when the counted item is itself a list or dict.',"  counts = []","  maxCount = 1","  for item in some_list:","    found = False","    for count in counts:","      if count[0] == item:","        count[1] += 1","        maxCount = max(maxCount, count[1])","        found = True","    if not found:","      counts.append([item, 1])","  for counted_item, item_count in counts:","    if item_count == maxCount:","      modes.append(counted_item)","  return modes"]))+"("+t+")";break;case"STD_DEV":e.Python.definitions_.import_math="import math",n=(n=e.Python.provideFunction_("math_standard_deviation",["def "+e.Python.FUNCTION_NAME_PLACEHOLDER_+"(numbers):","  n = len(numbers)","  if n == 0: return","  mean = float(sum(numbers)) / n","  variance = sum((x - mean) ** 2 for x in numbers) / n","  return math.sqrt(variance)"]))+"("+t+")";break;case"RANDOM":e.Python.definitions_.import_random="import random",n="random.choice("+t+")";break;default:throw Error("Unknown operator: "+n)}return[n,e.Python.ORDER_FUNCTION_CALL]},e.Python.math_modulo=function(t){return[(e.Python.valueToCode(t,"DIVIDEND",e.Python.ORDER_MULTIPLICATIVE)||"0")+" % "+(t=e.Python.valueToCode(t,"DIVISOR",e.Python.ORDER_MULTIPLICATIVE)||"0"),e.Python.ORDER_MULTIPLICATIVE]},e.Python.math_constrain=function(t){return["min(max("+(e.Python.valueToCode(t,"VALUE",e.Python.ORDER_NONE)||"0")+", "+(e.Python.valueToCode(t,"LOW",e.Python.ORDER_NONE)||"0")+"), "+(t=e.Python.valueToCode(t,"HIGH",e.Python.ORDER_NONE)||"float('inf')")+")",e.Python.ORDER_FUNCTION_CALL]},e.Python.math_random_int=function(t){return e.Python.definitions_.import_random="import random",["random.randint("+(e.Python.valueToCode(t,"FROM",e.Python.ORDER_NONE)||"0")+", "+(t=e.Python.valueToCode(t,"TO",e.Python.ORDER_NONE)||"0")+")",e.Python.ORDER_FUNCTION_CALL]},e.Python.math_random_float=function(t){return e.Python.definitions_.import_random="import random",["random.random()",e.Python.ORDER_FUNCTION_CALL]},e.Python.math_atan2=function(t){e.Python.definitions_.import_math="import math";var n=e.Python.valueToCode(t,"X",e.Python.ORDER_NONE)||"0";return["math.atan2("+(e.Python.valueToCode(t,"Y",e.Python.ORDER_NONE)||"0")+", "+n+") / math.pi * 180",e.Python.ORDER_MULTIPLICATIVE]},e.Python.procedures={},e.Python.procedures_defreturn=function(t){for(var n,r=[],i=t.workspace,o=e.Variables.allUsedVarModels(i)||[],s=0;n=o[s];s++)n=n.name,-1==t.getVars().indexOf(n)&&r.push(e.Python.nameDB_.getName(n,e.VARIABLE_CATEGORY_NAME));for(o=e.Variables.allDeveloperVariables(i),s=0;s<o.length;s++)r.push(e.Python.nameDB_.getName(o[s],e.Names.DEVELOPER_VARIABLE_TYPE));r=r.length?e.Python.INDENT+"global "+r.join(", ")+"\n":"",i=e.Python.nameDB_.getName(t.getFieldValue("NAME"),e.PROCEDURE_CATEGORY_NAME),n="",e.Python.STATEMENT_PREFIX&&(n+=e.Python.injectId(e.Python.STATEMENT_PREFIX,t)),e.Python.STATEMENT_SUFFIX&&(n+=e.Python.injectId(e.Python.STATEMENT_SUFFIX,t)),n&&(n=e.Python.prefixLines(n,e.Python.INDENT));var a="";e.Python.INFINITE_LOOP_TRAP&&(a=e.Python.prefixLines(e.Python.injectId(e.Python.INFINITE_LOOP_TRAP,t),e.Python.INDENT));var l=e.Python.statementToCode(t,"STACK"),c=e.Python.valueToCode(t,"RETURN",e.Python.ORDER_NONE)||"",u="";l&&c&&(u=n),c?c=e.Python.INDENT+"return "+c+"\n":l||(l=e.Python.PASS);var h=[];for(o=t.getVars(),s=0;s<o.length;s++)h[s]=e.Python.nameDB_.getName(o[s],e.VARIABLE_CATEGORY_NAME);return r="def "+i+"("+h.join(", ")+"):\n"+r+n+a+l+u+c,r=e.Python.scrub_(t,r),e.Python.definitions_["%"+i]=r,null},e.Python.procedures_defnoreturn=e.Python.procedures_defreturn,e.Python.procedures_callreturn=function(t){for(var n=e.Python.nameDB_.getName(t.getFieldValue("NAME"),e.PROCEDURE_CATEGORY_NAME),r=[],i=t.getVars(),o=0;o<i.length;o++)r[o]=e.Python.valueToCode(t,"ARG"+o,e.Python.ORDER_NONE)||"None";return[n+"("+r.join(", ")+")",e.Python.ORDER_FUNCTION_CALL]},e.Python.procedures_callnoreturn=function(t){return e.Python.procedures_callreturn(t)[0]+"\n"},e.Python.procedures_ifreturn=function(t){var n="if "+(e.Python.valueToCode(t,"CONDITION",e.Python.ORDER_NONE)||"False")+":\n";return e.Python.STATEMENT_SUFFIX&&(n+=e.Python.prefixLines(e.Python.injectId(e.Python.STATEMENT_SUFFIX,t),e.Python.INDENT)),t.hasReturnValue_?(t=e.Python.valueToCode(t,"VALUE",e.Python.ORDER_NONE)||"None",n+=e.Python.INDENT+"return "+t+"\n"):n+=e.Python.INDENT+"return\n",n},e.Python.texts={},e.Python.text=function(t){return[e.Python.quote_(t.getFieldValue("TEXT")),e.Python.ORDER_ATOMIC]},e.Python.text_multiline=function(t){var n=-1!=(t=e.Python.multiline_quote_(t.getFieldValue("TEXT"))).indexOf("+")?e.Python.ORDER_ADDITIVE:e.Python.ORDER_ATOMIC;return[t,n]},e.Python.text.forceString_=function(t){return e.Python.text.forceString_.strRegExp.test(t)?[t,e.Python.ORDER_ATOMIC]:["str("+t+")",e.Python.ORDER_FUNCTION_CALL]},e.Python.text.forceString_.strRegExp=/^\s*'([^']|\\')*'\s*$/,e.Python.text_join=function(t){switch(t.itemCount_){case 0:return["''",e.Python.ORDER_ATOMIC];case 1:return t=e.Python.valueToCode(t,"ADD0",e.Python.ORDER_NONE)||"''",e.Python.text.forceString_(t);case 2:var n=e.Python.valueToCode(t,"ADD0",e.Python.ORDER_NONE)||"''";return t=e.Python.valueToCode(t,"ADD1",e.Python.ORDER_NONE)||"''",[t=e.Python.text.forceString_(n)[0]+" + "+e.Python.text.forceString_(t)[0],e.Python.ORDER_ADDITIVE];default:n=[];for(var r=0;r<t.itemCount_;r++)n[r]=e.Python.valueToCode(t,"ADD"+r,e.Python.ORDER_NONE)||"''";return[t="''.join([str("+(t=e.Python.nameDB_.getDistinctName("x",e.VARIABLE_CATEGORY_NAME))+") for "+t+" in ["+n.join(", ")+"]])",e.Python.ORDER_FUNCTION_CALL]}},e.Python.text_append=function(t){var n=e.Python.nameDB_.getName(t.getFieldValue("VAR"),e.VARIABLE_CATEGORY_NAME);return t=e.Python.valueToCode(t,"TEXT",e.Python.ORDER_NONE)||"''",n+" = str("+n+") + "+e.Python.text.forceString_(t)[0]+"\n"},e.Python.text_length=function(t){return["len("+(e.Python.valueToCode(t,"VALUE",e.Python.ORDER_NONE)||"''")+")",e.Python.ORDER_FUNCTION_CALL]},e.Python.text_isEmpty=function(t){return["not len("+(e.Python.valueToCode(t,"VALUE",e.Python.ORDER_NONE)||"''")+")",e.Python.ORDER_LOGICAL_NOT]},e.Python.text_indexOf=function(t){var n="FIRST"==t.getFieldValue("END")?"find":"rfind",r=e.Python.valueToCode(t,"FIND",e.Python.ORDER_NONE)||"''";return n=(e.Python.valueToCode(t,"VALUE",e.Python.ORDER_MEMBER)||"''")+"."+n+"("+r+")",t.workspace.options.oneBasedIndex?[n+" + 1",e.Python.ORDER_ADDITIVE]:[n,e.Python.ORDER_FUNCTION_CALL]},e.Python.text_charAt=function(t){var n=t.getFieldValue("WHERE")||"FROM_START",r=e.Python.valueToCode(t,"VALUE","RANDOM"==n?e.Python.ORDER_NONE:e.Python.ORDER_MEMBER)||"''";switch(n){case"FIRST":return[r+"[0]",e.Python.ORDER_MEMBER];case"LAST":return[r+"[-1]",e.Python.ORDER_MEMBER];case"FROM_START":return[r+"["+(t=e.Python.getAdjustedInt(t,"AT"))+"]",e.Python.ORDER_MEMBER];case"FROM_END":return[r+"["+(t=e.Python.getAdjustedInt(t,"AT",1,!0))+"]",e.Python.ORDER_MEMBER];case"RANDOM":return e.Python.definitions_.import_random="import random",[e.Python.provideFunction_("text_random_letter",["def "+e.Python.FUNCTION_NAME_PLACEHOLDER_+"(text):","  x = int(random.random() * len(text))","  return text[x];"])+"("+r+")",e.Python.ORDER_FUNCTION_CALL]}throw Error("Unhandled option (text_charAt).")},e.Python.text_getSubstring=function(t){var n=t.getFieldValue("WHERE1"),r=t.getFieldValue("WHERE2"),i=e.Python.valueToCode(t,"STRING",e.Python.ORDER_MEMBER)||"''";switch(n){case"FROM_START":"0"==(n=e.Python.getAdjustedInt(t,"AT1"))&&(n="");break;case"FROM_END":n=e.Python.getAdjustedInt(t,"AT1",1,!0);break;case"FIRST":n="";break;default:throw Error("Unhandled option (text_getSubstring)")}switch(r){case"FROM_START":t=e.Python.getAdjustedInt(t,"AT2",1);break;case"FROM_END":t=e.Python.getAdjustedInt(t,"AT2",0,!0),e.isNumber(String(t))?"0"==t&&(t=""):(e.Python.definitions_.import_sys="import sys",t+=" or sys.maxsize");break;case"LAST":t="";break;default:throw Error("Unhandled option (text_getSubstring)")}return[i+"["+n+" : "+t+"]",e.Python.ORDER_MEMBER]},e.Python.text_changeCase=function(t){var n={UPPERCASE:".upper()",LOWERCASE:".lower()",TITLECASE:".title()"}[t.getFieldValue("CASE")];return[(e.Python.valueToCode(t,"TEXT",e.Python.ORDER_MEMBER)||"''")+n,e.Python.ORDER_FUNCTION_CALL]},e.Python.text_trim=function(t){var n={LEFT:".lstrip()",RIGHT:".rstrip()",BOTH:".strip()"}[t.getFieldValue("MODE")];return[(e.Python.valueToCode(t,"TEXT",e.Python.ORDER_MEMBER)||"''")+n,e.Python.ORDER_FUNCTION_CALL]},e.Python.text_print=function(t){return"print("+(e.Python.valueToCode(t,"TEXT",e.Python.ORDER_NONE)||"''")+")\n"},e.Python.text_prompt_ext=function(t){var n=e.Python.provideFunction_("text_prompt",["def "+e.Python.FUNCTION_NAME_PLACEHOLDER_+"(msg):","  try:","    return raw_input(msg)","  except NameError:","    return input(msg)"]);return n=n+"("+(t.getField("TEXT")?e.Python.quote_(t.getFieldValue("TEXT")):e.Python.valueToCode(t,"TEXT",e.Python.ORDER_NONE)||"''")+")","NUMBER"==t.getFieldValue("TYPE")&&(n="float("+n+")"),[n,e.Python.ORDER_FUNCTION_CALL]},e.Python.text_prompt=e.Python.text_prompt_ext,e.Python.text_count=function(t){return[(e.Python.valueToCode(t,"TEXT",e.Python.ORDER_MEMBER)||"''")+".count("+(t=e.Python.valueToCode(t,"SUB",e.Python.ORDER_NONE)||"''")+")",e.Python.ORDER_FUNCTION_CALL]},e.Python.text_replace=function(t){return[(e.Python.valueToCode(t,"TEXT",e.Python.ORDER_MEMBER)||"''")+".replace("+(e.Python.valueToCode(t,"FROM",e.Python.ORDER_NONE)||"''")+", "+(t=e.Python.valueToCode(t,"TO",e.Python.ORDER_NONE)||"''")+")",e.Python.ORDER_MEMBER]},e.Python.text_reverse=function(t){return[(e.Python.valueToCode(t,"TEXT",e.Python.ORDER_MEMBER)||"''")+"[::-1]",e.Python.ORDER_MEMBER]},e.Python.variables={},e.Python.variables_get=function(t){return[e.Python.nameDB_.getName(t.getFieldValue("VAR"),e.VARIABLE_CATEGORY_NAME),e.Python.ORDER_ATOMIC]},e.Python.variables_set=function(t){var n=e.Python.valueToCode(t,"VALUE",e.Python.ORDER_NONE)||"0";return e.Python.nameDB_.getName(t.getFieldValue("VAR"),e.VARIABLE_CATEGORY_NAME)+" = "+n+"\n"},e.Python.variablesDynamic={},e.Python.variables_get_dynamic=e.Python.variables_get,e.Python.variables_set_dynamic=e.Python.variables_set,e.Python})?r.apply(t,i):r)||(e.exports=o)},918:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default,o=n(6115).default,s=n(1655).default,a=n(6389).default,l=n(2470),c=n(545),u="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.lW=f,t.h2=50;var h=2147483647;function p(e){if(e>h)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,f.prototype),t}function f(e,t,n){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return _(e)}return d(e,t,n)}function d(e,t,n){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!f.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|T(e,t),r=p(n),i=r.write(e,t);i!==n&&(r=r.slice(0,i));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(ee(e,Uint8Array)){var t=new Uint8Array(e);return m(t.buffer,t.byteOffset,t.byteLength)}return v(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(ee(e,ArrayBuffer)||e&&ee(e.buffer,ArrayBuffer))return m(e,t,n);if("undefined"!==typeof SharedArrayBuffer&&(ee(e,SharedArrayBuffer)||e&&ee(e.buffer,SharedArrayBuffer)))return m(e,t,n);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return f.from(r,t,n);var i=function(e){if(f.isBuffer(e)){var t=0|y(e.length),n=p(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!==typeof e.length||te(e.length)?p(0):v(e);if("Buffer"===e.type&&Array.isArray(e.data))return v(e.data)}(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return f.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function g(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function _(e){return g(e),p(e<0?0:0|y(e))}function v(e){for(var t=e.length<0?0:0|y(e.length),n=p(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function m(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,f.prototype),r}function y(e){if(e>=h)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+h.toString(16)+" bytes");return 0|e}function T(e,t){if(f.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||ee(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return Q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return J(e).length;default:if(i)return r?-1:Q(e).length;t=(""+t).toLowerCase(),i=!0}}function E(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return D(this,t,n);case"utf8":case"utf-8":return A(this,t,n);case"ascii":return L(this,t,n);case"latin1":case"binary":return M(this,t,n);case"base64":return x(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function b(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function O(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),te(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=f.from(t,r)),f.isBuffer(t))return 0===t.length?-1:S(e,t,n,r,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):S(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function S(e,t,n,r,i){var o,s=1,a=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,l/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var u=-1;for(o=n;o<a;o++)if(c(e,o)===c(t,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===l)return u*s}else-1!==u&&(o-=o-u),u=-1}else for(n+l>a&&(n=a-l),o=n;o>=0;o--){for(var h=!0,p=0;p<l;p++)if(c(e,o+p)!==c(t,p)){h=!1;break}if(h)return o}return-1}function k(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o,s=t.length;for(r>s/2&&(r=s/2),o=0;o<r;++o){var a=parseInt(t.substr(2*o,2),16);if(te(a))return o;e[n+o]=a}return o}function w(e,t,n,r){return $(Q(t,e.length-n),e,n,r)}function R(e,t,n,r){return $(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function C(e,t,n,r){return $(J(t),e,n,r)}function I(e,t,n,r){return $(function(e,t){for(var n,r,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)r=(n=e.charCodeAt(s))>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function x(e,t,n){return 0===t&&n===e.length?l.fromByteArray(e):l.fromByteArray(e.slice(t,n))}function A(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o=e[i],s=null,a=o>239?4:o>223?3:o>191?2:1;if(i+a<=n){var l=void 0,c=void 0,u=void 0,h=void 0;switch(a){case 1:o<128&&(s=o);break;case 2:128===(192&(l=e[i+1]))&&(h=(31&o)<<6|63&l)>127&&(s=h);break;case 3:l=e[i+1],c=e[i+2],128===(192&l)&&128===(192&c)&&(h=(15&o)<<12|(63&l)<<6|63&c)>2047&&(h<55296||h>57343)&&(s=h);break;case 4:l=e[i+1],c=e[i+2],u=e[i+3],128===(192&l)&&128===(192&c)&&128===(192&u)&&(h=(15&o)<<18|(63&l)<<12|(63&c)<<6|63&u)>65535&&h<1114112&&(s=h)}}null===s?(s=65533,a=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|1023&s),r.push(s),i+=a}return function(e){var t=e.length;if(t<=N)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=N));return n}(r)}f.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(n){return!1}}(),f.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}}),f.poolSize=8192,f.from=function(e,t,n){return d(e,t,n)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array),f.alloc=function(e,t,n){return function(e,t,n){return g(e),e<=0?p(e):void 0!==t?"string"===typeof n?p(e).fill(t,n):p(e).fill(t):p(e)}(e,t,n)},f.allocUnsafe=function(e){return _(e)},f.allocUnsafeSlow=function(e){return _(e)},f.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==f.prototype},f.compare=function(e,t){if(ee(e,Uint8Array)&&(e=f.from(e,e.offset,e.byteLength)),ee(t,Uint8Array)&&(t=f.from(t,t.offset,t.byteLength)),!f.isBuffer(e)||!f.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},f.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return f.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=f.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(ee(o,Uint8Array))i+o.length>r.length?(f.isBuffer(o)||(o=f.from(o)),o.copy(r,i)):Uint8Array.prototype.set.call(r,o,i);else{if(!f.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i)}i+=o.length}return r},f.byteLength=T,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)b(this,t,t+1);return this},f.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},f.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)b(this,t,t+7),b(this,t+1,t+6),b(this,t+2,t+5),b(this,t+3,t+4);return this},f.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?A(this,0,e):E.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(e){if(!f.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===f.compare(this,e)},f.prototype.inspect=function(){var e="",n=t.h2;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},u&&(f.prototype[u]=f.prototype.inspect),f.prototype.compare=function(e,t,n,r,i){if(ee(e,Uint8Array)&&(e=f.from(e,e.offset,e.byteLength)),!f.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),a=Math.min(o,s),l=this.slice(r,i),c=e.slice(t,n),u=0;u<a;++u)if(l[u]!==c[u]){o=l[u],s=c[u];break}return o<s?-1:s<o?1:0},f.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},f.prototype.indexOf=function(e,t,n){return O(this,e,t,n,!0)},f.prototype.lastIndexOf=function(e,t,n){return O(this,e,t,n,!1)},f.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return k(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":case"latin1":case"binary":return R(this,e,t,n);case"base64":return C(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var N=4096;function L(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function M(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function D(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=ne[e[o]];return i}function P(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length-1;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function B(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function F(e,t,n,r,i,o){if(!f.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function U(e,t,n,r,i){z(t,r,i,e,n,7);var o=Number(t&BigInt(4294967295));e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o;var s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,n}function Z(e,t,n,r,i){z(t,r,i,e,n,7);var o=Number(t&BigInt(4294967295));e[n+7]=o,o>>=8,e[n+6]=o,o>>=8,e[n+5]=o,o>>=8,e[n+4]=o;var s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=s,s>>=8,e[n+2]=s,s>>=8,e[n+1]=s,s>>=8,e[n]=s,n+8}function G(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function H(e,t,n,r,i){return t=+t,n>>>=0,i||G(e,0,n,4),c.write(e,t,n,r,23,4),n+4}function V(e,t,n,r,i){return t=+t,n>>>=0,i||G(e,0,n,8),c.write(e,t,n,r,52,8),n+8}f.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,f.prototype),r},f.prototype.readUintLE=f.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||B(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},f.prototype.readUintBE=f.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||B(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},f.prototype.readUint8=f.prototype.readUInt8=function(e,t){return e>>>=0,t||B(e,1,this.length),this[e]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(e,t){return e>>>=0,t||B(e,2,this.length),this[e]|this[e+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(e,t){return e>>>=0,t||B(e,2,this.length),this[e]<<8|this[e+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(e,t){return e>>>=0,t||B(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(e,t){return e>>>=0,t||B(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},f.prototype.readBigUInt64LE=re((function(e){Y(e>>>=0,"offset");var t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);var r=t+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,24),i=this[++e]+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+n*Math.pow(2,24);return BigInt(r)+(BigInt(i)<<BigInt(32))})),f.prototype.readBigUInt64BE=re((function(e){Y(e>>>=0,"offset");var t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);var r=t*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+this[++e],i=this[++e]*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),f.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||B(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},f.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||B(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},f.prototype.readInt8=function(e,t){return e>>>=0,t||B(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},f.prototype.readInt16LE=function(e,t){e>>>=0,t||B(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},f.prototype.readInt16BE=function(e,t){e>>>=0,t||B(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},f.prototype.readInt32LE=function(e,t){return e>>>=0,t||B(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},f.prototype.readInt32BE=function(e,t){return e>>>=0,t||B(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},f.prototype.readBigInt64LE=re((function(e){Y(e>>>=0,"offset");var t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);var r=this[e+4]+this[e+5]*Math.pow(2,8)+this[e+6]*Math.pow(2,16)+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,24))})),f.prototype.readBigInt64BE=re((function(e){Y(e>>>=0,"offset");var t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);var r=(t<<24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+n)})),f.prototype.readFloatLE=function(e,t){return e>>>=0,t||B(e,4,this.length),c.read(this,e,!0,23,4)},f.prototype.readFloatBE=function(e,t){return e>>>=0,t||B(e,4,this.length),c.read(this,e,!1,23,4)},f.prototype.readDoubleLE=function(e,t){return e>>>=0,t||B(e,8,this.length),c.read(this,e,!0,52,8)},f.prototype.readDoubleBE=function(e,t){return e>>>=0,t||B(e,8,this.length),c.read(this,e,!1,52,8)},f.prototype.writeUintLE=f.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||F(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||F(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},f.prototype.writeUint8=f.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,1,255,0),this[t]=255&e,t+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},f.prototype.writeBigUInt64LE=re((function(e){return U(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),f.prototype.writeBigUInt64BE=re((function(e){return Z(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),f.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);F(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},f.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);F(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},f.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},f.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},f.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},f.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},f.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},f.prototype.writeBigInt64LE=re((function(e){return U(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),f.prototype.writeBigInt64BE=re((function(e){return Z(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),f.prototype.writeFloatLE=function(e,t,n){return H(this,e,t,!0,n)},f.prototype.writeFloatBE=function(e,t,n){return H(this,e,t,!1,n)},f.prototype.writeDoubleLE=function(e,t,n){return V(this,e,t,!0,n)},f.prototype.writeDoubleBE=function(e,t,n){return V(this,e,t,!1,n)},f.prototype.copy=function(e,t,n,r){if(!f.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},f.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!f.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var i=e.charCodeAt(0);("utf8"===r&&i<128||"latin1"===r)&&(e=i)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(o=t;o<n;++o)this[o]=e;else{var s=f.isBuffer(e)?e:f.from(e,r),a=s.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=s[o%a]}return this};var j={};function W(e,t,n){j[e]=function(n){s(c,n);var l=a(c);function c(){var n;return r(this,c),n=l.call(this),Object.defineProperty(o(n),"message",{value:t.apply(o(n),arguments),writable:!0,configurable:!0}),n.name="".concat(n.name," [").concat(e,"]"),n.stack,delete n.name,n}return i(c,[{key:"code",get:function(){return e},set:function(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(e,"]: ").concat(this.message)}}]),c}(n)}function X(e){for(var t="",n=e.length,r="-"===e[0]?1:0;n>=r+4;n-=3)t="_".concat(e.slice(n-3,n)).concat(t);return"".concat(e.slice(0,n)).concat(t)}function z(e,t,n,r,i,o){if(e>n||e<t){var s,a="bigint"===typeof t?"n":"";throw s=o>3?0===t||t===BigInt(0)?">= 0".concat(a," and < 2").concat(a," ** ").concat(8*(o+1)).concat(a):">= -(2".concat(a," ** ").concat(8*(o+1)-1).concat(a,") and < 2 ** ")+"".concat(8*(o+1)-1).concat(a):">= ".concat(t).concat(a," and <= ").concat(n).concat(a),new j.ERR_OUT_OF_RANGE("value",s,e)}!function(e,t,n){Y(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||q(t,e.length-(n+1))}(r,i,o)}function Y(e,t){if("number"!==typeof e)throw new j.ERR_INVALID_ARG_TYPE(t,"number",e)}function q(e,t,n){if(Math.floor(e)!==e)throw Y(e,n),new j.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new j.ERR_BUFFER_OUT_OF_BOUNDS;throw new j.ERR_OUT_OF_RANGE(n||"offset",">= ".concat(n?1:0," and <= ").concat(t),e)}W("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?"".concat(e," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"}),RangeError),W("ERR_INVALID_ARG_TYPE",(function(e,t){return'The "'.concat(e,'" argument must be of type number. Received type ').concat(typeof t)}),TypeError),W("ERR_OUT_OF_RANGE",(function(e,t,n){var r='The value of "'.concat(e,'" is out of range.'),i=n;return Number.isInteger(n)&&Math.abs(n)>Math.pow(2,32)?i=X(String(n)):"bigint"===typeof n&&(i=String(n),(n>Math.pow(BigInt(2),BigInt(32))||n<-Math.pow(BigInt(2),BigInt(32)))&&(i=X(i)),i+="n"),r+=" It must be ".concat(t,". Received ").concat(i)}),RangeError);var K=/[^+/0-9A-Za-z-_]/g;function Q(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function J(e){return l.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(K,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function $(e,t,n,r){var i;for(i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function ee(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function te(e){return e!==e}var ne=function(){for(var e="0123456789abcdef",t=new Array(256),n=0;n<16;++n)for(var r=16*n,i=0;i<16;++i)t[r+i]=e[n]+e[i];return t}();function re(e){return"undefined"===typeof BigInt?ie:e}function ie(){throw new Error("BigInt not supported")}},6123:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var s=i.apply(null,n);s&&e.push(s)}}else if("object"===o){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var a in n)r.call(n,a)&&n[a]&&e.push(a)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},8925:function(e,t,n){var r,i,o;i=[],void 0===(o="function"===typeof(r=function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function r(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){l(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function i(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function o(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(r){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var s="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:void 0,a=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=s.saveAs||("object"!=typeof window||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(e,t,n){var a=s.URL||s.webkitURL,l=document.createElement("a");t=t||e.name||"download",l.download=t,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?o(l):i(l.href)?r(e,t,n):o(l,l.target="_blank")):(l.href=a.createObjectURL(e),setTimeout((function(){a.revokeObjectURL(l.href)}),4e4),setTimeout((function(){o(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,s){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,s),n);else if(i(e))r(e,n,s);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout((function(){o(a)}))}}:function(e,t,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof e)return r(e,t,n);var o="application/octet-stream"===e.type,l=/constructor/i.test(s.HTMLElement)||s.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||o&&l||a)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=e:location=e,i=null},u.readAsDataURL(e)}else{var h=s.URL||s.webkitURL,p=h.createObjectURL(e);i?i.location=p:location.href=p,i=null,setTimeout((function(){h.revokeObjectURL(p)}),4e4)}});s.saveAs=l.saveAs=l,e.exports=l})?r.apply(t,i):r)||(e.exports=o)},7861:function(e,t,n){"use strict";var r=n(6214),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return r.isMemo(e)?s:a[e.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var c=Object.defineProperty,u=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,d=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(d){var i=f(n);i&&i!==d&&e(t,i,r)}var s=u(n);h&&(s=s.concat(h(n)));for(var a=l(t),g=l(n),_=0;_<s.length;++_){var v=s[_];if(!o[v]&&(!r||!r[v])&&(!g||!g[v])&&(!a||!a[v])){var m=p(n,v);try{c(t,v,m)}catch(y){}}}}return t}},545:function(e,t){t.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,l=(1<<a)-1,c=l>>1,u=-7,h=n?i-1:0,p=n?-1:1,f=e[t+h];for(h+=p,o=f&(1<<-u)-1,f>>=-u,u+=a;u>0;o=256*o+e[t+h],h+=p,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=r;u>0;s=256*s+e[t+h],h+=p,u-=8);if(0===o)o=1-c;else{if(o===l)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,r),o-=c}return(f?-1:1)*s*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var s,a,l,c=8*o-i-1,u=(1<<c)-1,h=u>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,d=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),(t+=s+h>=1?p/l:p*Math.pow(2,1-h))*l>=2&&(s++,l/=2),s+h>=u?(a=0,s=u):s+h>=1?(a=(t*l-1)*Math.pow(2,i),s+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;e[n+f]=255&a,f+=d,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[n+f]=255&s,f+=d,s/=256,c-=8);e[n+f-d]|=128*g}},6666:function(e,t){var n;!function(t,n){"use strict";"object"===typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!==typeof window?window:this,(function(r,i){"use strict";var o=[],s=Object.getPrototypeOf,a=o.slice,l=o.flat?function(e){return o.flat.call(e)}:function(e){return o.concat.apply([],e)},c=o.push,u=o.indexOf,h={},p=h.toString,f=h.hasOwnProperty,d=f.toString,g=d.call(Object),_={},v=function(e){return"function"===typeof e&&"number"!==typeof e.nodeType&&"function"!==typeof e.item},m=function(e){return null!=e&&e===e.window},y=r.document,T={type:!0,src:!0,nonce:!0,noModule:!0};function E(e,t,n){var r,i,o=(n=n||y).createElement("script");if(o.text=e,t)for(r in T)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function b(e){return null==e?e+"":"object"===typeof e||"function"===typeof e?h[p.call(e)]||"object":typeof e}var O="3.7.1",S=/HTML$/i,k=function e(t,n){return new e.fn.init(t,n)};function w(e){var t=!!e&&"length"in e&&e.length,n=b(e);return!v(e)&&!m(e)&&("array"===n||0===t||"number"===typeof t&&t>0&&t-1 in e)}function R(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}k.fn=k.prototype={jquery:O,constructor:k,length:0,toArray:function(){return a.call(this)},get:function(e){return null==e?a.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=k.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return k.each(this,e)},map:function(e){return this.pushStack(k.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(k.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(k.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:o.sort,splice:o.splice},k.extend=k.fn.extend=function(){var e,t,n,r,i,o,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"===typeof s&&(c=s,s=arguments[a]||{},a++),"object"===typeof s||v(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)r=e[t],"__proto__"!==t&&s!==r&&(c&&r&&(k.isPlainObject(r)||(i=Array.isArray(r)))?(n=s[t],o=i&&!Array.isArray(n)?[]:i||k.isPlainObject(n)?n:{},i=!1,s[t]=k.extend(c,o,r)):void 0!==r&&(s[t]=r));return s},k.extend({expando:"jQuery"+(O+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==p.call(e))&&(!(t=s(e))||"function"===typeof(n=f.call(t,"constructor")&&t.constructor)&&d.call(n)===g)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){E(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(w(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},text:function(e){var t,n="",r=0,i=e.nodeType;if(!i)for(;t=e[r++];)n+=k.text(t);return 1===i||11===i?e.textContent:9===i?e.documentElement.textContent:3===i||4===i?e.nodeValue:n},makeArray:function(e,t){var n=t||[];return null!=e&&(w(Object(e))?k.merge(n,"string"===typeof e?[e]:e):c.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:u.call(t,e,n)},isXMLDoc:function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!S.test(t||n&&n.nodeName||"HTML")},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,s=!n;i<o;i++)!t(e[i],i)!==s&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,s=[];if(w(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&s.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&s.push(i);return l(s)},guid:1,support:_}),"function"===typeof Symbol&&(k.fn[Symbol.iterator]=o[Symbol.iterator]),k.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){h["[object "+t+"]"]=t.toLowerCase()}));var C=o.pop,I=o.sort,x=o.splice,A="[\\x20\\t\\r\\n\\f]",N=new RegExp("^"+A+"+|((?:^|[^\\\\])(?:\\\\.)*)"+A+"+$","g");k.contains=function(e,t){var n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(e.contains?e.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))};var L=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function M(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}k.escapeSelector=function(e){return(e+"").replace(L,M)};var D=y,P=c;!function(){var e,t,n,i,s,l,c,h,p,d,g=P,v=k.expando,m=0,y=0,T=ee(),E=ee(),b=ee(),O=ee(),S=function(e,t){return e===t&&(s=!0),0},w="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="(?:\\\\[\\da-fA-F]{1,6}"+A+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",M="\\["+A+"*("+L+")(?:"+A+"*([*^$|!~]?=)"+A+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+L+"))|)"+A+"*\\]",B=":("+L+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+M+")*)|.*)\\)|)",F=new RegExp(A+"+","g"),U=new RegExp("^"+A+"*,"+A+"*"),Z=new RegExp("^"+A+"*([>+~]|"+A+")"+A+"*"),G=new RegExp(A+"|>"),H=new RegExp(B),V=new RegExp("^"+L+"$"),j={ID:new RegExp("^#("+L+")"),CLASS:new RegExp("^\\.("+L+")"),TAG:new RegExp("^("+L+"|[*])"),ATTR:new RegExp("^"+M),PSEUDO:new RegExp("^"+B),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+A+"*(even|odd|(([+-]|)(\\d*)n|)"+A+"*(?:([+-]|)"+A+"*(\\d+)|))"+A+"*\\)|)","i"),bool:new RegExp("^(?:"+w+")$","i"),needsContext:new RegExp("^"+A+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+A+"*((?:-\\d)?\\d*)"+A+"*\\)|)(?=[^-]|$)","i")},W=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Y=/[+~]/,q=new RegExp("\\\\[\\da-fA-F]{1,6}"+A+"?|\\\\([^\\r\\n\\f])","g"),K=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},Q=function(){le()},J=pe((function(e){return!0===e.disabled&&R(e,"fieldset")}),{dir:"parentNode",next:"legend"});try{g.apply(o=a.call(D.childNodes),D.childNodes),o[D.childNodes.length].nodeType}catch(ye){g={apply:function(e,t){P.apply(e,a.call(t))},call:function(e){P.apply(e,a.call(arguments,1))}}}function $(e,t,n,r){var i,o,s,a,c,u,f,d=t&&t.ownerDocument,m=t?t.nodeType:9;if(n=n||[],"string"!==typeof e||!e||1!==m&&9!==m&&11!==m)return n;if(!r&&(le(t),t=t||l,h)){if(11!==m&&(c=z.exec(e)))if(i=c[1]){if(9===m){if(!(s=t.getElementById(i)))return n;if(s.id===i)return g.call(n,s),n}else if(d&&(s=d.getElementById(i))&&$.contains(t,s)&&s.id===i)return g.call(n,s),n}else{if(c[2])return g.apply(n,t.getElementsByTagName(e)),n;if((i=c[3])&&t.getElementsByClassName)return g.apply(n,t.getElementsByClassName(i)),n}if(!O[e+" "]&&(!p||!p.test(e))){if(f=e,d=t,1===m&&(G.test(e)||Z.test(e))){for((d=Y.test(e)&&ae(t.parentNode)||t)==t&&_.scope||((a=t.getAttribute("id"))?a=k.escapeSelector(a):t.setAttribute("id",a=v)),o=(u=ue(e)).length;o--;)u[o]=(a?"#"+a:":scope")+" "+he(u[o]);f=u.join(",")}try{return g.apply(n,d.querySelectorAll(f)),n}catch(y){O(e,!0)}finally{a===v&&t.removeAttribute("id")}}}return me(e.replace(N,"$1"),t,n,r)}function ee(){var e=[];return function n(r,i){return e.push(r+" ")>t.cacheLength&&delete n[e.shift()],n[r+" "]=i}}function te(e){return e[v]=!0,e}function ne(e){var t=l.createElement("fieldset");try{return!!e(t)}catch(ye){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function re(e){return function(t){return R(t,"input")&&t.type===e}}function ie(e){return function(t){return(R(t,"input")||R(t,"button"))&&t.type===e}}function oe(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&J(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function se(e){return te((function(t){return t=+t,te((function(n,r){for(var i,o=e([],n.length,t),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))}))}))}function ae(e){return e&&"undefined"!==typeof e.getElementsByTagName&&e}function le(e){var n,r=e?e.ownerDocument||e:D;return r!=l&&9===r.nodeType&&r.documentElement?(c=(l=r).documentElement,h=!k.isXMLDoc(l),d=c.matches||c.webkitMatchesSelector||c.msMatchesSelector,c.msMatchesSelector&&D!=l&&(n=l.defaultView)&&n.top!==n&&n.addEventListener("unload",Q),_.getById=ne((function(e){return c.appendChild(e).id=k.expando,!l.getElementsByName||!l.getElementsByName(k.expando).length})),_.disconnectedMatch=ne((function(e){return d.call(e,"*")})),_.scope=ne((function(){return l.querySelectorAll(":scope")})),_.cssHas=ne((function(){try{return l.querySelector(":has(*,:jqfake)"),!1}catch(ye){return!0}})),_.getById?(t.filter.ID=function(e){var t=e.replace(q,K);return function(e){return e.getAttribute("id")===t}},t.find.ID=function(e,t){if("undefined"!==typeof t.getElementById&&h){var n=t.getElementById(e);return n?[n]:[]}}):(t.filter.ID=function(e){var t=e.replace(q,K);return function(e){var n="undefined"!==typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},t.find.ID=function(e,t){if("undefined"!==typeof t.getElementById&&h){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),t.find.TAG=function(e,t){return"undefined"!==typeof t.getElementsByTagName?t.getElementsByTagName(e):t.querySelectorAll(e)},t.find.CLASS=function(e,t){if("undefined"!==typeof t.getElementsByClassName&&h)return t.getElementsByClassName(e)},p=[],ne((function(e){var t;c.appendChild(e).innerHTML="<a id='"+v+"' href='' disabled='disabled'></a><select id='"+v+"-\r\\' disabled='disabled'><option selected=''></option></select>",e.querySelectorAll("[selected]").length||p.push("\\["+A+"*(?:value|"+w+")"),e.querySelectorAll("[id~="+v+"-]").length||p.push("~="),e.querySelectorAll("a#"+v+"+*").length||p.push(".#.+[+~]"),e.querySelectorAll(":checked").length||p.push(":checked"),(t=l.createElement("input")).setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),c.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&p.push(":enabled",":disabled"),(t=l.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||p.push("\\["+A+"*name"+A+"*="+A+"*(?:''|\"\")")})),_.cssHas||p.push(":has"),p=p.length&&new RegExp(p.join("|")),S=function(e,t){if(e===t)return s=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!_.sortDetached&&t.compareDocumentPosition(e)===n?e===l||e.ownerDocument==D&&$.contains(D,e)?-1:t===l||t.ownerDocument==D&&$.contains(D,t)?1:i?u.call(i,e)-u.call(i,t):0:4&n?-1:1)},l):l}for(e in $.matches=function(e,t){return $(e,null,null,t)},$.matchesSelector=function(e,t){if(le(e),h&&!O[t+" "]&&(!p||!p.test(t)))try{var n=d.call(e,t);if(n||_.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(ye){O(t,!0)}return $(t,l,null,[e]).length>0},$.contains=function(e,t){return(e.ownerDocument||e)!=l&&le(e),k.contains(e,t)},$.attr=function(e,n){(e.ownerDocument||e)!=l&&le(e);var r=t.attrHandle[n.toLowerCase()],i=r&&f.call(t.attrHandle,n.toLowerCase())?r(e,n,!h):void 0;return void 0!==i?i:e.getAttribute(n)},$.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},k.uniqueSort=function(e){var t,n=[],r=0,o=0;if(s=!_.sortStable,i=!_.sortStable&&a.call(e,0),I.call(e,S),s){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)x.call(e,n[r],1)}return i=null,e},k.fn.uniqueSort=function(){return this.pushStack(k.uniqueSort(a.apply(this)))},t=k.expr={cacheLength:50,createPseudo:te,match:j,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(q,K),e[3]=(e[3]||e[4]||e[5]||"").replace(q,K),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||$.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&$.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return j.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&H.test(n)&&(t=ue(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(q,K).toLowerCase();return"*"===e?function(){return!0}:function(e){return R(e,t)}},CLASS:function(e){var t=T[e+" "];return t||(t=new RegExp("(^|"+A+")"+e+"("+A+"|$)"))&&T(e,(function(e){return t.test("string"===typeof e.className&&e.className||"undefined"!==typeof e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){var i=$.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(F," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var c,u,h,p,f,d=o!==s?"nextSibling":"previousSibling",g=t.parentNode,_=a&&t.nodeName.toLowerCase(),y=!l&&!a,T=!1;if(g){if(o){for(;d;){for(h=t;h=h[d];)if(a?R(h,_):1===h.nodeType)return!1;f=d="only"===e&&!f&&"nextSibling"}return!0}if(f=[s?g.firstChild:g.lastChild],s&&y){for(T=(p=(c=(u=g[v]||(g[v]={}))[e]||[])[0]===m&&c[1])&&c[2],h=p&&g.childNodes[p];h=++p&&h&&h[d]||(T=p=0)||f.pop();)if(1===h.nodeType&&++T&&h===t){u[e]=[m,p,T];break}}else if(y&&(T=p=(c=(u=t[v]||(t[v]={}))[e]||[])[0]===m&&c[1]),!1===T)for(;(h=++p&&h&&h[d]||(T=p=0)||f.pop())&&(!(a?R(h,_):1===h.nodeType)||!++T||(y&&((u=h[v]||(h[v]={}))[e]=[m,T]),h!==t)););return(T-=i)===r||T%r===0&&T/r>=0}}},PSEUDO:function(e,n){var r,i=t.pseudos[e]||t.setFilters[e.toLowerCase()]||$.error("unsupported pseudo: "+e);return i[v]?i(n):i.length>1?(r=[e,e,"",n],t.setFilters.hasOwnProperty(e.toLowerCase())?te((function(e,t){for(var r,o=i(e,n),s=o.length;s--;)e[r=u.call(e,o[s])]=!(t[r]=o[s])})):function(e){return i(e,0,r)}):i}},pseudos:{not:te((function(e){var t=[],n=[],r=ve(e.replace(N,"$1"));return r[v]?te((function(e,t,n,i){for(var o,s=r(e,null,i,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))})):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}})),has:te((function(e){return function(t){return $(e,t).length>0}})),contains:te((function(e){return e=e.replace(q,K),function(t){return(t.textContent||k.text(t)).indexOf(e)>-1}})),lang:te((function(e){return V.test(e||"")||$.error("unsupported lang: "+e),e=e.replace(q,K).toLowerCase(),function(t){var n;do{if(n=h?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(e){var t=r.location&&r.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===c},focus:function(e){return e===function(){try{return l.activeElement}catch(e){}}()&&l.hasFocus()&&!!(e.type||e.href||~e.tabIndex)},enabled:oe(!1),disabled:oe(!0),checked:function(e){return R(e,"input")&&!!e.checked||R(e,"option")&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!t.pseudos.empty(e)},header:function(e){return X.test(e.nodeName)},input:function(e){return W.test(e.nodeName)},button:function(e){return R(e,"input")&&"button"===e.type||R(e,"button")},text:function(e){var t;return R(e,"input")&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:se((function(){return[0]})),last:se((function(e,t){return[t-1]})),eq:se((function(e,t,n){return[n<0?n+t:n]})),even:se((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:se((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:se((function(e,t,n){var r;for(r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e})),gt:se((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}},t.pseudos.nth=t.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[e]=re(e);for(e in{submit:!0,reset:!0})t.pseudos[e]=ie(e);function ce(){}function ue(e,n){var r,i,o,s,a,l,c,u=E[e+" "];if(u)return n?0:u.slice(0);for(a=e,l=[],c=t.preFilter;a;){for(s in r&&!(i=U.exec(a))||(i&&(a=a.slice(i[0].length)||a),l.push(o=[])),r=!1,(i=Z.exec(a))&&(r=i.shift(),o.push({value:r,type:i[0].replace(N," ")}),a=a.slice(r.length)),t.filter)!(i=j[s].exec(a))||c[s]&&!(i=c[s](i))||(r=i.shift(),o.push({value:r,type:s,matches:i}),a=a.slice(r.length));if(!r)break}return n?a.length:a?$.error(e):E(e,l).slice(0)}function he(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function pe(e,t,n){var r=t.dir,i=t.next,o=i||r,s=n&&"parentNode"===o,a=y++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||s)return e(t,n,i);return!1}:function(t,n,l){var c,u,h=[m,a];if(l){for(;t=t[r];)if((1===t.nodeType||s)&&e(t,n,l))return!0}else for(;t=t[r];)if(1===t.nodeType||s)if(u=t[v]||(t[v]={}),i&&R(t,i))t=t[r]||t;else{if((c=u[o])&&c[0]===m&&c[1]===a)return h[2]=c[2];if(u[o]=h,h[2]=e(t,n,l))return!0}return!1}}function fe(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function de(e,t,n,r,i){for(var o,s=[],a=0,l=e.length,c=null!=t;a<l;a++)(o=e[a])&&(n&&!n(o,r,i)||(s.push(o),c&&t.push(a)));return s}function ge(e,t,n,r,i,o){return r&&!r[v]&&(r=ge(r)),i&&!i[v]&&(i=ge(i,o)),te((function(o,s,a,l){var c,h,p,f,d=[],_=[],v=s.length,m=o||function(e,t,n){for(var r=0,i=t.length;r<i;r++)$(e,t[r],n);return n}(t||"*",a.nodeType?[a]:a,[]),y=!e||!o&&t?m:de(m,d,e,a,l);if(n?n(y,f=i||(o?e:v||r)?[]:s,a,l):f=y,r)for(c=de(f,_),r(c,[],a,l),h=c.length;h--;)(p=c[h])&&(f[_[h]]=!(y[_[h]]=p));if(o){if(i||e){if(i){for(c=[],h=f.length;h--;)(p=f[h])&&c.push(y[h]=p);i(null,f=[],c,l)}for(h=f.length;h--;)(p=f[h])&&(c=i?u.call(o,p):d[h])>-1&&(o[c]=!(s[c]=p))}}else f=de(f===s?f.splice(v,f.length):f),i?i(null,s,f,l):g.apply(s,f)}))}function _e(e){for(var r,i,o,s=e.length,a=t.relative[e[0].type],l=a||t.relative[" "],c=a?1:0,h=pe((function(e){return e===r}),l,!0),p=pe((function(e){return u.call(r,e)>-1}),l,!0),f=[function(e,t,i){var o=!a&&(i||t!=n)||((r=t).nodeType?h(e,t,i):p(e,t,i));return r=null,o}];c<s;c++)if(i=t.relative[e[c].type])f=[pe(fe(f),i)];else{if((i=t.filter[e[c].type].apply(null,e[c].matches))[v]){for(o=++c;o<s&&!t.relative[e[o].type];o++);return ge(c>1&&fe(f),c>1&&he(e.slice(0,c-1).concat({value:" "===e[c-2].type?"*":""})).replace(N,"$1"),i,c<o&&_e(e.slice(c,o)),o<s&&_e(e=e.slice(o)),o<s&&he(e))}f.push(i)}return fe(f)}function ve(e,r){var i,o=[],s=[],a=b[e+" "];if(!a){for(r||(r=ue(e)),i=r.length;i--;)(a=_e(r[i]))[v]?o.push(a):s.push(a);a=b(e,function(e,r){var i=r.length>0,o=e.length>0,s=function(s,a,c,u,p){var f,d,_,v=0,y="0",T=s&&[],E=[],b=n,O=s||o&&t.find.TAG("*",p),S=m+=null==b?1:Math.random()||.1,w=O.length;for(p&&(n=a==l||a||p);y!==w&&null!=(f=O[y]);y++){if(o&&f){for(d=0,a||f.ownerDocument==l||(le(f),c=!h);_=e[d++];)if(_(f,a||l,c)){g.call(u,f);break}p&&(m=S)}i&&((f=!_&&f)&&v--,s&&T.push(f))}if(v+=y,i&&y!==v){for(d=0;_=r[d++];)_(T,E,a,c);if(s){if(v>0)for(;y--;)T[y]||E[y]||(E[y]=C.call(u));E=de(E)}g.apply(u,E),p&&!s&&E.length>0&&v+r.length>1&&k.uniqueSort(u)}return p&&(m=S,n=b),T};return i?te(s):s}(s,o)),a.selector=e}return a}function me(e,n,r,i){var o,s,a,l,c,u="function"===typeof e&&e,p=!i&&ue(e=u.selector||e);if(r=r||[],1===p.length){if((s=p[0]=p[0].slice(0)).length>2&&"ID"===(a=s[0]).type&&9===n.nodeType&&h&&t.relative[s[1].type]){if(!(n=(t.find.ID(a.matches[0].replace(q,K),n)||[])[0]))return r;u&&(n=n.parentNode),e=e.slice(s.shift().value.length)}for(o=j.needsContext.test(e)?0:s.length;o--&&(a=s[o],!t.relative[l=a.type]);)if((c=t.find[l])&&(i=c(a.matches[0].replace(q,K),Y.test(s[0].type)&&ae(n.parentNode)||n))){if(s.splice(o,1),!(e=i.length&&he(s)))return g.apply(r,i),r;break}}return(u||ve(e,p))(i,n,!h,r,!n||Y.test(e)&&ae(n.parentNode)||n),r}ce.prototype=t.filters=t.pseudos,t.setFilters=new ce,_.sortStable=v.split("").sort(S).join("")===v,le(),_.sortDetached=ne((function(e){return 1&e.compareDocumentPosition(l.createElement("fieldset"))})),k.find=$,k.expr[":"]=k.expr.pseudos,k.unique=k.uniqueSort,$.compile=ve,$.select=me,$.setDocument=le,$.tokenize=ue,$.escape=k.escapeSelector,$.getText=k.text,$.isXML=k.isXMLDoc,$.selectors=k.expr,$.support=k.support,$.uniqueSort=k.uniqueSort}();var B=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&k(e).is(n))break;r.push(e)}return r},F=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},U=k.expr.match.needsContext,Z=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function G(e,t,n){return v(t)?k.grep(e,(function(e,r){return!!t.call(e,r,e)!==n})):t.nodeType?k.grep(e,(function(e){return e===t!==n})):"string"!==typeof t?k.grep(e,(function(e){return u.call(t,e)>-1!==n})):k.filter(t,e,n)}k.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?k.find.matchesSelector(r,e)?[r]:[]:k.find.matches(e,k.grep(t,(function(e){return 1===e.nodeType})))},k.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!==typeof e)return this.pushStack(k(e).filter((function(){for(t=0;t<r;t++)if(k.contains(i[t],this))return!0})));for(n=this.pushStack([]),t=0;t<r;t++)k.find(e,i[t],n);return r>1?k.uniqueSort(n):n},filter:function(e){return this.pushStack(G(this,e||[],!1))},not:function(e){return this.pushStack(G(this,e||[],!0))},is:function(e){return!!G(this,"string"===typeof e&&U.test(e)?k(e):e||[],!1).length}});var H,V=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(k.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||H,"string"===typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:V.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof k?t[0]:t,k.merge(this,k.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:y,!0)),Z.test(r[1])&&k.isPlainObject(t))for(r in t)v(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=y.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):v(e)?void 0!==n.ready?n.ready(e):e(k):k.makeArray(e,this)}).prototype=k.fn,H=k(y);var j=/^(?:parents|prev(?:Until|All))/,W={children:!0,contents:!0,next:!0,prev:!0};function X(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}k.fn.extend({has:function(e){var t=k(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(k.contains(this,t[e]))return!0}))},closest:function(e,t){var n,r=0,i=this.length,o=[],s="string"!==typeof e&&k(e);if(!U.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&k.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?k.uniqueSort(o):o)},index:function(e){return e?"string"===typeof e?u.call(k(e),this[0]):u.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(k.uniqueSort(k.merge(this.get(),k(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),k.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return B(e,"parentNode")},parentsUntil:function(e,t,n){return B(e,"parentNode",n)},next:function(e){return X(e,"nextSibling")},prev:function(e){return X(e,"previousSibling")},nextAll:function(e){return B(e,"nextSibling")},prevAll:function(e){return B(e,"previousSibling")},nextUntil:function(e,t,n){return B(e,"nextSibling",n)},prevUntil:function(e,t,n){return B(e,"previousSibling",n)},siblings:function(e){return F((e.parentNode||{}).firstChild,e)},children:function(e){return F(e.firstChild)},contents:function(e){return null!=e.contentDocument&&s(e.contentDocument)?e.contentDocument:(R(e,"template")&&(e=e.content||e),k.merge([],e.childNodes))}},(function(e,t){k.fn[e]=function(n,r){var i=k.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"===typeof r&&(i=k.filter(r,i)),this.length>1&&(W[e]||k.uniqueSort(i),j.test(e)&&i.reverse()),this.pushStack(i)}}));var z=/[^\x20\t\r\n\f]+/g;function Y(e){return e}function q(e){throw e}function K(e,t,n,r){var i;try{e&&v(i=e.promise)?i.call(e).done(t).fail(n):e&&v(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}k.Callbacks=function(e){e="string"===typeof e?function(e){var t={};return k.each(e.match(z)||[],(function(e,n){t[n]=!0})),t}(e):k.extend({},e);var t,n,r,i,o=[],s=[],a=-1,l=function(){for(i=i||e.once,r=t=!0;s.length;a=-1)for(n=s.shift();++a<o.length;)!1===o[a].apply(n[0],n[1])&&e.stopOnFalse&&(a=o.length,n=!1);e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},c={add:function(){return o&&(n&&!t&&(a=o.length-1,s.push(n)),function t(n){k.each(n,(function(n,r){v(r)?e.unique&&c.has(r)||o.push(r):r&&r.length&&"string"!==b(r)&&t(r)}))}(arguments),n&&!t&&l()),this},remove:function(){return k.each(arguments,(function(e,t){for(var n;(n=k.inArray(t,o,n))>-1;)o.splice(n,1),n<=a&&a--})),this},has:function(e){return e?k.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=s=[],n||t||(o=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],s.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},k.extend({Deferred:function(e){var t=[["notify","progress",k.Callbacks("memory"),k.Callbacks("memory"),2],["resolve","done",k.Callbacks("once memory"),k.Callbacks("once memory"),0,"resolved"],["reject","fail",k.Callbacks("once memory"),k.Callbacks("once memory"),1,"rejected"]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return k.Deferred((function(n){k.each(t,(function(t,r){var i=v(e[r[4]])&&e[r[4]];o[r[1]]((function(){var e=i&&i.apply(this,arguments);e&&v(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,i?[e]:arguments)}))})),e=null})).promise()},then:function(e,n,i){var o=0;function s(e,t,n,i){return function(){var a=this,l=arguments,c=function(){var r,c;if(!(e<o)){if((r=n.apply(a,l))===t.promise())throw new TypeError("Thenable self-resolution");c=r&&("object"===typeof r||"function"===typeof r)&&r.then,v(c)?i?c.call(r,s(o,t,Y,i),s(o,t,q,i)):(o++,c.call(r,s(o,t,Y,i),s(o,t,q,i),s(o,t,Y,t.notifyWith))):(n!==Y&&(a=void 0,l=[r]),(i||t.resolveWith)(a,l))}},u=i?c:function(){try{c()}catch(r){k.Deferred.exceptionHook&&k.Deferred.exceptionHook(r,u.error),e+1>=o&&(n!==q&&(a=void 0,l=[r]),t.rejectWith(a,l))}};e?u():(k.Deferred.getErrorHook?u.error=k.Deferred.getErrorHook():k.Deferred.getStackHook&&(u.error=k.Deferred.getStackHook()),r.setTimeout(u))}}return k.Deferred((function(r){t[0][3].add(s(0,r,v(i)?i:Y,r.notifyWith)),t[1][3].add(s(0,r,v(e)?e:Y)),t[2][3].add(s(0,r,v(n)?n:q))})).promise()},promise:function(e){return null!=e?k.extend(e,i):i}},o={};return k.each(t,(function(e,r){var s=r[2],a=r[5];i[r[1]]=s.add,a&&s.add((function(){n=a}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),s.add(r[3].fire),o[r[0]]=function(){return o[r[0]+"With"](this===o?void 0:this,arguments),this},o[r[0]+"With"]=s.fireWith})),i.promise(o),e&&e.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),i=a.call(arguments),o=k.Deferred(),s=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?a.call(arguments):n,--t||o.resolveWith(r,i)}};if(t<=1&&(K(e,o.done(s(n)).resolve,o.reject,!t),"pending"===o.state()||v(i[n]&&i[n].then)))return o.then();for(;n--;)K(i[n],s(n),o.reject);return o.promise()}});var Q=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;k.Deferred.exceptionHook=function(e,t){r.console&&r.console.warn&&e&&Q.test(e.name)&&r.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},k.readyException=function(e){r.setTimeout((function(){throw e}))};var J=k.Deferred();function $(){y.removeEventListener("DOMContentLoaded",$),r.removeEventListener("load",$),k.ready()}k.fn.ready=function(e){return J.then(e).catch((function(e){k.readyException(e)})),this},k.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--k.readyWait:k.isReady)||(k.isReady=!0,!0!==e&&--k.readyWait>0||J.resolveWith(y,[k]))}}),k.ready.then=J.then,"complete"===y.readyState||"loading"!==y.readyState&&!y.documentElement.doScroll?r.setTimeout(k.ready):(y.addEventListener("DOMContentLoaded",$),r.addEventListener("load",$));var ee=function e(t,n,r,i,o,s,a){var l=0,c=t.length,u=null==r;if("object"===b(r))for(l in o=!0,r)e(t,n,l,r[l],!0,s,a);else if(void 0!==i&&(o=!0,v(i)||(a=!0),u&&(a?(n.call(t,i),n=null):(u=n,n=function(e,t,n){return u.call(k(e),n)})),n))for(;l<c;l++)n(t[l],r,a?i:i.call(t[l],l,n(t[l],r)));return o?t:u?n.call(t):c?n(t[0],r):s},te=/^-ms-/,ne=/-([a-z])/g;function re(e,t){return t.toUpperCase()}function ie(e){return e.replace(te,"ms-").replace(ne,re)}var oe=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function se(){this.expando=k.expando+se.uid++}se.uid=1,se.prototype={cache:function(e){var t=e[this.expando];return t||(t={},oe(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"===typeof t)i[ie(t)]=n;else for(r in t)i[ie(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][ie(t)]},access:function(e,t,n){return void 0===t||t&&"string"===typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(ie):(t=ie(t))in r?[t]:t.match(z)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||k.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!k.isEmptyObject(t)}};var ae=new se,le=new se,ce=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ue=/[A-Z]/g;function he(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(ue,"-$&").toLowerCase(),"string"===typeof(n=e.getAttribute(r))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ce.test(e)?JSON.parse(e):e)}(n)}catch(i){}le.set(e,t,n)}else n=void 0;return n}k.extend({hasData:function(e){return le.hasData(e)||ae.hasData(e)},data:function(e,t,n){return le.access(e,t,n)},removeData:function(e,t){le.remove(e,t)},_data:function(e,t,n){return ae.access(e,t,n)},_removeData:function(e,t){ae.remove(e,t)}}),k.fn.extend({data:function(e,t){var n,r,i,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(i=le.get(o),1===o.nodeType&&!ae.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(r=s[n].name).indexOf("data-")&&(r=ie(r.slice(5)),he(o,r,i[r]));ae.set(o,"hasDataAttrs",!0)}return i}return"object"===typeof e?this.each((function(){le.set(this,e)})):ee(this,(function(t){var n;if(o&&void 0===t)return void 0!==(n=le.get(o,e))||void 0!==(n=he(o,e))?n:void 0;this.each((function(){le.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){le.remove(this,e)}))}}),k.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=ae.get(e,t),n&&(!r||Array.isArray(n)?r=ae.access(e,t,k.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=k.queue(e,t),r=n.length,i=n.shift(),o=k._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,(function(){k.dequeue(e,t)}),o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ae.get(e,n)||ae.access(e,n,{empty:k.Callbacks("once memory").add((function(){ae.remove(e,[t+"queue",n])}))})}}),k.fn.extend({queue:function(e,t){var n=2;return"string"!==typeof e&&(t=e,e="fx",n--),arguments.length<n?k.queue(this[0],e):void 0===t?this:this.each((function(){var n=k.queue(this,e,t);k._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&k.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){k.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=k.Deferred(),o=this,s=this.length,a=function(){--r||i.resolveWith(o,[o])};for("string"!==typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(n=ae.get(o[s],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(a));return a(),i.promise(t)}});var pe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,fe=new RegExp("^(?:([+-])=|)("+pe+")([a-z%]*)$","i"),de=["Top","Right","Bottom","Left"],ge=y.documentElement,_e=function(e){return k.contains(e.ownerDocument,e)},ve={composed:!0};ge.getRootNode&&(_e=function(e){return k.contains(e.ownerDocument,e)||e.getRootNode(ve)===e.ownerDocument});var me=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&_e(e)&&"none"===k.css(e,"display")};function ye(e,t,n,r){var i,o,s=20,a=r?function(){return r.cur()}:function(){return k.css(e,t,"")},l=a(),c=n&&n[3]||(k.cssNumber[t]?"":"px"),u=e.nodeType&&(k.cssNumber[t]||"px"!==c&&+l)&&fe.exec(k.css(e,t));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;s--;)k.style(e,t,u+c),(1-o)*(1-(o=a()/l||.5))<=0&&(s=0),u/=o;u*=2,k.style(e,t,u+c),n=n||[]}return n&&(u=+u||+l||0,i=n[1]?u+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=u,r.end=i)),i}var Te={};function Ee(e){var t,n=e.ownerDocument,r=e.nodeName,i=Te[r];return i||(t=n.body.appendChild(n.createElement(r)),i=k.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),Te[r]=i,i)}function be(e,t){for(var n,r,i=[],o=0,s=e.length;o<s;o++)(r=e[o]).style&&(n=r.style.display,t?("none"===n&&(i[o]=ae.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&me(r)&&(i[o]=Ee(r))):"none"!==n&&(i[o]="none",ae.set(r,"display",n)));for(o=0;o<s;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}k.fn.extend({show:function(){return be(this,!0)},hide:function(){return be(this)},toggle:function(e){return"boolean"===typeof e?e?this.show():this.hide():this.each((function(){me(this)?k(this).show():k(this).hide()}))}});var Oe=/^(?:checkbox|radio)$/i,Se=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ke=/^$|^module$|\/(?:java|ecma)script/i;!function(){var e=y.createDocumentFragment().appendChild(y.createElement("div")),t=y.createElement("input");t.setAttribute("type","radio"),t.setAttribute("checked","checked"),t.setAttribute("name","t"),e.appendChild(t),_.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",_.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,e.innerHTML="<option></option>",_.option=!!e.lastChild}();var we={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Re(e,t){var n;return n="undefined"!==typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!==typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&R(e,t)?k.merge([e],n):n}function Ce(e,t){for(var n=0,r=e.length;n<r;n++)ae.set(e[n],"globalEval",!t||ae.get(t[n],"globalEval"))}we.tbody=we.tfoot=we.colgroup=we.caption=we.thead,we.th=we.td,_.option||(we.optgroup=we.option=[1,"<select multiple='multiple'>","</select>"]);var Ie=/<|&#?\w+;/;function xe(e,t,n,r,i){for(var o,s,a,l,c,u,h=t.createDocumentFragment(),p=[],f=0,d=e.length;f<d;f++)if((o=e[f])||0===o)if("object"===b(o))k.merge(p,o.nodeType?[o]:o);else if(Ie.test(o)){for(s=s||h.appendChild(t.createElement("div")),a=(Se.exec(o)||["",""])[1].toLowerCase(),l=we[a]||we._default,s.innerHTML=l[1]+k.htmlPrefilter(o)+l[2],u=l[0];u--;)s=s.lastChild;k.merge(p,s.childNodes),(s=h.firstChild).textContent=""}else p.push(t.createTextNode(o));for(h.textContent="",f=0;o=p[f++];)if(r&&k.inArray(o,r)>-1)i&&i.push(o);else if(c=_e(o),s=Re(h.appendChild(o),"script"),c&&Ce(s),n)for(u=0;o=s[u++];)ke.test(o.type||"")&&n.push(o);return h}var Ae=/^([^.]*)(?:\.(.+)|)/;function Ne(){return!0}function Le(){return!1}function Me(e,t,n,r,i,o){var s,a;if("object"===typeof t){for(a in"string"!==typeof n&&(r=r||n,n=void 0),t)Me(e,a,n,r,t[a],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"===typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Le;else if(!i)return e;return 1===o&&(s=i,i=function(e){return k().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=k.guid++)),e.each((function(){k.event.add(this,t,i,r,n)}))}function De(e,t,n){n?(ae.set(e,t,!1),k.event.add(e,t,{namespace:!1,handler:function(e){var n,r=ae.get(this,t);if(1&e.isTrigger&&this[t]){if(r)(k.event.special[t]||{}).delegateType&&e.stopPropagation();else if(r=a.call(arguments),ae.set(this,t,r),this[t](),n=ae.get(this,t),ae.set(this,t,!1),r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n}else r&&(ae.set(this,t,k.event.trigger(r[0],r.slice(1),this)),e.stopPropagation(),e.isImmediatePropagationStopped=Ne)}})):void 0===ae.get(e,t)&&k.event.add(e,t,Ne)}k.event={global:{},add:function(e,t,n,r,i){var o,s,a,l,c,u,h,p,f,d,g,_=ae.get(e);if(oe(e))for(n.handler&&(n=(o=n).handler,i=o.selector),i&&k.find.matchesSelector(ge,i),n.guid||(n.guid=k.guid++),(l=_.events)||(l=_.events=Object.create(null)),(s=_.handle)||(s=_.handle=function(t){return"undefined"!==typeof k&&k.event.triggered!==t.type?k.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(z)||[""]).length;c--;)f=g=(a=Ae.exec(t[c])||[])[1],d=(a[2]||"").split(".").sort(),f&&(h=k.event.special[f]||{},f=(i?h.delegateType:h.bindType)||f,h=k.event.special[f]||{},u=k.extend({type:f,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&k.expr.match.needsContext.test(i),namespace:d.join(".")},o),(p=l[f])||((p=l[f]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(e,r,d,s)||e.addEventListener&&e.addEventListener(f,s)),h.add&&(h.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,u):p.push(u),k.event.global[f]=!0)},remove:function(e,t,n,r,i){var o,s,a,l,c,u,h,p,f,d,g,_=ae.hasData(e)&&ae.get(e);if(_&&(l=_.events)){for(c=(t=(t||"").match(z)||[""]).length;c--;)if(f=g=(a=Ae.exec(t[c])||[])[1],d=(a[2]||"").split(".").sort(),f){for(h=k.event.special[f]||{},p=l[f=(r?h.delegateType:h.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=p.length;o--;)u=p[o],!i&&g!==u.origType||n&&n.guid!==u.guid||a&&!a.test(u.namespace)||r&&r!==u.selector&&("**"!==r||!u.selector)||(p.splice(o,1),u.selector&&p.delegateCount--,h.remove&&h.remove.call(e,u));s&&!p.length&&(h.teardown&&!1!==h.teardown.call(e,d,_.handle)||k.removeEvent(e,f,_.handle),delete l[f])}else for(f in l)k.event.remove(e,f+t[c],n,r,!0);k.isEmptyObject(l)&&ae.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,s,a=new Array(arguments.length),l=k.event.fix(e),c=(ae.get(this,"events")||Object.create(null))[l.type]||[],u=k.event.special[l.type]||{};for(a[0]=l,t=1;t<arguments.length;t++)a[t]=arguments[t];if(l.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,l)){for(s=k.event.handlers.call(this,l,c),t=0;(i=s[t++])&&!l.isPropagationStopped();)for(l.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==o.namespace&&!l.rnamespace.test(o.namespace)||(l.handleObj=o,l.data=o.data,void 0!==(r=((k.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,a))&&!1===(l.result=r)&&(l.preventDefault(),l.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,l),l.result}},handlers:function(e,t){var n,r,i,o,s,a=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(o=[],s={},n=0;n<l;n++)void 0===s[i=(r=t[n]).selector+" "]&&(s[i]=r.needsContext?k(i,this).index(c)>-1:k.find(i,this,null,[c]).length),s[i]&&o.push(r);o.length&&a.push({elem:c,handlers:o})}return c=this,l<t.length&&a.push({elem:c,handlers:t.slice(l)}),a},addProp:function(e,t){Object.defineProperty(k.Event.prototype,e,{enumerable:!0,configurable:!0,get:v(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[k.expando]?e:new k.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return Oe.test(t.type)&&t.click&&R(t,"input")&&De(t,"click",!0),!1},trigger:function(e){var t=this||e;return Oe.test(t.type)&&t.click&&R(t,"input")&&De(t,"click"),!0},_default:function(e){var t=e.target;return Oe.test(t.type)&&t.click&&R(t,"input")&&ae.get(t,"click")||R(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},k.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},k.Event=function(e,t){if(!(this instanceof k.Event))return new k.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ne:Le,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&k.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[k.expando]=!0},k.Event.prototype={constructor:k.Event,isDefaultPrevented:Le,isPropagationStopped:Le,isImmediatePropagationStopped:Le,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ne,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ne,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ne,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},k.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},k.event.addProp),k.each({focus:"focusin",blur:"focusout"},(function(e,t){function n(e){if(y.documentMode){var n=ae.get(this,"handle"),r=k.event.fix(e);r.type="focusin"===e.type?"focus":"blur",r.isSimulated=!0,n(e),r.target===r.currentTarget&&n(r)}else k.event.simulate(t,e.target,k.event.fix(e))}k.event.special[e]={setup:function(){var r;if(De(this,e,!0),!y.documentMode)return!1;(r=ae.get(this,t))||this.addEventListener(t,n),ae.set(this,t,(r||0)+1)},trigger:function(){return De(this,e),!0},teardown:function(){var e;if(!y.documentMode)return!1;(e=ae.get(this,t)-1)?ae.set(this,t,e):(this.removeEventListener(t,n),ae.remove(this,t))},_default:function(t){return ae.get(t.target,e)},delegateType:t},k.event.special[t]={setup:function(){var r=this.ownerDocument||this.document||this,i=y.documentMode?this:r,o=ae.get(i,t);o||(y.documentMode?this.addEventListener(t,n):r.addEventListener(e,n,!0)),ae.set(i,t,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,i=y.documentMode?this:r,o=ae.get(i,t)-1;o?ae.set(i,t,o):(y.documentMode?this.removeEventListener(t,n):r.removeEventListener(e,n,!0),ae.remove(i,t))}}})),k.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){k.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=e.relatedTarget,i=e.handleObj;return r&&(r===this||k.contains(this,r))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}})),k.fn.extend({on:function(e,t,n,r){return Me(this,e,t,n,r)},one:function(e,t,n,r){return Me(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,k(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"===typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!==typeof t||(n=t,t=void 0),!1===n&&(n=Le),this.each((function(){k.event.remove(this,e,n,t)}))}});var Pe=/<script|<style|<link/i,Be=/checked\s*(?:[^=]|=\s*.checked.)/i,Fe=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Ue(e,t){return R(e,"table")&&R(11!==t.nodeType?t:t.firstChild,"tr")&&k(e).children("tbody")[0]||e}function Ze(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Ge(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function He(e,t){var n,r,i,o,s,a;if(1===t.nodeType){if(ae.hasData(e)&&(a=ae.get(e).events))for(i in ae.remove(t,"handle events"),a)for(n=0,r=a[i].length;n<r;n++)k.event.add(t,i,a[i][n]);le.hasData(e)&&(o=le.access(e),s=k.extend({},o),le.set(t,s))}}function Ve(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Oe.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function je(e,t,n,r){t=l(t);var i,o,s,a,c,u,h=0,p=e.length,f=p-1,d=t[0],g=v(d);if(g||p>1&&"string"===typeof d&&!_.checkClone&&Be.test(d))return e.each((function(i){var o=e.eq(i);g&&(t[0]=d.call(this,i,o.html())),je(o,t,n,r)}));if(p&&(o=(i=xe(t,e[0].ownerDocument,!1,e,r)).firstChild,1===i.childNodes.length&&(i=o),o||r)){for(a=(s=k.map(Re(i,"script"),Ze)).length;h<p;h++)c=i,h!==f&&(c=k.clone(c,!0,!0),a&&k.merge(s,Re(c,"script"))),n.call(e[h],c,h);if(a)for(u=s[s.length-1].ownerDocument,k.map(s,Ge),h=0;h<a;h++)c=s[h],ke.test(c.type||"")&&!ae.access(c,"globalEval")&&k.contains(u,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?k._evalUrl&&!c.noModule&&k._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},u):E(c.textContent.replace(Fe,""),c,u))}return e}function We(e,t,n){for(var r,i=t?k.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||k.cleanData(Re(r)),r.parentNode&&(n&&_e(r)&&Ce(Re(r,"script")),r.parentNode.removeChild(r));return e}k.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,s,a=e.cloneNode(!0),l=_e(e);if(!_.noCloneChecked&&(1===e.nodeType||11===e.nodeType)&&!k.isXMLDoc(e))for(s=Re(a),r=0,i=(o=Re(e)).length;r<i;r++)Ve(o[r],s[r]);if(t)if(n)for(o=o||Re(e),s=s||Re(a),r=0,i=o.length;r<i;r++)He(o[r],s[r]);else He(e,a);return(s=Re(a,"script")).length>0&&Ce(s,!l&&Re(e,"script")),a},cleanData:function(e){for(var t,n,r,i=k.event.special,o=0;void 0!==(n=e[o]);o++)if(oe(n)){if(t=n[ae.expando]){if(t.events)for(r in t.events)i[r]?k.event.remove(n,r):k.removeEvent(n,r,t.handle);n[ae.expando]=void 0}n[le.expando]&&(n[le.expando]=void 0)}}}),k.fn.extend({detach:function(e){return We(this,e,!0)},remove:function(e){return We(this,e)},text:function(e){return ee(this,(function(e){return void 0===e?k.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return je(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ue(this,e).appendChild(e)}))},prepend:function(){return je(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Ue(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return je(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return je(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(k.cleanData(Re(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return k.clone(this,e,t)}))},html:function(e){return ee(this,(function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"===typeof e&&!Pe.test(e)&&!we[(Se.exec(e)||["",""])[1].toLowerCase()]){e=k.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(k.cleanData(Re(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return je(this,arguments,(function(t){var n=this.parentNode;k.inArray(this,e)<0&&(k.cleanData(Re(this)),n&&n.replaceChild(t,this))}),e)}}),k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){k.fn[e]=function(e){for(var n,r=[],i=k(e),o=i.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),k(i[s])[t](n),c.apply(r,n.get());return this.pushStack(r)}}));var Xe=new RegExp("^("+pe+")(?!px)[a-z%]+$","i"),ze=/^--/,Ye=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=r),t.getComputedStyle(e)},qe=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r},Ke=new RegExp(de.join("|"),"i");function Qe(e,t,n){var r,i,o,s,a=ze.test(t),l=e.style;return(n=n||Ye(e))&&(s=n.getPropertyValue(t)||n[t],a&&s&&(s=s.replace(N,"$1")||void 0),""!==s||_e(e)||(s=k.style(e,t)),!_.pixelBoxStyles()&&Xe.test(s)&&Ke.test(t)&&(r=l.width,i=l.minWidth,o=l.maxWidth,l.minWidth=l.maxWidth=l.width=s,s=n.width,l.width=r,l.minWidth=i,l.maxWidth=o)),void 0!==s?s+"":s}function Je(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ge.appendChild(c).appendChild(u);var e=r.getComputedStyle(u);n="1%"!==e.top,l=12===t(e.marginLeft),u.style.right="60%",s=36===t(e.right),i=36===t(e.width),u.style.position="absolute",o=12===t(u.offsetWidth/3),ge.removeChild(c),u=null}}function t(e){return Math.round(parseFloat(e))}var n,i,o,s,a,l,c=y.createElement("div"),u=y.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",_.clearCloneStyle="content-box"===u.style.backgroundClip,k.extend(_,{boxSizingReliable:function(){return e(),i},pixelBoxStyles:function(){return e(),s},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),o},reliableTrDimensions:function(){var e,t,n,i;return null==a&&(e=y.createElement("table"),t=y.createElement("tr"),n=y.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="box-sizing:content-box;border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",ge.appendChild(e).appendChild(t).appendChild(n),i=r.getComputedStyle(t),a=parseInt(i.height,10)+parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10)===t.offsetHeight,ge.removeChild(e)),a}}))}();var $e=["Webkit","Moz","ms"],et=y.createElement("div").style,tt={};function nt(e){var t=k.cssProps[e]||tt[e];return t||(e in et?e:tt[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=$e.length;n--;)if((e=$e[n]+t)in et)return e}(e)||e)}var rt=/^(none|table(?!-c[ea]).+)/,it={position:"absolute",visibility:"hidden",display:"block"},ot={letterSpacing:"0",fontWeight:"400"};function st(e,t,n){var r=fe.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function at(e,t,n,r,i,o){var s="width"===t?1:0,a=0,l=0,c=0;if(n===(r?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(c+=k.css(e,n+de[s],!0,i)),r?("content"===n&&(l-=k.css(e,"padding"+de[s],!0,i)),"margin"!==n&&(l-=k.css(e,"border"+de[s]+"Width",!0,i))):(l+=k.css(e,"padding"+de[s],!0,i),"padding"!==n?l+=k.css(e,"border"+de[s]+"Width",!0,i):a+=k.css(e,"border"+de[s]+"Width",!0,i));return!r&&o>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-l-a-.5))||0),l+c}function lt(e,t,n){var r=Ye(e),i=(!_.boxSizingReliable()||n)&&"border-box"===k.css(e,"boxSizing",!1,r),o=i,s=Qe(e,t,r),a="offset"+t[0].toUpperCase()+t.slice(1);if(Xe.test(s)){if(!n)return s;s="auto"}return(!_.boxSizingReliable()&&i||!_.reliableTrDimensions()&&R(e,"tr")||"auto"===s||!parseFloat(s)&&"inline"===k.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===k.css(e,"boxSizing",!1,r),(o=a in e)&&(s=e[a])),(s=parseFloat(s)||0)+at(e,t,n||(i?"border":"content"),o,r,s)+"px"}function ct(e,t,n,r,i){return new ct.prototype.init(e,t,n,r,i)}k.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Qe(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,s,a=ie(t),l=ze.test(t),c=e.style;if(l||(t=nt(a)),s=k.cssHooks[t]||k.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(i=s.get(e,!1,r))?i:c[t];"string"===(o=typeof n)&&(i=fe.exec(n))&&i[1]&&(n=ye(e,t,i),o="number"),null!=n&&n===n&&("number"!==o||l||(n+=i&&i[3]||(k.cssNumber[a]?"":"px")),_.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,r))||(l?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,r){var i,o,s,a=ie(t);return ze.test(t)||(t=nt(a)),(s=k.cssHooks[t]||k.cssHooks[a])&&"get"in s&&(i=s.get(e,!0,n)),void 0===i&&(i=Qe(e,t,r)),"normal"===i&&t in ot&&(i=ot[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),k.each(["height","width"],(function(e,t){k.cssHooks[t]={get:function(e,n,r){if(n)return!rt.test(k.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?lt(e,t,r):qe(e,it,(function(){return lt(e,t,r)}))},set:function(e,n,r){var i,o=Ye(e),s=!_.scrollboxSize()&&"absolute"===o.position,a=(s||r)&&"border-box"===k.css(e,"boxSizing",!1,o),l=r?at(e,t,r,a,o):0;return a&&s&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-at(e,t,"border",!1,o)-.5)),l&&(i=fe.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=k.css(e,t)),st(0,n,l)}}})),k.cssHooks.marginLeft=Je(_.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Qe(e,"marginLeft"))||e.getBoundingClientRect().left-qe(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),k.each({margin:"",padding:"",border:"Width"},(function(e,t){k.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"===typeof n?n.split(" "):[n];r<4;r++)i[e+de[r]+t]=o[r]||o[r-2]||o[0];return i}},"margin"!==e&&(k.cssHooks[e+t].set=st)})),k.fn.extend({css:function(e,t){return ee(this,(function(e,t,n){var r,i,o={},s=0;if(Array.isArray(t)){for(r=Ye(e),i=t.length;s<i;s++)o[t[s]]=k.css(e,t[s],!1,r);return o}return void 0!==n?k.style(e,t,n):k.css(e,t)}),e,t,arguments.length>1)}}),k.Tween=ct,ct.prototype={constructor:ct,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||k.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(k.cssNumber[n]?"":"px")},cur:function(){var e=ct.propHooks[this.prop];return e&&e.get?e.get(this):ct.propHooks._default.get(this)},run:function(e){var t,n=ct.propHooks[this.prop];return this.options.duration?this.pos=t=k.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ct.propHooks._default.set(this),this}},ct.prototype.init.prototype=ct.prototype,ct.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=k.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){k.fx.step[e.prop]?k.fx.step[e.prop](e):1!==e.elem.nodeType||!k.cssHooks[e.prop]&&null==e.elem.style[nt(e.prop)]?e.elem[e.prop]=e.now:k.style(e.elem,e.prop,e.now+e.unit)}}},ct.propHooks.scrollTop=ct.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},k.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},k.fx=ct.prototype.init,k.fx.step={};var ut,ht,pt=/^(?:toggle|show|hide)$/,ft=/queueHooks$/;function dt(){ht&&(!1===y.hidden&&r.requestAnimationFrame?r.requestAnimationFrame(dt):r.setTimeout(dt,k.fx.interval),k.fx.tick())}function gt(){return r.setTimeout((function(){ut=void 0})),ut=Date.now()}function _t(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=de[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function vt(e,t,n){for(var r,i=(mt.tweeners[t]||[]).concat(mt.tweeners["*"]),o=0,s=i.length;o<s;o++)if(r=i[o].call(n,t,e))return r}function mt(e,t,n){var r,i,o=0,s=mt.prefilters.length,a=k.Deferred().always((function(){delete l.elem})),l=function(){if(i)return!1;for(var t=ut||gt(),n=Math.max(0,c.startTime+c.duration-t),r=1-(n/c.duration||0),o=0,s=c.tweens.length;o<s;o++)c.tweens[o].run(r);return a.notifyWith(e,[c,r,n]),r<1&&s?n:(s||a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:k.extend({},t),opts:k.extend(!0,{specialEasing:{},easing:k.easing._default},n),originalProperties:t,originalOptions:n,startTime:ut||gt(),duration:n.duration,tweens:[],createTween:function(t,n){var r=k.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)c.tweens[n].run(1);return t?(a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c,t])):a.rejectWith(e,[c,t]),this}}),u=c.props;for(!function(e,t){var n,r,i,o,s;for(n in e)if(i=t[r=ie(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(s=k.cssHooks[r])&&"expand"in s)for(n in o=s.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(u,c.opts.specialEasing);o<s;o++)if(r=mt.prefilters[o].call(c,e,u,c.opts))return v(r.stop)&&(k._queueHooks(c.elem,c.opts.queue).stop=r.stop.bind(r)),r;return k.map(u,vt,c),v(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),k.fx.timer(k.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}k.Animation=k.extend(mt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ye(n.elem,e,fe.exec(t),n),n}]},tweener:function(e,t){v(e)?(t=e,e=["*"]):e=e.match(z);for(var n,r=0,i=e.length;r<i;r++)n=e[r],mt.tweeners[n]=mt.tweeners[n]||[],mt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,s,a,l,c,u,h="width"in t||"height"in t,p=this,f={},d=e.style,g=e.nodeType&&me(e),_=ae.get(e,"fxshow");for(r in n.queue||(null==(s=k._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,p.always((function(){p.always((function(){s.unqueued--,k.queue(e,"fx").length||s.empty.fire()}))}))),t)if(i=t[r],pt.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!_||void 0===_[r])continue;g=!0}f[r]=_&&_[r]||k.style(e,r)}if((l=!k.isEmptyObject(t))||!k.isEmptyObject(f))for(r in h&&1===e.nodeType&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],null==(c=_&&_.display)&&(c=ae.get(e,"display")),"none"===(u=k.css(e,"display"))&&(c?u=c:(be([e],!0),c=e.style.display||c,u=k.css(e,"display"),be([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===k.css(e,"float")&&(l||(p.done((function(){d.display=c})),null==c&&(u=d.display,c="none"===u?"":u)),d.display="inline-block")),n.overflow&&(d.overflow="hidden",p.always((function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}))),l=!1,f)l||(_?"hidden"in _&&(g=_.hidden):_=ae.access(e,"fxshow",{display:c}),o&&(_.hidden=!g),g&&be([e],!0),p.done((function(){for(r in g||be([e]),ae.remove(e,"fxshow"),f)k.style(e,r,f[r])}))),l=vt(g?_[r]:0,r,p),r in _||(_[r]=l.start,g&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?mt.prefilters.unshift(e):mt.prefilters.push(e)}}),k.speed=function(e,t,n){var r=e&&"object"===typeof e?k.extend({},e):{complete:n||!n&&t||v(e)&&e,duration:e,easing:n&&t||t&&!v(t)&&t};return k.fx.off?r.duration=0:"number"!==typeof r.duration&&(r.duration in k.fx.speeds?r.duration=k.fx.speeds[r.duration]:r.duration=k.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){v(r.old)&&r.old.call(this),r.queue&&k.dequeue(this,r.queue)},r},k.fn.extend({fadeTo:function(e,t,n,r){return this.filter(me).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=k.isEmptyObject(e),o=k.speed(t,n,r),s=function(){var t=mt(this,k.extend({},e),o);(i||ae.get(this,"finish"))&&t.stop(!0)};return s.finish=s,i||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!==typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,i=null!=e&&e+"queueHooks",o=k.timers,s=ae.get(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&ft.test(i)&&r(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||k.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=ae.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=k.timers,s=r?r.length:0;for(n.finish=!0,k.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<s;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish}))}}),k.each(["toggle","show","hide"],(function(e,t){var n=k.fn[t];k.fn[t]=function(e,r,i){return null==e||"boolean"===typeof e?n.apply(this,arguments):this.animate(_t(t,!0),e,r,i)}})),k.each({slideDown:_t("show"),slideUp:_t("hide"),slideToggle:_t("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){k.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}})),k.timers=[],k.fx.tick=function(){var e,t=0,n=k.timers;for(ut=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||k.fx.stop(),ut=void 0},k.fx.timer=function(e){k.timers.push(e),k.fx.start()},k.fx.interval=13,k.fx.start=function(){ht||(ht=!0,dt())},k.fx.stop=function(){ht=null},k.fx.speeds={slow:600,fast:200,_default:400},k.fn.delay=function(e,t){return e=k.fx&&k.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,n){var i=r.setTimeout(t,e);n.stop=function(){r.clearTimeout(i)}}))},function(){var e=y.createElement("input"),t=y.createElement("select").appendChild(y.createElement("option"));e.type="checkbox",_.checkOn=""!==e.value,_.optSelected=t.selected,(e=y.createElement("input")).value="t",e.type="radio",_.radioValue="t"===e.value}();var yt,Tt=k.expr.attrHandle;k.fn.extend({attr:function(e,t){return ee(this,k.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){k.removeAttr(this,e)}))}}),k.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"===typeof e.getAttribute?k.prop(e,t,n):(1===o&&k.isXMLDoc(e)||(i=k.attrHooks[t.toLowerCase()]||(k.expr.match.bool.test(t)?yt:void 0)),void 0!==n?null===n?void k.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=k.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!_.radioValue&&"radio"===t&&R(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(z);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),yt={set:function(e,t,n){return!1===t?k.removeAttr(e,n):e.setAttribute(n,n),n}},k.each(k.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=Tt[t]||k.find.attr;Tt[t]=function(e,t,r){var i,o,s=t.toLowerCase();return r||(o=Tt[s],Tt[s]=i,i=null!=n(e,t,r)?s:null,Tt[s]=o),i}}));var Et=/^(?:input|select|textarea|button)$/i,bt=/^(?:a|area)$/i;function Ot(e){return(e.match(z)||[]).join(" ")}function St(e){return e.getAttribute&&e.getAttribute("class")||""}function kt(e){return Array.isArray(e)?e:"string"===typeof e&&e.match(z)||[]}k.fn.extend({prop:function(e,t){return ee(this,k.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[k.propFix[e]||e]}))}}),k.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&k.isXMLDoc(e)||(t=k.propFix[t]||t,i=k.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=k.find.attr(e,"tabindex");return t?parseInt(t,10):Et.test(e.nodeName)||bt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),_.optSelected||(k.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),k.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){k.propFix[this.toLowerCase()]=this})),k.fn.extend({addClass:function(e){var t,n,r,i,o,s;return v(e)?this.each((function(t){k(this).addClass(e.call(this,t,St(this)))})):(t=kt(e)).length?this.each((function(){if(r=St(this),n=1===this.nodeType&&" "+Ot(r)+" "){for(o=0;o<t.length;o++)i=t[o],n.indexOf(" "+i+" ")<0&&(n+=i+" ");s=Ot(n),r!==s&&this.setAttribute("class",s)}})):this},removeClass:function(e){var t,n,r,i,o,s;return v(e)?this.each((function(t){k(this).removeClass(e.call(this,t,St(this)))})):arguments.length?(t=kt(e)).length?this.each((function(){if(r=St(this),n=1===this.nodeType&&" "+Ot(r)+" "){for(o=0;o<t.length;o++)for(i=t[o];n.indexOf(" "+i+" ")>-1;)n=n.replace(" "+i+" "," ");s=Ot(n),r!==s&&this.setAttribute("class",s)}})):this:this.attr("class","")},toggleClass:function(e,t){var n,r,i,o,s=typeof e,a="string"===s||Array.isArray(e);return v(e)?this.each((function(n){k(this).toggleClass(e.call(this,n,St(this),t),t)})):"boolean"===typeof t&&a?t?this.addClass(e):this.removeClass(e):(n=kt(e),this.each((function(){if(a)for(o=k(this),i=0;i<n.length;i++)r=n[i],o.hasClass(r)?o.removeClass(r):o.addClass(r);else void 0!==e&&"boolean"!==s||((r=St(this))&&ae.set(this,"__className__",r),this.setAttribute&&this.setAttribute("class",r||!1===e?"":ae.get(this,"__className__")||""))})))},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+Ot(St(n))+" ").indexOf(t)>-1)return!0;return!1}});var wt=/\r/g;k.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=v(e),this.each((function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,k(this).val()):e)?i="":"number"===typeof i?i+="":Array.isArray(i)&&(i=k.map(i,(function(e){return null==e?"":e+""}))),(t=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))}))):i?(t=k.valHooks[i.type]||k.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"===typeof(n=i.value)?n.replace(wt,""):null==n?"":n:void 0}}),k.extend({valHooks:{option:{get:function(e){var t=k.find.attr(e,"value");return null!=t?t:Ot(k.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,s="select-one"===e.type,a=s?null:[],l=s?o+1:i.length;for(r=o<0?l:s?o:0;r<l;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!R(n.parentNode,"optgroup"))){if(t=k(n).val(),s)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=k.makeArray(t),s=i.length;s--;)((r=i[s]).selected=k.inArray(k.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),k.each(["radio","checkbox"],(function(){k.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=k.inArray(k(e).val(),t)>-1}},_.checkOn||(k.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}));var Rt=r.location,Ct={guid:Date.now()},It=/\?/;k.parseXML=function(e){var t,n;if(!e||"string"!==typeof e)return null;try{t=(new r.DOMParser).parseFromString(e,"text/xml")}catch(i){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||k.error("Invalid XML: "+(n?k.map(n.childNodes,(function(e){return e.textContent})).join("\n"):e)),t};var xt=/^(?:focusinfocus|focusoutblur)$/,At=function(e){e.stopPropagation()};k.extend(k.event,{trigger:function(e,t,n,i){var o,s,a,l,c,u,h,p,d=[n||y],g=f.call(e,"type")?e.type:e,_=f.call(e,"namespace")?e.namespace.split("."):[];if(s=p=a=n=n||y,3!==n.nodeType&&8!==n.nodeType&&!xt.test(g+k.event.triggered)&&(g.indexOf(".")>-1&&(_=g.split("."),g=_.shift(),_.sort()),c=g.indexOf(":")<0&&"on"+g,(e=e[k.expando]?e:new k.Event(g,"object"===typeof e&&e)).isTrigger=i?2:3,e.namespace=_.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+_.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:k.makeArray(t,[e]),h=k.event.special[g]||{},i||!h.trigger||!1!==h.trigger.apply(n,t))){if(!i&&!h.noBubble&&!m(n)){for(l=h.delegateType||g,xt.test(l+g)||(s=s.parentNode);s;s=s.parentNode)d.push(s),a=s;a===(n.ownerDocument||y)&&d.push(a.defaultView||a.parentWindow||r)}for(o=0;(s=d[o++])&&!e.isPropagationStopped();)p=s,e.type=o>1?l:h.bindType||g,(u=(ae.get(s,"events")||Object.create(null))[e.type]&&ae.get(s,"handle"))&&u.apply(s,t),(u=c&&s[c])&&u.apply&&oe(s)&&(e.result=u.apply(s,t),!1===e.result&&e.preventDefault());return e.type=g,i||e.isDefaultPrevented()||h._default&&!1!==h._default.apply(d.pop(),t)||!oe(n)||c&&v(n[g])&&!m(n)&&((a=n[c])&&(n[c]=null),k.event.triggered=g,e.isPropagationStopped()&&p.addEventListener(g,At),n[g](),e.isPropagationStopped()&&p.removeEventListener(g,At),k.event.triggered=void 0,a&&(n[c]=a)),e.result}},simulate:function(e,t,n){var r=k.extend(new k.Event,n,{type:e,isSimulated:!0});k.event.trigger(r,null,t)}}),k.fn.extend({trigger:function(e,t){return this.each((function(){k.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return k.event.trigger(e,t,n,!0)}});var Nt=/\[\]$/,Lt=/\r?\n/g,Mt=/^(?:submit|button|image|reset|file)$/i,Dt=/^(?:input|select|textarea|keygen)/i;function Pt(e,t,n,r){var i;if(Array.isArray(t))k.each(t,(function(t,i){n||Nt.test(e)?r(e,i):Pt(e+"["+("object"===typeof i&&null!=i?t:"")+"]",i,n,r)}));else if(n||"object"!==b(t))r(e,t);else for(i in t)Pt(e+"["+i+"]",t[i],n,r)}k.param=function(e,t){var n,r=[],i=function(e,t){var n=v(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!k.isPlainObject(e))k.each(e,(function(){i(this.name,this.value)}));else for(n in e)Pt(n,e[n],t,i);return r.join("&")},k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=k.prop(this,"elements");return e?k.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!k(this).is(":disabled")&&Dt.test(this.nodeName)&&!Mt.test(e)&&(this.checked||!Oe.test(e))})).map((function(e,t){var n=k(this).val();return null==n?null:Array.isArray(n)?k.map(n,(function(e){return{name:t.name,value:e.replace(Lt,"\r\n")}})):{name:t.name,value:n.replace(Lt,"\r\n")}})).get()}});var Bt=/%20/g,Ft=/#.*$/,Ut=/([?&])_=[^&]*/,Zt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Gt=/^(?:GET|HEAD)$/,Ht=/^\/\//,Vt={},jt={},Wt="*/".concat("*"),Xt=y.createElement("a");function zt(e){return function(t,n){"string"!==typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(z)||[];if(v(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Yt(e,t,n,r){var i={},o=e===jt;function s(a){var l;return i[a]=!0,k.each(e[a]||[],(function(e,a){var c=a(t,n,r);return"string"!==typeof c||o||i[c]?o?!(l=c):void 0:(t.dataTypes.unshift(c),s(c),!1)})),l}return s(t.dataTypes[0])||!i["*"]&&s("*")}function qt(e,t){var n,r,i=k.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&k.extend(!0,e,r),e}Xt.href=Rt.href,k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Rt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Rt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Wt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?qt(qt(e,k.ajaxSettings),t):qt(k.ajaxSettings,e)},ajaxPrefilter:zt(Vt),ajaxTransport:zt(jt),ajax:function(e,t){"object"===typeof e&&(t=e,e=void 0),t=t||{};var n,i,o,s,a,l,c,u,h,p,f=k.ajaxSetup({},t),d=f.context||f,g=f.context&&(d.nodeType||d.jquery)?k(d):k.event,_=k.Deferred(),v=k.Callbacks("once memory"),m=f.statusCode||{},T={},E={},b="canceled",O={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s)for(s={};t=Zt.exec(o);)s[t[1].toLowerCase()+" "]=(s[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=s[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(e,t){return null==c&&(e=E[e.toLowerCase()]=E[e.toLowerCase()]||e,T[e]=t),this},overrideMimeType:function(e){return null==c&&(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)O.always(e[O.status]);else for(t in e)m[t]=[m[t],e[t]];return this},abort:function(e){var t=e||b;return n&&n.abort(t),S(0,t),this}};if(_.promise(O),f.url=((e||f.url||Rt.href)+"").replace(Ht,Rt.protocol+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(z)||[""],null==f.crossDomain){l=y.createElement("a");try{l.href=f.url,l.href=l.href,f.crossDomain=Xt.protocol+"//"+Xt.host!==l.protocol+"//"+l.host}catch(w){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!==typeof f.data&&(f.data=k.param(f.data,f.traditional)),Yt(Vt,f,t,O),c)return O;for(h in(u=k.event&&f.global)&&0===k.active++&&k.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Gt.test(f.type),i=f.url.replace(Ft,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Bt,"+")):(p=f.url.slice(i.length),f.data&&(f.processData||"string"===typeof f.data)&&(i+=(It.test(i)?"&":"?")+f.data,delete f.data),!1===f.cache&&(i=i.replace(Ut,"$1"),p=(It.test(i)?"&":"?")+"_="+Ct.guid+++p),f.url=i+p),f.ifModified&&(k.lastModified[i]&&O.setRequestHeader("If-Modified-Since",k.lastModified[i]),k.etag[i]&&O.setRequestHeader("If-None-Match",k.etag[i])),(f.data&&f.hasContent&&!1!==f.contentType||t.contentType)&&O.setRequestHeader("Content-Type",f.contentType),O.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Wt+"; q=0.01":""):f.accepts["*"]),f.headers)O.setRequestHeader(h,f.headers[h]);if(f.beforeSend&&(!1===f.beforeSend.call(d,O,f)||c))return O.abort();if(b="abort",v.add(f.complete),O.done(f.success),O.fail(f.error),n=Yt(jt,f,t,O)){if(O.readyState=1,u&&g.trigger("ajaxSend",[O,f]),c)return O;f.async&&f.timeout>0&&(a=r.setTimeout((function(){O.abort("timeout")}),f.timeout));try{c=!1,n.send(T,S)}catch(w){if(c)throw w;S(-1,w)}}else S(-1,"No Transport");function S(e,t,s,l){var h,p,y,T,E,b=t;c||(c=!0,a&&r.clearTimeout(a),n=void 0,o=l||"",O.readyState=e>0?4:0,h=e>=200&&e<300||304===e,s&&(T=function(e,t,n){for(var r,i,o,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in a)if(a[i]&&a[i].test(r)){l.unshift(i);break}if(l[0]in n)o=l[0];else{for(i in n){if(!l[0]||e.converters[i+" "+l[0]]){o=i;break}s||(s=i)}o=o||s}if(o)return o!==l[0]&&l.unshift(o),n[o]}(f,O,s)),!h&&k.inArray("script",f.dataTypes)>-1&&k.inArray("json",f.dataTypes)<0&&(f.converters["text script"]=function(){}),T=function(e,t,n,r){var i,o,s,a,l,c={},u=e.dataTypes.slice();if(u[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=c[l+" "+o]||c["* "+o]))for(i in c)if((a=i.split(" "))[1]===o&&(s=c[l+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[i]:!0!==c[i]&&(o=a[0],u.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(w){return{state:"parsererror",error:s?w:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}(f,T,O,h),h?(f.ifModified&&((E=O.getResponseHeader("Last-Modified"))&&(k.lastModified[i]=E),(E=O.getResponseHeader("etag"))&&(k.etag[i]=E)),204===e||"HEAD"===f.type?b="nocontent":304===e?b="notmodified":(b=T.state,p=T.data,h=!(y=T.error))):(y=b,!e&&b||(b="error",e<0&&(e=0))),O.status=e,O.statusText=(t||b)+"",h?_.resolveWith(d,[p,b,O]):_.rejectWith(d,[O,b,y]),O.statusCode(m),m=void 0,u&&g.trigger(h?"ajaxSuccess":"ajaxError",[O,f,h?p:y]),v.fireWith(d,[O,b]),u&&(g.trigger("ajaxComplete",[O,f]),--k.active||k.event.trigger("ajaxStop")))}return O},getJSON:function(e,t,n){return k.get(e,t,n,"json")},getScript:function(e,t){return k.get(e,void 0,t,"script")}}),k.each(["get","post"],(function(e,t){k[t]=function(e,n,r,i){return v(n)&&(i=i||r,r=n,n=void 0),k.ajax(k.extend({url:e,type:t,dataType:i,data:n,success:r},k.isPlainObject(e)&&e))}})),k.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),k._evalUrl=function(e,t,n){return k.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){k.globalEval(e,t,n)}})},k.fn.extend({wrapAll:function(e){var t;return this[0]&&(v(e)&&(e=e.call(this[0])),t=k(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return v(e)?this.each((function(t){k(this).wrapInner(e.call(this,t))})):this.each((function(){var t=k(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=v(e);return this.each((function(n){k(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){k(this).replaceWith(this.childNodes)})),this}}),k.expr.pseudos.hidden=function(e){return!k.expr.pseudos.visible(e)},k.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},k.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(e){}};var Kt={0:200,1223:204},Qt=k.ajaxSettings.xhr();_.cors=!!Qt&&"withCredentials"in Qt,_.ajax=Qt=!!Qt,k.ajaxTransport((function(e){var t,n;if(_.cors||Qt&&!e.crossDomain)return{send:function(i,o){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];for(s in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)a.setRequestHeader(s,i[s]);t=function(e){return function(){t&&(t=n=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!==typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Kt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!==typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=t(),n=a.onerror=a.ontimeout=t("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&r.setTimeout((function(){t&&n()}))},t=t("abort");try{a.send(e.hasContent&&e.data||null)}catch(l){if(t)throw l}},abort:function(){t&&t()}}})),k.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return k.globalEval(e),e}}}),k.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),k.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(r,i){t=k("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),y.head.appendChild(t[0])},abort:function(){n&&n()}}}));var Jt=[],$t=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Jt.pop()||k.expando+"_"+Ct.guid++;return this[e]=!0,e}}),k.ajaxPrefilter("json jsonp",(function(e,t,n){var i,o,s,a=!1!==e.jsonp&&($t.test(e.url)?"url":"string"===typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&$t.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=v(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace($t,"$1"+i):!1!==e.jsonp&&(e.url+=(It.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return s||k.error(i+" was not called"),s[0]},e.dataTypes[0]="json",o=r[i],r[i]=function(){s=arguments},n.always((function(){void 0===o?k(r).removeProp(i):r[i]=o,e[i]&&(e.jsonpCallback=t.jsonpCallback,Jt.push(i)),s&&v(o)&&o(s[0]),s=o=void 0})),"script"})),_.createHTMLDocument=function(){var e=y.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),k.parseHTML=function(e,t,n){return"string"!==typeof e?[]:("boolean"===typeof t&&(n=t,t=!1),t||(_.createHTMLDocument?((r=(t=y.implementation.createHTMLDocument("")).createElement("base")).href=y.location.href,t.head.appendChild(r)):t=y),o=!n&&[],(i=Z.exec(e))?[t.createElement(i[1])]:(i=xe([e],t,o),o&&o.length&&k(o).remove(),k.merge([],i.childNodes)));var r,i,o},k.fn.load=function(e,t,n){var r,i,o,s=this,a=e.indexOf(" ");return a>-1&&(r=Ot(e.slice(a)),e=e.slice(0,a)),v(t)?(n=t,t=void 0):t&&"object"===typeof t&&(i="POST"),s.length>0&&k.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done((function(e){o=arguments,s.html(r?k("<div>").append(k.parseHTML(e)).find(r):e)})).always(n&&function(e,t){s.each((function(){n.apply(this,o||[e.responseText,t,e])}))}),this},k.expr.pseudos.animated=function(e){return k.grep(k.timers,(function(t){return e===t.elem})).length},k.offset={setOffset:function(e,t,n){var r,i,o,s,a,l,c=k.css(e,"position"),u=k(e),h={};"static"===c&&(e.style.position="relative"),a=u.offset(),o=k.css(e,"top"),l=k.css(e,"left"),("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1?(s=(r=u.position()).top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(l)||0),v(t)&&(t=t.call(e,n,k.extend({},a))),null!=t.top&&(h.top=t.top-a.top+s),null!=t.left&&(h.left=t.left-a.left+i),"using"in t?t.using.call(e,h):u.css(h)}},k.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){k.offset.setOffset(this,e,t)}));var t,n,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===k.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===k.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=k(e).offset()).top+=k.css(e,"borderTopWidth",!0),i.left+=k.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-k.css(r,"marginTop",!0),left:t.left-i.left-k.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===k.css(e,"position");)e=e.offsetParent;return e||ge}))}}),k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;k.fn[e]=function(r){return ee(this,(function(e,r,i){var o;if(m(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i)return o?o[t]:e[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i}),e,r,arguments.length)}})),k.each(["top","left"],(function(e,t){k.cssHooks[t]=Je(_.pixelPosition,(function(e,n){if(n)return n=Qe(e,t),Xe.test(n)?k(e).position()[t]+"px":n}))})),k.each({Height:"height",Width:"width"},(function(e,t){k.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,r){k.fn[r]=function(i,o){var s=arguments.length&&(n||"boolean"!==typeof i),a=n||(!0===i||!0===o?"margin":"border");return ee(this,(function(t,n,i){var o;return m(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?k.css(t,n,a):k.style(t,n,i,a)}),t,s?i:void 0,s)}}))})),k.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){k.fn[t]=function(e){return this.on(t,e)}})),k.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.on("mouseenter",e).on("mouseleave",t||e)}}),k.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){k.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}));var en=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;k.proxy=function(e,t){var n,r,i;if("string"===typeof t&&(n=e[t],t=e,e=n),v(e))return r=a.call(arguments,2),i=function(){return e.apply(t||this,r.concat(a.call(arguments)))},i.guid=e.guid=e.guid||k.guid++,i},k.holdReady=function(e){e?k.readyWait++:k.ready(!0)},k.isArray=Array.isArray,k.parseJSON=JSON.parse,k.nodeName=R,k.isFunction=v,k.isWindow=m,k.camelCase=ie,k.type=b,k.now=Date.now,k.isNumeric=function(e){var t=k.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},k.trim=function(e){return null==e?"":(e+"").replace(en,"$1")},void 0===(n=function(){return k}.apply(t,[]))||(e.exports=n);var tn=r.jQuery,nn=r.$;return k.noConflict=function(e){return r.$===k&&(r.$=nn),e&&r.jQuery===k&&(r.jQuery=tn),k},"undefined"===typeof i&&(r.jQuery=r.$=k),k}))},658:function(e,t,n){e.exports=function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[s]={exports:{}};t[s][0].call(c.exports,(function(e){return i(t[s][1][e]||e)}),c,c.exports,e,t,n,r)}return n[s].exports}for(var o=void 0,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,n){"use strict";var r=e("./utils"),i=e("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(e){for(var t,n,i,s,a,l,c,u=[],h=0,p=e.length,f=p,d="string"!==r.getTypeOf(e);h<e.length;)f=p-h,i=d?(t=e[h++],n=h<p?e[h++]:0,h<p?e[h++]:0):(t=e.charCodeAt(h++),n=h<p?e.charCodeAt(h++):0,h<p?e.charCodeAt(h++):0),s=t>>2,a=(3&t)<<4|n>>4,l=1<f?(15&n)<<2|i>>6:64,c=2<f?63&i:64,u.push(o.charAt(s)+o.charAt(a)+o.charAt(l)+o.charAt(c));return u.join("")},n.decode=function(e){var t,n,r,s,a,l,c=0,u=0,h="data:";if(e.substr(0,h.length)===h)throw new Error("Invalid base64 input, it looks like a data url.");var p,f=3*(e=e.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(e.charAt(e.length-1)===o.charAt(64)&&f--,e.charAt(e.length-2)===o.charAt(64)&&f--,f%1!=0)throw new Error("Invalid base64 input, bad content length.");for(p=i.uint8array?new Uint8Array(0|f):new Array(0|f);c<e.length;)t=o.indexOf(e.charAt(c++))<<2|(s=o.indexOf(e.charAt(c++)))>>4,n=(15&s)<<4|(a=o.indexOf(e.charAt(c++)))>>2,r=(3&a)<<6|(l=o.indexOf(e.charAt(c++))),p[u++]=t,64!==a&&(p[u++]=n),64!==l&&(p[u++]=r);return p}},{"./support":30,"./utils":32}],2:[function(e,t,n){"use strict";var r=e("./external"),i=e("./stream/DataWorker"),o=e("./stream/Crc32Probe"),s=e("./stream/DataLengthProbe");function a(e,t,n,r,i){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=r,this.compressedContent=i}a.prototype={getContentWorker:function(){var e=new i(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new s("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new i(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},a.createWorkerFrom=function(e,t,n){return e.pipe(new o).pipe(new s("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new s("compressedSize")).withStreamInfo("compression",t)},t.exports=a},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,n){"use strict";var r=e("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},n.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,n){"use strict";var r=e("./utils"),i=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==r.getTypeOf(e)?function(e,t,n,r){var o=i,s=r+n;e^=-1;for(var a=r;a<s;a++)e=e>>>8^o[255&(e^t[a])];return-1^e}(0|t,e,e.length,0):function(e,t,n,r){var o=i,s=r+n;e^=-1;for(var a=r;a<s;a++)e=e>>>8^o[255&(e^t.charCodeAt(a))];return-1^e}(0|t,e,e.length,0):0}},{"./utils":32}],5:[function(e,t,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(e,t,n){"use strict";var r=null;r="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:r}},{lie:37}],7:[function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,i=e("pako"),o=e("./utils"),s=e("./stream/GenericWorker"),a=r?"uint8array":"array";function l(e,t){s.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}n.magic="\b\0",o.inherits(l,s),l.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(o.transformTo(a,e.data),!1)},l.prototype.flush=function(){s.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},n.compressWorker=function(e){return new l("Deflate",e)},n.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,n){"use strict";function r(e,t){var n,r="";for(n=0;n<t;n++)r+=String.fromCharCode(255&e),e>>>=8;return r}function i(e,t,n,i,s,u){var h,p,f=e.file,d=e.compression,g=u!==a.utf8encode,_=o.transformTo("string",u(f.name)),v=o.transformTo("string",a.utf8encode(f.name)),m=f.comment,y=o.transformTo("string",u(m)),T=o.transformTo("string",a.utf8encode(m)),E=v.length!==f.name.length,b=T.length!==m.length,O="",S="",k="",w=f.dir,R=f.date,C={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(C.crc32=e.crc32,C.compressedSize=e.compressedSize,C.uncompressedSize=e.uncompressedSize);var I=0;t&&(I|=8),g||!E&&!b||(I|=2048);var x=0,A=0;w&&(x|=16),"UNIX"===s?(A=798,x|=function(e,t){var n=e;return e||(n=t?16893:33204),(65535&n)<<16}(f.unixPermissions,w)):(A=20,x|=function(e){return 63&(e||0)}(f.dosPermissions)),h=R.getUTCHours(),h<<=6,h|=R.getUTCMinutes(),h<<=5,h|=R.getUTCSeconds()/2,p=R.getUTCFullYear()-1980,p<<=4,p|=R.getUTCMonth()+1,p<<=5,p|=R.getUTCDate(),E&&(S=r(1,1)+r(l(_),4)+v,O+="up"+r(S.length,2)+S),b&&(k=r(1,1)+r(l(y),4)+T,O+="uc"+r(k.length,2)+k);var N="";return N+="\n\0",N+=r(I,2),N+=d.magic,N+=r(h,2),N+=r(p,2),N+=r(C.crc32,4),N+=r(C.compressedSize,4),N+=r(C.uncompressedSize,4),N+=r(_.length,2),N+=r(O.length,2),{fileRecord:c.LOCAL_FILE_HEADER+N+_+O,dirRecord:c.CENTRAL_FILE_HEADER+r(A,2)+N+r(y.length,2)+"\0\0\0\0"+r(x,4)+r(i,4)+_+O+y}}var o=e("../utils"),s=e("../stream/GenericWorker"),a=e("../utf8"),l=e("../crc32"),c=e("../signature");function u(e,t,n,r){s.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=r,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(u,s),u.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,r=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,s.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-r-1))/n:100}}))},u.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var n=i(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},u.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,n=i(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),t)this.push({data:function(e){return c.DATA_DESCRIPTOR+r(e.crc32,4)+r(e.compressedSize,4)+r(e.uncompressedSize,4)}(e),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},u.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n=this.bytesWritten-e,i=function(e,t,n,i,s){var a=o.transformTo("string",s(i));return c.CENTRAL_DIRECTORY_END+"\0\0\0\0"+r(e,2)+r(e,2)+r(t,4)+r(n,4)+r(a.length,2)+a}(this.dirRecords.length,n,e,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})},u.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},u.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},u.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},u.prototype.error=function(e){var t=this._sources;if(!s.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(e){}return!0},u.prototype.lock=function(){s.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=u},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,n){"use strict";var r=e("../compressions"),i=e("./ZipFileWorker");n.generateWorker=function(e,t,n){var o=new i(t.streamFiles,n,t.platform,t.encodeFileName),s=0;try{e.forEach((function(e,n){s++;var i=function(e,t){var n=e||t,i=r[n];if(!i)throw new Error(n+" is not a valid compression method !");return i}(n.options.compression,t.compression),a=n.options.compressionOptions||t.compressionOptions||{},l=n.dir,c=n.date;n._compressWorker(i,a).withStreamInfo("file",{name:e,dir:l,date:c,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(o)})),o.entriesCount=s}catch(e){o.error(e)}return o}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,n){"use strict";function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e=new r;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(r.prototype=e("./object")).loadAsync=e("./load"),r.support=e("./support"),r.defaults=e("./defaults"),r.version="3.10.1",r.loadAsync=function(e,t){return(new r).loadAsync(e,t)},r.external=e("./external"),t.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,n){"use strict";var r=e("./utils"),i=e("./external"),o=e("./utf8"),s=e("./zipEntries"),a=e("./stream/Crc32Probe"),l=e("./nodejsUtils");function c(e){return new i.Promise((function(t,n){var r=e.decompressed.getContentWorker().pipe(new a);r.on("error",(function(e){n(e)})).on("end",(function(){r.streamInfo.crc32!==e.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}t.exports=function(e,t){var n=this;return t=r.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),l.isNode&&l.isStream(e)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var n=new s(t);return n.load(e),n})).then((function(e){var n=[i.Promise.resolve(e)],r=e.files;if(t.checkCRC32)for(var o=0;o<r.length;o++)n.push(c(r[o]));return i.Promise.all(n)})).then((function(e){for(var i=e.shift(),o=i.files,s=0;s<o.length;s++){var a=o[s],l=a.fileNameStr,c=r.resolve(a.fileNameStr);n.file(c,a.decompressed,{binary:!0,optimizedBinaryString:!0,date:a.date,dir:a.dir,comment:a.fileCommentStr.length?a.fileCommentStr:null,unixPermissions:a.unixPermissions,dosPermissions:a.dosPermissions,createFolders:t.createFolders}),a.dir||(n.file(c).unsafeOriginalName=l)}return i.zipComment.length&&(n.comment=i.zipComment),n}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,n){"use strict";var r=e("../utils"),i=e("../stream/GenericWorker");function o(e,t){i.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}r.inherits(o,i),o.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},o.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,n){"use strict";var r=e("readable-stream").Readable;function i(e,t,n){r.call(this,t),this._helper=e;var i=this;e.on("data",(function(e,t){i.push(e)||i._helper.pause(),n&&n(t)})).on("error",(function(e){i.emit("error",e)})).on("end",(function(){i.push(null)}))}e("../utils").inherits(i,r),i.prototype._read=function(){this._helper.resume()},t.exports=i},{"../utils":32,"readable-stream":16}],14:[function(e,t,n){"use strict";t.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,n){"use strict";function r(e,t,n){var r,i=o.getTypeOf(t),a=o.extend(n||{},l);a.date=a.date||new Date,null!==a.compression&&(a.compression=a.compression.toUpperCase()),"string"==typeof a.unixPermissions&&(a.unixPermissions=parseInt(a.unixPermissions,8)),a.unixPermissions&&16384&a.unixPermissions&&(a.dir=!0),a.dosPermissions&&16&a.dosPermissions&&(a.dir=!0),a.dir&&(e=g(e)),a.createFolders&&(r=d(e))&&_.call(this,r,!0);var h="string"===i&&!1===a.binary&&!1===a.base64;n&&void 0!==n.binary||(a.binary=!h),(t instanceof c&&0===t.uncompressedSize||a.dir||!t||0===t.length)&&(a.base64=!1,a.binary=!0,t="",a.compression="STORE",i="string");var v=null;v=t instanceof c||t instanceof s?t:p.isNode&&p.isStream(t)?new f(e,t):o.prepareContent(e,t,a.binary,a.optimizedBinaryString,a.base64);var m=new u(e,v,a);this.files[e]=m}var i=e("./utf8"),o=e("./utils"),s=e("./stream/GenericWorker"),a=e("./stream/StreamHelper"),l=e("./defaults"),c=e("./compressedObject"),u=e("./zipObject"),h=e("./generate"),p=e("./nodejsUtils"),f=e("./nodejs/NodejsStreamInputAdapter"),d=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return 0<t?e.substring(0,t):""},g=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},_=function(e,t){return t=void 0!==t?t:l.createFolders,e=g(e),this.files[e]||r.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function v(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var m={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,n,r;for(t in this.files)r=this.files[t],(n=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(n,r)},filter:function(e){var t=[];return this.forEach((function(n,r){e(n,r)&&t.push(r)})),t},file:function(e,t,n){if(1!==arguments.length)return e=this.root+e,r.call(this,e,t,n),this;if(v(e)){var i=e;return this.filter((function(e,t){return!t.dir&&i.test(e)}))}var o=this.files[this.root+e];return o&&!o.dir?o:null},folder:function(e){if(!e)return this;if(v(e))return this.filter((function(t,n){return n.dir&&e.test(t)}));var t=this.root+e,n=_.call(this,t),r=this.clone();return r.root=n.name,r},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter((function(t,n){return n.name.slice(0,e.length)===e})),r=0;r<n.length;r++)delete this.files[n[r].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,n={};try{if((n=o.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");o.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var r=n.comment||this.comment||"";t=h.generateWorker(this,n,r)}catch(e){(t=new s("error")).error(e)}return new a(t,n.type||"string",n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=m},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,n){"use strict";t.exports=e("stream")},{stream:void 0}],17:[function(e,t,n){"use strict";var r=e("./DataReader");function i(e){r.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(i,r),i.prototype.byteAt=function(e){return this.data[this.zero+e]},i.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),o=this.length-4;0<=o;--o)if(this.data[o]===t&&this.data[o+1]===n&&this.data[o+2]===r&&this.data[o+3]===i)return o-this.zero;return-1},i.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),o=this.readData(4);return t===o[0]&&n===o[1]&&r===o[2]&&i===o[3]},i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],18:[function(e,t,n){"use strict";var r=e("../utils");function i(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return r.transformTo("string",this.readData(e))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=i},{"../utils":32}],19:[function(e,t,n){"use strict";var r=e("./Uint8ArrayReader");function i(e){r.call(this,e)}e("../utils").inherits(i,r),i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,n){"use strict";var r=e("./DataReader");function i(e){r.call(this,e)}e("../utils").inherits(i,r),i.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},i.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},i.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],21:[function(e,t,n){"use strict";var r=e("./ArrayReader");function i(e){r.call(this,e)}e("../utils").inherits(i,r),i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,n){"use strict";var r=e("../utils"),i=e("../support"),o=e("./ArrayReader"),s=e("./StringReader"),a=e("./NodeBufferReader"),l=e("./Uint8ArrayReader");t.exports=function(e){var t=r.getTypeOf(e);return r.checkSupport(t),"string"!==t||i.uint8array?"nodebuffer"===t?new a(e):i.uint8array?new l(r.transformTo("uint8array",e)):new o(r.transformTo("array",e)):new s(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,n){"use strict";n.LOCAL_FILE_HEADER="PK\x03\x04",n.CENTRAL_FILE_HEADER="PK\x01\x02",n.CENTRAL_DIRECTORY_END="PK\x05\x06",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,t,n){"use strict";var r=e("./GenericWorker"),i=e("../utils");function o(e){r.call(this,"ConvertWorker to "+e),this.destType=e}i.inherits(o,r),o.prototype.processChunk=function(e){this.push({data:i.transformTo(this.destType,e.data),meta:e.meta})},t.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,n){"use strict";var r=e("./GenericWorker"),i=e("../crc32");function o(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(o,r),o.prototype.processChunk=function(e){this.streamInfo.crc32=i(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,n){"use strict";var r=e("../utils"),i=e("./GenericWorker");function o(e){i.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}r.inherits(o,i),o.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}i.prototype.processChunk.call(this,e)},t.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,n){"use strict";var r=e("../utils"),i=e("./GenericWorker");function o(e){i.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=r.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}r.inherits(o,i),o.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,n){"use strict";function r(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=r},{}],29:[function(e,t,n){"use strict";var r=e("../utils"),i=e("./ConvertWorker"),o=e("./GenericWorker"),s=e("../base64"),a=e("../support"),l=e("../external"),c=null;if(a.nodestream)try{c=e("../nodejs/NodejsStreamOutputAdapter")}catch(e){}function u(e,t){return new l.Promise((function(n,i){var o=[],a=e._internalType,l=e._outputType,c=e._mimeType;e.on("data",(function(e,n){o.push(e),t&&t(n)})).on("error",(function(e){o=[],i(e)})).on("end",(function(){try{var e=function(e,t,n){switch(e){case"blob":return r.newBlob(r.transformTo("arraybuffer",t),n);case"base64":return s.encode(t);default:return r.transformTo(e,t)}}(l,function(e,t){var n,r=0,i=null,o=0;for(n=0;n<t.length;n++)o+=t[n].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(i=new Uint8Array(o),n=0;n<t.length;n++)i.set(t[n],r),r+=t[n].length;return i;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(a,o),c);n(e)}catch(e){i(e)}o=[]})).resume()}))}function h(e,t,n){var s=t;switch(t){case"blob":case"arraybuffer":s="uint8array";break;case"base64":s="string"}try{this._internalType=s,this._outputType=t,this._mimeType=n,r.checkSupport(s),this._worker=e.pipe(new i(s)),e.lock()}catch(e){this._worker=new o("error"),this._worker.error(e)}}h.prototype={accumulate:function(e){return u(this,e)},on:function(e,t){var n=this;return"data"===e?this._worker.on(e,(function(e){t.call(n,e.data,e.meta)})):this._worker.on(e,(function(){r.delay(t,arguments,n)})),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(r.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,n){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer="undefined"!=typeof Buffer,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var r=new ArrayBuffer(0);try{n.blob=0===new Blob([r],{type:"application/zip"}).size}catch(e){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(r),n.blob=0===i.getBlob("application/zip").size}catch(e){n.blob=!1}}}try{n.nodestream=!!e("readable-stream").Readable}catch(e){n.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,n){"use strict";for(var r=e("./utils"),i=e("./support"),o=e("./nodejsUtils"),s=e("./stream/GenericWorker"),a=new Array(256),l=0;l<256;l++)a[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;function c(){s.call(this,"utf-8 decode"),this.leftOver=null}function u(){s.call(this,"utf-8 encode")}a[254]=a[254]=1,n.utf8encode=function(e){return i.nodebuffer?o.newBufferFrom(e,"utf-8"):function(e){var t,n,r,o,s,a=e.length,l=0;for(o=0;o<a;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=i.uint8array?new Uint8Array(l):new Array(l),o=s=0;s<l;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?t[s++]=n:(n<2048?t[s++]=192|n>>>6:(n<65536?t[s++]=224|n>>>12:(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63),t[s++]=128|n>>>6&63),t[s++]=128|63&n);return t}(e)},n.utf8decode=function(e){return i.nodebuffer?r.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,n,i,o,s=e.length,l=new Array(2*s);for(t=n=0;t<s;)if((i=e[t++])<128)l[n++]=i;else if(4<(o=a[i]))l[n++]=65533,t+=o-1;else{for(i&=2===o?31:3===o?15:7;1<o&&t<s;)i=i<<6|63&e[t++],o--;1<o?l[n++]=65533:i<65536?l[n++]=i:(i-=65536,l[n++]=55296|i>>10&1023,l[n++]=56320|1023&i)}return l.length!==n&&(l.subarray?l=l.subarray(0,n):l.length=n),r.applyFromCharCode(l)}(e=r.transformTo(i.uint8array?"uint8array":"array",e))},r.inherits(c,s),c.prototype.processChunk=function(e){var t=r.transformTo(i.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var o=t;(t=new Uint8Array(o.length+this.leftOver.length)).set(this.leftOver,0),t.set(o,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var s=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+a[e[n]]>t?n:t}(t),l=t;s!==t.length&&(i.uint8array?(l=t.subarray(0,s),this.leftOver=t.subarray(s,t.length)):(l=t.slice(0,s),this.leftOver=t.slice(s,t.length))),this.push({data:n.utf8decode(l),meta:e.meta})},c.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=c,r.inherits(u,s),u.prototype.processChunk=function(e){this.push({data:n.utf8encode(e.data),meta:e.meta})},n.Utf8EncodeWorker=u},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,n){"use strict";var r=e("./support"),i=e("./base64"),o=e("./nodejsUtils"),s=e("./external");function a(e){return e}function l(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}e("setimmediate"),n.newBlob=function(t,r){n.checkSupport("blob");try{return new Blob([t],{type:r})}catch(e){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return i.append(t),i.getBlob(r)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var c={stringifyByChunk:function(e,t,n){var r=[],i=0,o=e.length;if(o<=n)return String.fromCharCode.apply(null,e);for(;i<o;)"array"===t||"nodebuffer"===t?r.push(String.fromCharCode.apply(null,e.slice(i,Math.min(i+n,o)))):r.push(String.fromCharCode.apply(null,e.subarray(i,Math.min(i+n,o)))),i+=n;return r.join("")},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&1===String.fromCharCode.apply(null,o.allocBuffer(1)).length}catch(e){return!1}}()}};function u(e){var t=65536,r=n.getTypeOf(e),i=!0;if("uint8array"===r?i=c.applyCanBeUsed.uint8array:"nodebuffer"===r&&(i=c.applyCanBeUsed.nodebuffer),i)for(;1<t;)try{return c.stringifyByChunk(e,r,t)}catch(e){t=Math.floor(t/2)}return c.stringifyByChar(e)}function h(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}n.applyFromCharCode=u;var p={};p.string={string:a,array:function(e){return l(e,new Array(e.length))},arraybuffer:function(e){return p.string.uint8array(e).buffer},uint8array:function(e){return l(e,new Uint8Array(e.length))},nodebuffer:function(e){return l(e,o.allocBuffer(e.length))}},p.array={string:u,array:a,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(e)}},p.arraybuffer={string:function(e){return u(new Uint8Array(e))},array:function(e){return h(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:a,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(new Uint8Array(e))}},p.uint8array={string:u,array:function(e){return h(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:a,nodebuffer:function(e){return o.newBufferFrom(e)}},p.nodebuffer={string:u,array:function(e){return h(e,new Array(e.length))},arraybuffer:function(e){return p.nodebuffer.uint8array(e).buffer},uint8array:function(e){return h(e,new Uint8Array(e.length))},nodebuffer:a},n.transformTo=function(e,t){if(t=t||"",!e)return t;n.checkSupport(e);var r=n.getTypeOf(t);return p[r][e](t)},n.resolve=function(e){for(var t=e.split("/"),n=[],r=0;r<t.length;r++){var i=t[r];"."===i||""===i&&0!==r&&r!==t.length-1||(".."===i?n.pop():n.push(i))}return n.join("/")},n.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":r.nodebuffer&&o.isBuffer(e)?"nodebuffer":r.uint8array&&e instanceof Uint8Array?"uint8array":r.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(e){if(!r[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(e){var t,n,r="";for(n=0;n<(e||"").length;n++)r+="\\x"+((t=e.charCodeAt(n))<16?"0":"")+t.toString(16).toUpperCase();return r},n.delay=function(e,t,n){setImmediate((function(){e.apply(n||null,t||[])}))},n.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n},n.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],t)&&void 0===n[t]&&(n[t]=arguments[e][t]);return n},n.prepareContent=function(e,t,o,a,c){return s.Promise.resolve(t).then((function(e){return r.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new s.Promise((function(t,n){var r=new FileReader;r.onload=function(e){t(e.target.result)},r.onerror=function(e){n(e.target.error)},r.readAsArrayBuffer(e)})):e})).then((function(t){var u=n.getTypeOf(t);return u?("arraybuffer"===u?t=n.transformTo("uint8array",t):"string"===u&&(c?t=i.decode(t):o&&!0!==a&&(t=function(e){return l(e,r.uint8array?new Uint8Array(e.length):new Array(e.length))}(t))),t):s.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,t,n){"use strict";var r=e("./reader/readerFor"),i=e("./utils"),o=e("./signature"),s=e("./zipEntry"),a=e("./support");function l(e){this.files=[],this.loadOptions=e}l.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(t)+", expected "+i.pretty(e)+")")}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var r=this.reader.readString(4)===t;return this.reader.setIndex(n),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=a.uint8array?"uint8array":"array",n=i.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,r=this.zip64EndOfCentralSize-44;0<r;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(e=new s({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var r=t-n;if(0<r)this.isSignature(t,o.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(e){this.reader=r(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,t,n){"use strict";var r=e("./reader/readerFor"),i=e("./utils"),o=e("./compressedObject"),s=e("./crc32"),a=e("./utf8"),l=e("./compressions"),c=e("./support");function u(e,t){this.options=e,this.loadOptions=t}u.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in l)if(Object.prototype.hasOwnProperty.call(l,t)&&l[t].magic===e)return l[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var e=r(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(e){var t,n,r,i=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<i;)t=e.readInt(2),n=e.readInt(2),r=e.readData(n),this.extraFields[t]={id:t,length:n,value:r};e.setIndex(i)},handleUTF8:function(){var e=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=a.utf8decode(this.fileName),this.fileCommentStr=a.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=i.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var r=this.findExtraFieldUnicodeComment();if(null!==r)this.fileCommentStr=r;else{var o=i.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(o)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=r(e.value);return 1!==t.readInt(1)||s(this.fileName)!==t.readInt(4)?null:a.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=r(e.value);return 1!==t.readInt(1)||s(this.fileComment)!==t.readInt(4)?null:a.utf8decode(t.readData(e.length-5))}return null}},t.exports=u},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,n){"use strict";function r(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}}var i=e("./stream/StreamHelper"),o=e("./stream/DataWorker"),s=e("./utf8"),a=e("./compressedObject"),l=e("./stream/GenericWorker");r.prototype={internalStream:function(e){var t=null,n="string";try{if(!e)throw new Error("No output type specified.");var r="string"===(n=e.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),t=this._decompressWorker();var o=!this._dataBinary;o&&!r&&(t=t.pipe(new s.Utf8EncodeWorker)),!o&&r&&(t=t.pipe(new s.Utf8DecodeWorker))}catch(e){(t=new l("error")).error(e)}return new i(t,n,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof a&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new s.Utf8EncodeWorker)),a.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof a?this._data.getContentWorker():this._data instanceof l?this._data:new o(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],u=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<c.length;h++)r.prototype[c[h]]=u;t.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,r){(function(e){"use strict";var n,r,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var o=0,s=new i(u),a=e.document.createTextNode("");s.observe(a,{characterData:!0}),n=function(){a.data=o=++o%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){u(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(u,0)};else{var l=new e.MessageChannel;l.port1.onmessage=u,n=function(){l.port2.postMessage(0)}}var c=[];function u(){var e,t;r=!0;for(var n=c.length;n;){for(t=c,c=[],e=-1;++e<n;)t[e]();n=c.length}r=!1}t.exports=function(e){1!==c.push(e)||r||n()}}).call(this,"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,n){"use strict";var r=e("immediate");function i(){}var o={},s=["REJECTED"],a=["FULFILLED"],l=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==i&&f(this,e)}function u(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function h(e,t,n){r((function(){var r;try{r=t(n)}catch(r){return o.reject(e,r)}r===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,r)}))}function p(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function f(e,t){var n=!1;function r(t){n||(n=!0,o.reject(e,t))}function i(t){n||(n=!0,o.resolve(e,t))}var s=d((function(){t(i,r)}));"error"===s.status&&r(s.value)}function d(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}(t.exports=c).prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){throw n}))}))},c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===a||"function"!=typeof t&&this.state===s)return this;var n=new this.constructor(i);return this.state!==l?h(n,this.state===a?e:t,this.outcome):this.queue.push(new u(n,e,t)),n},u.prototype.callFulfilled=function(e){o.resolve(this.promise,e)},u.prototype.otherCallFulfilled=function(e){h(this.promise,this.onFulfilled,e)},u.prototype.callRejected=function(e){o.reject(this.promise,e)},u.prototype.otherCallRejected=function(e){h(this.promise,this.onRejected,e)},o.resolve=function(e,t){var n=d(p,t);if("error"===n.status)return o.reject(e,n.value);var r=n.value;if(r)f(e,r);else{e.state=a,e.outcome=t;for(var i=-1,s=e.queue.length;++i<s;)e.queue[i].callFulfilled(t)}return e},o.reject=function(e,t){e.state=s,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},c.resolve=function(e){return e instanceof this?e:o.resolve(new this(i),e)},c.reject=function(e){var t=new this(i);return o.reject(t,e)},c.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var s=new Array(n),a=0,l=-1,c=new this(i);++l<n;)u(e[l],l);return c;function u(e,i){t.resolve(e).then((function(e){s[i]=e,++a!==n||r||(r=!0,o.resolve(c,s))}),(function(e){r||(r=!0,o.reject(c,e))}))}},c.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var s,a=-1,l=new this(i);++a<n;)s=e[a],t.resolve(s).then((function(e){r||(r=!0,o.resolve(l,e))}),(function(e){r||(r=!0,o.reject(l,e))}));return l}},{immediate:36}],38:[function(e,t,n){"use strict";var r={};(0,e("./lib/utils/common").assign)(r,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,n){"use strict";var r=e("./zlib/deflate"),i=e("./utils/common"),o=e("./utils/strings"),s=e("./zlib/messages"),a=e("./zlib/zstream"),l=Object.prototype.toString,c=0,u=-1,h=0,p=8;function f(e){if(!(this instanceof f))return new f(e);this.options=i.assign({level:u,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==c)throw new Error(s[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var d;if(d="string"==typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=r.deflateSetDictionary(this.strm,d))!==c)throw new Error(s[n]);this._dict_set=!0}}function d(e,t){var n=new f(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}f.prototype.push=function(e,t){var n,s,a=this.strm,u=this.options.chunkSize;if(this.ended)return!1;s=t===~~t?t:!0===t?4:0,"string"==typeof e?a.input=o.string2buf(e):"[object ArrayBuffer]"===l.call(e)?a.input=new Uint8Array(e):a.input=e,a.next_in=0,a.avail_in=a.input.length;do{if(0===a.avail_out&&(a.output=new i.Buf8(u),a.next_out=0,a.avail_out=u),1!==(n=r.deflate(a,s))&&n!==c)return this.onEnd(n),!(this.ended=!0);0!==a.avail_out&&(0!==a.avail_in||4!==s&&2!==s)||("string"===this.options.to?this.onData(o.buf2binstring(i.shrinkBuf(a.output,a.next_out))):this.onData(i.shrinkBuf(a.output,a.next_out)))}while((0<a.avail_in||0===a.avail_out)&&1!==n);return 4===s?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===c):2!==s||(this.onEnd(c),!(a.avail_out=0))},f.prototype.onData=function(e){this.chunks.push(e)},f.prototype.onEnd=function(e){e===c&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=f,n.deflate=d,n.deflateRaw=function(e,t){return(t=t||{}).raw=!0,d(e,t)},n.gzip=function(e,t){return(t=t||{}).gzip=!0,d(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,n){"use strict";var r=e("./zlib/inflate"),i=e("./utils/common"),o=e("./utils/strings"),s=e("./zlib/constants"),a=e("./zlib/messages"),l=e("./zlib/zstream"),c=e("./zlib/gzheader"),u=Object.prototype.toString;function h(e){if(!(this instanceof h))return new h(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==s.Z_OK)throw new Error(a[n]);this.header=new c,r.inflateGetHeader(this.strm,this.header)}function p(e,t){var n=new h(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}h.prototype.push=function(e,t){var n,a,l,c,h,p,f=this.strm,d=this.options.chunkSize,g=this.options.dictionary,_=!1;if(this.ended)return!1;a=t===~~t?t:!0===t?s.Z_FINISH:s.Z_NO_FLUSH,"string"==typeof e?f.input=o.binstring2buf(e):"[object ArrayBuffer]"===u.call(e)?f.input=new Uint8Array(e):f.input=e,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new i.Buf8(d),f.next_out=0,f.avail_out=d),(n=r.inflate(f,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&g&&(p="string"==typeof g?o.string2buf(g):"[object ArrayBuffer]"===u.call(g)?new Uint8Array(g):g,n=r.inflateSetDictionary(this.strm,p)),n===s.Z_BUF_ERROR&&!0===_&&(n=s.Z_OK,_=!1),n!==s.Z_STREAM_END&&n!==s.Z_OK)return this.onEnd(n),!(this.ended=!0);f.next_out&&(0!==f.avail_out&&n!==s.Z_STREAM_END&&(0!==f.avail_in||a!==s.Z_FINISH&&a!==s.Z_SYNC_FLUSH)||("string"===this.options.to?(l=o.utf8border(f.output,f.next_out),c=f.next_out-l,h=o.buf2string(f.output,l),f.next_out=c,f.avail_out=d-c,c&&i.arraySet(f.output,f.output,l,c,0),this.onData(h)):this.onData(i.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(_=!0)}while((0<f.avail_in||0===f.avail_out)&&n!==s.Z_STREAM_END);return n===s.Z_STREAM_END&&(a=s.Z_FINISH),a===s.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===s.Z_OK):a!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),!(f.avail_out=0))},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===s.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=h,n.inflate=p,n.inflateRaw=function(e,t){return(t=t||{}).raw=!0,p(e,t)},n.ungzip=p},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){var t,n,r,i,o,s;for(t=r=0,n=e.length;t<n;t++)r+=e[t].length;for(s=new Uint8Array(r),t=i=0,n=e.length;t<n;t++)o=e[t],s.set(o,i),i+=o.length;return s}},o={arraySet:function(e,t,n,r,i){for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(r)},{}],42:[function(e,t,n){"use strict";var r=e("./common"),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){o=!1}for(var s=new r.Buf8(256),a=0;a<256;a++)s[a]=252<=a?6:248<=a?5:240<=a?4:224<=a?3:192<=a?2:1;function l(e,t){if(t<65537&&(e.subarray&&o||!e.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",s=0;s<t;s++)n+=String.fromCharCode(e[s]);return n}s[254]=s[254]=1,n.string2buf=function(e){var t,n,i,o,s,a=e.length,l=0;for(o=0;o<a;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(l),o=s=0;s<l;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?t[s++]=n:(n<2048?t[s++]=192|n>>>6:(n<65536?t[s++]=224|n>>>12:(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63),t[s++]=128|n>>>6&63),t[s++]=128|63&n);return t},n.buf2binstring=function(e){return l(e,e.length)},n.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,r,i,o,a=t||e.length,c=new Array(2*a);for(n=r=0;n<a;)if((i=e[n++])<128)c[r++]=i;else if(4<(o=s[i]))c[r++]=65533,n+=o-1;else{for(i&=2===o?31:3===o?15:7;1<o&&n<a;)i=i<<6|63&e[n++],o--;1<o?c[r++]=65533:i<65536?c[r++]=i:(i-=65536,c[r++]=55296|i>>10&1023,c[r++]=56320|1023&i)}return l(c,r)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+s[e[n]]>t?n:t}},{"./common":41}],43:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){for(var i=65535&e|0,o=e>>>16&65535|0,s=0;0!==n;){for(n-=s=2e3<n?2e3:n;o=o+(i=i+t[r++]|0)|0,--s;);i%=65521,o%=65521}return i|o<<16|0}},{}],44:[function(e,t,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,n){"use strict";var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t,n,i){var o=r,s=i+n;e^=-1;for(var a=i;a<s;a++)e=e>>>8^o[255&(e^t[a])];return-1^e}},{}],46:[function(e,t,n){"use strict";var r,i=e("../utils/common"),o=e("./trees"),s=e("./adler32"),a=e("./crc32"),l=e("./messages"),c=0,u=4,h=0,p=-2,f=-1,d=4,g=2,_=8,v=9,m=286,y=30,T=19,E=2*m+1,b=15,O=3,S=258,k=S+O+1,w=42,R=113,C=1,I=2,x=3,A=4;function N(e,t){return e.msg=l[t],t}function L(e){return(e<<1)-(4<e?9:0)}function M(e){for(var t=e.length;0<=--t;)e[t]=0}function D(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(i.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function P(e,t){o._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,D(e.strm)}function B(e,t){e.pending_buf[e.pending++]=t}function F(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function U(e,t){var n,r,i=e.max_chain_length,o=e.strstart,s=e.prev_length,a=e.nice_match,l=e.strstart>e.w_size-k?e.strstart-(e.w_size-k):0,c=e.window,u=e.w_mask,h=e.prev,p=e.strstart+S,f=c[o+s-1],d=c[o+s];e.prev_length>=e.good_match&&(i>>=2),a>e.lookahead&&(a=e.lookahead);do{if(c[(n=t)+s]===d&&c[n+s-1]===f&&c[n]===c[o]&&c[++n]===c[o+1]){o+=2,n++;do{}while(c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&o<p);if(r=S-(p-o),o=p-S,s<r){if(e.match_start=t,a<=(s=r))break;f=c[o+s-1],d=c[o+s]}}}while((t=h[t&u])>l&&0!=--i);return s<=e.lookahead?s:e.lookahead}function Z(e){var t,n,r,o,l,c,u,h,p,f,d=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=d+(d-k)){for(i.arraySet(e.window,e.window,d,d,0),e.match_start-=d,e.strstart-=d,e.block_start-=d,t=n=e.hash_size;r=e.head[--t],e.head[t]=d<=r?r-d:0,--n;);for(t=n=d;r=e.prev[--t],e.prev[t]=d<=r?r-d:0,--n;);o+=d}if(0===e.strm.avail_in)break;if(c=e.strm,u=e.window,h=e.strstart+e.lookahead,f=void 0,(p=o)<(f=c.avail_in)&&(f=p),n=0===f?0:(c.avail_in-=f,i.arraySet(u,c.input,c.next_in,f,h),1===c.state.wrap?c.adler=s(c.adler,u,f,h):2===c.state.wrap&&(c.adler=a(c.adler,u,f,h)),c.next_in+=f,c.total_in+=f,f),e.lookahead+=n,e.lookahead+e.insert>=O)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+O-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<O)););}while(e.lookahead<k&&0!==e.strm.avail_in)}function G(e,t){for(var n,r;;){if(e.lookahead<k){if(Z(e),e.lookahead<k&&t===c)return C;if(0===e.lookahead)break}if(n=0,e.lookahead>=O&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+O-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-k&&(e.match_length=U(e,n)),e.match_length>=O)if(r=o._tr_tally(e,e.strstart-e.match_start,e.match_length-O),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=O){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+O-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(P(e,!1),0===e.strm.avail_out))return C}return e.insert=e.strstart<O-1?e.strstart:O-1,t===u?(P(e,!0),0===e.strm.avail_out?x:A):e.last_lit&&(P(e,!1),0===e.strm.avail_out)?C:I}function H(e,t){for(var n,r,i;;){if(e.lookahead<k){if(Z(e),e.lookahead<k&&t===c)return C;if(0===e.lookahead)break}if(n=0,e.lookahead>=O&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+O-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=O-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-k&&(e.match_length=U(e,n),e.match_length<=5&&(1===e.strategy||e.match_length===O&&4096<e.strstart-e.match_start)&&(e.match_length=O-1)),e.prev_length>=O&&e.match_length<=e.prev_length){for(i=e.strstart+e.lookahead-O,r=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-O),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+O-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=O-1,e.strstart++,r&&(P(e,!1),0===e.strm.avail_out))return C}else if(e.match_available){if((r=o._tr_tally(e,0,e.window[e.strstart-1]))&&P(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return C}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<O-1?e.strstart:O-1,t===u?(P(e,!0),0===e.strm.avail_out?x:A):e.last_lit&&(P(e,!1),0===e.strm.avail_out)?C:I}function V(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function j(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=_,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*E),this.dyn_dtree=new i.Buf16(2*(2*y+1)),this.bl_tree=new i.Buf16(2*(2*T+1)),M(this.dyn_ltree),M(this.dyn_dtree),M(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(b+1),this.heap=new i.Buf16(2*m+1),M(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*m+1),M(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function W(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=g,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?w:R,e.adler=2===t.wrap?0:1,t.last_flush=c,o._tr_init(t),h):N(e,p)}function X(e){var t=W(e);return t===h&&function(e){e.window_size=2*e.w_size,M(e.head),e.max_lazy_match=r[e.level].max_lazy,e.good_match=r[e.level].good_length,e.nice_match=r[e.level].nice_length,e.max_chain_length=r[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=O-1,e.match_available=0,e.ins_h=0}(e.state),t}function z(e,t,n,r,o,s){if(!e)return p;var a=1;if(t===f&&(t=6),r<0?(a=0,r=-r):15<r&&(a=2,r-=16),o<1||v<o||n!==_||r<8||15<r||t<0||9<t||s<0||d<s)return N(e,p);8===r&&(r=9);var l=new j;return(e.state=l).strm=e,l.wrap=a,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+O-1)/O),l.window=new i.Buf8(2*l.w_size),l.head=new i.Buf16(l.hash_size),l.prev=new i.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new i.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=s,l.method=n,X(e)}r=[new V(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Z(e),0===e.lookahead&&t===c)return C;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,P(e,!1),0===e.strm.avail_out))return C;if(e.strstart-e.block_start>=e.w_size-k&&(P(e,!1),0===e.strm.avail_out))return C}return e.insert=0,t===u?(P(e,!0),0===e.strm.avail_out?x:A):(e.strstart>e.block_start&&(P(e,!1),e.strm.avail_out),C)})),new V(4,4,8,4,G),new V(4,5,16,8,G),new V(4,6,32,32,G),new V(4,4,16,16,H),new V(8,16,32,32,H),new V(8,16,128,128,H),new V(8,32,128,256,H),new V(32,128,258,1024,H),new V(32,258,258,4096,H)],n.deflateInit=function(e,t){return z(e,t,_,15,8,0)},n.deflateInit2=z,n.deflateReset=X,n.deflateResetKeep=W,n.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?p:(e.state.gzhead=t,h):p},n.deflate=function(e,t){var n,i,s,l;if(!e||!e.state||5<t||t<0)return e?N(e,p):p;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||666===i.status&&t!==u)return N(e,0===e.avail_out?-5:p);if(i.strm=e,n=i.last_flush,i.last_flush=t,i.status===w)if(2===i.wrap)e.adler=0,B(i,31),B(i,139),B(i,8),i.gzhead?(B(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),B(i,255&i.gzhead.time),B(i,i.gzhead.time>>8&255),B(i,i.gzhead.time>>16&255),B(i,i.gzhead.time>>24&255),B(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),B(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(B(i,255&i.gzhead.extra.length),B(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=a(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(B(i,0),B(i,0),B(i,0),B(i,0),B(i,0),B(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),B(i,3),i.status=R);else{var f=_+(i.w_bits-8<<4)<<8;f|=(2<=i.strategy||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(f|=32),f+=31-f%31,i.status=R,F(i,f),0!==i.strstart&&(F(i,e.adler>>>16),F(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(s=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),D(e),s=i.pending,i.pending!==i.pending_buf_size));)B(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){s=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),D(e),s=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,B(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),0===l&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){s=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),D(e),s=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,B(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),0===l&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&D(e),i.pending+2<=i.pending_buf_size&&(B(i,255&e.adler),B(i,e.adler>>8&255),e.adler=0,i.status=R)):i.status=R),0!==i.pending){if(D(e),0===e.avail_out)return i.last_flush=-1,h}else if(0===e.avail_in&&L(t)<=L(n)&&t!==u)return N(e,-5);if(666===i.status&&0!==e.avail_in)return N(e,-5);if(0!==e.avail_in||0!==i.lookahead||t!==c&&666!==i.status){var d=2===i.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(Z(e),0===e.lookahead)){if(t===c)return C;break}if(e.match_length=0,n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(P(e,!1),0===e.strm.avail_out))return C}return e.insert=0,t===u?(P(e,!0),0===e.strm.avail_out?x:A):e.last_lit&&(P(e,!1),0===e.strm.avail_out)?C:I}(i,t):3===i.strategy?function(e,t){for(var n,r,i,s,a=e.window;;){if(e.lookahead<=S){if(Z(e),e.lookahead<=S&&t===c)return C;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=O&&0<e.strstart&&(r=a[i=e.strstart-1])===a[++i]&&r===a[++i]&&r===a[++i]){s=e.strstart+S;do{}while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<s);e.match_length=S-(s-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=O?(n=o._tr_tally(e,1,e.match_length-O),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(P(e,!1),0===e.strm.avail_out))return C}return e.insert=0,t===u?(P(e,!0),0===e.strm.avail_out?x:A):e.last_lit&&(P(e,!1),0===e.strm.avail_out)?C:I}(i,t):r[i.level].func(i,t);if(d!==x&&d!==A||(i.status=666),d===C||d===x)return 0===e.avail_out&&(i.last_flush=-1),h;if(d===I&&(1===t?o._tr_align(i):5!==t&&(o._tr_stored_block(i,0,0,!1),3===t&&(M(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),D(e),0===e.avail_out))return i.last_flush=-1,h}return t!==u?h:i.wrap<=0?1:(2===i.wrap?(B(i,255&e.adler),B(i,e.adler>>8&255),B(i,e.adler>>16&255),B(i,e.adler>>24&255),B(i,255&e.total_in),B(i,e.total_in>>8&255),B(i,e.total_in>>16&255),B(i,e.total_in>>24&255)):(F(i,e.adler>>>16),F(i,65535&e.adler)),D(e),0<i.wrap&&(i.wrap=-i.wrap),0!==i.pending?h:1)},n.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==w&&69!==t&&73!==t&&91!==t&&103!==t&&t!==R&&666!==t?N(e,p):(e.state=null,t===R?N(e,-3):h):p},n.deflateSetDictionary=function(e,t){var n,r,o,a,l,c,u,f,d=t.length;if(!e||!e.state)return p;if(2===(a=(n=e.state).wrap)||1===a&&n.status!==w||n.lookahead)return p;for(1===a&&(e.adler=s(e.adler,t,d,0)),n.wrap=0,d>=n.w_size&&(0===a&&(M(n.head),n.strstart=0,n.block_start=0,n.insert=0),f=new i.Buf8(n.w_size),i.arraySet(f,t,d-n.w_size,n.w_size,0),t=f,d=n.w_size),l=e.avail_in,c=e.next_in,u=e.input,e.avail_in=d,e.next_in=0,e.input=t,Z(n);n.lookahead>=O;){for(r=n.strstart,o=n.lookahead-(O-1);n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+O-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++,--o;);n.strstart=r,n.lookahead=O-1,Z(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=O-1,n.match_available=0,e.next_in=c,e.input=u,e.avail_in=l,n.wrap=a,h},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,n){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,n){"use strict";t.exports=function(e,t){var n,r,i,o,s,a,l,c,u,h,p,f,d,g,_,v,m,y,T,E,b,O,S,k,w;n=e.state,r=e.next_in,k=e.input,i=r+(e.avail_in-5),o=e.next_out,w=e.output,s=o-(t-e.avail_out),a=o+(e.avail_out-257),l=n.dmax,c=n.wsize,u=n.whave,h=n.wnext,p=n.window,f=n.hold,d=n.bits,g=n.lencode,_=n.distcode,v=(1<<n.lenbits)-1,m=(1<<n.distbits)-1;e:do{d<15&&(f+=k[r++]<<d,d+=8,f+=k[r++]<<d,d+=8),y=g[f&v];t:for(;;){if(f>>>=T=y>>>24,d-=T,0===(T=y>>>16&255))w[o++]=65535&y;else{if(!(16&T)){if(0==(64&T)){y=g[(65535&y)+(f&(1<<T)-1)];continue t}if(32&T){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}E=65535&y,(T&=15)&&(d<T&&(f+=k[r++]<<d,d+=8),E+=f&(1<<T)-1,f>>>=T,d-=T),d<15&&(f+=k[r++]<<d,d+=8,f+=k[r++]<<d,d+=8),y=_[f&m];n:for(;;){if(f>>>=T=y>>>24,d-=T,!(16&(T=y>>>16&255))){if(0==(64&T)){y=_[(65535&y)+(f&(1<<T)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(b=65535&y,d<(T&=15)&&(f+=k[r++]<<d,(d+=8)<T&&(f+=k[r++]<<d,d+=8)),l<(b+=f&(1<<T)-1)){e.msg="invalid distance too far back",n.mode=30;break e}if(f>>>=T,d-=T,(T=o-s)<b){if(u<(T=b-T)&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(S=p,(O=0)===h){if(O+=c-T,T<E){for(E-=T;w[o++]=p[O++],--T;);O=o-b,S=w}}else if(h<T){if(O+=c+h-T,(T-=h)<E){for(E-=T;w[o++]=p[O++],--T;);if(O=0,h<E){for(E-=T=h;w[o++]=p[O++],--T;);O=o-b,S=w}}}else if(O+=h-T,T<E){for(E-=T;w[o++]=p[O++],--T;);O=o-b,S=w}for(;2<E;)w[o++]=S[O++],w[o++]=S[O++],w[o++]=S[O++],E-=3;E&&(w[o++]=S[O++],1<E&&(w[o++]=S[O++]))}else{for(O=o-b;w[o++]=w[O++],w[o++]=w[O++],w[o++]=w[O++],2<(E-=3););E&&(w[o++]=w[O++],1<E&&(w[o++]=w[O++]))}break}}break}}while(r<i&&o<a);r-=E=d>>3,f&=(1<<(d-=E<<3))-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=o<a?a-o+257:257-(o-a),n.hold=f,n.bits=d}},{}],49:[function(e,t,n){"use strict";var r=e("../utils/common"),i=e("./adler32"),o=e("./crc32"),s=e("./inffast"),a=e("./inftrees"),l=1,c=2,u=0,h=-2,p=1,f=852,d=592;function g(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function _(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function v(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=p,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(f),t.distcode=t.distdyn=new r.Buf32(d),t.sane=1,t.back=-1,u):h}function m(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,v(e)):h}function y(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?h:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,m(e))):h}function T(e,t){var n,r;return e?(r=new _,(e.state=r).window=null,(n=y(e,t))!==u&&(e.state=null),n):h}var E,b,O=!0;function S(e){if(O){var t;for(E=new r.Buf32(512),b=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(a(l,e.lens,0,288,E,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;a(c,e.lens,0,32,b,0,e.work,{bits:5}),O=!1}e.lencode=E,e.lenbits=9,e.distcode=b,e.distbits=5}function k(e,t,n,i){var o,s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new r.Buf8(s.wsize)),i>=s.wsize?(r.arraySet(s.window,t,n-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):(i<(o=s.wsize-s.wnext)&&(o=i),r.arraySet(s.window,t,n-i,o,s.wnext),(i-=o)?(r.arraySet(s.window,t,n-i,i,0),s.wnext=i,s.whave=s.wsize):(s.wnext+=o,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=o))),0}n.inflateReset=m,n.inflateReset2=y,n.inflateResetKeep=v,n.inflateInit=function(e){return T(e,15)},n.inflateInit2=T,n.inflate=function(e,t){var n,f,d,_,v,m,y,T,E,b,O,w,R,C,I,x,A,N,L,M,D,P,B,F,U=0,Z=new r.Buf8(4),G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return h;12===(n=e.state).mode&&(n.mode=13),v=e.next_out,d=e.output,y=e.avail_out,_=e.next_in,f=e.input,m=e.avail_in,T=n.hold,E=n.bits,b=m,O=y,P=u;e:for(;;)switch(n.mode){case p:if(0===n.wrap){n.mode=13;break}for(;E<16;){if(0===m)break e;m--,T+=f[_++]<<E,E+=8}if(2&n.wrap&&35615===T){Z[n.check=0]=255&T,Z[1]=T>>>8&255,n.check=o(n.check,Z,2,0),E=T=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&T)<<8)+(T>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!=(15&T)){e.msg="unknown compression method",n.mode=30;break}if(E-=4,D=8+(15&(T>>>=4)),0===n.wbits)n.wbits=D;else if(D>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<D,e.adler=n.check=1,n.mode=512&T?10:12,E=T=0;break;case 2:for(;E<16;){if(0===m)break e;m--,T+=f[_++]<<E,E+=8}if(n.flags=T,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=T>>8&1),512&n.flags&&(Z[0]=255&T,Z[1]=T>>>8&255,n.check=o(n.check,Z,2,0)),E=T=0,n.mode=3;case 3:for(;E<32;){if(0===m)break e;m--,T+=f[_++]<<E,E+=8}n.head&&(n.head.time=T),512&n.flags&&(Z[0]=255&T,Z[1]=T>>>8&255,Z[2]=T>>>16&255,Z[3]=T>>>24&255,n.check=o(n.check,Z,4,0)),E=T=0,n.mode=4;case 4:for(;E<16;){if(0===m)break e;m--,T+=f[_++]<<E,E+=8}n.head&&(n.head.xflags=255&T,n.head.os=T>>8),512&n.flags&&(Z[0]=255&T,Z[1]=T>>>8&255,n.check=o(n.check,Z,2,0)),E=T=0,n.mode=5;case 5:if(1024&n.flags){for(;E<16;){if(0===m)break e;m--,T+=f[_++]<<E,E+=8}n.length=T,n.head&&(n.head.extra_len=T),512&n.flags&&(Z[0]=255&T,Z[1]=T>>>8&255,n.check=o(n.check,Z,2,0)),E=T=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(m<(w=n.length)&&(w=m),w&&(n.head&&(D=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,f,_,w,D)),512&n.flags&&(n.check=o(n.check,f,w,_)),m-=w,_+=w,n.length-=w),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===m)break e;for(w=0;D=f[_+w++],n.head&&D&&n.length<65536&&(n.head.name+=String.fromCharCode(D)),D&&w<m;);if(512&n.flags&&(n.check=o(n.check,f,w,_)),m-=w,_+=w,D)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===m)break e;for(w=0;D=f[_+w++],n.head&&D&&n.length<65536&&(n.head.comment+=String.fromCharCode(D)),D&&w<m;);if(512&n.flags&&(n.check=o(n.check,f,w,_)),m-=w,_+=w,D)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;E<16;){if(0===m)break e;m--,T+=f[_++]<<E,E+=8}if(T!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}E=T=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;E<32;){if(0===m)break e;m--,T+=f[_++]<<E,E+=8}e.adler=n.check=g(T),E=T=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=v,e.avail_out=y,e.next_in=_,e.avail_in=m,n.hold=T,n.bits=E,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){T>>>=7&E,E-=7&E,n.mode=27;break}for(;E<3;){if(0===m)break e;m--,T+=f[_++]<<E,E+=8}switch(n.last=1&T,E-=1,3&(T>>>=1)){case 0:n.mode=14;break;case 1:if(S(n),n.mode=20,6!==t)break;T>>>=2,E-=2;break e;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}T>>>=2,E-=2;break;case 14:for(T>>>=7&E,E-=7&E;E<32;){if(0===m)break e;m--,T+=f[_++]<<E,E+=8}if((65535&T)!=(T>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&T,E=T=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(w=n.length){if(m<w&&(w=m),y<w&&(w=y),0===w)break e;r.arraySet(d,f,_,w,v),m-=w,_+=w,y-=w,v+=w,n.length-=w;break}n.mode=12;break;case 17:for(;E<14;){if(0===m)break e;m--,T+=f[_++]<<E,E+=8}if(n.nlen=257+(31&T),T>>>=5,E-=5,n.ndist=1+(31&T),T>>>=5,E-=5,n.ncode=4+(15&T),T>>>=4,E-=4,286<n.nlen||30<n.ndist){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;E<3;){if(0===m)break e;m--,T+=f[_++]<<E,E+=8}n.lens[G[n.have++]]=7&T,T>>>=3,E-=3}for(;n.have<19;)n.lens[G[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,B={bits:n.lenbits},P=a(0,n.lens,0,19,n.lencode,0,n.work,B),n.lenbits=B.bits,P){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;x=(U=n.lencode[T&(1<<n.lenbits)-1])>>>16&255,A=65535&U,!((I=U>>>24)<=E);){if(0===m)break e;m--,T+=f[_++]<<E,E+=8}if(A<16)T>>>=I,E-=I,n.lens[n.have++]=A;else{if(16===A){for(F=I+2;E<F;){if(0===m)break e;m--,T+=f[_++]<<E,E+=8}if(T>>>=I,E-=I,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}D=n.lens[n.have-1],w=3+(3&T),T>>>=2,E-=2}else if(17===A){for(F=I+3;E<F;){if(0===m)break e;m--,T+=f[_++]<<E,E+=8}E-=I,D=0,w=3+(7&(T>>>=I)),T>>>=3,E-=3}else{for(F=I+7;E<F;){if(0===m)break e;m--,T+=f[_++]<<E,E+=8}E-=I,D=0,w=11+(127&(T>>>=I)),T>>>=7,E-=7}if(n.have+w>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;w--;)n.lens[n.have++]=D}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,B={bits:n.lenbits},P=a(l,n.lens,0,n.nlen,n.lencode,0,n.work,B),n.lenbits=B.bits,P){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,B={bits:n.distbits},P=a(c,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,B),n.distbits=B.bits,P){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(6<=m&&258<=y){e.next_out=v,e.avail_out=y,e.next_in=_,e.avail_in=m,n.hold=T,n.bits=E,s(e,O),v=e.next_out,d=e.output,y=e.avail_out,_=e.next_in,f=e.input,m=e.avail_in,T=n.hold,E=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;x=(U=n.lencode[T&(1<<n.lenbits)-1])>>>16&255,A=65535&U,!((I=U>>>24)<=E);){if(0===m)break e;m--,T+=f[_++]<<E,E+=8}if(x&&0==(240&x)){for(N=I,L=x,M=A;x=(U=n.lencode[M+((T&(1<<N+L)-1)>>N)])>>>16&255,A=65535&U,!(N+(I=U>>>24)<=E);){if(0===m)break e;m--,T+=f[_++]<<E,E+=8}T>>>=N,E-=N,n.back+=N}if(T>>>=I,E-=I,n.back+=I,n.length=A,0===x){n.mode=26;break}if(32&x){n.back=-1,n.mode=12;break}if(64&x){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&x,n.mode=22;case 22:if(n.extra){for(F=n.extra;E<F;){if(0===m)break e;m--,T+=f[_++]<<E,E+=8}n.length+=T&(1<<n.extra)-1,T>>>=n.extra,E-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;x=(U=n.distcode[T&(1<<n.distbits)-1])>>>16&255,A=65535&U,!((I=U>>>24)<=E);){if(0===m)break e;m--,T+=f[_++]<<E,E+=8}if(0==(240&x)){for(N=I,L=x,M=A;x=(U=n.distcode[M+((T&(1<<N+L)-1)>>N)])>>>16&255,A=65535&U,!(N+(I=U>>>24)<=E);){if(0===m)break e;m--,T+=f[_++]<<E,E+=8}T>>>=N,E-=N,n.back+=N}if(T>>>=I,E-=I,n.back+=I,64&x){e.msg="invalid distance code",n.mode=30;break}n.offset=A,n.extra=15&x,n.mode=24;case 24:if(n.extra){for(F=n.extra;E<F;){if(0===m)break e;m--,T+=f[_++]<<E,E+=8}n.offset+=T&(1<<n.extra)-1,T>>>=n.extra,E-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===y)break e;if(w=O-y,n.offset>w){if((w=n.offset-w)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}R=w>n.wnext?(w-=n.wnext,n.wsize-w):n.wnext-w,w>n.length&&(w=n.length),C=n.window}else C=d,R=v-n.offset,w=n.length;for(y<w&&(w=y),y-=w,n.length-=w;d[v++]=C[R++],--w;);0===n.length&&(n.mode=21);break;case 26:if(0===y)break e;d[v++]=n.length,y--,n.mode=21;break;case 27:if(n.wrap){for(;E<32;){if(0===m)break e;m--,T|=f[_++]<<E,E+=8}if(O-=y,e.total_out+=O,n.total+=O,O&&(e.adler=n.check=n.flags?o(n.check,d,O,v-O):i(n.check,d,O,v-O)),O=y,(n.flags?T:g(T))!==n.check){e.msg="incorrect data check",n.mode=30;break}E=T=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;E<32;){if(0===m)break e;m--,T+=f[_++]<<E,E+=8}if(T!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}E=T=0}n.mode=29;case 29:P=1;break e;case 30:P=-3;break e;case 31:return-4;default:return h}return e.next_out=v,e.avail_out=y,e.next_in=_,e.avail_in=m,n.hold=T,n.bits=E,(n.wsize||O!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&k(e,e.output,e.next_out,O-e.avail_out)?(n.mode=31,-4):(b-=e.avail_in,O-=e.avail_out,e.total_in+=b,e.total_out+=O,n.total+=O,n.wrap&&O&&(e.adler=n.check=n.flags?o(n.check,d,O,e.next_out-O):i(n.check,d,O,e.next_out-O)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0==b&&0===O||4===t)&&P===u&&(P=-5),P)},n.inflateEnd=function(e){if(!e||!e.state)return h;var t=e.state;return t.window&&(t.window=null),e.state=null,u},n.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?h:((n.head=t).done=!1,u):h},n.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?h:11===n.mode&&i(1,t,r,0)!==n.check?-3:k(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,u):h},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,n){"use strict";var r=e("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,l,c,u,h,p){var f,d,g,_,v,m,y,T,E,b=p.bits,O=0,S=0,k=0,w=0,R=0,C=0,I=0,x=0,A=0,N=0,L=null,M=0,D=new r.Buf16(16),P=new r.Buf16(16),B=null,F=0;for(O=0;O<=15;O++)D[O]=0;for(S=0;S<l;S++)D[t[n+S]]++;for(R=b,w=15;1<=w&&0===D[w];w--);if(w<R&&(R=w),0===w)return c[u++]=20971520,c[u++]=20971520,p.bits=1,0;for(k=1;k<w&&0===D[k];k++);for(R<k&&(R=k),O=x=1;O<=15;O++)if(x<<=1,(x-=D[O])<0)return-1;if(0<x&&(0===e||1!==w))return-1;for(P[1]=0,O=1;O<15;O++)P[O+1]=P[O]+D[O];for(S=0;S<l;S++)0!==t[n+S]&&(h[P[t[n+S]]++]=S);if(m=0===e?(L=B=h,19):1===e?(L=i,M-=257,B=o,F-=257,256):(L=s,B=a,-1),O=k,v=u,I=S=N=0,g=-1,_=(A=1<<(C=R))-1,1===e&&852<A||2===e&&592<A)return 1;for(;;){for(y=O-I,E=h[S]<m?(T=0,h[S]):h[S]>m?(T=B[F+h[S]],L[M+h[S]]):(T=96,0),f=1<<O-I,k=d=1<<C;c[v+(N>>I)+(d-=f)]=y<<24|T<<16|E|0,0!==d;);for(f=1<<O-1;N&f;)f>>=1;if(0!==f?(N&=f-1,N+=f):N=0,S++,0==--D[O]){if(O===w)break;O=t[n+h[S]]}if(R<O&&(N&_)!==g){for(0===I&&(I=R),v+=k,x=1<<(C=O-I);C+I<w&&!((x-=D[C+I])<=0);)C++,x<<=1;if(A+=1<<C,1===e&&852<A||2===e&&592<A)return 1;c[g=N&_]=R<<24|C<<16|v-u|0}}return 0!==N&&(c[v+N]=O-I<<24|64<<16|0),p.bits=R,0}},{"../utils/common":41}],51:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,n){"use strict";var r=e("../utils/common"),i=0,o=1;function s(e){for(var t=e.length;0<=--t;)e[t]=0}var a=0,l=29,c=256,u=c+1+l,h=30,p=19,f=2*u+1,d=15,g=16,_=7,v=256,m=16,y=17,T=18,E=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],b=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],S=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],k=new Array(2*(u+2));s(k);var w=new Array(2*h);s(w);var R=new Array(512);s(R);var C=new Array(256);s(C);var I=new Array(l);s(I);var x,A,N,L=new Array(h);function M(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function D(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function P(e){return e<256?R[e]:R[256+(e>>>7)]}function B(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function F(e,t,n){e.bi_valid>g-n?(e.bi_buf|=t<<e.bi_valid&65535,B(e,e.bi_buf),e.bi_buf=t>>g-e.bi_valid,e.bi_valid+=n-g):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function U(e,t,n){F(e,n[2*t],n[2*t+1])}function Z(e,t){for(var n=0;n|=1&e,e>>>=1,n<<=1,0<--t;);return n>>>1}function G(e,t,n){var r,i,o=new Array(d+1),s=0;for(r=1;r<=d;r++)o[r]=s=s+n[r-1]<<1;for(i=0;i<=t;i++){var a=e[2*i+1];0!==a&&(e[2*i]=Z(o[a]++,a))}}function H(e){var t;for(t=0;t<u;t++)e.dyn_ltree[2*t]=0;for(t=0;t<h;t++)e.dyn_dtree[2*t]=0;for(t=0;t<p;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*v]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function V(e){8<e.bi_valid?B(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function j(e,t,n,r){var i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]}function W(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&j(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!j(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function X(e,t,n){var r,i,o,s,a=0;if(0!==e.last_lit)for(;r=e.pending_buf[e.d_buf+2*a]<<8|e.pending_buf[e.d_buf+2*a+1],i=e.pending_buf[e.l_buf+a],a++,0===r?U(e,i,t):(U(e,(o=C[i])+c+1,t),0!==(s=E[o])&&F(e,i-=I[o],s),U(e,o=P(--r),n),0!==(s=b[o])&&F(e,r-=L[o],s)),a<e.last_lit;);U(e,v,t)}function z(e,t){var n,r,i,o=t.dyn_tree,s=t.stat_desc.static_tree,a=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=f,n=0;n<l;n++)0!==o[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(i=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[i]=0,e.opt_len--,a&&(e.static_len-=s[2*i+1]);for(t.max_code=c,n=e.heap_len>>1;1<=n;n--)W(e,o,n);for(i=l;n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],W(e,o,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,o[2*i]=o[2*n]+o[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,o[2*n+1]=o[2*r+1]=i,e.heap[1]=i++,W(e,o,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,i,o,s,a,l=t.dyn_tree,c=t.max_code,u=t.stat_desc.static_tree,h=t.stat_desc.has_stree,p=t.stat_desc.extra_bits,g=t.stat_desc.extra_base,_=t.stat_desc.max_length,v=0;for(o=0;o<=d;o++)e.bl_count[o]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<f;n++)_<(o=l[2*l[2*(r=e.heap[n])+1]+1]+1)&&(o=_,v++),l[2*r+1]=o,c<r||(e.bl_count[o]++,s=0,g<=r&&(s=p[r-g]),a=l[2*r],e.opt_len+=a*(o+s),h&&(e.static_len+=a*(u[2*r+1]+s)));if(0!==v){do{for(o=_-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[_]--,v-=2}while(0<v);for(o=_;0!==o;o--)for(r=e.bl_count[o];0!==r;)c<(i=e.heap[--n])||(l[2*i+1]!==o&&(e.opt_len+=(o-l[2*i+1])*l[2*i],l[2*i+1]=o),r--)}}(e,t),G(o,c,e.bl_count)}function Y(e,t,n){var r,i,o=-1,s=t[1],a=0,l=7,c=4;for(0===s&&(l=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=s,s=t[2*(r+1)+1],++a<l&&i===s||(a<c?e.bl_tree[2*i]+=a:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[2*m]++):a<=10?e.bl_tree[2*y]++:e.bl_tree[2*T]++,o=i,c=(a=0)===s?(l=138,3):i===s?(l=6,3):(l=7,4))}function q(e,t,n){var r,i,o=-1,s=t[1],a=0,l=7,c=4;for(0===s&&(l=138,c=3),r=0;r<=n;r++)if(i=s,s=t[2*(r+1)+1],!(++a<l&&i===s)){if(a<c)for(;U(e,i,e.bl_tree),0!=--a;);else 0!==i?(i!==o&&(U(e,i,e.bl_tree),a--),U(e,m,e.bl_tree),F(e,a-3,2)):a<=10?(U(e,y,e.bl_tree),F(e,a-3,3)):(U(e,T,e.bl_tree),F(e,a-11,7));o=i,c=(a=0)===s?(l=138,3):i===s?(l=6,3):(l=7,4)}}s(L);var K=!1;function Q(e,t,n,i){F(e,(a<<1)+(i?1:0),3),function(e,t,n,i){V(e),i&&(B(e,n),B(e,~n)),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n,!0)}n._tr_init=function(e){K||(function(){var e,t,n,r,i,o=new Array(d+1);for(r=n=0;r<l-1;r++)for(I[r]=n,e=0;e<1<<E[r];e++)C[n++]=r;for(C[n-1]=r,r=i=0;r<16;r++)for(L[r]=i,e=0;e<1<<b[r];e++)R[i++]=r;for(i>>=7;r<h;r++)for(L[r]=i<<7,e=0;e<1<<b[r]-7;e++)R[256+i++]=r;for(t=0;t<=d;t++)o[t]=0;for(e=0;e<=143;)k[2*e+1]=8,e++,o[8]++;for(;e<=255;)k[2*e+1]=9,e++,o[9]++;for(;e<=279;)k[2*e+1]=7,e++,o[7]++;for(;e<=287;)k[2*e+1]=8,e++,o[8]++;for(G(k,u+1,o),e=0;e<h;e++)w[2*e+1]=5,w[2*e]=Z(e,5);x=new M(k,E,c+1,u,d),A=new M(w,b,0,h,d),N=new M(new Array(0),O,0,p,_)}(),K=!0),e.l_desc=new D(e.dyn_ltree,x),e.d_desc=new D(e.dyn_dtree,A),e.bl_desc=new D(e.bl_tree,N),e.bi_buf=0,e.bi_valid=0,H(e)},n._tr_stored_block=Q,n._tr_flush_block=function(e,t,n,r){var s,a,l=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return i;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return o;for(t=32;t<c;t++)if(0!==e.dyn_ltree[2*t])return o;return i}(e)),z(e,e.l_desc),z(e,e.d_desc),l=function(e){var t;for(Y(e,e.dyn_ltree,e.l_desc.max_code),Y(e,e.dyn_dtree,e.d_desc.max_code),z(e,e.bl_desc),t=p-1;3<=t&&0===e.bl_tree[2*S[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),s=e.opt_len+3+7>>>3,(a=e.static_len+3+7>>>3)<=s&&(s=a)):s=a=n+5,n+4<=s&&-1!==t?Q(e,t,n,r):4===e.strategy||a===s?(F(e,2+(r?1:0),3),X(e,k,w)):(F(e,4+(r?1:0),3),function(e,t,n,r){var i;for(F(e,t-257,5),F(e,n-1,5),F(e,r-4,4),i=0;i<r;i++)F(e,e.bl_tree[2*S[i]+1],3);q(e,e.dyn_ltree,t-1),q(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,l+1),X(e,e.dyn_ltree,e.dyn_dtree)),H(e),r&&V(e)},n._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(C[n]+c+1)]++,e.dyn_dtree[2*P(t)]++),e.last_lit===e.lit_bufsize-1},n._tr_align=function(e){F(e,2,3),U(e,v,k),function(e){16===e.bi_valid?(B(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":41}],53:[function(e,t,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,r){(function(e){!function(e,t){"use strict";if(!e.setImmediate){var n,r,i,o,s=1,a={},l=!1,c=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,n="[object process]"==={}.toString.call(e.process)?function(e){process.nextTick((function(){p(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(o="setImmediate$"+Math.random()+"$",e.addEventListener?e.addEventListener("message",f,!1):e.attachEvent("onmessage",f),function(t){e.postMessage(o+t,"*")}):e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){p(e.data)},function(e){i.port2.postMessage(e)}):c&&"onreadystatechange"in c.createElement("script")?(r=c.documentElement,function(e){var t=c.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,r.removeChild(t),t=null},r.appendChild(t)}):function(e){setTimeout(p,0,e)},u.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var i={callback:e,args:t};return a[s]=i,n(s),s++},u.clearImmediate=h}function h(e){delete a[e]}function p(e){if(l)setTimeout(p,0,e);else{var n=a[e];if(n){l=!0;try{!function(e){var n=e.callback,r=e.args;switch(r.length){case 0:n();break;case 1:n(r[0]);break;case 2:n(r[0],r[1]);break;case 3:n(r[0],r[1],r[2]);break;default:n.apply(t,r)}}(n)}finally{h(e),l=!1}}}}function f(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(o)&&p(+t.data.slice(o.length))}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[10])(10)},2649:function(e,t,n){var r,i;!function(o,s){"use strict";r=function(){var e=function(){},t="undefined",n=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),r=["trace","debug","info","warn","error"];function i(e,t){var n=e[t];if("function"===typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(r){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function o(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function s(r){return"debug"===r&&(r="log"),typeof console!==t&&("trace"===r&&n?o:void 0!==console[r]?i(console,r):void 0!==console.log?i(console,"log"):e)}function a(t,n){for(var i=0;i<r.length;i++){var o=r[i];this[o]=i<t?e:this.methodFactory(o,t,n)}this.log=this.debug}function l(e,n,r){return function(){typeof console!==t&&(a.call(this,n,r),this[e].apply(this,arguments))}}function c(e,t,n){return s(e)||l.apply(this,arguments)}function u(e,n,i){var o,s=this;n=null==n?"WARN":n;var l="loglevel";function u(e){var n=(r[e]||"silent").toUpperCase();if(typeof window!==t&&l){try{return void(window.localStorage[l]=n)}catch(i){}try{window.document.cookie=encodeURIComponent(l)+"="+n+";"}catch(i){}}}function h(){var e;if(typeof window!==t&&l){try{e=window.localStorage[l]}catch(i){}if(typeof e===t)try{var n=window.document.cookie,r=n.indexOf(encodeURIComponent(l)+"=");-1!==r&&(e=/^([^;]+)/.exec(n.slice(r))[1])}catch(i){}return void 0===s.levels[e]&&(e=void 0),e}}function p(){if(typeof window!==t&&l){try{return void window.localStorage.removeItem(l)}catch(e){}try{window.document.cookie=encodeURIComponent(l)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}"string"===typeof e?l+=":"+e:"symbol"===typeof e&&(l=void 0),s.name=e,s.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},s.methodFactory=i||c,s.getLevel=function(){return o},s.setLevel=function(n,r){if("string"===typeof n&&void 0!==s.levels[n.toUpperCase()]&&(n=s.levels[n.toUpperCase()]),!("number"===typeof n&&n>=0&&n<=s.levels.SILENT))throw"log.setLevel() called with invalid level: "+n;if(o=n,!1!==r&&u(n),a.call(s,n,e),typeof console===t&&n<s.levels.SILENT)return"No console available for logging"},s.setDefaultLevel=function(e){n=e,h()||s.setLevel(e,!1)},s.resetLevel=function(){s.setLevel(n,!1),p()},s.enableAll=function(e){s.setLevel(s.levels.TRACE,e)},s.disableAll=function(e){s.setLevel(s.levels.SILENT,e)};var f=h();null==f&&(f=n),s.setLevel(f,!1)}var h=new u,p={};h.getLogger=function(e){if("symbol"!==typeof e&&"string"!==typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=p[e];return t||(t=p[e]=new u(e,h.getLevel(),h.methodFactory)),t};var f=typeof window!==t?window.log:void 0;return h.noConflict=function(){return typeof window!==t&&window.log===h&&(window.log=f),h},h.getLoggers=function(){return p},h.default=h,h},void 0===(i="function"===typeof r?r.call(t,n,t,e):r)||(e.exports=i)}()},2985:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default,o=n(9808),s=Symbol("max"),a=Symbol("length"),l=Symbol("lengthCalculator"),c=Symbol("allowStale"),u=Symbol("maxAge"),h=Symbol("dispose"),p=Symbol("noDisposeOnSet"),f=Symbol("lruList"),d=Symbol("cache"),g=Symbol("updateAgeOnGet"),_=function(){return 1},v=function(){function e(t){if(r(this,e),"number"===typeof t&&(t={max:t}),t||(t={}),t.max&&("number"!==typeof t.max||t.max<0))throw new TypeError("max must be a non-negative number");this[s]=t.max||1/0;var n=t.length||_;if(this[l]="function"!==typeof n?_:n,this[c]=t.stale||!1,t.maxAge&&"number"!==typeof t.maxAge)throw new TypeError("maxAge must be a number");this[u]=t.maxAge||0,this[h]=t.dispose,this[p]=t.noDisposeOnSet||!1,this[g]=t.updateAgeOnGet||!1,this.reset()}return i(e,[{key:"max",get:function(){return this[s]},set:function(e){if("number"!==typeof e||e<0)throw new TypeError("max must be a non-negative number");this[s]=e||1/0,T(this)}},{key:"allowStale",get:function(){return this[c]},set:function(e){this[c]=!!e}},{key:"maxAge",get:function(){return this[u]},set:function(e){if("number"!==typeof e)throw new TypeError("maxAge must be a non-negative number");this[u]=e,T(this)}},{key:"lengthCalculator",get:function(){return this[l]},set:function(e){var t=this;"function"!==typeof e&&(e=_),e!==this[l]&&(this[l]=e,this[a]=0,this[f].forEach((function(e){e.length=t[l](e.value,e.key),t[a]+=e.length}))),T(this)}},{key:"length",get:function(){return this[a]}},{key:"itemCount",get:function(){return this[f].length}},{key:"rforEach",value:function(e,t){t=t||this;for(var n=this[f].tail;null!==n;){var r=n.prev;O(this,e,n,t),n=r}}},{key:"forEach",value:function(e,t){t=t||this;for(var n=this[f].head;null!==n;){var r=n.next;O(this,e,n,t),n=r}}},{key:"keys",value:function(){return this[f].toArray().map((function(e){return e.key}))}},{key:"values",value:function(){return this[f].toArray().map((function(e){return e.value}))}},{key:"reset",value:function(){var e=this;this[h]&&this[f]&&this[f].length&&this[f].forEach((function(t){return e[h](t.key,t.value)})),this[d]=new Map,this[f]=new o,this[a]=0}},{key:"dump",value:function(){var e=this;return this[f].map((function(t){return!y(e,t)&&{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}})).toArray().filter((function(e){return e}))}},{key:"dumpLru",value:function(){return this[f]}},{key:"set",value:function(e,t,n){if((n=n||this[u])&&"number"!==typeof n)throw new TypeError("maxAge must be a number");var r=n?Date.now():0,i=this[l](t,e);if(this[d].has(e)){if(i>this[s])return E(this,this[d].get(e)),!1;var o=this[d].get(e).value;return this[h]&&(this[p]||this[h](e,o.value)),o.now=r,o.maxAge=n,o.value=t,this[a]+=i-o.length,o.length=i,this.get(e),T(this),!0}var c=new b(e,t,i,r,n);return c.length>this[s]?(this[h]&&this[h](e,t),!1):(this[a]+=c.length,this[f].unshift(c),this[d].set(e,this[f].head),T(this),!0)}},{key:"has",value:function(e){if(!this[d].has(e))return!1;var t=this[d].get(e).value;return!y(this,t)}},{key:"get",value:function(e){return m(this,e,!0)}},{key:"peek",value:function(e){return m(this,e,!1)}},{key:"pop",value:function(){var e=this[f].tail;return e?(E(this,e),e.value):null}},{key:"del",value:function(e){E(this,this[d].get(e))}},{key:"load",value:function(e){this.reset();for(var t=Date.now(),n=e.length-1;n>=0;n--){var r=e[n],i=r.e||0;if(0===i)this.set(r.k,r.v);else{var o=i-t;o>0&&this.set(r.k,r.v,o)}}}},{key:"prune",value:function(){var e=this;this[d].forEach((function(t,n){return m(e,n,!1)}))}}]),e}(),m=function(e,t,n){var r=e[d].get(t);if(r){var i=r.value;if(y(e,i)){if(E(e,r),!e[c])return}else n&&(e[g]&&(r.value.now=Date.now()),e[f].unshiftNode(r));return i.value}},y=function(e,t){if(!t||!t.maxAge&&!e[u])return!1;var n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[u]&&n>e[u]},T=function(e){if(e[a]>e[s])for(var t=e[f].tail;e[a]>e[s]&&null!==t;){var n=t.prev;E(e,t),t=n}},E=function(e,t){if(t){var n=t.value;e[h]&&e[h](n.key,n.value),e[a]-=n.length,e[d].delete(n.key),e[f].removeNode(t)}},b=i((function e(t,n,i,o,s){r(this,e),this.key=t,this.value=n,this.length=i,this.now=o,this.maxAge=s||0})),O=function(e,t,n,r){var i=n.value;y(e,i)&&(E(e,n),e[c]||(i=void 0)),i&&t.call(r,i.value,i.key,e)};e.exports=v},381:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(7762),i=n(5671),o=n(3144);function s(e,t){return Math.sqrt(function(e,t){for(var n=0,r=0;r<e.length;r++)n+=(e[r]-t[r])*(e[r]-t[r]);return n}(e,t))}function a(e,t,n){this.obj=e,this.left=null,this.right=null,this.parent=n,this.dimension=t}var l=function(){function e(t,n){if((0,i.Z)(this,e),Array.isArray(t)){this.dimensions=new Array(t[0].length);for(var r=0;r<this.dimensions.length;r++)this.dimensions[r]=r;this.root=u(t,0,null,this.dimensions)}else this.dimensions=t.dimensions,this.root=t,h(this.root);this.metric=n}return(0,o.Z)(e,[{key:"toJSON",value:function(){var e=c(this.root);return e.dimensions=this.dimensions,e}},{key:"nearest",value:function(e,t,n){var r,i=this.metric,o=this.dimensions,s=new p((function(e){return-e[1]}));if(n)for(r=0;r<t;r+=1)s.push([null,n]);this.root&&function n(r){var a,l,c,u,h=o[r.dimension],p=i(e,r.obj),f={};function d(e,n){s.push([e,n]),s.size()>t&&s.pop()}for(u=0;u<o.length;u+=1)u===r.dimension?f[o[u]]=e[o[u]]:f[o[u]]=r.obj[o[u]];l=i(f,r.obj),null!==r.right||null!==r.left?(n(a=null===r.right?r.left:null===r.left?r.right:e[h]<r.obj[h]?r.left:r.right),(s.size()<t||p<s.peek()[1])&&d(r,p),(s.size()<t||Math.abs(l)<s.peek()[1])&&null!==(c=a===r.left?r.right:r.left)&&n(c)):(s.size()<t||p<s.peek()[1])&&d(r,p)}(this.root);var a=[];for(r=0;r<Math.min(t,s.content.length);r+=1)s.content[r][0]&&a.push([s.content[r][0].obj,s.content[r][1]]);return a}}]),e}();function c(e){var t=new a(e.obj,e.dimension,null);return e.left&&(t.left=c(e.left)),e.right&&(t.right=c(e.right)),t}function u(e,t,n,r){var i=t%r.length;if(0===e.length)return null;if(1===e.length)return new a(e[0],i,n);e.sort((function(e,t){return e[r[i]]-t[r[i]]}));var o=Math.floor(e.length/2),s=new a(e[o],i,n);return s.left=u(e.slice(0,o),t+1,s,r),s.right=u(e.slice(o+1),t+1,s,r),s}function h(e){e.left&&(e.left.parent=e,h(e.left)),e.right&&(e.right.parent=e,h(e.right))}var p=function(){function e(t){(0,i.Z)(this,e),this.content=[],this.scoreFunction=t}return(0,o.Z)(e,[{key:"push",value:function(e){this.content.push(e),this.bubbleUp(this.content.length-1)}},{key:"pop",value:function(){var e=this.content[0],t=this.content.pop();return this.content.length>0&&(this.content[0]=t,this.sinkDown(0)),e}},{key:"peek",value:function(){return this.content[0]}},{key:"size",value:function(){return this.content.length}},{key:"bubbleUp",value:function(e){for(var t=this.content[e];e>0;){var n=Math.floor((e+1)/2)-1,r=this.content[n];if(!(this.scoreFunction(t)<this.scoreFunction(r)))break;this.content[n]=t,this.content[e]=r,e=n}}},{key:"sinkDown",value:function(e){for(var t=this.content.length,n=this.content[e],r=this.scoreFunction(n);;){var i=2*(e+1),o=i-1,s=null;if(o<t){var a=this.content[o],l=this.scoreFunction(a);l<r&&(s=o)}if(i<t){var c=this.content[i];this.scoreFunction(c)<(null===s?r:l)&&(s=i)}if(null===s)break;this.content[e]=this.content[s],this.content[s]=n,e=s}}}]),e}(),f=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if((0,i.Z)(this,e),!0===t){var o=n;return this.kdTree=new l(o.kdTree,r),this.k=o.k,this.classes=new Set(o.classes),void(this.isEuclidean=o.isEuclidean)}for(var a=new Set(n),c=r.distance,u=void 0===c?s:c,h=r.k,p=void 0===h?a.size+1:h,f=new Array(t.length),d=0;d<f.length;++d)f[d]=t[d].slice();for(d=0;d<n.length;++d)f[d].push(n[d]);this.kdTree=new l(f,u),this.k=p,this.classes=a,this.isEuclidean=u===s}return(0,o.Z)(e,[{key:"toJSON",value:function(){return{name:"KNN",kdTree:this.kdTree,k:this.k,classes:Array.from(this.classes),isEuclidean:this.isEuclidean}}},{key:"predict",value:function(e){if(Array.isArray(e)){if("number"===typeof e[0])return d(this,e);if(Array.isArray(e[0])&&"number"===typeof e[0][0]){for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=d(this,e[n]);return t}}throw new TypeError("dataset to predict must be an array or a matrix")}}],[{key:"load",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;if("KNN"!==t.name)throw new Error("invalid model: ".concat(t.name));if(!t.isEuclidean&&n===s)throw new Error("a custom distance function was used to create the model. Please provide it again");if(t.isEuclidean&&n!==s)throw new Error("the model was created with the default distance function. Do not load it with another one");return new e(!0,t,n)}}]),e}();function d(e,t){var n,i=e.kdTree.nearest(t,e.k),o={},s=-1,a=-1,l=i[0][0].length-1,c=(0,r.Z)(e.classes);try{for(c.s();!(n=c.n()).done;){o[n.value]=0}}catch(f){c.e(f)}finally{c.f()}for(var u=0;u<i.length;++u){var h=i[u][0][l],p=++o[h];p>a&&(s=h,a=p)}return s}},1843:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,i){for(var o,s,a=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var c in o=Object(arguments[l]))n.call(o,c)&&(a[c]=o[c]);if(t){s=t(o);for(var u=0;u<s.length;u++)r.call(o,s[u])&&(a[s[u]]=o[s[u]])}}return a}},1729:function(e,t,n){"use strict";var r=n(9165);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},5192:function(e,t,n){e.exports=n(1729)()},9165:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},1003:function(e){e.exports=n;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(k){}function n(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function r(e){return!0===(e&&e.__isLong__)}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=r;var i={},o={};function s(e,t){var n,r,s;return t?(s=0<=(e>>>=0)&&e<256)&&(r=o[e])?r:(n=l(e,(0|e)<0?-1:0,!0),s&&(o[e]=n),n):(s=-128<=(e|=0)&&e<128)&&(r=i[e])?r:(n=l(e,e<0?-1:0,!1),s&&(i[e]=n),n)}function a(e,t){if(isNaN(e))return t?v:_;if(t){if(e<0)return v;if(e>=f)return b}else{if(e<=-d)return O;if(e+1>=d)return E}return e<0?a(-e,t).neg():l(e%p|0,e/p|0,t)}function l(e,t,r){return new n(e,t,r)}n.fromInt=s,n.fromNumber=a,n.fromBits=l;var c=Math.pow;function u(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return _;if("number"===typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return u(e.substring(1),t,n).neg();for(var i=a(c(n,8)),o=_,s=0;s<e.length;s+=8){var l=Math.min(8,e.length-s),h=parseInt(e.substring(s,s+l),n);if(l<8){var p=a(c(n,l));o=o.mul(p).add(a(h))}else o=(o=o.mul(i)).add(a(h))}return o.unsigned=t,o}function h(e,t){return"number"===typeof e?a(e,t):"string"===typeof e?u(e,t):l(e.low,e.high,"boolean"===typeof t?t:e.unsigned)}n.fromString=u,n.fromValue=h;var p=4294967296,f=p*p,d=f/2,g=s(1<<24),_=s(0);n.ZERO=_;var v=s(0,!0);n.UZERO=v;var m=s(1);n.ONE=m;var y=s(1,!0);n.UONE=y;var T=s(-1);n.NEG_ONE=T;var E=l(-1,2147483647,!1);n.MAX_VALUE=E;var b=l(-1,-1,!0);n.MAX_UNSIGNED_VALUE=b;var O=l(0,-2147483648,!1);n.MIN_VALUE=O;var S=n.prototype;S.toInt=function(){return this.unsigned?this.low>>>0:this.low},S.toNumber=function(){return this.unsigned?(this.high>>>0)*p+(this.low>>>0):this.high*p+(this.low>>>0)},S.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(O)){var t=a(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var i=a(c(e,6),this.unsigned),o=this,s="";;){var l=o.div(i),u=(o.sub(l.mul(i)).toInt()>>>0).toString(e);if((o=l).isZero())return u+s;for(;u.length<6;)u="0"+u;s=""+u+s}},S.getHighBits=function(){return this.high},S.getHighBitsUnsigned=function(){return this.high>>>0},S.getLowBits=function(){return this.low},S.getLowBitsUnsigned=function(){return this.low>>>0},S.getNumBitsAbs=function(){if(this.isNegative())return this.eq(O)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},S.isZero=function(){return 0===this.high&&0===this.low},S.eqz=S.isZero,S.isNegative=function(){return!this.unsigned&&this.high<0},S.isPositive=function(){return this.unsigned||this.high>=0},S.isOdd=function(){return 1===(1&this.low)},S.isEven=function(){return 0===(1&this.low)},S.equals=function(e){return r(e)||(e=h(e)),(this.unsigned===e.unsigned||this.high>>>31!==1||e.high>>>31!==1)&&(this.high===e.high&&this.low===e.low)},S.eq=S.equals,S.notEquals=function(e){return!this.eq(e)},S.neq=S.notEquals,S.ne=S.notEquals,S.lessThan=function(e){return this.comp(e)<0},S.lt=S.lessThan,S.lessThanOrEqual=function(e){return this.comp(e)<=0},S.lte=S.lessThanOrEqual,S.le=S.lessThanOrEqual,S.greaterThan=function(e){return this.comp(e)>0},S.gt=S.greaterThan,S.greaterThanOrEqual=function(e){return this.comp(e)>=0},S.gte=S.greaterThanOrEqual,S.ge=S.greaterThanOrEqual,S.compare=function(e){if(r(e)||(e=h(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},S.comp=S.compare,S.negate=function(){return!this.unsigned&&this.eq(O)?O:this.not().add(m)},S.neg=S.negate,S.add=function(e){r(e)||(e=h(e));var t=this.high>>>16,n=65535&this.high,i=this.low>>>16,o=65535&this.low,s=e.high>>>16,a=65535&e.high,c=e.low>>>16,u=0,p=0,f=0,d=0;return f+=(d+=o+(65535&e.low))>>>16,p+=(f+=i+c)>>>16,u+=(p+=n+a)>>>16,u+=t+s,l((f&=65535)<<16|(d&=65535),(u&=65535)<<16|(p&=65535),this.unsigned)},S.subtract=function(e){return r(e)||(e=h(e)),this.add(e.neg())},S.sub=S.subtract,S.multiply=function(e){if(this.isZero())return _;if(r(e)||(e=h(e)),t)return l(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return _;if(this.eq(O))return e.isOdd()?O:_;if(e.eq(O))return this.isOdd()?O:_;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(g)&&e.lt(g))return a(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,o=this.low>>>16,s=65535&this.low,c=e.high>>>16,u=65535&e.high,p=e.low>>>16,f=65535&e.low,d=0,v=0,m=0,y=0;return m+=(y+=s*f)>>>16,v+=(m+=o*f)>>>16,m&=65535,v+=(m+=s*p)>>>16,d+=(v+=i*f)>>>16,v&=65535,d+=(v+=o*p)>>>16,v&=65535,d+=(v+=s*u)>>>16,d+=n*f+i*p+o*u+s*c,l((m&=65535)<<16|(y&=65535),(d&=65535)<<16|(v&=65535),this.unsigned)},S.mul=S.multiply,S.divide=function(e){if(r(e)||(e=h(e)),e.isZero())throw Error("division by zero");var n,i,o;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?l((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?v:_;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return v;if(e.gt(this.shru(1)))return y;o=v}else{if(this.eq(O))return e.eq(m)||e.eq(T)?O:e.eq(O)?m:(n=this.shr(1).div(e).shl(1)).eq(_)?e.isNegative()?m:T:(i=this.sub(e.mul(n)),o=n.add(i.div(e)));if(e.eq(O))return this.unsigned?v:_;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=_}for(i=this;i.gte(e);){n=Math.max(1,Math.floor(i.toNumber()/e.toNumber()));for(var s=Math.ceil(Math.log(n)/Math.LN2),u=s<=48?1:c(2,s-48),p=a(n),f=p.mul(e);f.isNegative()||f.gt(i);)f=(p=a(n-=u,this.unsigned)).mul(e);p.isZero()&&(p=m),o=o.add(p),i=i.sub(f)}return o},S.div=S.divide,S.modulo=function(e){return r(e)||(e=h(e)),t?l((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},S.mod=S.modulo,S.rem=S.modulo,S.not=function(){return l(~this.low,~this.high,this.unsigned)},S.and=function(e){return r(e)||(e=h(e)),l(this.low&e.low,this.high&e.high,this.unsigned)},S.or=function(e){return r(e)||(e=h(e)),l(this.low|e.low,this.high|e.high,this.unsigned)},S.xor=function(e){return r(e)||(e=h(e)),l(this.low^e.low,this.high^e.high,this.unsigned)},S.shiftLeft=function(e){return r(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?l(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):l(0,this.low<<e-32,this.unsigned)},S.shl=S.shiftLeft,S.shiftRight=function(e){return r(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?l(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):l(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},S.shr=S.shiftRight,S.shiftRightUnsigned=function(e){if(r(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return e<32?l(this.low>>>e|t<<32-e,t>>>e,this.unsigned):l(32===e?t:t>>>e-32,0,this.unsigned)},S.shru=S.shiftRightUnsigned,S.shr_u=S.shiftRightUnsigned,S.toSigned=function(){return this.unsigned?l(this.low,this.high,!1):this},S.toUnsigned=function(){return this.unsigned?this:l(this.low,this.high,!0)},S.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},S.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},S.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,r){return r?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},4255:function(e,t,n){e.exports=n(5228)(Object.assign({Buffer:n(918).lW,isLittleEndian:void 0===typeof Uint8Array||120===new Uint8Array(new Uint32Array([305419896]).buffer)[0],is64bit:void 0===typeof navigator||/WOW64|Win64|arm64|ia64|x64;|Mac OS X/i.test(navigator.userAgent)},n(7353)))},5228:function(e,t,n){var r=n(6690).default,i=n(9728).default,o=function(e,t,n){var r=e.indexOf(0,t),i=Math.min(t+n,-1===r?e.length:r);return e.slice(t,i).toString("utf8")},s=function(e,t,n,r){var i=t.write(e,n,r,"utf8");i<r&&t.fill(0,n+i,n+r)},a=function(e,t,n){var r=e[0];return r>=n&&(r=n-1),t++,e.slice(t,t+r).toString("utf8")},l=function(e,t,n,r){var i=Buffer.alloc(e,"utf8"),o=i.length;o>=r&&(o=r-1),o>255&&(o=255),i[n]=o,i.copy(t,n+1,0,o),t.fill(0,n+1+o,n+r)},c=function(e,t){return e.readUInt32LE(t,!0)},u=function(e,t){return e.readUInt32BE(t,!0)},h=function(e,t){return e.readInt32LE(t,!0)},p=function(e,t){return e.readInt32BE(t,!0)},f=function(e,t,n){t.writeUInt32LE(e,n,!0)},d=function(e,t,n){t.writeUInt32BE(e,n,!0)},g=function(e,t,n){t.writeInt32LE(e,n,!0)},_=function(e,t,n){t.writeInt32BE(e,n,!0)};e.exports=function(e){var t=e.Buffer,n=void 0===e.isLittleEndian||!!e.isLittleEndian,v=void 0===e.is64bit||!!e.is64bit,m=e.unpackUInt64LE,y=e.unpackUInt64BE,T=e.unpackInt64LE,E=e.unpackInt64BE,b=e.packUInt64LE,O=e.packUInt64BE,S=e.packInt64LE,k=e.packInt64BE,w={x:[1,1,null,null],c:[1,1,function(e,t){return String.fromCharCode(e[t])},function(e,t,n){t[n]=e.charCodeAt(0)}],b:[1,1,function(e,t){return e.readInt8(t)},function(e,t,n){t.writeInt8(e,n,!0)}],B:[1,1,function(e,t){return e[t]},function(e,t,n){t[n]=e}],h:[2,2,n?function(e,t){return e.readInt16LE(t)}:function(e,t){return e.readInt16BE(t)},n?function(e,t,n){return t.writeInt16LE(e,n,!0)}:function(e,t,n){return t.writeInt16BE(e,n,!0)}],H:[2,2,n?function(e,t){return e.readUInt16LE(t)}:function(e,t){return e.readUInt16BE(t)},n?function(e,t,n){return t.writeUInt16LE(e,n,!0)}:function(e,t,n){return t.writeUInt16BE(e,n,!0)}],i:[4,4,n?h:p,n?g:_],I:[4,4,n?c:u,n?f:d],l:[4,4,n?h:p,n?g:_],L:[4,4,n?c:u,n?f:d],f:[4,4,n?function(e,t){return e.readFloatLE(t)}:function(e,t){return e.readFloatBE(t)},n?function(e,t,n){return t.writeFloatLE(e,n,!0)}:function(e,t,n){return t.writeFloatBE(e,n,!0)}],d:[8,8,n?function(e,t){return e.readDoubleLE(t)}:function(e,t){return e.readDoubleBE(t)},n?function(e,t,n){return t.writeDoubleLE(e,n,!0)}:function(e,t,n){return t.writeDoubleBE(e,n,!0)}],s:[1,1,o,s],p:[1,1,a,l],P:[v?8:4,v?8:4,n?v?m:c:v?y:u,n?v?b:f:v?O:d],q:[8,8,n?T:E,n?S:k],Q:[8,8,n?m:y,n?b:O],"?":[1,1,function(e,t){return 0!==e[t]},function(e,t,n){t[n]=e?1:0}]},R={x:[1,1,null,null],c:[1,1,function(e,t){return String.fromCharCode(e[t])},function(e,t,n){t[n]=e.charCodeAt(0)}],b:[1,1,function(e,t){return e.readInt8(t)},function(e,t,n){t.writeInt8(e,n,!0)}],B:[1,1,function(e,t){return e[t]},function(e,t,n){t[n]=e}],h:[2,1,function(e,t){return e.readInt16LE(t)},function(e,t,n){return t.writeInt16LE(e,n,!0)}],H:[2,1,function(e,t){return e.readUInt16LE(t)},function(e,t,n){return t.writeUInt16LE(e,n,!0)}],i:[4,1,h,g],I:[4,1,c,f],l:[4,1,h,g],L:[4,1,c,f],f:[4,1,function(e,t){return e.readFloatLE(t)},function(e,t,n){return t.writeFloatLE(e,n,!0)}],d:[8,1,function(e,t){return e.readDoubleLE(t)},function(e,t,n){return t.writeDoubleLE(e,n,!0)}],s:[1,1,o,s],p:[1,1,a,l],P:[v?8:4,1,v?m:c,v?b:f],q:[8,1,T,S],Q:[8,1,m,b],"?":[1,1,function(e,t){return 0!==e[t]},function(e,t,n){t[n]=e?1:0}]},C={x:[1,1,null,null],c:[1,1,function(e,t){return String.fromCharCode(e[t])},function(e,t,n){t[n]=e.charCodeAt(0)}],b:[1,1,function(e,t){return e.readInt8(t)},function(e,t,n){t.writeInt8(e,n,!0)}],B:[1,1,function(e,t){return e[t]},function(e,t,n){t[n]=e}],h:[2,1,function(e,t){return e.readInt16BE(t)},function(e,t,n){return t.writeInt16BE(e,n,!0)}],H:[2,1,function(e,t){return e.readUInt16BE(t)},function(e,t,n){return t.writeUInt16BE(e,n,!0)}],i:[4,1,p,_],I:[4,1,u,d],l:[4,1,p,_],L:[4,1,u,d],f:[4,1,function(e,t){return e.readFloatBE(t)},function(e,t,n){return t.writeFloatBE(e,n,!0)}],d:[8,1,function(e,t){return e.readDoubleBE(t)},function(e,t,n){return t.writeDoubleBE(e,n,!0)}],s:[1,1,o,s],p:[1,1,a,l],P:[v?8:4,1,v?y:u,v?O:d],q:[8,1,E,k],Q:[8,1,y,O],"?":[1,1,function(e,t){return 0!==e[t]},function(e,t,n){t[n]=e?1:0}]},I=function(e){var t=e[0],r=!0,i=w;switch(t){case"<":i=R;break;case">":case"!":i=C;break;case"=":i=n?R:C;break;default:r=!1;case"@":i=w}return{map:i,skipFirst:r}},x=function(){"use strict";function e(){r(this,e)}return i(e,null,[{key:"sizeOf",value:function(e){var t,n,r,i,o=0,s=null,a=0,l=I(e),c=l.map;for(l.skipFirst&&a++,n=e.length;a<n;a++)(t=e[a])>="0"&&t<="9"?s=null===s?t:s+t:(r=c[t])&&((i=r[1])>1&&(o=Math.ceil(o/i)*i),s=s?parseInt(s,10):0,o+="s"===t?s||0:"p"===t?s||1:r[0]*(s||1),s=null);return o}},{key:"unpack",value:function(t,n,r){return e.unpackFrom(t,n,r,0)}},{key:"unpackFrom",value:function(e,t,n,r){var i=[],o=null,s=0,a=I(e),l=a.map;a.skipFirst&&s++;for(var c=e.length;s<c;s++){var u=e[s];if(u>="0"&&u<="9")o=null===o?u:o+u;else{var h=l[u];if(h){var p=h[0],f=h[1];f>1&&(r=Math.ceil(r/f)*f),o=o?parseInt(o,10):0;var d=void 0;"s"===u?(d=1,p=o):"p"===u?(d=1,p=o||1):d=o||1;for(var g=h[2];d>0;){if(g){if(n&&r+p>=t.length)throw new Error("Reached end of buffer, can't unpack anymore data.");i.push(g(t,r,o))}r+=p,d--}o=null}}}return i}},{key:"pack",value:function(n,r,i){Array.isArray(r)||(r=Array.prototype.slice.call(arguments,1),i=!0);var o=t.alloc(e.sizeOf(n)),s=0,a=null,l=0,c=0,u=I(n),h=u.map;u.skipFirst&&l++;for(var p=n.length;l<p;l++){var f=n[l];if(f>="0"&&f<="9")a=null===a?f:a+f;else{var d=h[f];if(d){var g=d[0],_=d[1];_>1&&(s=Math.ceil(s/_)*_),a=a?parseInt(a,10):0;var v=void 0;"s"===f?(v=1,g=a):"p"===f?(v=1,g=a||1):v=a||1;for(var m=d[3];v>0;){if(m){if(i&&c>=r.length)throw new Error("Reached end of data, no more elements to pack.");m(r[c],o,s,a),c++}s+=g,v--}a=null}}}return o}}]),e}();return x}},7353:function(e,t,n){var r=n(1003),i=function(e,t,n){e instanceof r||(e="number"===typeof e?r.fromNumber(e):r.fromString(e||"")),t.writeInt32LE(e.getLowBits(),n,!0),t.writeInt32LE(e.getHighBits(),n+4,!0)},o=function(e,t,n){e instanceof r||(e="number"===typeof e?r.fromNumber(e):r.fromString(e||"")),t.writeInt32BE(e.getHighBits(),n,!0),t.writeInt32BE(e.getLowBits(),n+4,!0)};e.exports={unpackUInt64LE:function(e,t){return r.fromBits(e.readInt32LE(t),e.readInt32LE(t+4),!0)},unpackUInt64BE:function(e,t){return r.fromBits(e.readInt32BE(t+4),e.readInt32BE(t),!0)},unpackInt64LE:function(e,t){return r.fromBits(e.readInt32LE(t),e.readInt32LE(t+4),!1)},unpackInt64BE:function(e,t){return r.fromBits(e.readInt32BE(t+4),e.readInt32BE(t),!1)},packUInt64LE:i,packUInt64BE:o,packInt64LE:i,packInt64BE:o}},9845:function(e,t,n){"use strict";var r=n(1843),i=n(7313);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=60106,a=60107,l=60108,c=60114,u=60109,h=60110,p=60112,f=60113,d=60120,g=60115,_=60116,v=60121,m=60117,y=60119,T=60129,E=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;s=b("react.portal"),a=b("react.fragment"),l=b("react.strict_mode"),c=b("react.profiler"),u=b("react.provider"),h=b("react.context"),p=b("react.forward_ref"),f=b("react.suspense"),d=b("react.suspense_list"),g=b("react.memo"),_=b("react.lazy"),v=b("react.block"),m=b("react.fundamental"),y=b("react.scope"),T=b("react.debug_trace_mode"),E=b("react.legacy_hidden")}function O(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case a:return"Fragment";case s:return"Portal";case c:return"Profiler";case l:return"StrictMode";case f:return"Suspense";case d:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case h:return(e.displayName||"Context")+".Consumer";case u:return(e._context.displayName||"Context")+".Provider";case p:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case g:return O(e.type);case v:return O(e._render);case _:t=e._payload,e=e._init;try{return O(e(t))}catch(n){}}return null}var S=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k={};function w(e,t){for(var n=0|e._threadCount;n<=t;n++)e[n]=e._currentValue2,e._threadCount=n+1}for(var R=new Uint16Array(16),C=0;15>C;C++)R[C]=C+1;R[15]=0;var I=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x=Object.prototype.hasOwnProperty,A={},N={};function L(e){return!!x.call(N,e)||!x.call(A,e)&&(I.test(e)?N[e]=!0:(A[e]=!0,!1))}function M(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var D={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){D[e]=new M(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];D[t]=new M(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){D[e]=new M(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){D[e]=new M(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){D[e]=new M(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){D[e]=new M(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){D[e]=new M(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){D[e]=new M(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){D[e]=new M(e,5,!1,e.toLowerCase(),null,!1,!1)}));var P=/[\-:]([a-z])/g;function B(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(P,B);D[t]=new M(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(P,B);D[t]=new M(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(P,B);D[t]=new M(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){D[e]=new M(e,1,!1,e.toLowerCase(),null,!1,!1)})),D.xlinkHref=new M("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){D[e]=new M(e,1,!1,e.toLowerCase(),null,!0,!0)}));var F=/["'&<>]/;function U(e){if("boolean"===typeof e||"number"===typeof e)return""+e;e=""+e;var t=F.exec(e);if(t){var n,r="",i=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}i!==n&&(r+=e.substring(i,n)),i=n+1,r+=t}e=i!==n?r+e.substring(i,n):r}return e}function Z(e,t){var n,r=D.hasOwnProperty(e)?D[e]:null;return(n="style"!==e)&&(n=null!==r?0===r.type:2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])),n||function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(e,t,r,!1)?"":null!==r?(e=r.attributeName,3===(n=r.type)||4===n&&!0===t?e+'=""':(r.sanitizeURL&&(t=""+t),e+'="'+U(t)+'"')):L(e)?e+'="'+U(t)+'"':""}var G="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},H=null,V=null,j=null,W=!1,X=!1,z=null,Y=0;function q(){if(null===H)throw Error(o(321));return H}function K(){if(0<Y)throw Error(o(312));return{memoizedState:null,queue:null,next:null}}function Q(){return null===j?null===V?(W=!1,V=j=K()):(W=!0,j=V):null===j.next?(W=!1,j=j.next=K()):(W=!0,j=j.next),j}function J(e,t,n,r){for(;X;)X=!1,Y+=1,j=null,n=e(t,r);return $(),n}function $(){H=null,X=!1,V=null,Y=0,j=z=null}function ee(e,t){return"function"===typeof t?t(e):t}function te(e,t,n){if(H=q(),j=Q(),W){var r=j.queue;if(t=r.dispatch,null!==z&&void 0!==(n=z.get(r))){z.delete(r),r=j.memoizedState;do{r=e(r,n.action),n=n.next}while(null!==n);return j.memoizedState=r,[r,t]}return[j.memoizedState,t]}return e=e===ee?"function"===typeof t?t():t:void 0!==n?n(t):t,j.memoizedState=e,e=(e=j.queue={last:null,dispatch:null}).dispatch=re.bind(null,H,e),[j.memoizedState,e]}function ne(e,t){if(H=q(),t=void 0===t?null:t,null!==(j=Q())){var n=j.memoizedState;if(null!==n&&null!==t){var r=n[1];e:if(null===r)r=!1;else{for(var i=0;i<r.length&&i<t.length;i++)if(!G(t[i],r[i])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),j.memoizedState=[e,t],e}function re(e,t,n){if(!(25>Y))throw Error(o(301));if(e===H)if(X=!0,e={action:n,next:null},null===z&&(z=new Map),void 0===(n=z.get(t)))z.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}}function ie(){}var oe=null,se={readContext:function(e){var t=oe.threadID;return w(e,t),e[t]},useContext:function(e){q();var t=oe.threadID;return w(e,t),e[t]},useMemo:ne,useReducer:te,useRef:function(e){H=q();var t=(j=Q()).memoizedState;return null===t?(e={current:e},j.memoizedState=e):t},useState:function(e){return te(ee,e)},useLayoutEffect:function(){},useCallback:function(e,t){return ne((function(){return e}),t)},useImperativeHandle:ie,useEffect:ie,useDebugValue:ie,useDeferredValue:function(e){return q(),e},useTransition:function(){return q(),[function(e){e()},!1]},useOpaqueIdentifier:function(){return(oe.identifierPrefix||"")+"R:"+(oe.uniqueID++).toString(36)},useMutableSource:function(e,t){return q(),t(e._source)}},ae="http://www.w3.org/1999/xhtml";function le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}var ce={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},ue=r({menuitem:!0},ce),he={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var fe=/([A-Z])/g,de=/^ms-/,ge=i.Children.toArray,_e=S.ReactCurrentDispatcher,ve={listing:!0,pre:!0,textarea:!0},me=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,ye={},Te={};var Ee=Object.prototype.hasOwnProperty,be={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null,suppressHydrationWarning:null};function Oe(e,t){if(void 0===e)throw Error(o(152,O(t)||"Component"))}function Se(e,t,n){function s(i,s){var a=s.prototype&&s.prototype.isReactComponent,l=function(e,t,n,r){if(r&&"object"===typeof(r=e.contextType)&&null!==r)return w(r,n),r[n];if(e=e.contextTypes){for(var i in n={},e)n[i]=t[i];t=n}else t=k;return t}(s,t,n,a),c=[],u=!1,h={isMounted:function(){return!1},enqueueForceUpdate:function(){if(null===c)return null},enqueueReplaceState:function(e,t){u=!0,c=[t]},enqueueSetState:function(e,t){if(null===c)return null;c.push(t)}};if(a){if(a=new s(i.props,l,h),"function"===typeof s.getDerivedStateFromProps){var p=s.getDerivedStateFromProps.call(null,i.props,a.state);null!=p&&(a.state=r({},a.state,p))}}else if(H={},a=s(i.props,l,h),null==(a=J(s,i.props,a,l))||null==a.render)return void Oe(e=a,s);if(a.props=i.props,a.context=l,a.updater=h,void 0===(h=a.state)&&(a.state=h=null),"function"===typeof a.UNSAFE_componentWillMount||"function"===typeof a.componentWillMount)if("function"===typeof a.componentWillMount&&"function"!==typeof s.getDerivedStateFromProps&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&"function"!==typeof s.getDerivedStateFromProps&&a.UNSAFE_componentWillMount(),c.length){h=c;var f=u;if(c=null,u=!1,f&&1===h.length)a.state=h[0];else{p=f?h[0]:a.state;var d=!0;for(f=f?1:0;f<h.length;f++){var g=h[f];null!=(g="function"===typeof g?g.call(a,p,i.props,l):g)&&(d?(d=!1,p=r({},p,g)):r(p,g))}a.state=p}}else c=null;if(Oe(e=a.render(),s),"function"===typeof a.getChildContext&&"object"===typeof(i=s.childContextTypes)){var _=a.getChildContext();for(var v in _)if(!(v in i))throw Error(o(108,O(s)||"Unknown",v))}_&&(t=r({},t,_))}for(;i.isValidElement(e);){var a=e,l=a.type;if("function"!==typeof l)break;s(a,l)}return{child:e,context:t}}var ke=function(){function e(e,t,n){i.isValidElement(e)?e.type!==a?e=[e]:(e=e.props.children,e=i.isValidElement(e)?[e]:ge(e)):e=ge(e),e={type:null,domNamespace:ae,children:e,childIndex:0,context:k,footer:""};var r=R[0];if(0===r){var s=R,l=2*(r=s.length);if(!(65536>=l))throw Error(o(304));var c=new Uint16Array(l);for(c.set(s),(R=c)[0]=r+1,s=r;s<l-1;s++)R[s]=s+1;R[l-1]=0}else R[0]=R[r];this.threadID=r,this.stack=[e],this.exhausted=!1,this.currentSelectValue=null,this.previousWasTextNode=!1,this.makeStaticMarkup=t,this.suspenseDepth=0,this.contextIndex=-1,this.contextStack=[],this.contextValueStack=[],this.uniqueID=0,this.identifierPrefix=n&&n.identifierPrefix||""}var t=e.prototype;return t.destroy=function(){if(!this.exhausted){this.exhausted=!0,this.clearProviders();var e=this.threadID;R[e]=R[0],R[0]=e}},t.pushProvider=function(e){var t=++this.contextIndex,n=e.type._context,r=this.threadID;w(n,r);var i=n[r];this.contextStack[t]=n,this.contextValueStack[t]=i,n[r]=e.props.value},t.popProvider=function(){var e=this.contextIndex,t=this.contextStack[e],n=this.contextValueStack[e];this.contextStack[e]=null,this.contextValueStack[e]=null,this.contextIndex--,t[this.threadID]=n},t.clearProviders=function(){for(var e=this.contextIndex;0<=e;e--)this.contextStack[e][this.threadID]=this.contextValueStack[e]},t.read=function(e){if(this.exhausted)return null;var t=oe;oe=this;var n=_e.current;_e.current=se;try{for(var r=[""],i=!1;r[0].length<e;){if(0===this.stack.length){this.exhausted=!0;var s=this.threadID;R[s]=R[0],R[0]=s;break}var a=this.stack[this.stack.length-1];if(i||a.childIndex>=a.children.length){var l=a.footer;if(""!==l&&(this.previousWasTextNode=!1),this.stack.pop(),"select"===a.type)this.currentSelectValue=null;else if(null!=a.type&&null!=a.type.type&&a.type.type.$$typeof===u)this.popProvider(a.type);else if(a.type===f){this.suspenseDepth--;var c=r.pop();if(i){i=!1;var h=a.fallbackFrame;if(!h)throw Error(o(303));this.stack.push(h),r[this.suspenseDepth]+="\x3c!--$!--\x3e";continue}r[this.suspenseDepth]+=c}r[this.suspenseDepth]+=l}else{var p=a.children[a.childIndex++],d="";try{d+=this.render(p,a.context,a.domNamespace)}catch(g){if(null!=g&&"function"===typeof g.then)throw Error(o(294));throw g}r.length<=this.suspenseDepth&&r.push(""),r[this.suspenseDepth]+=d}}return r[0]}finally{_e.current=n,oe=t,$()}},t.render=function(e,t,n){if("string"===typeof e||"number"===typeof e)return""===(n=""+e)?"":this.makeStaticMarkup?U(n):this.previousWasTextNode?"\x3c!-- --\x3e"+U(n):(this.previousWasTextNode=!0,U(n));if(e=(t=Se(e,t,this.threadID)).child,t=t.context,null===e||!1===e)return"";if(!i.isValidElement(e)){if(null!=e&&null!=e.$$typeof){if((n=e.$$typeof)===s)throw Error(o(257));throw Error(o(258,n.toString()))}return e=ge(e),this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),""}var v=e.type;if("string"===typeof v)return this.renderDOM(e,t,n);switch(v){case E:case T:case l:case c:case d:case a:return e=ge(e.props.children),this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),"";case f:throw Error(o(294));case y:throw Error(o(343))}if("object"===typeof v&&null!==v)switch(v.$$typeof){case p:H={};var b=v.render(e.props,e.ref);return b=J(v.render,e.props,b,e.ref),b=ge(b),this.stack.push({type:null,domNamespace:n,children:b,childIndex:0,context:t,footer:""}),"";case g:return e=[i.createElement(v.type,r({ref:e.ref},e.props))],this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),"";case u:return n={type:e,domNamespace:n,children:v=ge(e.props.children),childIndex:0,context:t,footer:""},this.pushProvider(e),this.stack.push(n),"";case h:v=e.type,b=e.props;var O=this.threadID;return w(v,O),v=ge(b.children(v[O])),this.stack.push({type:e,domNamespace:n,children:v,childIndex:0,context:t,footer:""}),"";case m:throw Error(o(338));case _:return v=(b=(v=e.type)._init)(v._payload),e=[i.createElement(v,r({ref:e.ref},e.props))],this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),""}throw Error(o(130,null==v?v:typeof v,""))},t.renderDOM=function(e,t,n){var s=e.type.toLowerCase();if(n===ae&&le(s),!ye.hasOwnProperty(s)){if(!me.test(s))throw Error(o(65,s));ye[s]=!0}var a=e.props;if("input"===s)a=r({type:void 0},a,{defaultChecked:void 0,defaultValue:void 0,value:null!=a.value?a.value:a.defaultValue,checked:null!=a.checked?a.checked:a.defaultChecked});else if("textarea"===s){var l=a.value;if(null==l){l=a.defaultValue;var c=a.children;if(null!=c){if(null!=l)throw Error(o(92));if(Array.isArray(c)){if(!(1>=c.length))throw Error(o(93));c=c[0]}l=""+c}null==l&&(l="")}a=r({},a,{value:void 0,children:""+l})}else if("select"===s)this.currentSelectValue=null!=a.value?a.value:a.defaultValue,a=r({},a,{value:void 0});else if("option"===s){c=this.currentSelectValue;var u=function(e){if(void 0===e||null===e)return e;var t="";return i.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(a.children);if(null!=c){var h=null!=a.value?a.value+"":u;if(l=!1,Array.isArray(c)){for(var p=0;p<c.length;p++)if(""+c[p]===h){l=!0;break}}else l=""+c===h;a=r({selected:void 0,children:void 0},a,{selected:l,children:u})}}if(l=a){if(ue[s]&&(null!=l.children||null!=l.dangerouslySetInnerHTML))throw Error(o(137,s));if(null!=l.dangerouslySetInnerHTML){if(null!=l.children)throw Error(o(60));if("object"!==typeof l.dangerouslySetInnerHTML||!("__html"in l.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=l.style&&"object"!==typeof l.style)throw Error(o(62))}l=a,c=this.makeStaticMarkup,u=1===this.stack.length,h="<"+e.type;e:if(-1===s.indexOf("-"))p="string"===typeof l.is;else switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":p=!1;break e;default:p=!0}for(E in l)if(Ee.call(l,E)){var f=l[E];if(null!=f){if("style"===E){var d=void 0,g="",_="";for(d in f)if(f.hasOwnProperty(d)){var v=0===d.indexOf("--"),m=f[d];if(null!=m){if(v)var y=d;else if(y=d,Te.hasOwnProperty(y))y=Te[y];else{var T=y.replace(fe,"-$1").toLowerCase().replace(de,"-ms-");y=Te[y]=T}g+=_+y+":",_=d,g+=v=null==m||"boolean"===typeof m||""===m?"":v||"number"!==typeof m||0===m||he.hasOwnProperty(_)&&he[_]?(""+m).trim():m+"px",_=";"}}f=g||null}d=null,p?be.hasOwnProperty(E)||(d=L(d=E)&&null!=f?d+'="'+U(f)+'"':""):d=Z(E,f),d&&(h+=" "+d)}}c||u&&(h+=' data-reactroot=""');var E=h;l="",ce.hasOwnProperty(s)?E+="/>":(E+=">",l="</"+e.type+">");e:{if(null!=(c=a.dangerouslySetInnerHTML)){if(null!=c.__html){c=c.__html;break e}}else if("string"===typeof(c=a.children)||"number"===typeof c){c=U(c);break e}c=null}return null!=c?(a=[],ve.hasOwnProperty(s)&&"\n"===c.charAt(0)&&(E+="\n"),E+=c):a=ge(a.children),e=e.type,n=null==n||"http://www.w3.org/1999/xhtml"===n?le(e):"http://www.w3.org/2000/svg"===n&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":n,this.stack.push({domNamespace:n,type:s,children:a,childIndex:0,context:t,footer:l}),this.previousWasTextNode=!1,E},e}();t.renderToString=function(e,t){e=new ke(e,!1,t);try{return e.read(1/0)}finally{e.destroy()}}},534:function(e,t,n){"use strict";var r=n(7313),i=n(1843),o=n(2224);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(s(227));var a=new Set,l={};function c(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(l[e]=t,e=0;e<t.length;e++)a.add(t[e])}var h=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f=Object.prototype.hasOwnProperty,d={},g={};function _(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new _(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new _(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new _(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new _(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new _(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new _(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new _(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new _(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new _(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function T(e,t,n,r){var i=v.hasOwnProperty(t)?v[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(g,e)||!f.call(d,e)&&(p.test(e)?g[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,y);v[t]=new _(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,y);v[t]=new _(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,y);v[t]=new _(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new _(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new _(e,1,!1,e.toLowerCase(),null,!0,!0)}));var E=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=60103,O=60106,S=60107,k=60108,w=60114,R=60109,C=60110,I=60112,x=60113,A=60120,N=60115,L=60116,M=60121,D=60128,P=60129,B=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;b=U("react.element"),O=U("react.portal"),S=U("react.fragment"),k=U("react.strict_mode"),w=U("react.profiler"),R=U("react.provider"),C=U("react.context"),I=U("react.forward_ref"),x=U("react.suspense"),A=U("react.suspense_list"),N=U("react.memo"),L=U("react.lazy"),M=U("react.block"),U("react.scope"),D=U("react.opaque.id"),P=U("react.debug_trace_mode"),B=U("react.offscreen"),F=U("react.legacy_hidden")}var Z,G="function"===typeof Symbol&&Symbol.iterator;function H(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=G&&e[G]||e["@@iterator"])?e:null}function V(e){if(void 0===Z)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Z=t&&t[1]||""}return"\n"+Z+e}var j=!1;function W(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a])return"\n"+i[s].replace(" at new "," at ")}while(1<=s&&0<=a);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function X(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 22:return e=W(e.type._render,!1);case 1:return e=W(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case O:return"Portal";case w:return"Profiler";case k:return"StrictMode";case x:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case R:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case N:return z(e.type);case M:return z(e._render);case L:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function Y(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Y(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&T(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Y(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Y(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function se(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Y(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function le(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Y(n)}}function ce(e,t){var n=Y(t.value),r=Y(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ue(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var he={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function pe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?pe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var de,ge,_e=(ge=function(e,t){if(e.namespaceURI!==he.svg||"innerHTML"in e)e.innerHTML=t;else{for((de=de||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=de.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ge(e,t)}))}:ge);function ve(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var me={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ye=["Webkit","ms","Moz","O"];function Te(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||me.hasOwnProperty(e)&&me[e]?(""+t).trim():t+"px"}function Ee(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=Te(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(me).forEach((function(e){ye.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),me[t]=me[e]}))}));var be=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Oe(e,t){if(t){if(be[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function Se(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Re=null,Ce=null;function Ie(e){if(e=ni(e)){if("function"!==typeof we)throw Error(s(280));var t=e.stateNode;t&&(t=ii(t),we(e.stateNode,e.type,t))}}function xe(e){Re?Ce?Ce.push(e):Ce=[e]:Re=e}function Ae(){if(Re){var e=Re,t=Ce;if(Ce=Re=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Ne(e,t){return e(t)}function Le(e,t,n,r,i){return e(t,n,r,i)}function Me(){}var De=Ne,Pe=!1,Be=!1;function Fe(){null===Re&&null===Ce||(Me(),Ae())}function Ue(e,t){var n=e.stateNode;if(null===n)return null;var r=ii(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Ze=!1;if(h)try{var Ge={};Object.defineProperty(Ge,"passive",{get:function(){Ze=!0}}),window.addEventListener("test",Ge,Ge),window.removeEventListener("test",Ge,Ge)}catch(ge){Ze=!1}function He(e,t,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Ve=!1,je=null,We=!1,Xe=null,ze={onError:function(e){Ve=!0,je=e}};function Ye(e,t,n,r,i,o,s,a,l){Ve=!1,je=null,He.apply(ze,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ke(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Qe(e){if(qe(e)!==e)throw Error(s(188))}function Je(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Qe(i),e;if(o===r)return Qe(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function $e(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,it=!1,ot=[],st=null,at=null,lt=null,ct=new Map,ut=new Map,ht=[],pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ft(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function dt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":at=null;break;case"mouseover":case"mouseout":lt=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ut.delete(t.pointerId)}}function gt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=ft(t,n,r,i,o),null!==t&&(null!==(t=ni(t))&&tt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function _t(e){var t=ti(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ke(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ni(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function mt(e,t,n){vt(e)&&n.delete(t)}function yt(){for(it=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ni(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==st&&vt(st)&&(st=null),null!==at&&vt(at)&&(at=null),null!==lt&&vt(lt)&&(lt=null),ct.forEach(mt),ut.forEach(mt)}function Tt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,yt)))}function Et(e){function t(t){return Tt(t,e)}if(0<ot.length){Tt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&Tt(st,e),null!==at&&Tt(at,e),null!==lt&&Tt(lt,e),ct.forEach(t),ut.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)_t(n),null===n.blockedOn&&ht.shift()}function bt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ot={animationend:bt("Animation","AnimationEnd"),animationiteration:bt("Animation","AnimationIteration"),animationstart:bt("Animation","AnimationStart"),transitionend:bt("Transition","TransitionEnd")},St={},kt={};function wt(e){if(St[e])return St[e];if(!Ot[e])return e;var t,n=Ot[e];for(t in n)if(n.hasOwnProperty(t)&&t in kt)return St[e]=n[t];return e}h&&(kt=document.createElement("div").style,"AnimationEvent"in window||(delete Ot.animationend.animation,delete Ot.animationiteration.animation,delete Ot.animationstart.animation),"TransitionEvent"in window||delete Ot.transitionend.transition);var Rt=wt("animationend"),Ct=wt("animationiteration"),It=wt("animationstart"),xt=wt("transitionend"),At=new Map,Nt=new Map,Lt=["abort","abort",Rt,"animationEnd",Ct,"animationIteration",It,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",xt,"transitionEnd","waiting","waiting"];function Mt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Nt.set(r,t),At.set(r,i),c(i,[r])}}(0,o.unstable_now)();var Dt=8;function Pt(e){if(0!==(1&e))return Dt=15,1;if(0!==(2&e))return Dt=14,2;if(0!==(4&e))return Dt=13,4;var t=24&e;return 0!==t?(Dt=12,t):0!==(32&e)?(Dt=11,32):0!==(t=192&e)?(Dt=10,t):0!==(256&e)?(Dt=9,256):0!==(t=3584&e)?(Dt=8,t):0!==(4096&e)?(Dt=7,4096):0!==(t=4186112&e)?(Dt=6,t):0!==(t=62914560&e)?(Dt=5,t):67108864&e?(Dt=4,67108864):0!==(134217728&e)?(Dt=3,134217728):0!==(t=805306368&e)?(Dt=2,t):0!==(1073741824&e)?(Dt=1,1073741824):(Dt=8,e)}function Bt(e,t){var n=e.pendingLanes;if(0===n)return Dt=0;var r=0,i=0,o=e.expiredLanes,s=e.suspendedLanes,a=e.pingedLanes;if(0!==o)r=o,i=Dt=15;else if(0!==(o=134217727&n)){var l=o&~s;0!==l?(r=Pt(l),i=Dt):0!==(a&=o)&&(r=Pt(a),i=Dt)}else 0!==(o=n&~s)?(r=Pt(o),i=Dt):0!==a&&(r=Pt(a),i=Dt);if(0===r)return 0;if(r=n&((0>(r=31-Vt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&s)){if(Pt(t),i<=Dt)return t;Dt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Vt(t)),r|=e[n],t&=~i;return r}function Ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ut(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Zt(24&~t))?Ut(10,t):e;case 10:return 0===(e=Zt(192&~t))?Ut(8,t):e;case 8:return 0===(e=Zt(3584&~t))&&(0===(e=Zt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Zt(805306368&~t))&&(t=268435456),t}throw Error(s(358,e))}function Zt(e){return e&-e}function Gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ht(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Vt(t)]=n}var Vt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(jt(e)/Wt|0)|0},jt=Math.log,Wt=Math.LN2;var Xt=o.unstable_UserBlockingPriority,zt=o.unstable_runWithPriority,Yt=!0;function qt(e,t,n,r){Pe||Me();var i=Qt,o=Pe;Pe=!0;try{Le(i,e,t,n,r)}finally{(Pe=o)||Fe()}}function Kt(e,t,n,r){zt(Xt,Qt.bind(null,e,t,n,r))}function Qt(e,t,n,r){var i;if(Yt)if((i=0===(4&t))&&0<ot.length&&-1<pt.indexOf(e))e=ft(null,e,t,n,r),ot.push(e);else{var o=Jt(e,t,n,r);if(null===o)i&&dt(e,r);else{if(i){if(-1<pt.indexOf(e))return e=ft(o,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=gt(st,e,t,n,r,i),!0;case"dragenter":return at=gt(at,e,t,n,r,i),!0;case"mouseover":return lt=gt(lt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ct.set(o,gt(ct.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ut.set(o,gt(ut.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;dt(e,r)}Mr(e,t,r,null,n)}}}function Jt(e,t,n,r){var i=ke(r);if(null!==(i=ti(i))){var o=qe(i);if(null===o)i=null;else{var s=o.tag;if(13===s){if(null!==(i=Ke(o)))return i;i=null}else if(3===s){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Mr(e,t,r,i,n),null}var $t=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,i="value"in $t?$t.value:$t.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return tn=i.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function an(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var ln,cn,un,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pn=an(hn),fn=i({},hn,{view:0,detail:0}),dn=an(fn),gn=i({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(ln=e.screenX-un.screenX,cn=e.screenY-un.screenY):cn=ln=0,un=e),ln)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),_n=an(gn),vn=an(i({},gn,{dataTransfer:0})),mn=an(i({},fn,{relatedTarget:0})),yn=an(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),Tn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),En=an(Tn),bn=an(i({},hn,{data:0})),On={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Rn(){return wn}var Cn=i({},fn,{key:function(e){if(e.key){var t=On[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rn,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=an(Cn),xn=an(i({},gn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(i({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rn})),Nn=an(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ln=i({},gn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mn=an(Ln),Dn=[9,13,27,32],Pn=h&&"CompositionEvent"in window,Bn=null;h&&"documentMode"in document&&(Bn=document.documentMode);var Fn=h&&"TextEvent"in window&&!Bn,Un=h&&(!Pn||Bn&&8<Bn&&11>=Bn),Zn=String.fromCharCode(32),Gn=!1;function Hn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var jn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function zn(e,t,n,r){xe(r),0<(t=Pr(t,"onChange")).length&&(n=new pn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,qn=null;function Kn(e){Cr(e,0)}function Qn(e){if(Q(ri(e)))return e}function Jn(e,t){if("change"===e)return t}var $n=!1;if(h){var er;if(h){var tr="oninput"in document;if(!tr){var nr=document.createElement("div");nr.setAttribute("oninput","return;"),tr="function"===typeof nr.oninput}er=tr}else er=!1;$n=er&&(!document.documentMode||9<document.documentMode)}function rr(){Yn&&(Yn.detachEvent("onpropertychange",ir),qn=Yn=null)}function ir(e){if("value"===e.propertyName&&Qn(qn)){var t=[];if(zn(t,qn,e,ke(e)),e=Kn,Pe)e(t);else{Pe=!0;try{Ne(e,t)}finally{Pe=!1,Fe()}}}}function or(e,t,n){"focusin"===e?(rr(),qn=n,(Yn=t).attachEvent("onpropertychange",ir)):"focusout"===e&&rr()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(qn)}function ar(e,t){if("click"===e)return Qn(t)}function lr(e,t){if("input"===e||"change"===e)return Qn(t)}var cr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},ur=Object.prototype.hasOwnProperty;function hr(e,t){if(cr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!ur.call(t,n[r])||!cr(e[n[r]],t[n[r]]))return!1;return!0}function pr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fr(e,t){var n,r=pr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=pr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function gr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function _r(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var vr=h&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,Tr=null,Er=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Er||null==mr||mr!==J(r)||("selectionStart"in(r=mr)&&_r(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Tr&&hr(Tr,r)||(Tr=r,0<(r=Pr(yr,"onSelect")).length&&(t=new pn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}Mt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Mt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Mt(Lt,2);for(var Or="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Sr=0;Sr<Or.length;Sr++)Nt.set(Or[Sr],0);u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wr=new Set("cancel close invalid load scroll toggle".split(" ").concat(kr));function Rr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,l,c){if(Ye.apply(this,arguments),Ve){if(!Ve)throw Error(s(198));var u=je;Ve=!1,je=null,We||(We=!0,Xe=u)}}(r,t,void 0,e),e.currentTarget=null}function Cr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Rr(i,a,c),o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Rr(i,a,c),o=l}}}if(We)throw e=Xe,We=!1,Xe=null,e}function Ir(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Lr(t,e,2,!1),n.add(r))}var xr="_reactListening"+Math.random().toString(36).slice(2);function Ar(e){e[xr]||(e[xr]=!0,a.forEach((function(t){wr.has(t)||Nr(t,!1,e,null),Nr(t,!0,e,null)})))}function Nr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&wr.has(e)){if("scroll"!==e)return;i|=2,o=r}var s=oi(o),a=e+"__"+(t?"capture":"bubble");s.has(a)||(t&&(i|=4),Lr(o,e,i,t),s.add(a))}function Lr(e,t,n,r){var i=Nt.get(t);switch(void 0===i?2:i){case 0:i=qt;break;case 1:i=Kt;break;default:i=Qt}n=i.bind(null,t,n,e),i=void 0,!Ze||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Mr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=ti(a)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}a=a.parentNode}}r=r.return}!function(e,t,n){if(Be)return e(t,n);Be=!0;try{return De(e,t,n)}finally{Be=!1,Fe()}}((function(){var r=o,i=ke(n),s=[];e:{var a=At.get(e);if(void 0!==a){var l=pn,c=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":l=In;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=_n;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=An;break;case Rt:case Ct:case It:l=yn;break;case xt:l=Nn;break;case"scroll":l=dn;break;case"wheel":l=Mn;break;case"copy":case"cut":case"paste":l=En;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=xn}var u=0!==(4&t),h=!u&&"scroll"===e,p=u?null!==a?a+"Capture":null:a;u=[];for(var f,d=r;null!==d;){var g=(f=d).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==p&&(null!=(g=Ue(d,p))&&u.push(Dr(d,g,f)))),h)break;d=d.return}0<u.length&&(a=new l(a,c,null,n,i),s.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ti(c)&&!c[$r])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?ti(c):null)&&(c!==(h=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=_n,g="onMouseLeave",p="onMouseEnter",d="mouse","pointerout"!==e&&"pointerover"!==e||(u=xn,g="onPointerLeave",p="onPointerEnter",d="pointer"),h=null==l?a:ri(l),f=null==c?a:ri(c),(a=new u(g,d+"leave",l,n,i)).target=h,a.relatedTarget=f,g=null,ti(i)===r&&((u=new u(p,d+"enter",c,n,i)).target=f,u.relatedTarget=h,g=u),h=g,l&&c)e:{for(p=c,d=0,f=u=l;f;f=Br(f))d++;for(f=0,g=p;g;g=Br(g))f++;for(;0<d-f;)u=Br(u),d--;for(;0<f-d;)p=Br(p),f--;for(;d--;){if(u===p||null!==p&&u===p.alternate)break e;u=Br(u),p=Br(p)}u=null}else u=null;null!==l&&Fr(s,a,l,u,!1),null!==c&&null!==h&&Fr(s,h,c,u,!0)}if("select"===(l=(a=r?ri(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var _=Jn;else if(Xn(a))if($n)_=lr;else{_=sr;var v=or}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(_=ar);switch(_&&(_=_(e,r))?zn(s,_,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ie(a,"number",a.value)),v=r?ri(r):window,e){case"focusin":(Xn(v)||"true"===v.contentEditable)&&(mr=v,yr=r,Tr=null);break;case"focusout":Tr=yr=mr=null;break;case"mousedown":Er=!0;break;case"contextmenu":case"mouseup":case"dragend":Er=!1,br(s,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(s,n,i)}var m;if(Pn)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else jn?Hn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Un&&"ko"!==n.locale&&(jn||"onCompositionStart"!==y?"onCompositionEnd"===y&&jn&&(m=nn()):(en="value"in($t=i)?$t.value:$t.textContent,jn=!0)),0<(v=Pr(r,y)).length&&(y=new bn(y,e,null,n,i),s.push({event:y,listeners:v}),m?y.data=m:null!==(m=Vn(n))&&(y.data=m))),(m=Fn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Gn=!0,Zn);case"textInput":return(e=t.data)===Zn&&Gn?null:e;default:return null}}(e,n):function(e,t){if(jn)return"compositionend"===e||!Pn&&Hn(e,t)?(e=nn(),tn=en=$t=null,jn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Pr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=m))}Cr(s,t)}))}function Dr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Pr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ue(e,n))&&r.unshift(Dr(e,o,i)),null!=(o=Ue(e,t))&&r.push(Dr(e,o,i))),e=e.return}return r}function Br(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Fr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=Ue(n,o))&&s.unshift(Dr(n,l,a)):i||null!=(l=Ue(n,o))&&s.push(Dr(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}function Ur(){}var Zr=null,Gr=null;function Hr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Vr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var jr="function"===typeof setTimeout?setTimeout:void 0,Wr="function"===typeof clearTimeout?clearTimeout:void 0;function Xr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function zr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Yr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var qr=0;var Kr=Math.random().toString(36).slice(2),Qr="__reactFiber$"+Kr,Jr="__reactProps$"+Kr,$r="__reactContainer$"+Kr,ei="__reactEvents$"+Kr;function ti(e){var t=e[Qr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[$r]||n[Qr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Yr(e);null!==e;){if(n=e[Qr])return n;e=Yr(e)}return t}n=(e=n).parentNode}return null}function ni(e){return!(e=e[Qr]||e[$r])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ri(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function ii(e){return e[Jr]||null}function oi(e){var t=e[ei];return void 0===t&&(t=e[ei]=new Set),t}var si=[],ai=-1;function li(e){return{current:e}}function ci(e){0>ai||(e.current=si[ai],si[ai]=null,ai--)}function ui(e,t){ai++,si[ai]=e.current,e.current=t}var hi={},pi=li(hi),fi=li(!1),di=hi;function gi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function _i(e){return null!==(e=e.childContextTypes)&&void 0!==e}function vi(){ci(fi),ci(pi)}function mi(e,t,n){if(pi.current!==hi)throw Error(s(168));ui(pi,t),ui(fi,n)}function yi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(s(108,z(t)||"Unknown",o));return i({},n,r)}function Ti(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,di=pi.current,ui(pi,e),ui(fi,fi.current),!0}function Ei(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=yi(e,t,di),r.__reactInternalMemoizedMergedChildContext=e,ci(fi),ci(pi),ui(pi,e)):ci(fi),ui(fi,n)}var bi=null,Oi=null,Si=o.unstable_runWithPriority,ki=o.unstable_scheduleCallback,wi=o.unstable_cancelCallback,Ri=o.unstable_shouldYield,Ci=o.unstable_requestPaint,Ii=o.unstable_now,xi=o.unstable_getCurrentPriorityLevel,Ai=o.unstable_ImmediatePriority,Ni=o.unstable_UserBlockingPriority,Li=o.unstable_NormalPriority,Mi=o.unstable_LowPriority,Di=o.unstable_IdlePriority,Pi={},Bi=void 0!==Ci?Ci:function(){},Fi=null,Ui=null,Zi=!1,Gi=Ii(),Hi=1e4>Gi?Ii:function(){return Ii()-Gi};function Vi(){switch(xi()){case Ai:return 99;case Ni:return 98;case Li:return 97;case Mi:return 96;case Di:return 95;default:throw Error(s(332))}}function ji(e){switch(e){case 99:return Ai;case 98:return Ni;case 97:return Li;case 96:return Mi;case 95:return Di;default:throw Error(s(332))}}function Wi(e,t){return e=ji(e),Si(e,t)}function Xi(e,t,n){return e=ji(e),ki(e,t,n)}function zi(){if(null!==Ui){var e=Ui;Ui=null,wi(e)}Yi()}function Yi(){if(!Zi&&null!==Fi){Zi=!0;var e=0;try{var t=Fi;Wi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Fi=null}catch(n){throw null!==Fi&&(Fi=Fi.slice(e+1)),ki(Ai,zi),n}finally{Zi=!1}}}var qi=E.ReactCurrentBatchConfig;function Ki(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Qi=li(null),Ji=null,$i=null,eo=null;function to(){eo=$i=Ji=null}function no(e){var t=Qi.current;ci(Qi),e.type._context._currentValue=t}function ro(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function io(e,t){Ji=e,eo=$i=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Ps=!0),e.firstContext=null)}function oo(e,t){if(eo!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(eo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===$i){if(null===Ji)throw Error(s(308));$i=t,Ji.dependencies={lanes:0,firstContext:t,responders:null}}else $i=$i.next=t;return e._currentValue}var so=!1;function ao(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function lo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function co(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function uo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ho(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function po(e,t,n,r){var o=e.updateQueue;so=!1;var s=o.firstBaseUpdate,a=o.lastBaseUpdate,l=o.shared.pending;if(null!==l){o.shared.pending=null;var c=l,u=c.next;c.next=null,null===a?s=u:a.next=u,a=c;var h=e.alternate;if(null!==h){var p=(h=h.updateQueue).lastBaseUpdate;p!==a&&(null===p?h.firstBaseUpdate=u:p.next=u,h.lastBaseUpdate=c)}}if(null!==s){for(p=o.baseState,a=0,h=u=c=null;;){l=s.lane;var f=s.eventTime;if((r&l)===l){null!==h&&(h=h.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var d=e,g=s;switch(l=t,f=n,g.tag){case 1:if("function"===typeof(d=g.payload)){p=d.call(f,p,l);break e}p=d;break e;case 3:d.flags=-4097&d.flags|64;case 0:if(null===(l="function"===typeof(d=g.payload)?d.call(f,p,l):d)||void 0===l)break e;p=i({},p,l);break e;case 2:so=!0}}null!==s.callback&&(e.flags|=32,null===(l=o.effects)?o.effects=[s]:l.push(s))}else f={eventTime:f,lane:l,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===h?(u=h=f,c=p):h=h.next=f,a|=l;if(null===(s=s.next)){if(null===(l=o.shared.pending))break;s=l.next,l.next=null,o.lastBaseUpdate=l,o.shared.pending=null}}null===h&&(c=p),o.baseState=c,o.firstBaseUpdate=u,o.lastBaseUpdate=h,Ga|=a,e.lanes=a,e.memoizedState=p}}function fo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var go=(new r.Component).refs;function _o(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var vo={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=pl(),i=fl(e),o=co(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),uo(e,o),dl(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=pl(),i=fl(e),o=co(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),uo(e,o),dl(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=pl(),r=fl(e),i=co(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),uo(e,i),dl(e,r,n)}};function mo(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,o))}function yo(e,t,n){var r=!1,i=hi,o=t.contextType;return"object"===typeof o&&null!==o?o=oo(o):(i=_i(t)?di:pi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?gi(e,i):hi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=vo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function To(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&vo.enqueueReplaceState(t,t.state,null)}function Eo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=go,ao(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=oo(o):(o=_i(t)?di:pi.current,i.context=gi(e,o)),po(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(_o(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&vo.enqueueReplaceState(i,i.state,null),po(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var bo=Array.isArray;function Oo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===go&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function So(e,t){if("textarea"!==e.type)throw Error(s(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function ko(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Xl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function a(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Kl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Oo(e,t,n),r.return=e,r):((r=zl(n.type,n.key,n.props,null,e.mode,r)).ref=Oo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ql(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Yl(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Kl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case b:return(n=zl(t.type,t.key,t.props,null,e.mode,n)).ref=Oo(e,null,t),n.return=e,n;case O:return(t=Ql(t,e.mode,n)).return=e,t}if(bo(t)||H(t))return(t=Yl(t,e.mode,n,null)).return=e,t;So(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===i?n.type===S?h(e,t,n.props.children,r,i):c(e,t,n,r):null;case O:return n.key===i?u(e,t,n,r):null}if(bo(n)||H(n))return null!==i?null:h(e,t,n,r,null);So(e,n)}return null}function d(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case b:return e=e.get(null===r.key?n:r.key)||null,r.type===S?h(t,e,r.props.children,i,r.key):c(t,e,r,i);case O:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(bo(r)||H(r))return h(t,e=e.get(n)||null,r,i,null);So(t,r)}return null}function g(i,s,a,l){for(var c=null,u=null,h=s,g=s=0,_=null;null!==h&&g<a.length;g++){h.index>g?(_=h,h=null):_=h.sibling;var v=f(i,h,a[g],l);if(null===v){null===h&&(h=_);break}e&&h&&null===v.alternate&&t(i,h),s=o(v,s,g),null===u?c=v:u.sibling=v,u=v,h=_}if(g===a.length)return n(i,h),c;if(null===h){for(;g<a.length;g++)null!==(h=p(i,a[g],l))&&(s=o(h,s,g),null===u?c=h:u.sibling=h,u=h);return c}for(h=r(i,h);g<a.length;g++)null!==(_=d(h,i,g,a[g],l))&&(e&&null!==_.alternate&&h.delete(null===_.key?g:_.key),s=o(_,s,g),null===u?c=_:u.sibling=_,u=_);return e&&h.forEach((function(e){return t(i,e)})),c}function _(i,a,l,c){var u=H(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var h=u=null,g=a,_=a=0,v=null,m=l.next();null!==g&&!m.done;_++,m=l.next()){g.index>_?(v=g,g=null):v=g.sibling;var y=f(i,g,m.value,c);if(null===y){null===g&&(g=v);break}e&&g&&null===y.alternate&&t(i,g),a=o(y,a,_),null===h?u=y:h.sibling=y,h=y,g=v}if(m.done)return n(i,g),u;if(null===g){for(;!m.done;_++,m=l.next())null!==(m=p(i,m.value,c))&&(a=o(m,a,_),null===h?u=m:h.sibling=m,h=m);return u}for(g=r(i,g);!m.done;_++,m=l.next())null!==(m=d(g,i,_,m.value,c))&&(e&&null!==m.alternate&&g.delete(null===m.key?_:m.key),a=o(m,a,_),null===h?u=m:h.sibling=m,h=m);return e&&g.forEach((function(e){return t(i,e)})),u}return function(e,r,o,l){var c="object"===typeof o&&null!==o&&o.type===S&&null===o.key;c&&(o=o.props.children);var u="object"===typeof o&&null!==o;if(u)switch(o.$$typeof){case b:e:{for(u=o.key,c=r;null!==c;){if(c.key===u){if(7===c.tag){if(o.type===S){n(e,c.sibling),(r=i(c,o.props.children)).return=e,e=r;break e}}else if(c.elementType===o.type){n(e,c.sibling),(r=i(c,o.props)).ref=Oo(e,c,o),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}o.type===S?((r=Yl(o.props.children,e.mode,l,o.key)).return=e,e=r):((l=zl(o.type,o.key,o.props,null,e.mode,l)).ref=Oo(e,r,o),l.return=e,e=l)}return a(e);case O:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Ql(o,e.mode,l)).return=e,e=r}return a(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Kl(o,e.mode,l)).return=e,e=r),a(e);if(bo(o))return g(e,r,o,l);if(H(o))return _(e,r,o,l);if(u&&So(e,o),"undefined"===typeof o&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(s(152,z(e.type)||"Component"))}return n(e,r)}}var wo=ko(!0),Ro=ko(!1),Co={},Io=li(Co),xo=li(Co),Ao=li(Co);function No(e){if(e===Co)throw Error(s(174));return e}function Lo(e,t){switch(ui(Ao,t),ui(xo,e),ui(Io,Co),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fe(null,"");break;default:t=fe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ci(Io),ui(Io,t)}function Mo(){ci(Io),ci(xo),ci(Ao)}function Do(e){No(Ao.current);var t=No(Io.current),n=fe(t,e.type);t!==n&&(ui(xo,e),ui(Io,n))}function Po(e){xo.current===e&&(ci(Io),ci(xo))}var Bo=li(0);function Fo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Uo=null,Zo=null,Go=!1;function Ho(e,t){var n=jl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Vo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function jo(e){if(Go){var t=Zo;if(t){var n=t;if(!Vo(e,t)){if(!(t=zr(n.nextSibling))||!Vo(e,t))return e.flags=-1025&e.flags|2,Go=!1,void(Uo=e);Ho(Uo,n)}Uo=e,Zo=zr(t.firstChild)}else e.flags=-1025&e.flags|2,Go=!1,Uo=e}}function Wo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Uo=e}function Xo(e){if(e!==Uo)return!1;if(!Go)return Wo(e),Go=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Vr(t,e.memoizedProps))for(t=Zo;t;)Ho(e,t),t=zr(t.nextSibling);if(Wo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Zo=zr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Zo=null}}else Zo=Uo?zr(e.stateNode.nextSibling):null;return!0}function zo(){Zo=Uo=null,Go=!1}var Yo=[];function qo(){for(var e=0;e<Yo.length;e++)Yo[e]._workInProgressVersionPrimary=null;Yo.length=0}var Ko=E.ReactCurrentDispatcher,Qo=E.ReactCurrentBatchConfig,Jo=0,$o=null,es=null,ts=null,ns=!1,rs=!1;function is(){throw Error(s(321))}function os(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cr(e[n],t[n]))return!1;return!0}function ss(e,t,n,r,i,o){if(Jo=o,$o=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ko.current=null===e||null===e.memoizedState?Ns:Ls,e=n(r,i),rs){o=0;do{if(rs=!1,!(25>o))throw Error(s(301));o+=1,ts=es=null,t.updateQueue=null,Ko.current=Ms,e=n(r,i)}while(rs)}if(Ko.current=As,t=null!==es&&null!==es.next,Jo=0,ts=es=$o=null,ns=!1,t)throw Error(s(300));return e}function as(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ts?$o.memoizedState=ts=e:ts=ts.next=e,ts}function ls(){if(null===es){var e=$o.alternate;e=null!==e?e.memoizedState:null}else e=es.next;var t=null===ts?$o.memoizedState:ts.next;if(null!==t)ts=t,es=e;else{if(null===e)throw Error(s(310));e={memoizedState:(es=e).memoizedState,baseState:es.baseState,baseQueue:es.baseQueue,queue:es.queue,next:null},null===ts?$o.memoizedState=ts=e:ts=ts.next=e}return ts}function cs(e,t){return"function"===typeof t?t(e):t}function us(e){var t=ls(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=es,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=a=o=null,c=i;do{var u=c.lane;if((Jo&u)===u)null!==l&&(l=l.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var h={lane:u,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===l?(a=l=h,o=r):l=l.next=h,$o.lanes|=u,Ga|=u}c=c.next}while(null!==c&&c!==i);null===l?o=r:l.next=a,cr(r,t.memoizedState)||(Ps=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function hs(e){var t=ls(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);cr(o,t.memoizedState)||(Ps=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ps(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Jo&e)===e)&&(t._workInProgressVersionPrimary=r,Yo.push(t))),e)return n(t._source);throw Yo.push(t),Error(s(350))}function fs(e,t,n,r){var i=La;if(null===i)throw Error(s(349));var o=t._getVersion,a=o(t._source),l=Ko.current,c=l.useState((function(){return ps(i,t,n)})),u=c[1],h=c[0];c=ts;var p=e.memoizedState,f=p.refs,d=f.getSnapshot,g=p.source;p=p.subscribe;var _=$o;return e.memoizedState={refs:f,source:t,subscribe:r},l.useEffect((function(){f.getSnapshot=n,f.setSnapshot=u;var e=o(t._source);if(!cr(a,e)){e=n(t._source),cr(h,e)||(u(e),e=fl(_),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,s=e;0<s;){var l=31-Vt(s),c=1<<l;r[l]|=e,s&=~c}}}),[n,t,r]),l.useEffect((function(){return r(t._source,(function(){var e=f.getSnapshot,n=f.setSnapshot;try{n(e(t._source));var r=fl(_);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[t,r]),cr(d,n)&&cr(g,t)&&cr(p,r)||((e={pending:null,dispatch:null,lastRenderedReducer:cs,lastRenderedState:h}).dispatch=u=xs.bind(null,$o,e),c.queue=e,c.baseQueue=null,h=ps(i,t,n),c.memoizedState=c.baseState=h),h}function ds(e,t,n){return fs(ls(),e,t,n)}function gs(e){var t=as();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:cs,lastRenderedState:e}).dispatch=xs.bind(null,$o,e),[t.memoizedState,e]}function _s(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=$o.updateQueue)?(t={lastEffect:null},$o.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function vs(e){return e={current:e},as().memoizedState=e}function ms(){return ls().memoizedState}function ys(e,t,n,r){var i=as();$o.flags|=e,i.memoizedState=_s(1|t,n,void 0,void 0===r?null:r)}function Ts(e,t,n,r){var i=ls();r=void 0===r?null:r;var o=void 0;if(null!==es){var s=es.memoizedState;if(o=s.destroy,null!==r&&os(r,s.deps))return void _s(t,n,o,r)}$o.flags|=e,i.memoizedState=_s(1|t,n,o,r)}function Es(e,t){return ys(516,4,e,t)}function bs(e,t){return Ts(516,4,e,t)}function Os(e,t){return Ts(4,2,e,t)}function Ss(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ks(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ts(4,2,Ss.bind(null,t,e),n)}function ws(){}function Rs(e,t){var n=ls();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&os(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Cs(e,t){var n=ls();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&os(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Is(e,t){var n=Vi();Wi(98>n?98:n,(function(){e(!0)})),Wi(97<n?97:n,(function(){var n=Qo.transition;Qo.transition=1;try{e(!1),t()}finally{Qo.transition=n}}))}function xs(e,t,n){var r=pl(),i=fl(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},s=t.pending;if(null===s?o.next=o:(o.next=s.next,s.next=o),t.pending=o,s=e.alternate,e===$o||null!==s&&s===$o)rs=ns=!0;else{if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,l=s(a,n);if(o.eagerReducer=s,o.eagerState=l,cr(l,a))return}catch(c){}dl(e,i,r)}}var As={readContext:oo,useCallback:is,useContext:is,useEffect:is,useImperativeHandle:is,useLayoutEffect:is,useMemo:is,useReducer:is,useRef:is,useState:is,useDebugValue:is,useDeferredValue:is,useTransition:is,useMutableSource:is,useOpaqueIdentifier:is,unstable_isNewReconciler:!1},Ns={readContext:oo,useCallback:function(e,t){return as().memoizedState=[e,void 0===t?null:t],e},useContext:oo,useEffect:Es,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ys(4,2,Ss.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ys(4,2,e,t)},useMemo:function(e,t){var n=as();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=as();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=xs.bind(null,$o,e),[r.memoizedState,e]},useRef:vs,useState:gs,useDebugValue:ws,useDeferredValue:function(e){var t=gs(e),n=t[0],r=t[1];return Es((function(){var t=Qo.transition;Qo.transition=1;try{r(e)}finally{Qo.transition=t}}),[e]),n},useTransition:function(){var e=gs(!1),t=e[0];return vs(e=Is.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=as();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},fs(r,e,t,n)},useOpaqueIdentifier:function(){if(Go){var e=!1,t=function(e){return{$$typeof:D,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(qr++).toString(36))),Error(s(355))})),n=gs(t)[1];return 0===(2&$o.mode)&&($o.flags|=516,_s(5,(function(){n("r:"+(qr++).toString(36))}),void 0,null)),t}return gs(t="r:"+(qr++).toString(36)),t},unstable_isNewReconciler:!1},Ls={readContext:oo,useCallback:Rs,useContext:oo,useEffect:bs,useImperativeHandle:ks,useLayoutEffect:Os,useMemo:Cs,useReducer:us,useRef:ms,useState:function(){return us(cs)},useDebugValue:ws,useDeferredValue:function(e){var t=us(cs),n=t[0],r=t[1];return bs((function(){var t=Qo.transition;Qo.transition=1;try{r(e)}finally{Qo.transition=t}}),[e]),n},useTransition:function(){var e=us(cs)[0];return[ms().current,e]},useMutableSource:ds,useOpaqueIdentifier:function(){return us(cs)[0]},unstable_isNewReconciler:!1},Ms={readContext:oo,useCallback:Rs,useContext:oo,useEffect:bs,useImperativeHandle:ks,useLayoutEffect:Os,useMemo:Cs,useReducer:hs,useRef:ms,useState:function(){return hs(cs)},useDebugValue:ws,useDeferredValue:function(e){var t=hs(cs),n=t[0],r=t[1];return bs((function(){var t=Qo.transition;Qo.transition=1;try{r(e)}finally{Qo.transition=t}}),[e]),n},useTransition:function(){var e=hs(cs)[0];return[ms().current,e]},useMutableSource:ds,useOpaqueIdentifier:function(){return hs(cs)[0]},unstable_isNewReconciler:!1},Ds=E.ReactCurrentOwner,Ps=!1;function Bs(e,t,n,r){t.child=null===e?Ro(t,null,n,r):wo(t,e.child,n,r)}function Fs(e,t,n,r,i){n=n.render;var o=t.ref;return io(t,i),r=ss(e,t,n,r,o,i),null===e||Ps?(t.flags|=1,Bs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,oa(e,t,i))}function Us(e,t,n,r,i,o){if(null===e){var s=n.type;return"function"!==typeof s||Wl(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=zl(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Zs(e,t,s,r,i,o))}return s=e.child,0===(i&o)&&(i=s.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?oa(e,t,o):(t.flags|=1,(e=Xl(s,r)).ref=t.ref,e.return=t,t.child=e)}function Zs(e,t,n,r,i,o){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Ps=!1,0===(o&i))return t.lanes=e.lanes,oa(e,t,o);0!==(16384&e.flags)&&(Ps=!0)}return Vs(e,t,n,r,o)}function Gs(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},bl(t,n);else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},bl(t,e),null;t.memoizedState={baseLanes:0},bl(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,bl(t,r);return Bs(e,t,i,n),t.child}function Hs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Vs(e,t,n,r,i){var o=_i(n)?di:pi.current;return o=gi(t,o),io(t,i),n=ss(e,t,n,r,o,i),null===e||Ps?(t.flags|=1,Bs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,oa(e,t,i))}function js(e,t,n,r,i){if(_i(n)){var o=!0;Ti(t)}else o=!1;if(io(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),yo(t,n,r),Eo(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=oo(c):c=gi(t,c=_i(n)?di:pi.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;h||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||l!==c)&&To(t,s,r,c),so=!1;var p=t.memoizedState;s.state=p,po(t,r,s,i),l=t.memoizedState,a!==r||p!==l||fi.current||so?("function"===typeof u&&(_o(t,n,u,r),l=t.memoizedState),(a=so||mo(t,n,a,r,p,l,c))?(h||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4)):("function"===typeof s.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4),r=!1)}else{s=t.stateNode,lo(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Ki(t.type,a),s.props=c,h=t.pendingProps,p=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=oo(l):l=gi(t,l=_i(n)?di:pi.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==h||p!==l)&&To(t,s,r,l),so=!1,p=t.memoizedState,s.state=p,po(t,r,s,i);var d=t.memoizedState;a!==h||p!==d||fi.current||so?("function"===typeof f&&(_o(t,n,f,r),d=t.memoizedState),(c=so||mo(t,n,c,r,p,d,l))?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,d,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,d,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=d),s.props=r,s.state=d,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=256),r=!1)}return Ws(e,t,n,r,o,i)}function Ws(e,t,n,r,i,o){Hs(e,t);var s=0!==(64&t.flags);if(!r&&!s)return i&&Ei(t,n,!1),oa(e,t,o);r=t.stateNode,Ds.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=wo(t,e.child,null,o),t.child=wo(t,null,a,o)):Bs(e,t,a,o),t.memoizedState=r.state,i&&Ei(t,n,!0),t.child}function Xs(e){var t=e.stateNode;t.pendingContext?mi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&mi(0,t.context,!1),Lo(e,t.containerInfo)}var zs,Ys,qs,Ks,Qs={dehydrated:null,retryLane:0};function Js(e,t,n){var r,i=t.pendingProps,o=Bo.current,s=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),ui(Bo,1&o),null===e?(void 0!==i.fallback&&jo(t),e=i.children,o=i.fallback,s?(e=$s(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Qs,e):"number"===typeof i.unstable_expectedLoadTime?(e=$s(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Qs,t.lanes=33554432,e):((n=ql({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,s?(i=ta(e,t,i.children,i.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},s.childLanes=e.childLanes&~n,t.memoizedState=Qs,i):(n=ea(e,t,i.children,n),t.memoizedState=null,n))}function $s(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=ql(t,i,0,null),n=Yl(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function ea(e,t,n,r){var i=e.child;return e=i.sibling,n=Xl(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ta(e,t,n,r,i){var o=t.mode,s=e.child;e=s.sibling;var a={mode:"hidden",children:n};return 0===(2&o)&&t.child!==s?((n=t.child).childLanes=0,n.pendingProps=a,null!==(s=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=s,s.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Xl(s,a),null!==e?r=Xl(e,r):(r=Yl(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function na(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ro(e.return,t)}function ra(e,t,n,r,i,o){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i,s.lastEffect=o)}function ia(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Bs(e,t,r.children,n),0!==(2&(r=Bo.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&na(e,n);else if(19===e.tag)na(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ui(Bo,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ra(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ra(t,!0,n,null,o,t.lastEffect);break;case"together":ra(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function oa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ga|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Xl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Xl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function sa(e,t){if(!Go)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function aa(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return _i(t.type)&&vi(),null;case 3:return Mo(),ci(fi),ci(pi),qo(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Xo(t)?t.flags|=4:r.hydrate||(t.flags|=256)),Ys(t),null;case 5:Po(t);var o=No(Ao.current);if(n=t.type,null!==e&&null!=t.stateNode)qs(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(s(166));return null}if(e=No(Io.current),Xo(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Qr]=t,r[Jr]=a,n){case"dialog":Ir("cancel",r),Ir("close",r);break;case"iframe":case"object":case"embed":Ir("load",r);break;case"video":case"audio":for(e=0;e<kr.length;e++)Ir(kr[e],r);break;case"source":Ir("error",r);break;case"img":case"image":case"link":Ir("error",r),Ir("load",r);break;case"details":Ir("toggle",r);break;case"input":ee(r,a),Ir("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ir("invalid",r);break;case"textarea":le(r,a),Ir("invalid",r)}for(var c in Oe(n,a),e=null,a)a.hasOwnProperty(c)&&(o=a[c],"children"===c?"string"===typeof o?r.textContent!==o&&(e=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(e=["children",""+o]):l.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&Ir("scroll",r));switch(n){case"input":K(r),re(r,a,!0);break;case"textarea":K(r),ue(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Ur)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,e===he.html&&(e=pe(n)),e===he.html?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Qr]=t,e[Jr]=r,zs(e,t,!1,!1),t.stateNode=e,c=Se(n,r),n){case"dialog":Ir("cancel",e),Ir("close",e),o=r;break;case"iframe":case"object":case"embed":Ir("load",e),o=r;break;case"video":case"audio":for(o=0;o<kr.length;o++)Ir(kr[o],e);o=r;break;case"source":Ir("error",e),o=r;break;case"img":case"image":case"link":Ir("error",e),Ir("load",e),o=r;break;case"details":Ir("toggle",e),o=r;break;case"input":ee(e,r),o=$(e,r),Ir("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Ir("invalid",e);break;case"textarea":le(e,r),o=ae(e,r),Ir("invalid",e);break;default:o=r}Oe(n,o);var u=o;for(a in u)if(u.hasOwnProperty(a)){var h=u[a];"style"===a?Ee(e,h):"dangerouslySetInnerHTML"===a?null!=(h=h?h.__html:void 0)&&_e(e,h):"children"===a?"string"===typeof h?("textarea"!==n||""!==h)&&ve(e,h):"number"===typeof h&&ve(e,""+h):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(l.hasOwnProperty(a)?null!=h&&"onScroll"===a&&Ir("scroll",e):null!=h&&T(e,a,h,c))}switch(n){case"input":K(e),re(e,r,!1);break;case"textarea":K(e),ue(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Y(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?se(e,!!r.multiple,a,!1):null!=r.defaultValue&&se(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Ur)}Hr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ks(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));n=No(Ao.current),No(Io.current),Xo(t)?(r=t.stateNode,n=t.memoizedProps,r[Qr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Qr]=t,t.stateNode=r)}return null;case 13:return ci(Bo),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Xo(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Bo.current)?0===Fa&&(Fa=3):(0!==Fa&&3!==Fa||(Fa=4),null===La||0===(134217727&Ga)&&0===(134217727&Ha)||ml(La,Da))),(r||n)&&(t.flags|=4),null);case 4:return Mo(),Ys(t),null===e&&Ar(t.stateNode.containerInfo),null;case 10:return no(t),null;case 19:if(ci(Bo),null===(r=t.memoizedState))return null;if(a=0!==(64&t.flags),null===(c=r.rendering))if(a)sa(r,!1);else{if(0!==Fa||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Fo(e))){for(t.flags|=64,sa(r,!1),null!==(a=c.updateQueue)&&(t.updateQueue=a,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(c=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,e=c.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ui(Bo,1&Bo.current|2),t.child}e=e.sibling}null!==r.tail&&Hi()>Xa&&(t.flags|=64,a=!0,sa(r,!1),t.lanes=33554432)}else{if(!a)if(null!==(e=Fo(c))){if(t.flags|=64,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),sa(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Go)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Hi()-r.renderingStartTime>Xa&&1073741824!==n&&(t.flags|=64,a=!0,sa(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Hi(),n.sibling=null,t=Bo.current,ui(Bo,a?1&t|2:1&t),n):null;case 23:case 24:return Ol(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(s(156,t.tag))}function la(e){switch(e.tag){case 1:_i(e.type)&&vi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Mo(),ci(fi),ci(pi),qo(),0!==(64&(t=e.flags)))throw Error(s(285));return e.flags=-4097&t|64,e;case 5:return Po(e),null;case 13:return ci(Bo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ci(Bo),null;case 4:return Mo(),null;case 10:return no(e),null;case 23:case 24:return Ol(),null;default:return null}}function ca(e,t){try{var n="",r=t;do{n+=X(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function ua(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}zs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ys=function(){},qs=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,No(Io.current);var s,a=null;switch(n){case"input":o=$(e,o),r=$(e,r),a=[];break;case"option":o=oe(e,o),r=oe(e,r),a=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),a=[];break;case"textarea":o=ae(e,o),r=ae(e,r),a=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Ur)}for(h in Oe(n,r),n=null,o)if(!r.hasOwnProperty(h)&&o.hasOwnProperty(h)&&null!=o[h])if("style"===h){var c=o[h];for(s in c)c.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(l.hasOwnProperty(h)?a||(a=[]):(a=a||[]).push(h,null));for(h in r){var u=r[h];if(c=null!=o?o[h]:void 0,r.hasOwnProperty(h)&&u!==c&&(null!=u||null!=c))if("style"===h)if(c){for(s in c)!c.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&c[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(a||(a=[]),a.push(h,n)),n=u;else"dangerouslySetInnerHTML"===h?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(a=a||[]).push(h,u)):"children"===h?"string"!==typeof u&&"number"!==typeof u||(a=a||[]).push(h,""+u):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(l.hasOwnProperty(h)?(null!=u&&"onScroll"===h&&Ir("scroll",e),a||c===u||(a=[])):"object"===typeof u&&null!==u&&u.$$typeof===D?u.toString():(a=a||[]).push(h,u))}n&&(a=a||[]).push("style",n);var h=a;(t.updateQueue=h)&&(t.flags|=4)}},Ks=function(e,t,n,r){n!==r&&(t.flags|=4)};var ha="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=co(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ka||(Ka=!0,Qa=r),ua(0,t)},n}function fa(e,t,n){(n=co(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ua(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Ja?Ja=new Set([this]):Ja.add(this),ua(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var da="function"===typeof WeakSet?WeakSet:Set;function ga(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Zl(e,n)}else t.current=null}function _a(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ki(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Xr(t.stateNode.containerInfo))}throw Error(s(163))}function va(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Bl(n,e),Pl(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Ki(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&fo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}fo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Hr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Et(n)))))}throw Error(s(163))}function ma(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=Te("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ya(e,t){if(Oi&&"function"===typeof Oi.onCommitFiberUnmount)try{Oi.onCommitFiberUnmount(bi,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Bl(t,n);else{r=t;try{i()}catch(o){Zl(r,o)}}n=n.next}while(n!==e)}break;case 1:if(ga(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Zl(t,o)}break;case 5:ga(t);break;case 4:ka(e,t)}}function Ta(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function Ea(e){return 5===e.tag||3===e.tag||4===e.tag}function ba(e){e:{for(var t=e.return;null!==t;){if(Ea(t))break e;t=t.return}throw Error(s(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(s(161))}16&n.flags&&(ve(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Ea(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Oa(e,n,t):Sa(e,n,t)}function Oa(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ur));else if(4!==r&&null!==(e=e.child))for(Oa(e,t,n),e=e.sibling;null!==e;)Oa(e,t,n),e=e.sibling}function Sa(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Sa(e,t,n),e=e.sibling;null!==e;)Sa(e,t,n),e=e.sibling}function ka(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(s(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var a=e,l=i,c=l;;)if(ya(a,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===l)break e;for(;null===c.sibling;){if(null===c.return||c.return===l)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(a=n,l=i.stateNode,8===a.nodeType?a.parentNode.removeChild(l):a.removeChild(l)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ya(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function wa(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Jr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Se(e,i),t=Se(e,r),i=0;i<o.length;i+=2){var a=o[i],l=o[i+1];"style"===a?Ee(n,l):"dangerouslySetInnerHTML"===a?_e(n,l):"children"===a?ve(n,l):T(n,a,l,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?se(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?se(n,!!r.multiple,r.defaultValue,!0):se(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(s(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,Et(n.containerInfo)));case 13:return null!==t.memoizedState&&(Wa=Hi(),ma(t.child,!0)),void Ra(t);case 19:return void Ra(t);case 23:case 24:return void ma(t,null!==t.memoizedState)}throw Error(s(163))}function Ra(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new da),t.forEach((function(t){var r=Hl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ca(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ia=Math.ceil,xa=E.ReactCurrentDispatcher,Aa=E.ReactCurrentOwner,Na=0,La=null,Ma=null,Da=0,Pa=0,Ba=li(0),Fa=0,Ua=null,Za=0,Ga=0,Ha=0,Va=0,ja=null,Wa=0,Xa=1/0;function za(){Xa=Hi()+500}var Ya,qa=null,Ka=!1,Qa=null,Ja=null,$a=!1,el=null,tl=90,nl=[],rl=[],il=null,ol=0,sl=null,al=-1,ll=0,cl=0,ul=null,hl=!1;function pl(){return 0!==(48&Na)?Hi():-1!==al?al:al=Hi()}function fl(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Vi()?1:2;if(0===ll&&(ll=Za),0!==qi.transition){0!==cl&&(cl=null!==ja?ja.pendingLanes:0),e=ll;var t=4186112&~cl;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Vi(),0!==(4&Na)&&98===e?e=Ut(12,ll):e=Ut(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ll),e}function dl(e,t,n){if(50<ol)throw ol=0,sl=null,Error(s(185));if(null===(e=gl(e,t)))return null;Ht(e,t,n),e===La&&(Ha|=t,4===Fa&&ml(e,Da));var r=Vi();1===t?0!==(8&Na)&&0===(48&Na)?yl(e):(_l(e,n),0===Na&&(za(),zi())):(0===(4&Na)||98!==r&&99!==r||(null===il?il=new Set([e]):il.add(e)),_l(e,n)),ja=e}function gl(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function _l(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-Vt(a),c=1<<l,u=o[l];if(-1===u){if(0===(c&r)||0!==(c&i)){u=t,Pt(c);var h=Dt;o[l]=10<=h?u+250:6<=h?u+5e3:-1}}else u<=t&&(e.expiredLanes|=c);a&=~c}if(r=Bt(e,e===La?Da:0),t=Dt,0===r)null!==n&&(n!==Pi&&wi(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Pi&&wi(n)}15===t?(n=yl.bind(null,e),null===Fi?(Fi=[n],Ui=ki(Ai,Yi)):Fi.push(n),n=Pi):14===t?n=Xi(99,yl.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(s(358,e))}}(t),n=Xi(n,vl.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function vl(e){if(al=-1,cl=ll=0,0!==(48&Na))throw Error(s(327));var t=e.callbackNode;if(Dl()&&e.callbackNode!==t)return null;var n=Bt(e,e===La?Da:0);if(0===n)return null;var r=n,i=Na;Na|=16;var o=wl();for(La===e&&Da===r||(za(),Sl(e,r));;)try{Il();break}catch(l){kl(e,l)}if(to(),xa.current=o,Na=i,null!==Ma?r=0:(La=null,Da=0,r=Fa),0!==(Za&Ha))Sl(e,0);else if(0!==r){if(2===r&&(Na|=64,e.hydrate&&(e.hydrate=!1,Xr(e.containerInfo)),0!==(n=Ft(e))&&(r=Rl(e,n))),1===r)throw t=Ua,Sl(e,0),ml(e,n),_l(e,Hi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(s(345));case 2:case 5:Nl(e);break;case 3:if(ml(e,n),(62914560&n)===n&&10<(r=Wa+500-Hi())){if(0!==Bt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){pl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=jr(Nl.bind(null,e),r);break}Nl(e);break;case 4:if(ml(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var a=31-Vt(n);o=1<<a,(a=r[a])>i&&(i=a),n&=~o}if(n=i,10<(n=(120>(n=Hi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ia(n/1960))-n)){e.timeoutHandle=jr(Nl.bind(null,e),n);break}Nl(e);break;default:throw Error(s(329))}}return _l(e,Hi()),e.callbackNode===t?vl.bind(null,e):null}function ml(e,t){for(t&=~Va,t&=~Ha,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Vt(t),r=1<<n;e[n]=-1,t&=~r}}function yl(e){if(0!==(48&Na))throw Error(s(327));if(Dl(),e===La&&0!==(e.expiredLanes&Da)){var t=Da,n=Rl(e,t);0!==(Za&Ha)&&(n=Rl(e,t=Bt(e,t)))}else n=Rl(e,t=Bt(e,0));if(0!==e.tag&&2===n&&(Na|=64,e.hydrate&&(e.hydrate=!1,Xr(e.containerInfo)),0!==(t=Ft(e))&&(n=Rl(e,t))),1===n)throw n=Ua,Sl(e,0),ml(e,t),_l(e,Hi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Nl(e),_l(e,Hi()),null}function Tl(e,t){var n=Na;Na|=1;try{return e(t)}finally{0===(Na=n)&&(za(),zi())}}function El(e,t){var n=Na;Na&=-2,Na|=8;try{return e(t)}finally{0===(Na=n)&&(za(),zi())}}function bl(e,t){ui(Ba,Pa),Pa|=t,Za|=t}function Ol(){Pa=Ba.current,ci(Ba)}function Sl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Wr(n)),null!==Ma)for(n=Ma.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&vi();break;case 3:Mo(),ci(fi),ci(pi),qo();break;case 5:Po(r);break;case 4:Mo();break;case 13:case 19:ci(Bo);break;case 10:no(r);break;case 23:case 24:Ol()}n=n.return}La=e,Ma=Xl(e.current,null),Da=Pa=Za=t,Fa=0,Ua=null,Va=Ha=Ga=0}function kl(e,t){for(;;){var n=Ma;try{if(to(),Ko.current=As,ns){for(var r=$o.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ns=!1}if(Jo=0,ts=es=$o=null,rs=!1,Aa.current=null,null===n||null===n.return){Fa=1,Ua=t,Ma=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=Da,a.flags|=2048,a.firstEffect=a.lastEffect=null,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l;if(0===(2&a.mode)){var u=a.alternate;u?(a.updateQueue=u.updateQueue,a.memoizedState=u.memoizedState,a.lanes=u.lanes):(a.updateQueue=null,a.memoizedState=null)}var h=0!==(1&Bo.current),p=s;do{var f;if(f=13===p.tag){var d=p.memoizedState;if(null!==d)f=null!==d.dehydrated;else{var g=p.memoizedProps;f=void 0!==g.fallback&&(!0!==g.unstable_avoidThisFallback||!h)}}if(f){var _=p.updateQueue;if(null===_){var v=new Set;v.add(c),p.updateQueue=v}else _.add(c);if(0===(2&p.mode)){if(p.flags|=64,a.flags|=16384,a.flags&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var m=co(-1,1);m.tag=2,uo(a,m)}a.lanes|=1;break e}l=void 0,a=t;var y=o.pingCache;if(null===y?(y=o.pingCache=new ha,l=new Set,y.set(c,l)):void 0===(l=y.get(c))&&(l=new Set,y.set(c,l)),!l.has(a)){l.add(a);var T=Gl.bind(null,o,c,a);c.then(T,T)}p.flags|=4096,p.lanes=t;break e}p=p.return}while(null!==p);l=Error((z(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Fa&&(Fa=2),l=ca(l,a),p=s;do{switch(p.tag){case 3:o=l,p.flags|=4096,t&=-t,p.lanes|=t,ho(p,pa(0,o,t));break e;case 1:o=l;var E=p.type,b=p.stateNode;if(0===(64&p.flags)&&("function"===typeof E.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ja||!Ja.has(b)))){p.flags|=4096,t&=-t,p.lanes|=t,ho(p,fa(p,o,t));break e}}p=p.return}while(null!==p)}Al(n)}catch(O){t=O,Ma===n&&null!==n&&(Ma=n=n.return);continue}break}}function wl(){var e=xa.current;return xa.current=As,null===e?As:e}function Rl(e,t){var n=Na;Na|=16;var r=wl();for(La===e&&Da===t||Sl(e,t);;)try{Cl();break}catch(i){kl(e,i)}if(to(),Na=n,xa.current=r,null!==Ma)throw Error(s(261));return La=null,Da=0,Fa}function Cl(){for(;null!==Ma;)xl(Ma)}function Il(){for(;null!==Ma&&!Ri();)xl(Ma)}function xl(e){var t=Ya(e.alternate,e,Pa);e.memoizedProps=e.pendingProps,null===t?Al(e):Ma=t,Aa.current=null}function Al(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=aa(n,t,Pa)))return void(Ma=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Pa)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=la(t)))return n.flags&=2047,void(Ma=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ma=t);Ma=t=e}while(null!==t);0===Fa&&(Fa=5)}function Nl(e){var t=Vi();return Wi(99,Ll.bind(null,e,t)),null}function Ll(e,t){do{Dl()}while(null!==el);if(0!==(48&Na))throw Error(s(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var a=e.eventTimes,l=e.expirationTimes;0<o;){var c=31-Vt(o),u=1<<c;i[c]=0,a[c]=-1,l[c]=-1,o&=~u}if(null!==il&&0===(24&r)&&il.has(e)&&il.delete(e),e===La&&(Ma=La=null,Da=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Na,Na|=32,Aa.current=null,Zr=Yt,_r(a=gr())){if("selectionStart"in a)l={start:a.selectionStart,end:a.selectionEnd};else e:if(l=(l=a.ownerDocument)&&l.defaultView||window,(u=l.getSelection&&l.getSelection())&&0!==u.rangeCount){l=u.anchorNode,o=u.anchorOffset,c=u.focusNode,u=u.focusOffset;try{l.nodeType,c.nodeType}catch(w){l=null;break e}var h=0,p=-1,f=-1,d=0,g=0,_=a,v=null;t:for(;;){for(var m;_!==l||0!==o&&3!==_.nodeType||(p=h+o),_!==c||0!==u&&3!==_.nodeType||(f=h+u),3===_.nodeType&&(h+=_.nodeValue.length),null!==(m=_.firstChild);)v=_,_=m;for(;;){if(_===a)break t;if(v===l&&++d===o&&(p=h),v===c&&++g===u&&(f=h),null!==(m=_.nextSibling))break;v=(_=v).parentNode}_=m}l=-1===p||-1===f?null:{start:p,end:f}}else l=null;l=l||{start:0,end:0}}else l=null;Gr={focusedElem:a,selectionRange:l},Yt=!1,ul=null,hl=!1,qa=r;do{try{Ml()}catch(w){if(null===qa)throw Error(s(330));Zl(qa,w),qa=qa.nextEffect}}while(null!==qa);ul=null,qa=r;do{try{for(a=e;null!==qa;){var y=qa.flags;if(16&y&&ve(qa.stateNode,""),128&y){var T=qa.alternate;if(null!==T){var E=T.ref;null!==E&&("function"===typeof E?E(null):E.current=null)}}switch(1038&y){case 2:ba(qa),qa.flags&=-3;break;case 6:ba(qa),qa.flags&=-3,wa(qa.alternate,qa);break;case 1024:qa.flags&=-1025;break;case 1028:qa.flags&=-1025,wa(qa.alternate,qa);break;case 4:wa(qa.alternate,qa);break;case 8:ka(a,l=qa);var b=l.alternate;Ta(l),null!==b&&Ta(b)}qa=qa.nextEffect}}catch(w){if(null===qa)throw Error(s(330));Zl(qa,w),qa=qa.nextEffect}}while(null!==qa);if(E=Gr,T=gr(),y=E.focusedElem,a=E.selectionRange,T!==y&&y&&y.ownerDocument&&dr(y.ownerDocument.documentElement,y)){null!==a&&_r(y)&&(T=a.start,void 0===(E=a.end)&&(E=T),"selectionStart"in y?(y.selectionStart=T,y.selectionEnd=Math.min(E,y.value.length)):(E=(T=y.ownerDocument||document)&&T.defaultView||window).getSelection&&(E=E.getSelection(),l=y.textContent.length,b=Math.min(a.start,l),a=void 0===a.end?b:Math.min(a.end,l),!E.extend&&b>a&&(l=a,a=b,b=l),l=fr(y,b),o=fr(y,a),l&&o&&(1!==E.rangeCount||E.anchorNode!==l.node||E.anchorOffset!==l.offset||E.focusNode!==o.node||E.focusOffset!==o.offset)&&((T=T.createRange()).setStart(l.node,l.offset),E.removeAllRanges(),b>a?(E.addRange(T),E.extend(o.node,o.offset)):(T.setEnd(o.node,o.offset),E.addRange(T))))),T=[];for(E=y;E=E.parentNode;)1===E.nodeType&&T.push({element:E,left:E.scrollLeft,top:E.scrollTop});for("function"===typeof y.focus&&y.focus(),y=0;y<T.length;y++)(E=T[y]).element.scrollLeft=E.left,E.element.scrollTop=E.top}Yt=!!Zr,Gr=Zr=null,e.current=n,qa=r;do{try{for(y=e;null!==qa;){var O=qa.flags;if(36&O&&va(y,qa.alternate,qa),128&O){T=void 0;var S=qa.ref;if(null!==S){var k=qa.stateNode;qa.tag,T=k,"function"===typeof S?S(T):S.current=T}}qa=qa.nextEffect}}catch(w){if(null===qa)throw Error(s(330));Zl(qa,w),qa=qa.nextEffect}}while(null!==qa);qa=null,Bi(),Na=i}else e.current=n;if($a)$a=!1,el=e,tl=t;else for(qa=r;null!==qa;)t=qa.nextEffect,qa.nextEffect=null,8&qa.flags&&((O=qa).sibling=null,O.stateNode=null),qa=t;if(0===(r=e.pendingLanes)&&(Ja=null),1===r?e===sl?ol++:(ol=0,sl=e):ol=0,n=n.stateNode,Oi&&"function"===typeof Oi.onCommitFiberRoot)try{Oi.onCommitFiberRoot(bi,n,void 0,64===(64&n.current.flags))}catch(w){}if(_l(e,Hi()),Ka)throw Ka=!1,e=Qa,Qa=null,e;return 0!==(8&Na)||zi(),null}function Ml(){for(;null!==qa;){var e=qa.alternate;hl||null===ul||(0!==(8&qa.flags)?$e(qa,ul)&&(hl=!0):13===qa.tag&&Ca(e,qa)&&$e(qa,ul)&&(hl=!0));var t=qa.flags;0!==(256&t)&&_a(e,qa),0===(512&t)||$a||($a=!0,Xi(97,(function(){return Dl(),null}))),qa=qa.nextEffect}}function Dl(){if(90!==tl){var e=97<tl?97:tl;return tl=90,Wi(e,Fl)}return!1}function Pl(e,t){nl.push(t,e),$a||($a=!0,Xi(97,(function(){return Dl(),null})))}function Bl(e,t){rl.push(t,e),$a||($a=!0,Xi(97,(function(){return Dl(),null})))}function Fl(){if(null===el)return!1;var e=el;if(el=null,0!==(48&Na))throw Error(s(331));var t=Na;Na|=32;var n=rl;rl=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],a=i.destroy;if(i.destroy=void 0,"function"===typeof a)try{a()}catch(c){if(null===o)throw Error(s(330));Zl(o,c)}}for(n=nl,nl=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var l=i.create;i.destroy=l()}catch(c){if(null===o)throw Error(s(330));Zl(o,c)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return Na=t,zi(),!0}function Ul(e,t,n){uo(e,t=pa(0,t=ca(n,t),1)),t=pl(),null!==(e=gl(e,1))&&(Ht(e,1,t),_l(e,t))}function Zl(e,t){if(3===e.tag)Ul(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Ul(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ja||!Ja.has(r))){var i=fa(n,e=ca(t,e),1);if(uo(n,i),i=pl(),null!==(n=gl(n,1)))Ht(n,1,i),_l(n,i);else if("function"===typeof r.componentDidCatch&&(null===Ja||!Ja.has(r)))try{r.componentDidCatch(t,e)}catch(o){}break}}n=n.return}}function Gl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=pl(),e.pingedLanes|=e.suspendedLanes&n,La===e&&(Da&n)===n&&(4===Fa||3===Fa&&(62914560&Da)===Da&&500>Hi()-Wa?Sl(e,0):Va|=n),_l(e,t)}function Hl(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Vi()?1:2:(0===ll&&(ll=Za),0===(t=Zt(62914560&~ll))&&(t=4194304))),n=pl(),null!==(e=gl(e,t))&&(Ht(e,t,n),_l(e,n))}function Vl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function jl(e,t,n,r){return new Vl(e,t,n,r)}function Wl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Xl(e,t){var n=e.alternate;return null===n?((n=jl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function zl(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Wl(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case S:return Yl(n.children,i,o,t);case P:a=8,i|=16;break;case k:a=8,i|=1;break;case w:return(e=jl(12,n,t,8|i)).elementType=w,e.type=w,e.lanes=o,e;case x:return(e=jl(13,n,t,i)).type=x,e.elementType=x,e.lanes=o,e;case A:return(e=jl(19,n,t,i)).elementType=A,e.lanes=o,e;case B:return ql(n,i,o,t);case F:return(e=jl(24,n,t,i)).elementType=F,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case R:a=10;break e;case C:a=9;break e;case I:a=11;break e;case N:a=14;break e;case L:a=16,r=null;break e;case M:a=22;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=jl(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Yl(e,t,n,r){return(e=jl(7,e,r,t)).lanes=n,e}function ql(e,t,n,r){return(e=jl(23,e,r,t)).elementType=B,e.lanes=n,e}function Kl(e,t,n){return(e=jl(6,e,null,t)).lanes=n,e}function Ql(e,t,n){return(t=jl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Jl(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Gt(0),this.expirationTimes=Gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gt(0),this.mutableSourceEagerHydrationData=null}function $l(e,t,n,r){var i=t.current,o=pl(),a=fl(i);e:if(n){t:{if(qe(n=n._reactInternals)!==n||1!==n.tag)throw Error(s(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(_i(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(s(171))}if(1===n.tag){var c=n.type;if(_i(c)){n=yi(n,c,l);break e}}n=l}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=co(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),uo(i,t),dl(i,a,o),a}function ec(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function tc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function nc(e,t){tc(e,t),(e=e.alternate)&&tc(e,t)}function rc(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Jl(e,t,null!=n&&!0===n.hydrate),t=jl(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ao(t),e[$r]=n.current,Ar(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ic(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o._internalRoot;if("function"===typeof i){var a=i;i=function(){var e=ec(s);a.call(e)}}$l(t,s,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new rc(e,0,t?{hydrate:!0}:void 0)}(n,r),s=o._internalRoot,"function"===typeof i){var l=i;i=function(){var e=ec(s);l.call(e)}}El((function(){$l(t,s,e,i)}))}return ec(s)}function sc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ic(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:O,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Ya=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||fi.current)Ps=!0;else{if(0===(n&r)){switch(Ps=!1,t.tag){case 3:Xs(t),zo();break;case 5:Do(t);break;case 1:_i(t.type)&&Ti(t);break;case 4:Lo(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;ui(Qi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Js(e,t,n):(ui(Bo,1&Bo.current),null!==(t=oa(e,t,n))?t.sibling:null);ui(Bo,1&Bo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return ia(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ui(Bo,Bo.current),r)break;return null;case 23:case 24:return t.lanes=0,Gs(e,t,n)}return oa(e,t,n)}Ps=0!==(16384&e.flags)}else Ps=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=gi(t,pi.current),io(t,n),i=ss(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,_i(r)){var o=!0;Ti(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ao(t);var a=r.getDerivedStateFromProps;"function"===typeof a&&_o(t,r,a,e),i.updater=vo,t.stateNode=i,i._reactInternals=t,Eo(t,r,e,n),t=Ws(null,t,r,!0,o,n)}else t.tag=0,Bs(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"===typeof e)return Wl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===N)return 14}return 2}(i),e=Ki(i,e),o){case 0:t=Vs(null,t,i,e,n);break e;case 1:t=js(null,t,i,e,n);break e;case 11:t=Fs(null,t,i,e,n);break e;case 14:t=Us(null,t,i,Ki(i.type,e),r,n);break e}throw Error(s(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Vs(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 1:return r=t.type,i=t.pendingProps,js(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 3:if(Xs(t),r=t.updateQueue,null===e||null===r)throw Error(s(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,lo(e,t),po(t,r,null,n),(r=t.memoizedState.element)===i)zo(),t=oa(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(Zo=zr(t.stateNode.containerInfo.firstChild),Uo=t,o=Go=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Yo.push(o);for(n=Ro(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Bs(e,t,r,n),zo();t=t.child}return t;case 5:return Do(t),null===e&&jo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,Vr(r,i)?a=null:null!==o&&Vr(r,o)&&(t.flags|=16),Hs(e,t),Bs(e,t,a,n),t.child;case 6:return null===e&&jo(t),null;case 13:return Js(e,t,n);case 4:return Lo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=wo(t,null,r,n):Bs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Fs(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 7:return Bs(e,t,t.pendingProps,n),t.child;case 8:case 12:return Bs(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value;var l=t.type._context;if(ui(Qi,l._currentValue),l._currentValue=o,null!==a)if(l=a.value,0===(o=cr(l,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(l,o):1073741823))){if(a.children===i.children&&!fi.current){t=oa(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var c=l.dependencies;if(null!==c){a=l.child;for(var u=c.firstContext;null!==u;){if(u.context===r&&0!==(u.observedBits&o)){1===l.tag&&((u=co(-1,n&-n)).tag=2,uo(l,u)),l.lanes|=n,null!==(u=l.alternate)&&(u.lanes|=n),ro(l.return,n),c.lanes|=n;break}u=u.next}}else a=10===l.tag&&l.type===t.type?null:l.child;if(null!==a)a.return=l;else for(a=l;null!==a;){if(a===t){a=null;break}if(null!==(l=a.sibling)){l.return=a.return,a=l;break}a=a.return}l=a}Bs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,io(t,n),r=r(i=oo(i,o.unstable_observedBits)),t.flags|=1,Bs(e,t,r,n),t.child;case 14:return o=Ki(i=t.type,t.pendingProps),Us(e,t,i,o=Ki(i.type,o),r,n);case 15:return Zs(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ki(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,_i(r)?(e=!0,Ti(t)):e=!1,io(t,n),yo(t,r,i),Eo(t,r,i,n),Ws(null,t,r,!0,e,n);case 19:return ia(e,t,n);case 23:case 24:return Gs(e,t,n)}throw Error(s(156,t.tag))},rc.prototype.render=function(e){$l(e,this._internalRoot,null,null)},rc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;$l(null,e,null,(function(){t[$r]=null}))},et=function(e){13===e.tag&&(dl(e,4,pl()),nc(e,4))},tt=function(e){13===e.tag&&(dl(e,67108864,pl()),nc(e,67108864))},nt=function(e){if(13===e.tag){var t=pl(),n=fl(e);dl(e,n,t),nc(e,n)}},rt=function(e,t){return t()},we=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ii(r);if(!i)throw Error(s(90));Q(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&se(e,!!n.multiple,t,!1)}},Ne=Tl,Le=function(e,t,n,r,i){var o=Na;Na|=4;try{return Wi(98,e.bind(null,t,n,r,i))}finally{0===(Na=o)&&(za(),zi())}},Me=function(){0===(49&Na)&&(function(){if(null!==il){var e=il;il=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,_l(e,Hi())}))}zi()}(),Dl())},De=function(e,t){var n=Na;Na|=2;try{return e(t)}finally{0===(Na=n)&&(za(),zi())}};var ac={Events:[ni,ri,ii,xe,Ae,Dl,{current:!1}]},lc={findFiberByHostInstance:ti,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},cc={bundleType:lc.bundleType,version:lc.version,rendererPackageName:lc.rendererPackageName,rendererConfig:lc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Je(e))?null:e.stateNode},findFiberByHostInstance:lc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uc.isDisabled&&uc.supportsFiber)try{bi=uc.inject(cc),Oi=uc}catch(ge){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ac,t.createPortal=sc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw Error(s(268,Object.keys(e)))}return e=null===(e=Je(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Na;if(0!==(48&n))return e(t);Na|=1;try{if(e)return Wi(99,e.bind(null,t))}finally{Na=n,zi()}},t.hydrate=function(e,t,n){if(!ic(t))throw Error(s(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ic(t))throw Error(s(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ic(e))throw Error(s(40));return!!e._reactRootContainer&&(El((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[$r]=null}))})),!0)},t.unstable_batchedUpdates=Tl,t.unstable_createPortal=function(e,t){return sc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ic(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},1168:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(534)},4389:function(e,t,n){"use strict";e.exports=n(9845)},1624:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,d=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,_=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,m=n?Symbol.for("react.fundamental"):60117,y=n?Symbol.for("react.responder"):60118,T=n?Symbol.for("react.scope"):60119;function E(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case h:case o:case a:case s:case f:return e;default:switch(e=e&&e.$$typeof){case c:case p:case _:case g:case l:return e;default:return t}}case i:return t}}}function b(e){return E(e)===h}t.AsyncMode=u,t.ConcurrentMode=h,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=p,t.Fragment=o,t.Lazy=_,t.Memo=g,t.Portal=i,t.Profiler=a,t.StrictMode=s,t.Suspense=f,t.isAsyncMode=function(e){return b(e)||E(e)===u},t.isConcurrentMode=b,t.isContextConsumer=function(e){return E(e)===c},t.isContextProvider=function(e){return E(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return E(e)===p},t.isFragment=function(e){return E(e)===o},t.isLazy=function(e){return E(e)===_},t.isMemo=function(e){return E(e)===g},t.isPortal=function(e){return E(e)===i},t.isProfiler=function(e){return E(e)===a},t.isStrictMode=function(e){return E(e)===s},t.isSuspense=function(e){return E(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===h||e===a||e===s||e===f||e===d||"object"===typeof e&&null!==e&&(e.$$typeof===_||e.$$typeof===g||e.$$typeof===l||e.$$typeof===c||e.$$typeof===p||e.$$typeof===m||e.$$typeof===y||e.$$typeof===T||e.$$typeof===v)},t.typeOf=E},6214:function(e,t,n){"use strict";e.exports=n(1624)},5230:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.for("react.offscreen");function v(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case a:case s:case p:case f:return e;default:switch(e=e&&e.$$typeof){case u:case c:case h:case g:case d:case l:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},6440:function(e,t,n){"use strict";n(5230)},5918:function(e,t,n){"use strict";n(1843);var r=n(7313),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),t.Fragment=o("react.fragment")}var s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:s.current}}t.jsx=c,t.jsxs=c},306:function(e,t,n){"use strict";var r=n(1843),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var s=60109,a=60110,l=60112;t.Suspense=60113;var c=60115,u=60116;if("function"===typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),o=h("react.portal"),t.Fragment=h("react.fragment"),t.StrictMode=h("react.strict_mode"),t.Profiler=h("react.profiler"),s=h("react.provider"),a=h("react.context"),l=h("react.forward_ref"),t.Suspense=h("react.suspense"),c=h("react.memo"),u=h("react.lazy")}var p="function"===typeof Symbol&&Symbol.iterator;function f(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function _(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||d}function v(){}function m(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||d}_.prototype.isReactComponent={},_.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(f(85));this.updater.enqueueSetState(this,e,t,"setState")},_.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=_.prototype;var y=m.prototype=new v;y.constructor=m,r(y,_.prototype),y.isPureReactComponent=!0;var T={current:null},E=Object.prototype.hasOwnProperty,b={key:!0,ref:!0,__self:!0,__source:!0};function O(e,t,n){var r,o={},s=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)E.call(t,r)&&!b.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:i,type:e,key:s,ref:a,props:o,_owner:T.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var k=/\/+/g;function w(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function R(e,t,n,r,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case o:l=!0}}if(l)return s=s(l=e),e=""===r?"."+w(l,0):r,Array.isArray(s)?(n="",null!=e&&(n=e.replace(k,"$&/")+"/"),R(s,t,n,"",(function(e){return e}))):null!=s&&(S(s)&&(s=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(k,"$&/")+"/")+e)),t.push(s)),1;if(l=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var u=r+w(a=e[c],c);l+=R(a,t,n,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=R(a=a.value,t,n,u=r+w(a,c++),s);else if("object"===a)throw t=""+e,Error(f(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function C(e,t,n){if(null==e)return e;var r=[],i=0;return R(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function I(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var x={current:null};function A(){var e=x.current;if(null===e)throw Error(f(321));return e}var N={ReactCurrentDispatcher:x,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:T,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error(f(143));return e}},t.Component=_,t.PureComponent=m,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(f(267,e));var o=r({},e.props),s=e.key,a=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,l=T.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)E.call(t,u)&&!b.hasOwnProperty(u)&&(o[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){c=Array(u);for(var h=0;h<u;h++)c[h]=arguments[h+2];o.children=c}return{$$typeof:i,type:e.type,key:s,ref:a,props:o,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:a,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=O,t.createFactory=function(e){var t=O.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:u,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return A().useCallback(e,t)},t.useContext=function(e,t){return A().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return A().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return A().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return A().useLayoutEffect(e,t)},t.useMemo=function(e,t){return A().useMemo(e,t)},t.useReducer=function(e,t,n){return A().useReducer(e,t,n)},t.useRef=function(e){return A().useRef(e)},t.useState=function(e){return A().useState(e)},t.version="17.0.2"},7313:function(e,t,n){"use strict";e.exports=n(306)},6417:function(e,t,n){"use strict";e.exports=n(5918)},3095:function(e,t){"use strict";var n,r,i,o;if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,u=null,h=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(h,0))},r=function(e,t){u=setTimeout(e,t)},i=function(){clearTimeout(u)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var p=window.setTimeout,f=window.clearTimeout;if("undefined"!==typeof console){var d=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof d&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var g=!1,_=null,v=-1,m=5,y=0;t.unstable_shouldYield=function(){return t.unstable_now()>=y},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):m=0<e?Math.floor(1e3/e):5};var T=new MessageChannel,E=T.port2;T.port1.onmessage=function(){if(null!==_){var e=t.unstable_now();y=e+m;try{_(!0,e)?E.postMessage(null):(g=!1,_=null)}catch(n){throw E.postMessage(null),n}}else g=!1},n=function(e){_=e,g||(g=!0,E.postMessage(null))},r=function(e,n){v=p((function(){e(t.unstable_now())}),n)},i=function(){f(v),v=-1}}function b(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<k(i,t)))break e;e[r]=t,e[n]=i,n=r}}function O(e){return void 0===(e=e[0])?null:e}function S(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,s=e[o],a=o+1,l=e[a];if(void 0!==s&&0>k(s,n))void 0!==l&&0>k(l,s)?(e[r]=l,e[a]=n,r=a):(e[r]=s,e[o]=n,r=o);else{if(!(void 0!==l&&0>k(l,n)))break e;e[r]=l,e[a]=n,r=a}}}return t}return null}function k(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var w=[],R=[],C=1,I=null,x=3,A=!1,N=!1,L=!1;function M(e){for(var t=O(R);null!==t;){if(null===t.callback)S(R);else{if(!(t.startTime<=e))break;S(R),t.sortIndex=t.expirationTime,b(w,t)}t=O(R)}}function D(e){if(L=!1,M(e),!N)if(null!==O(w))N=!0,n(P);else{var t=O(R);null!==t&&r(D,t.startTime-e)}}function P(e,n){N=!1,L&&(L=!1,i()),A=!0;var o=x;try{for(M(n),I=O(w);null!==I&&(!(I.expirationTime>n)||e&&!t.unstable_shouldYield());){var s=I.callback;if("function"===typeof s){I.callback=null,x=I.priorityLevel;var a=s(I.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?I.callback=a:I===O(w)&&S(w),M(n)}else S(w);I=O(w)}if(null!==I)var l=!0;else{var c=O(R);null!==c&&r(D,c.startTime-n),l=!1}return l}finally{I=null,x=o,A=!1}}var B=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){N||A||(N=!0,n(P))},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return O(w)},t.unstable_next=function(e){switch(x){case 1:case 2:case 3:var t=3;break;default:t=x}var n=x;x=t;try{return e()}finally{x=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=B,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=x;x=e;try{return t()}finally{x=n}},t.unstable_scheduleCallback=function(e,o,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:C++,callback:o,priorityLevel:e,startTime:s,expirationTime:l=s+l,sortIndex:-1},s>a?(e.sortIndex=s,b(R,e),null===O(w)&&e===O(R)&&(L?i():L=!0,r(D,s-a))):(e.sortIndex=l,b(w,e),N||A||(N=!0,n(P))),e},t.unstable_wrapCallback=function(e){var t=x;return function(){var n=x;x=t;try{return e.apply(this,arguments)}finally{x=n}}}},2224:function(e,t,n){"use strict";e.exports=n(3095)},4963:function(e,t,n){var r=n(6690).default,i=n(9728).default,o=Symbol("SemVer ANY"),s=function(){"use strict";function e(t,n){if(r(this,e),n=a(n),t instanceof e){if(t.loose===!!n.loose)return t;t=t.value}t=t.trim().split(/\s+/).join(" "),p("comparator",t,n),this.options=n,this.loose=!!n.loose,this.parse(t),this.semver===o?this.value="":this.value=this.operator+this.semver.version,p("comp",this)}return i(e,[{key:"parse",value:function(e){var t=this.options.loose?c[u.COMPARATORLOOSE]:c[u.COMPARATOR],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: ".concat(e));this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new f(n[2],this.options.loose):this.semver=o}},{key:"toString",value:function(){return this.value}},{key:"test",value:function(e){if(p("Comparator.test",e,this.options.loose),this.semver===o||e===o)return!0;if("string"===typeof e)try{e=new f(e,this.options)}catch(t){return!1}return h(e,this.operator,this.semver,this.options)}},{key:"intersects",value:function(t,n){if(!(t instanceof e))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new d(t.value,n).test(this.value):""===t.operator?""===t.value||new d(this.value,n).test(t.semver):(!(n=a(n)).includePrerelease||"<0.0.0-0"!==this.value&&"<0.0.0-0"!==t.value)&&(!(!n.includePrerelease&&(this.value.startsWith("<0.0.0")||t.value.startsWith("<0.0.0")))&&(!(!this.operator.startsWith(">")||!t.operator.startsWith(">"))||(!(!this.operator.startsWith("<")||!t.operator.startsWith("<"))||(!(this.semver.version!==t.semver.version||!this.operator.includes("=")||!t.operator.includes("="))||(!!(h(this.semver,"<",t.semver,n)&&this.operator.startsWith(">")&&t.operator.startsWith("<"))||!!(h(this.semver,">",t.semver,n)&&this.operator.startsWith("<")&&t.operator.startsWith(">")))))))}}],[{key:"ANY",get:function(){return o}}]),e}();e.exports=s;var a=n(8641),l=n(9043),c=l.safeRe,u=l.t,h=n(5198),p=n(4750),f=n(6227),d=n(835)},835:function(e,t,n){var r=n(861).default,i=n(4704).default,o=n(6690).default,s=n(9728).default,a=function(){"use strict";function e(t,n){var r=this;if(o(this,e),n=c(n),t instanceof e)return t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease?t:new e(t.raw,n);if(t instanceof u)return this.raw=t.value,this.set=[[t]],this.format(),this;if(this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease,this.raw=t.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map((function(e){return r.parseRange(e.trim())})).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: ".concat(this.raw));if(this.set.length>1){var s=this.set[0];if(this.set=this.set.filter((function(e){return!b(e[0])})),0===this.set.length)this.set=[s];else if(this.set.length>1){var a,l=i(this.set);try{for(l.s();!(a=l.n()).done;){var h=a.value;if(1===h.length&&O(h[0])){this.set=[h];break}}}catch(p){l.e(p)}finally{l.f()}}}this.format()}return s(e,[{key:"format",value:function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range}},{key:"toString",value:function(){return this.range}},{key:"parseRange",value:function(e){var t=this,n=((this.options.includePrerelease&&T)|(this.options.loose&&E))+":"+e,o=l.get(n);if(o)return o;var s=this.options.loose,a=s?d[g.HYPHENRANGELOOSE]:d[g.HYPHENRANGE];e=e.replace(a,D(this.options.includePrerelease)),h("hyphen replace",e),e=e.replace(d[g.COMPARATORTRIM],_),h("comparator trim",e),e=e.replace(d[g.TILDETRIM],v),h("tilde trim",e),e=e.replace(d[g.CARETTRIM],m),h("caret trim",e);var c=e.split(" ").map((function(e){return k(e,t.options)})).join(" ").split(/\s+/).map((function(e){return M(e,t.options)}));s&&(c=c.filter((function(e){return h("loose invalid filter",e,t.options),!!e.match(d[g.COMPARATORLOOSE])}))),h("range list",c);var p,f=new Map,y=c.map((function(e){return new u(e,t.options)})),O=i(y);try{for(O.s();!(p=O.n()).done;){var S=p.value;if(b(S))return[S];f.set(S.value,S)}}catch(R){O.e(R)}finally{O.f()}f.size>1&&f.has("")&&f.delete("");var w=r(f.values());return l.set(n,w),w}},{key:"intersects",value:function(t,n){if(!(t instanceof e))throw new TypeError("a Range is required");return this.set.some((function(e){return S(e,n)&&t.set.some((function(t){return S(t,n)&&e.every((function(e){return t.every((function(t){return e.intersects(t,n)}))}))}))}))}},{key:"test",value:function(e){if(!e)return!1;if("string"===typeof e)try{e=new p(e,this.options)}catch(n){return!1}for(var t=0;t<this.set.length;t++)if(P(this.set[t],e,this.options))return!0;return!1}}]),e}();e.exports=a;var l=new(n(2985))({max:1e3}),c=n(8641),u=n(4963),h=n(4750),p=n(6227),f=n(9043),d=f.safeRe,g=f.t,_=f.comparatorTrimReplace,v=f.tildeTrimReplace,m=f.caretTrimReplace,y=n(608),T=y.FLAG_INCLUDE_PRERELEASE,E=y.FLAG_LOOSE,b=function(e){return"<0.0.0-0"===e.value},O=function(e){return""===e.value},S=function(e,t){for(var n=!0,r=e.slice(),i=r.pop();n&&r.length;)n=r.every((function(e){return i.intersects(e,t)})),i=r.pop();return n},k=function(e,t){return h("comp",e,t),e=I(e,t),h("caret",e),e=R(e,t),h("tildes",e),e=A(e,t),h("xrange",e),e=L(e,t),h("stars",e),e},w=function(e){return!e||"x"===e.toLowerCase()||"*"===e},R=function(e,t){return e.trim().split(/\s+/).map((function(e){return C(e,t)})).join(" ")},C=function(e,t){var n=t.loose?d[g.TILDELOOSE]:d[g.TILDE];return e.replace(n,(function(t,n,r,i,o){var s;return h("tilde",e,t,n,r,i,o),w(n)?s="":w(r)?s=">=".concat(n,".0.0 <").concat(+n+1,".0.0-0"):w(i)?s=">=".concat(n,".").concat(r,".0 <").concat(n,".").concat(+r+1,".0-0"):o?(h("replaceTilde pr",o),s=">=".concat(n,".").concat(r,".").concat(i,"-").concat(o," <").concat(n,".").concat(+r+1,".0-0")):s=">=".concat(n,".").concat(r,".").concat(i," <").concat(n,".").concat(+r+1,".0-0"),h("tilde return",s),s}))},I=function(e,t){return e.trim().split(/\s+/).map((function(e){return x(e,t)})).join(" ")},x=function(e,t){h("caret",e,t);var n=t.loose?d[g.CARETLOOSE]:d[g.CARET],r=t.includePrerelease?"-0":"";return e.replace(n,(function(t,n,i,o,s){var a;return h("caret",e,t,n,i,o,s),w(n)?a="":w(i)?a=">=".concat(n,".0.0").concat(r," <").concat(+n+1,".0.0-0"):w(o)?a="0"===n?">=".concat(n,".").concat(i,".0").concat(r," <").concat(n,".").concat(+i+1,".0-0"):">=".concat(n,".").concat(i,".0").concat(r," <").concat(+n+1,".0.0-0"):s?(h("replaceCaret pr",s),a="0"===n?"0"===i?">=".concat(n,".").concat(i,".").concat(o,"-").concat(s," <").concat(n,".").concat(i,".").concat(+o+1,"-0"):">=".concat(n,".").concat(i,".").concat(o,"-").concat(s," <").concat(n,".").concat(+i+1,".0-0"):">=".concat(n,".").concat(i,".").concat(o,"-").concat(s," <").concat(+n+1,".0.0-0")):(h("no pr"),a="0"===n?"0"===i?">=".concat(n,".").concat(i,".").concat(o).concat(r," <").concat(n,".").concat(i,".").concat(+o+1,"-0"):">=".concat(n,".").concat(i,".").concat(o).concat(r," <").concat(n,".").concat(+i+1,".0-0"):">=".concat(n,".").concat(i,".").concat(o," <").concat(+n+1,".0.0-0")),h("caret return",a),a}))},A=function(e,t){return h("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return N(e,t)})).join(" ")},N=function(e,t){e=e.trim();var n=t.loose?d[g.XRANGELOOSE]:d[g.XRANGE];return e.replace(n,(function(n,r,i,o,s,a){h("xRange",e,n,r,i,o,s,a);var l=w(i),c=l||w(o),u=c||w(s),p=u;return"="===r&&p&&(r=""),a=t.includePrerelease?"-0":"",l?n=">"===r||"<"===r?"<0.0.0-0":"*":r&&p?(c&&(o=0),s=0,">"===r?(r=">=",c?(i=+i+1,o=0,s=0):(o=+o+1,s=0)):"<="===r&&(r="<",c?i=+i+1:o=+o+1),"<"===r&&(a="-0"),n="".concat(r+i,".").concat(o,".").concat(s).concat(a)):c?n=">=".concat(i,".0.0").concat(a," <").concat(+i+1,".0.0-0"):u&&(n=">=".concat(i,".").concat(o,".0").concat(a," <").concat(i,".").concat(+o+1,".0-0")),h("xRange return",n),n}))},L=function(e,t){return h("replaceStars",e,t),e.trim().replace(d[g.STAR],"")},M=function(e,t){return h("replaceGTE0",e,t),e.trim().replace(d[t.includePrerelease?g.GTE0PRE:g.GTE0],"")},D=function(e){return function(t,n,r,i,o,s,a,l,c,u,h,p,f){return n=w(r)?"":w(i)?">=".concat(r,".0.0").concat(e?"-0":""):w(o)?">=".concat(r,".").concat(i,".0").concat(e?"-0":""):s?">=".concat(n):">=".concat(n).concat(e?"-0":""),l=w(c)?"":w(u)?"<".concat(+c+1,".0.0-0"):w(h)?"<".concat(c,".").concat(+u+1,".0-0"):p?"<=".concat(c,".").concat(u,".").concat(h,"-").concat(p):e?"<".concat(c,".").concat(u,".").concat(+h+1,"-0"):"<=".concat(l),"".concat(n," ").concat(l).trim()}},P=function(e,t,n){for(var r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(var i=0;i<e.length;i++)if(h(e[i].semver),e[i].semver!==u.ANY&&e[i].semver.prerelease.length>0){var o=e[i].semver;if(o.major===t.major&&o.minor===t.minor&&o.patch===t.patch)return!0}return!1}return!0}},6227:function(e,t,n){var r=n(6690).default,i=n(9728).default,o=n(4750),s=n(608),a=s.MAX_LENGTH,l=s.MAX_SAFE_INTEGER,c=n(9043),u=c.safeRe,h=c.t,p=n(8641),f=n(375).compareIdentifiers,d=function(){"use strict";function e(t,n){if(r(this,e),n=p(n),t instanceof e){if(t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease)return t;t=t.version}else if("string"!==typeof t)throw new TypeError('Invalid version. Must be a string. Got type "'.concat(typeof t,'".'));if(t.length>a)throw new TypeError("version is longer than ".concat(a," characters"));o("SemVer",t,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;var i=t.trim().match(n.loose?u[h.LOOSE]:u[h.FULL]);if(!i)throw new TypeError("Invalid Version: ".concat(t));if(this.raw=t,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>l||this.major<0)throw new TypeError("Invalid major version");if(this.minor>l||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>l||this.patch<0)throw new TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<l)return t}return e})):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}return i(e,[{key:"format",value:function(){return this.version="".concat(this.major,".").concat(this.minor,".").concat(this.patch),this.prerelease.length&&(this.version+="-".concat(this.prerelease.join("."))),this.version}},{key:"toString",value:function(){return this.version}},{key:"compare",value:function(t){if(o("SemVer.compare",this.version,this.options,t),!(t instanceof e)){if("string"===typeof t&&t===this.version)return 0;t=new e(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}},{key:"compareMain",value:function(t){return t instanceof e||(t=new e(t,this.options)),f(this.major,t.major)||f(this.minor,t.minor)||f(this.patch,t.patch)}},{key:"comparePre",value:function(t){if(t instanceof e||(t=new e(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;var n=0;do{var r=this.prerelease[n],i=t.prerelease[n];if(o("prerelease compare",n,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return f(r,i)}while(++n)}},{key:"compareBuild",value:function(t){t instanceof e||(t=new e(t,this.options));var n=0;do{var r=this.build[n],i=t.build[n];if(o("prerelease compare",n,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return f(r,i)}while(++n)}},{key:"inc",value:function(e,t,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":var r=Number(n)?1:0;if(!t&&!1===n)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[r];else{for(var i=this.prerelease.length;--i>=0;)"number"===typeof this.prerelease[i]&&(this.prerelease[i]++,i=-2);if(-1===i){if(t===this.prerelease.join(".")&&!1===n)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(r)}}if(t){var o=[t,r];!1===n&&(o=[t]),0===f(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=o):this.prerelease=o}break;default:throw new Error("invalid increment argument: ".concat(e))}return this.raw=this.format(),this.build.length&&(this.raw+="+".concat(this.build.join("."))),this}}]),e}();e.exports=d},8347:function(e,t,n){var r=n(464);e.exports=function(e,t){var n=r(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null}},5198:function(e,t,n){var r=n(2323),i=n(4506),o=n(6097),s=n(7119),a=n(6571),l=n(3077);e.exports=function(e,t,n,c){switch(t){case"===":return"object"===typeof e&&(e=e.version),"object"===typeof n&&(n=n.version),e===n;case"!==":return"object"===typeof e&&(e=e.version),"object"===typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return r(e,n,c);case"!=":return i(e,n,c);case">":return o(e,n,c);case">=":return s(e,n,c);case"<":return a(e,n,c);case"<=":return l(e,n,c);default:throw new TypeError("Invalid operator: ".concat(t))}}},8786:function(e,t,n){var r=n(6227),i=n(464),o=n(9043),s=o.safeRe,a=o.t;e.exports=function(e,t){if(e instanceof r)return e;if("number"===typeof e&&(e=String(e)),"string"!==typeof e)return null;var n=null;if((t=t||{}).rtl){for(var o;(o=s[a.COERCERTL].exec(e))&&(!n||n.index+n[0].length!==e.length);)n&&o.index+o[0].length===n.index+n[0].length||(n=o),s[a.COERCERTL].lastIndex=o.index+o[1].length+o[2].length;s[a.COERCERTL].lastIndex=-1}else n=e.match(s[a.COERCE]);return null===n?null:i("".concat(n[2],".").concat(n[3]||"0",".").concat(n[4]||"0"),t)}},2730:function(e,t,n){var r=n(6227);e.exports=function(e,t,n){var i=new r(e,n),o=new r(t,n);return i.compare(o)||i.compareBuild(o)}},9561:function(e,t,n){var r=n(3074);e.exports=function(e,t){return r(e,t,!0)}},3074:function(e,t,n){var r=n(6227);e.exports=function(e,t,n){return new r(e,n).compare(new r(t,n))}},8031:function(e,t,n){var r=n(464);e.exports=function(e,t){var n=r(e,null,!0),i=r(t,null,!0),o=n.compare(i);if(0===o)return null;var s=o>0,a=s?n:i,l=s?i:n,c=!!a.prerelease.length;if(!!l.prerelease.length&&!c)return l.patch||l.minor?a.patch?"patch":a.minor?"minor":"major":"major";var u=c?"pre":"";return n.major!==i.major?u+"major":n.minor!==i.minor?u+"minor":n.patch!==i.patch?u+"patch":"prerelease"}},2323:function(e,t,n){var r=n(3074);e.exports=function(e,t,n){return 0===r(e,t,n)}},6097:function(e,t,n){var r=n(3074);e.exports=function(e,t,n){return r(e,t,n)>0}},7119:function(e,t,n){var r=n(3074);e.exports=function(e,t,n){return r(e,t,n)>=0}},7022:function(e,t,n){var r=n(6227);e.exports=function(e,t,n,i,o){"string"===typeof n&&(o=i,i=n,n=void 0);try{return new r(e instanceof r?e.version:e,n).inc(t,i,o).version}catch(s){return null}}},6571:function(e,t,n){var r=n(3074);e.exports=function(e,t,n){return r(e,t,n)<0}},3077:function(e,t,n){var r=n(3074);e.exports=function(e,t,n){return r(e,t,n)<=0}},7862:function(e,t,n){var r=n(6227);e.exports=function(e,t){return new r(e,t).major}},9956:function(e,t,n){var r=n(6227);e.exports=function(e,t){return new r(e,t).minor}},4506:function(e,t,n){var r=n(3074);e.exports=function(e,t,n){return 0!==r(e,t,n)}},464:function(e,t,n){var r=n(6227);e.exports=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e instanceof r)return e;try{return new r(e,t)}catch(i){if(!n)return null;throw i}}},3227:function(e,t,n){var r=n(6227);e.exports=function(e,t){return new r(e,t).patch}},2972:function(e,t,n){var r=n(464);e.exports=function(e,t){var n=r(e,t);return n&&n.prerelease.length?n.prerelease:null}},1880:function(e,t,n){var r=n(3074);e.exports=function(e,t,n){return r(t,e,n)}},4597:function(e,t,n){var r=n(2730);e.exports=function(e,t){return e.sort((function(e,n){return r(n,e,t)}))}},3380:function(e,t,n){var r=n(835);e.exports=function(e,t,n){try{t=new r(t,n)}catch(i){return!1}return t.test(e)}},2420:function(e,t,n){var r=n(2730);e.exports=function(e,t){return e.sort((function(e,n){return r(e,n,t)}))}},8911:function(e,t,n){var r=n(464);e.exports=function(e,t){var n=r(e,t);return n?n.version:null}},153:function(e,t,n){var r=n(9043),i=n(608),o=n(6227),s=n(375),a=n(464),l=n(8911),c=n(8347),u=n(7022),h=n(8031),p=n(7862),f=n(9956),d=n(3227),g=n(2972),_=n(3074),v=n(1880),m=n(9561),y=n(2730),T=n(2420),E=n(4597),b=n(6097),O=n(6571),S=n(2323),k=n(4506),w=n(7119),R=n(3077),C=n(5198),I=n(8786),x=n(4963),A=n(835),N=n(3380),L=n(4602),M=n(6693),D=n(7432),P=n(5894),B=n(9878),F=n(3273),U=n(7242),Z=n(838),G=n(971),H=n(3538),V=n(2298);e.exports={parse:a,valid:l,clean:c,inc:u,diff:h,major:p,minor:f,patch:d,prerelease:g,compare:_,rcompare:v,compareLoose:m,compareBuild:y,sort:T,rsort:E,gt:b,lt:O,eq:S,neq:k,gte:w,lte:R,cmp:C,coerce:I,Comparator:x,Range:A,satisfies:N,toComparators:L,maxSatisfying:M,minSatisfying:D,minVersion:P,validRange:B,outside:F,gtr:U,ltr:Z,intersects:G,simplifyRange:H,subset:V,SemVer:o,re:r.re,src:r.src,tokens:r.t,SEMVER_SPEC_VERSION:i.SEMVER_SPEC_VERSION,RELEASE_TYPES:i.RELEASE_TYPES,compareIdentifiers:s.compareIdentifiers,rcompareIdentifiers:s.rcompareIdentifiers}},608:function(e){var t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},4750:function(e){var t="object"===typeof process&&{NODE_ENV:"production",PUBLIC_URL:"/edu/blockly-sprint",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:'"AIzaSyCRe7jfIs-nwkbnJ0Q6rozxjrnBEpr52Sw",',REACT_APP_FIREBASE_AUTO_DOMAIN:'"web-python-logs.firebaseapp.com",',REACT_APP_FIREBASE_PROJECT_ID:'"web-python-logs",',REACT_APP_FIREBASE_STORAGE_BUCKET:'"web-python-logs.appspot.com",',REACT_APP_FIREBASE_MESSAGING_SENDER_ID:'"991477648249",',REACT_APP_FIREBASE_APP_ID:"1:991477648249:web:825e878fd8259bb8073da8"}.NODE_DEBUG&&/\bsemver\b/i.test({NODE_ENV:"production",PUBLIC_URL:"/edu/blockly-sprint",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:'"AIzaSyCRe7jfIs-nwkbnJ0Q6rozxjrnBEpr52Sw",',REACT_APP_FIREBASE_AUTO_DOMAIN:'"web-python-logs.firebaseapp.com",',REACT_APP_FIREBASE_PROJECT_ID:'"web-python-logs",',REACT_APP_FIREBASE_STORAGE_BUCKET:'"web-python-logs.appspot.com",',REACT_APP_FIREBASE_MESSAGING_SENDER_ID:'"991477648249",',REACT_APP_FIREBASE_APP_ID:"1:991477648249:web:825e878fd8259bb8073da8"}.NODE_DEBUG)?function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=console).error.apply(e,["SEMVER"].concat(n))}:function(){};e.exports=t},375:function(e){var t=/^[0-9]+$/,n=function(e,n){var r=t.test(e),i=t.test(n);return r&&i&&(e=+e,n=+n),e===n?0:r&&!i?-1:i&&!r?1:e<n?-1:1};e.exports={compareIdentifiers:n,rcompareIdentifiers:function(e,t){return n(t,e)}}},8641:function(e){var t=Object.freeze({loose:!0}),n=Object.freeze({});e.exports=function(e){return e?"object"!==typeof e?t:e:n}},9043:function(e,t,n){var r=n(7424).default,i=n(608),o=i.MAX_SAFE_COMPONENT_LENGTH,s=i.MAX_SAFE_BUILD_LENGTH,a=i.MAX_LENGTH,l=n(4750),c=(t=e.exports={}).re=[],u=t.safeRe=[],h=t.src=[],p=t.t={},f=0,d="[a-zA-Z0-9-]",g=[["\\s",1],["\\d",a],[d,s]],_=function(e,t,n){var i=function(e){for(var t=0,n=g;t<n.length;t++){var i=r(n[t],2),o=i[0],s=i[1];e=e.split("".concat(o,"*")).join("".concat(o,"{0,").concat(s,"}")).split("".concat(o,"+")).join("".concat(o,"{1,").concat(s,"}"))}return e}(t),o=f++;l(e,o,t),p[e]=o,h[o]=t,c[o]=new RegExp(t,n?"g":void 0),u[o]=new RegExp(i,n?"g":void 0)};_("NUMERICIDENTIFIER","0|[1-9]\\d*"),_("NUMERICIDENTIFIERLOOSE","\\d+"),_("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-]".concat(d,"*")),_("MAINVERSION","(".concat(h[p.NUMERICIDENTIFIER],")\\.")+"(".concat(h[p.NUMERICIDENTIFIER],")\\.")+"(".concat(h[p.NUMERICIDENTIFIER],")")),_("MAINVERSIONLOOSE","(".concat(h[p.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(h[p.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(h[p.NUMERICIDENTIFIERLOOSE],")")),_("PRERELEASEIDENTIFIER","(?:".concat(h[p.NUMERICIDENTIFIER],"|").concat(h[p.NONNUMERICIDENTIFIER],")")),_("PRERELEASEIDENTIFIERLOOSE","(?:".concat(h[p.NUMERICIDENTIFIERLOOSE],"|").concat(h[p.NONNUMERICIDENTIFIER],")")),_("PRERELEASE","(?:-(".concat(h[p.PRERELEASEIDENTIFIER],"(?:\\.").concat(h[p.PRERELEASEIDENTIFIER],")*))")),_("PRERELEASELOOSE","(?:-?(".concat(h[p.PRERELEASEIDENTIFIERLOOSE],"(?:\\.").concat(h[p.PRERELEASEIDENTIFIERLOOSE],")*))")),_("BUILDIDENTIFIER","".concat(d,"+")),_("BUILD","(?:\\+(".concat(h[p.BUILDIDENTIFIER],"(?:\\.").concat(h[p.BUILDIDENTIFIER],")*))")),_("FULLPLAIN","v?".concat(h[p.MAINVERSION]).concat(h[p.PRERELEASE],"?").concat(h[p.BUILD],"?")),_("FULL","^".concat(h[p.FULLPLAIN],"$")),_("LOOSEPLAIN","[v=\\s]*".concat(h[p.MAINVERSIONLOOSE]).concat(h[p.PRERELEASELOOSE],"?").concat(h[p.BUILD],"?")),_("LOOSE","^".concat(h[p.LOOSEPLAIN],"$")),_("GTLT","((?:<|>)?=?)"),_("XRANGEIDENTIFIERLOOSE","".concat(h[p.NUMERICIDENTIFIERLOOSE],"|x|X|\\*")),_("XRANGEIDENTIFIER","".concat(h[p.NUMERICIDENTIFIER],"|x|X|\\*")),_("XRANGEPLAIN","[v=\\s]*(".concat(h[p.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(h[p.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(h[p.XRANGEIDENTIFIER],")")+"(?:".concat(h[p.PRERELEASE],")?").concat(h[p.BUILD],"?")+")?)?"),_("XRANGEPLAINLOOSE","[v=\\s]*(".concat(h[p.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(h[p.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(h[p.XRANGEIDENTIFIERLOOSE],")")+"(?:".concat(h[p.PRERELEASELOOSE],")?").concat(h[p.BUILD],"?")+")?)?"),_("XRANGE","^".concat(h[p.GTLT],"\\s*").concat(h[p.XRANGEPLAIN],"$")),_("XRANGELOOSE","^".concat(h[p.GTLT],"\\s*").concat(h[p.XRANGEPLAINLOOSE],"$")),_("COERCE","".concat("(^|[^\\d])(\\d{1,").concat(o,"})")+"(?:\\.(\\d{1,".concat(o,"}))?")+"(?:\\.(\\d{1,".concat(o,"}))?")+"(?:$|[^\\d])"),_("COERCERTL",h[p.COERCE],!0),_("LONETILDE","(?:~>?)"),_("TILDETRIM","(\\s*)".concat(h[p.LONETILDE],"\\s+"),!0),t.tildeTrimReplace="$1~",_("TILDE","^".concat(h[p.LONETILDE]).concat(h[p.XRANGEPLAIN],"$")),_("TILDELOOSE","^".concat(h[p.LONETILDE]).concat(h[p.XRANGEPLAINLOOSE],"$")),_("LONECARET","(?:\\^)"),_("CARETTRIM","(\\s*)".concat(h[p.LONECARET],"\\s+"),!0),t.caretTrimReplace="$1^",_("CARET","^".concat(h[p.LONECARET]).concat(h[p.XRANGEPLAIN],"$")),_("CARETLOOSE","^".concat(h[p.LONECARET]).concat(h[p.XRANGEPLAINLOOSE],"$")),_("COMPARATORLOOSE","^".concat(h[p.GTLT],"\\s*(").concat(h[p.LOOSEPLAIN],")$|^$")),_("COMPARATOR","^".concat(h[p.GTLT],"\\s*(").concat(h[p.FULLPLAIN],")$|^$")),_("COMPARATORTRIM","(\\s*)".concat(h[p.GTLT],"\\s*(").concat(h[p.LOOSEPLAIN],"|").concat(h[p.XRANGEPLAIN],")"),!0),t.comparatorTrimReplace="$1$2$3",_("HYPHENRANGE","^\\s*(".concat(h[p.XRANGEPLAIN],")")+"\\s+-\\s+"+"(".concat(h[p.XRANGEPLAIN],")")+"\\s*$"),_("HYPHENRANGELOOSE","^\\s*(".concat(h[p.XRANGEPLAINLOOSE],")")+"\\s+-\\s+"+"(".concat(h[p.XRANGEPLAINLOOSE],")")+"\\s*$"),_("STAR","(<|>)?=?\\s*\\*"),_("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),_("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},7242:function(e,t,n){var r=n(3273);e.exports=function(e,t,n){return r(e,t,">",n)}},971:function(e,t,n){var r=n(835);e.exports=function(e,t,n){return e=new r(e,n),t=new r(t,n),e.intersects(t,n)}},838:function(e,t,n){var r=n(3273);e.exports=function(e,t,n){return r(e,t,"<",n)}},6693:function(e,t,n){var r=n(6227),i=n(835);e.exports=function(e,t,n){var o=null,s=null,a=null;try{a=new i(t,n)}catch(l){return null}return e.forEach((function(e){a.test(e)&&(o&&-1!==s.compare(e)||(s=new r(o=e,n)))})),o}},7432:function(e,t,n){var r=n(6227),i=n(835);e.exports=function(e,t,n){var o=null,s=null,a=null;try{a=new i(t,n)}catch(l){return null}return e.forEach((function(e){a.test(e)&&(o&&1!==s.compare(e)||(s=new r(o=e,n)))})),o}},5894:function(e,t,n){var r=n(6227),i=n(835),o=n(6097);e.exports=function(e,t){e=new i(e,t);var n=new r("0.0.0");if(e.test(n))return n;if(n=new r("0.0.0-0"),e.test(n))return n;n=null;for(var s=function(){var t=e.set[a],i=null;t.forEach((function(e){var t=new r(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":i&&!o(t,i)||(i=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: ".concat(e.operator))}})),!i||n&&!o(n,i)||(n=i)},a=0;a<e.set.length;++a)s();return n&&e.test(n)?n:null}},3273:function(e,t,n){var r=n(6227),i=n(4963),o=i.ANY,s=n(835),a=n(3380),l=n(6097),c=n(6571),u=n(3077),h=n(7119);e.exports=function(e,t,n,p){var f,d,g,_,v;switch(e=new r(e,p),t=new s(t,p),n){case">":f=l,d=u,g=c,_=">",v=">=";break;case"<":f=c,d=h,g=l,_="<",v="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(a(e,t,p))return!1;for(var m,y=function(){var n=t.set[T],r=null,s=null;return n.forEach((function(e){e.semver===o&&(e=new i(">=0.0.0")),r=r||e,s=s||e,f(e.semver,r.semver,p)?r=e:g(e.semver,s.semver,p)&&(s=e)})),r.operator===_||r.operator===v?{v:!1}:s.operator&&s.operator!==_||!d(e,s.semver)?s.operator===v&&g(e,s.semver)?{v:!1}:void 0:{v:!1}},T=0;T<t.set.length;++T)if(m=y())return m.v;return!0}},3538:function(e,t,n){var r=n(7424).default,i=n(4704).default,o=n(3380),s=n(3074);e.exports=function(e,t,n){var a,l=[],c=null,u=null,h=e.sort((function(e,t){return s(e,t,n)})),p=i(h);try{for(p.s();!(a=p.n()).done;){var f=a.value;o(f,t,n)?(u=f,c||(c=f)):(u&&l.push([c,u]),u=null,c=null)}}catch(b){p.e(b)}finally{p.f()}c&&l.push([c,null]);for(var d=[],g=0,_=l;g<_.length;g++){var v=r(_[g],2),m=v[0],y=v[1];m===y?d.push(m):y||m!==h[0]?y?m===h[0]?d.push("<=".concat(y)):d.push("".concat(m," - ").concat(y)):d.push(">=".concat(m)):d.push("*")}var T=d.join(" || "),E="string"===typeof t.raw?t.raw:String(t);return T.length<E.length?T:t}},2298:function(e,t,n){var r=n(4704).default,i=n(835),o=n(4963),s=o.ANY,a=n(3380),l=n(3074),c=[new o(">=0.0.0-0")],u=[new o(">=0.0.0")],h=function(e,t,n){if(e===t)return!0;if(1===e.length&&e[0].semver===s){if(1===t.length&&t[0].semver===s)return!0;e=n.includePrerelease?c:u}if(1===t.length&&t[0].semver===s){if(n.includePrerelease)return!0;t=u}var i,o,h,d,g=new Set,_=r(e);try{for(_.s();!(h=_.n()).done;){var v=h.value;">"===v.operator||">="===v.operator?i=p(i,v,n):"<"===v.operator||"<="===v.operator?o=f(o,v,n):g.add(v.semver)}}catch(L){_.e(L)}finally{_.f()}if(g.size>1)return null;if(i&&o){if((d=l(i.semver,o.semver,n))>0)return null;if(0===d&&(">="!==i.operator||"<="!==o.operator))return null}var m,y,T,E,b,O=r(g);try{for(O.s();!(m=O.n()).done;){var S=m.value;if(i&&!a(S,String(i),n))return null;if(o&&!a(S,String(o),n))return null;var k,w=r(t);try{for(w.s();!(k=w.n()).done;){var R=k.value;if(!a(S,String(R),n))return!1}}catch(L){w.e(L)}finally{w.f()}return!0}}catch(L){O.e(L)}finally{O.f()}var C=!(!o||n.includePrerelease||!o.semver.prerelease.length)&&o.semver,I=!(!i||n.includePrerelease||!i.semver.prerelease.length)&&i.semver;C&&1===C.prerelease.length&&"<"===o.operator&&0===C.prerelease[0]&&(C=!1);var x,A=r(t);try{for(A.s();!(x=A.n()).done;){var N=x.value;if(b=b||">"===N.operator||">="===N.operator,E=E||"<"===N.operator||"<="===N.operator,i)if(I&&N.semver.prerelease&&N.semver.prerelease.length&&N.semver.major===I.major&&N.semver.minor===I.minor&&N.semver.patch===I.patch&&(I=!1),">"===N.operator||">="===N.operator){if((y=p(i,N,n))===N&&y!==i)return!1}else if(">="===i.operator&&!a(i.semver,String(N),n))return!1;if(o)if(C&&N.semver.prerelease&&N.semver.prerelease.length&&N.semver.major===C.major&&N.semver.minor===C.minor&&N.semver.patch===C.patch&&(C=!1),"<"===N.operator||"<="===N.operator){if((T=f(o,N,n))===N&&T!==o)return!1}else if("<="===o.operator&&!a(o.semver,String(N),n))return!1;if(!N.operator&&(o||i)&&0!==d)return!1}}catch(L){A.e(L)}finally{A.f()}return!(i&&E&&!o&&0!==d)&&(!(o&&b&&!i&&0!==d)&&(!I&&!C))},p=function(e,t,n){if(!e)return t;var r=l(e.semver,t.semver,n);return r>0?e:r<0||">"===t.operator&&">="===e.operator?t:e},f=function(e,t,n){if(!e)return t;var r=l(e.semver,t.semver,n);return r<0?e:r>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e===t)return!0;e=new i(e,n),t=new i(t,n);var o,s=!1,a=r(e.set);try{e:for(a.s();!(o=a.n()).done;){var l,c=o.value,u=r(t.set);try{for(u.s();!(l=u.n()).done;){var p=l.value,f=h(c,p,n);if(s=s||null!==f,f)continue e}}catch(d){u.e(d)}finally{u.f()}if(s)return!1}}catch(d){a.e(d)}finally{a.f()}return!0}},4602:function(e,t,n){var r=n(835);e.exports=function(e,t){return new r(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))}},9878:function(e,t,n){var r=n(835);e.exports=function(e,t){try{return new r(e,t).range||"*"}catch(n){return null}}},1531:function(e,t,n){"use strict";var r=n(7313);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=r.useState,s=r.useEffect,a=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),i=r[0].inst,u=r[1];return a((function(){i.value=n,i.getSnapshot=t,c(i)&&u({inst:i})}),[e,n,t]),s((function(){return c(i)&&u({inst:i}),e((function(){c(i)&&u({inst:i})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},5531:function(e,t,n){"use strict";var r=n(7313),i=n(1239);var o="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},s=i.useSyncExternalStore,a=r.useRef,l=r.useEffect,c=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var h=a(null);if(null===h.current){var p={hasValue:!1,value:null};h.current=p}else p=h.current;h=c((function(){function e(e){if(!l){if(l=!0,s=e,e=r(e),void 0!==i&&p.hasValue){var t=p.value;if(i(t,e))return a=t}return a=e}if(t=a,o(s,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(s=e,a=n)}var s,a,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var f=s(e,h[0],h[1]);return l((function(){p.hasValue=!0,p.value=f}),[f]),u(f),f}},1239:function(e,t,n){"use strict";e.exports=n(1531)},7058:function(e,t,n){"use strict";e.exports=n(5531)},1024:function(e){"use strict";var t=function(){};e.exports=t},5863:function(e,t,n){"use strict";var r=n(7061).default;e.exports=function(e){e.prototype[Symbol.iterator]=r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.head;case 1:if(!t){e.next=7;break}return e.next=4,t.value;case 4:t=t.next,e.next=1;break;case 7:case"end":return e.stop()}}),e,this)}))}},9808:function(e,t,n){"use strict";function r(e){var t=this;if(t instanceof r||(t=new r),t.tail=null,t.head=null,t.length=0,e&&"function"===typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var n=0,i=arguments.length;n<i;n++)t.push(arguments[n]);return t}function i(e,t,n){var r=t===e.head?new a(n,null,t,e):new a(n,t,t.next,e);return null===r.next&&(e.tail=r),null===r.prev&&(e.head=r),e.length++,r}function o(e,t){e.tail=new a(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function s(e,t){e.head=new a(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function a(e,t,n,r){if(!(this instanceof a))return new a(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}e.exports=r,r.Node=a,r.create=r,r.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t},r.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},r.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},r.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)o(this,arguments[e]);return this.length},r.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)s(this,arguments[e]);return this.length},r.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},r.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},r.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;null!==n;r++)e.call(t,n.value,r,this),n=n.next},r.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;null!==n;r--)e.call(t,n.value,r,this),n=n.prev},r.prototype.get=function(e){for(var t=0,n=this.head;null!==n&&t<e;t++)n=n.next;if(t===e&&null!==n)return n.value},r.prototype.getReverse=function(e){for(var t=0,n=this.tail;null!==n&&t<e;t++)n=n.prev;if(t===e&&null!==n)return n.value},r.prototype.map=function(e,t){t=t||this;for(var n=new r,i=this.head;null!==i;)n.push(e.call(t,i.value,this)),i=i.next;return n},r.prototype.mapReverse=function(e,t){t=t||this;for(var n=new r,i=this.tail;null!==i;)n.push(e.call(t,i.value,this)),i=i.prev;return n},r.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");r=this.head.next,n=this.head.value}for(var i=0;null!==r;i++)n=e(n,r.value,i),r=r.next;return n},r.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");r=this.tail.prev,n=this.tail.value}for(var i=this.length-1;null!==r;i--)n=e(n,r.value,i),r=r.prev;return n},r.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;null!==n;t++)e[t]=n.value,n=n.next;return e},r.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;null!==n;t++)e[t]=n.value,n=n.prev;return e},r.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,o=this.head;null!==o&&i<e;i++)o=o.next;for(;null!==o&&i<t;i++,o=o.next)n.push(o.value);return n},r.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,o=this.tail;null!==o&&i>t;i--)o=o.prev;for(;null!==o&&i>e;i--,o=o.prev)n.push(o.value);return n},r.prototype.splice=function(e,t){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,r=this.head;null!==r&&n<e;n++)r=r.next;var o=[];for(n=0;r&&n<t;n++)o.push(r.value),r=this.removeNode(r);null===r&&(r=this.tail),r!==this.head&&r!==this.tail&&(r=r.prev);for(n=0;n<(arguments.length<=2?0:arguments.length-2);n++)r=i(this,r,n+2<2||arguments.length<=n+2?void 0:arguments[n+2]);return o},r.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;null!==n;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};try{n(5863)(r)}catch(l){}},8926:function(e,t,n){var r={"./edu/cde1.xml":[5769,769],"./mini/cdm1.xml":[8756,756],"./mini/jr_flight.xml":[7097,97],"./mini/jr_flip_LED_sound.xml":[6948,948],"./mini/sr_flight_commands.xml":[1480,480],"./mini/sr_flight_variables.xml":[8512,512],"./mini/sr_sensors_LEDs_sounds.xml":[4401,401]};function i(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return n.e(t[1]).then((function(){return n.t(i,17)}))}i.keys=function(){return Object.keys(r)},i.id=8926,e.exports=i},2868:function(e,t,n){var r={"./edu/cde1.PNG":94,"./mini/cdm1.PNG":5387};function i(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id=2868},94:function(e,t,n){"use strict";e.exports=n.p+"static/media/cde1.06c917b6c13857684670.PNG"},5387:function(e,t,n){"use strict";e.exports=n.p+"static/media/cdm1.1a21cb99c60f241294d4.PNG"},3897:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},5372:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},3405:function(e,t,n){var r=n(3897);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},6115:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},6690:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},9728:function(e,t,n){var r=n(4062);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}e.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},4704:function(e,t,n){var r=n(6116);e.exports=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,s=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw s}}}},e.exports.__esModule=!0,e.exports.default=e.exports},6389:function(e,t,n){var r=n(3808),i=n(9617),o=n(4993);e.exports=function(e){var t=i();return function(){var n,i=r(e);if(t){var s=r(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return o(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},3808:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},1655:function(e,t,n){var r=n(6015);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},9617:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},9498:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},8872:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}},e.exports.__esModule=!0,e.exports.default=e.exports},2218:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},2281:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},4993:function(e,t,n){var r=n(8698).default,i=n(6115);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},7061:function(e,t,n){var r=n(8698).default;function i(){"use strict";e.exports=i=function(){return n},e.exports.__esModule=!0,e.exports.default=e.exports;var t,n={},o=Object.prototype,s=o.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},l="function"==typeof Symbol?Symbol:{},c=l.iterator||"@@iterator",u=l.asyncIterator||"@@asyncIterator",h=l.toStringTag||"@@toStringTag";function p(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(t){p=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof T?t:T,o=Object.create(i.prototype),s=new L(r||[]);return a(o,"_invoke",{value:I(e,n,s)}),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}n.wrap=f;var g="suspendedStart",_="suspendedYield",v="executing",m="completed",y={};function T(){}function E(){}function b(){}var O={};p(O,c,(function(){return this}));var S=Object.getPrototypeOf,k=S&&S(S(M([])));k&&k!==o&&s.call(k,c)&&(O=k);var w=b.prototype=T.prototype=Object.create(O);function R(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(i,o,a,l){var c=d(e[i],e,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==r(h)&&s.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,a,l)}),(function(e){n("throw",e,a,l)})):t.resolve(h).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,l)}))}l(c.arg)}var i;a(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}})}function I(e,n,r){var i=g;return function(o,s){if(i===v)throw new Error("Generator is already running");if(i===m){if("throw"===o)throw s;return{value:t,done:!0}}for(r.method=o,r.arg=s;;){var a=r.delegate;if(a){var l=x(a,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===g)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=v;var c=d(e,n,r);if("normal"===c.type){if(i=r.done?m:_,c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=m,r.method="throw",r.arg=c.arg)}}}function x(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=d(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var s=o.arg;return s?s.done?(n[e.resultName]=s.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function M(e){if(e||""===e){var n=e[c];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(s.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(r(e)+" is not iterable")}return E.prototype=b,a(w,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:E,configurable:!0}),E.displayName=p(b,h,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===E||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,p(e,h,"GeneratorFunction")),e.prototype=Object.create(w),e},n.awrap=function(e){return{__await:e}},R(C.prototype),p(C.prototype,u,(function(){return this})),n.AsyncIterator=C,n.async=function(e,t,r,i,o){void 0===o&&(o=Promise);var s=new C(f(e,t,r,i),o);return n.isGeneratorFunction(t)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},R(w),p(w,h,"Generator"),p(w,c,(function(){return this})),p(w,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=M,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var n in this)"t"===n.charAt(0)&&s.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,i){return a.type="throw",a.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=s.call(o,"catchLoc"),c=s.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&s.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;N(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:M(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},n}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},6015:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},7424:function(e,t,n){var r=n(5372),i=n(8872),o=n(6116),s=n(2218);e.exports=function(e,t){return r(e)||i(e,t)||o(e,t)||s()},e.exports.__esModule=!0,e.exports.default=e.exports},861:function(e,t,n){var r=n(3405),i=n(9498),o=n(6116),s=n(2281);e.exports=function(e){return r(e)||i(e)||o(e)||s()},e.exports.__esModule=!0,e.exports.default=e.exports},5036:function(e,t,n){var r=n(8698).default;e.exports=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},4062:function(e,t,n){var r=n(8698).default,i=n(5036);e.exports=function(e){var t=i(e,"string");return"symbol"===r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},8698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},6116:function(e,t,n){var r=n(3897);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},7326:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},5861:function(e,t,n){"use strict";function r(e,t,n,r,i,o,s){try{var a=e[o](s),l=a.value}catch(c){return void n(c)}a.done?t(l):Promise.resolve(l).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var s=e.apply(t,n);function a(e){r(s,i,o,a,l,"next",e)}function l(e){r(s,i,o,a,l,"throw",e)}a(void 0)}))}}n.d(t,{Z:function(){return i}})},5671:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},3144:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(9142);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(0,r.Z)(i.key),i)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},7762:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(181);function i(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,s=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw s}}}}},7277:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(1120),i=n(8814),o=n(1002),s=n(7326);function a(e){var t=(0,i.Z)();return function(){var n,i=(0,r.Z)(e);if(t){var a=(0,r.Z)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===(0,o.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,s.Z)(e)}(this,n)}}},4942:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9142);function i(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},7462:function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},1120:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:function(){return r}})},136:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9611);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.Z)(e,t)}},4578:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9611);function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,r.Z)(e,t)}},8814:function(e,t,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}n.d(t,{Z:function(){return r}})},1413:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(4942);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},3366:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:function(){return r}})},4165:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1002);function i(){i=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,s=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},l=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function h(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{h({},"")}catch(e){h=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,o=Object.create(i.prototype),a=new N(r||[]);return s(o,"_invoke",{value:C(e,n,a)}),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var d="suspendedStart",g="suspendedYield",_="executing",v="completed",m={};function y(){}function T(){}function E(){}var b={};h(b,l,(function(){return this}));var O=Object.getPrototypeOf,S=O&&O(O(L([])));S&&S!==n&&o.call(S,l)&&(b=S);var k=E.prototype=y.prototype=Object.create(b);function w(e){["next","throw","return"].forEach((function(t){h(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,t){function n(i,s,a,l){var c=f(e[i],e,s);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==(0,r.Z)(h)&&o.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,a,l)}),(function(e){n("throw",e,a,l)})):t.resolve(h).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,l)}))}l(c.arg)}var i;s(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}})}function C(t,n,r){var i=d;return function(o,s){if(i===_)throw new Error("Generator is already running");if(i===v){if("throw"===o)throw s;return{value:e,done:!0}}for(r.method=o,r.arg=s;;){var a=r.delegate;if(a){var l=I(a,r);if(l){if(l===m)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===d)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=_;var c=f(t,n,r);if("normal"===c.type){if(i=r.done?v:g,c.arg===m)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=v,r.method="throw",r.arg=c.arg)}}}function I(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,I(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var o=f(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var s=o.arg;return s?s.done?(n[t.resultName]=s.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[l];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,s=function n(){for(;++i<t.length;)if(o.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return s.next=s}}throw new TypeError((0,r.Z)(t)+" is not iterable")}return T.prototype=E,s(k,"constructor",{value:E,configurable:!0}),s(E,"constructor",{value:T,configurable:!0}),T.displayName=h(E,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===T||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,h(e,u,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},w(R.prototype),h(R.prototype,c,(function(){return this})),t.AsyncIterator=R,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var s=new R(p(e,n,r,i),o);return t.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},w(k),h(k,u,"Generator"),h(k,l,(function(){return this})),h(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(r,i){return a.type="throw",a.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],a=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var l=o.call(s,"catchLoc"),c=o.call(s,"finallyLoc");if(l&&c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;A(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}},9611:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},2982:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(907);var i=n(181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,i.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},9142:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1002);function i(e){var t=function(e,t){if("object"!==(0,r.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==(0,r.Z)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,r.Z)(t)?t:String(t)}},1002:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};__webpack_require__.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"===typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"===typeof n.then)return n}var i=Object.create(null);__webpack_require__.r(i);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&r&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return n[e]}}));return o.default=function(){return n},__webpack_require__.d(i,o),i}}(),__webpack_require__.d=function(e,t){for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.f={},__webpack_require__.e=function(e){return Promise.all(Object.keys(__webpack_require__.f).reduce((function(t,n){return __webpack_require__.f[n](e,t),t}),[]))},__webpack_require__.u=function(e){return"static/js/"+e+"."+{27:"657e33ed",31:"d1f9a240",97:"816cb518",309:"5b6386b1",357:"d9724ae2",401:"09152d55",459:"11b8729b",480:"419b2dbb",512:"5f3dbff7",565:"31beafe5",605:"75a9386f",711:"d2300344",727:"973779a5",735:"9a0fa5d3",756:"79b24b22",769:"8d871ead",893:"d0f82c79",933:"974f31c5",948:"aab6a12e"}[e]+".chunk.js"},__webpack_require__.miniCssF=function(e){return"static/css/"+e+".f7c1e82f.chunk.css"},__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="codrone-blockly:";__webpack_require__.l=function(n,r,i,o){if(e[n])e[n].push(r);else{var s,a;if(void 0!==i)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var u=l[c];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==t+i){s=u;break}}s||(a=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,__webpack_require__.nc&&s.setAttribute("nonce",__webpack_require__.nc),s.setAttribute("data-webpack",t+i),s.src=n),e[n]=[r];var h=function(t,r){s.onerror=s.onload=null,clearTimeout(p);var i=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(r)})),t)return t(r)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),a&&document.head.appendChild(s)}}}(),__webpack_require__.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.p="/edu/blockly-sprint/",function(){if("undefined"!==typeof document){var e=function(e){return new Promise((function(t,n){var r=__webpack_require__.miniCssF(e),i=__webpack_require__.p+r;if(function(e,t){for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var i=(s=n[r]).getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(i===e||i===t))return s}var o=document.getElementsByTagName("style");for(r=0;r<o.length;r++){var s;if((i=(s=o[r]).getAttribute("data-href"))===e||i===t)return s}}(r,i))return t();!function(e,t,n,r,i){var o=document.createElement("link");o.rel="stylesheet",o.type="text/css",o.onerror=o.onload=function(n){if(o.onerror=o.onload=null,"load"===n.type)r();else{var s=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=s,l.request=a,o.parentNode&&o.parentNode.removeChild(o),i(l)}},o.href=t,n?n.parentNode.insertBefore(o,n.nextSibling):document.head.appendChild(o)}(e,i,null,t,n)}))},t={179:0};__webpack_require__.f.miniCss=function(n,r){t[n]?r.push(t[n]):0!==t[n]&&{309:1}[n]&&r.push(t[n]=e(n).then((function(){t[n]=0}),(function(e){throw delete t[n],e})))}}}(),function(){var e={179:0};__webpack_require__.f.j=function(t,n){var r=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise((function(n,i){r=e[t]=[n,i]}));n.push(r[2]=i);var o=__webpack_require__.p+__webpack_require__.u(t),s=new Error;__webpack_require__.l(o,(function(n){if(__webpack_require__.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",s.name="ChunkLoadError",s.type=i,s.request=o,r[1](s)}}),"chunk-"+t,t)}};var t=function(t,n){var r,i,o=n[0],s=n[1],a=n[2],l=0;if(o.some((function(t){return 0!==e[t]}))){for(r in s)__webpack_require__.o(s,r)&&(__webpack_require__.m[r]=s[r]);if(a)a(__webpack_require__)}for(t&&t(n);l<o.length;l++)i=o[l],__webpack_require__.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.webpackChunkcodrone_blockly=self.webpackChunkcodrone_blockly||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var __webpack_exports__={};!function(){"use strict";var e=__webpack_require__(4165),t=__webpack_require__(5861),n=__webpack_require__(7313),r=__webpack_require__(1168),i=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function o(e,t){navigator.serviceWorker.register(e).then((function(e){e.update(),e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var s=__webpack_require__(181);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(e,t)||(0,s.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var l=__webpack_require__(1239),c=__webpack_require__(7058);var u=function(e){e()},h=function(){return u},p=__webpack_require__(4942),f=Symbol.for("react-redux-context"),d="undefined"!==typeof globalThis?globalThis:{};function g(){var e;if(!n.createContext)return{};var t=null!=(e=d[f])?e:d[f]=new Map,r=t.get(n.createContext);return r||(r=n.createContext(null),t.set(n.createContext,r)),r}var _=g();function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_;return function(){return(0,n.useContext)(e)}}var m=v(),y=function(){throw new Error("uSES not initialized!")},T=function(e,t){return e===t};function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=e===_?m:v(e);return function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i="function"===typeof r?{equalityFn:r}:r,o=i.equalityFn,s=void 0===o?T:o,a=i.stabilityCheck,l=void 0===a?void 0:a;i.noopCheck;var c=t(),u=c.store,h=c.subscription,f=c.getServerState,d=c.stabilityCheck,g=(c.noopCheck,(0,n.useRef)(!0),(0,n.useCallback)((0,p.Z)({},e.name,(function(t){return e(t)}))[e.name],[e,d,l])),_=y(h.addNestedSub,u.getState,f||u.getState,g,s);return(0,n.useDebugValue)(_),_}}var b=E();__webpack_require__(7861),__webpack_require__(6440);var O={notify:function(){},get:function(){return[]}};function S(e,t){var n,r=O,i=0,o=!1;function s(){c.onStateChange&&c.onStateChange()}function a(){i++,n||(n=t?t.addNestedSub(s):e.subscribe(s),r=function(){var e=h(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}function l(){i--,n&&0===i&&(n(),n=void 0,r.clear(),r=O)}var c={addNestedSub:function(e){a();var t=r.subscribe(e),n=!1;return function(){n||(n=!0,t(),l())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:s,isSubscribed:function(){return o},trySubscribe:function(){o||(o=!0,a())},tryUnsubscribe:function(){o&&(o=!1,l())},getListeners:function(){return r}};return c}var k=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?n.useLayoutEffect:n.useEffect;var w=function(e){var t=e.store,r=e.context,i=e.children,o=e.serverState,s=e.stabilityCheck,a=void 0===s?"once":s,l=e.noopCheck,c=void 0===l?"once":l,u=n.useMemo((function(){var e=S(t);return{store:t,subscription:e,getServerState:o?function(){return o}:void 0,stabilityCheck:a,noopCheck:c}}),[t,o,a,c]),h=n.useMemo((function(){return t.getState()}),[t]);k((function(){var e=u.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),h!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[u,h]);var p=r||_;return n.createElement(p.Provider,{value:u},i)};function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=e===_?m:v(e);return function(){return t().store}}var C=R();function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=e===_?C:R(e);return function(){return t().dispatch}}var x,A=I();!function(e){y=e}(c.useSyncExternalStoreWithSelector),function(e){e}(l.useSyncExternalStore),x=r.unstable_batchedUpdates,u=x;var N=__webpack_require__(5317),L=__webpack_require__(5891),M=__webpack_require__(9980),D=__webpack_require__(6393),P=__webpack_require__(6417),B=(0,n.createContext)(),F={en:"English",ja:"\u65e5\u672c\u8a9e",ko:"\ud55c\uae00"},U=function(e){var t=a((0,n.useState)("en"),2),r=t[0],i=t[1],o=a((0,n.useState)(M.a),2),s=o[0],l=o[1];return(0,n.useEffect)((function(){var e=function(e,t){var n=window.location.search.match(new RegExp("[?&]"+e+"=([^&]+)"));return n?decodeURIComponent(n[1].replace(/\+/g,"%20")):t},t=(0,N.g)();if(console.log(t),"cdm"!==t){var n=function(t){try{var n=t;if(localStorage&&localStorage.getItem("cde_lang"))n=localStorage.getItem("cde_lang");else{var r=e("lang","en");if(void 0===F[r]){var i=window.navigator.language;r=i.includes("ko")?"ko":i.includes("ja")?"ja":"en"}localStorage.setItem("cde_lang",r)}return n}catch(o){return console.log(o),"en"}}("en");i(n),"ko"===n?l(L.B):"ja"===n&&l(D.Y)}}),[]),(0,P.jsx)(B.Provider,{value:{lang:r,msg:s},children:e.children})},Z="2.1.6",G=function(e){var t=e.testid,n=e.label,r=e.onClick;return"separator"===n?(0,P.jsx)("li",{className:"separator"}):"menu-version"===t?(0,P.jsx)("div",{onClick:r,className:"menu-item version","data-testid":t,children:(0,P.jsxs)("li",{children:[n," (",Z,")"]})}):(0,P.jsx)("div",{onClick:r,className:"menu-item","data-testid":t,children:(0,P.jsx)("li",{children:n})})},H=__webpack_require__(7496),V=__webpack_require__.n(H),j=__webpack_require__(8088),W=__webpack_require__(2982),X=__webpack_require__(7762),z=__webpack_require__(5671),Y=__webpack_require__(3144),q=__webpack_require__(7326),K=__webpack_require__(136),Q=__webpack_require__(7277),J=__webpack_require__(1120),$=__webpack_require__(9611);var ee=__webpack_require__(8814);function te(e,t,n){return te=(0,ee.Z)()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&(0,$.Z)(i,n.prototype),i},te.apply(null,arguments)}function ne(e){var t="function"===typeof Map?new Map:void 0;return ne=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"===typeof e}}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return te(e,arguments,(0,J.Z)(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),(0,$.Z)(n,e)},ne(e)}var re=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],s=i+1<e.length,a=s?e[i+1]:0,l=i+2<e.length,c=l?e[i+2]:0,u=o>>2,h=(3&o)<<4|a>>4,p=(15&a)<<2|c>>6,f=63&c;l||(f=64,s||(p=64)),r.push(n[u],n[h],n[p],n[f])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(re(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{var a=e[n++],l=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&a)<<6|63&l)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0,a=++i<e.length?n[e.charAt(i)]:64,l=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==l)throw new oe;var c=o<<2|s>>4;if(r.push(c),64!==a){var u=s<<4&240|a>>2;if(r.push(u),64!==l){var h=a<<6&192|l;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},oe=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(){var e;return(0,z.Z)(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return(0,Y.Z)(n)}(ne(Error)),se=function(e){return function(e){var t=re(e);return ie.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ae=function(e){try{return ie.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};var le=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},ce=function(){try{return le()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/edu/blockly-sprint",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:'"AIzaSyCRe7jfIs-nwkbnJ0Q6rozxjrnBEpr52Sw",',REACT_APP_FIREBASE_AUTO_DOMAIN:'"web-python-logs.firebaseapp.com",',REACT_APP_FIREBASE_PROJECT_ID:'"web-python-logs",',REACT_APP_FIREBASE_STORAGE_BUCKET:'"web-python-logs.appspot.com",',REACT_APP_FIREBASE_MESSAGING_SENDER_ID:'"991477648249",',REACT_APP_FIREBASE_APP_ID:"1:991477648249:web:825e878fd8259bb8073da8"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&ae(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},ue=function(e){var t=function(e){var t,n;return null===(n=null===(t=ce())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]}(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},he=function(){var e;return null===(e=ce())||void 0===e?void 0:e.config},pe=function(){function e(){var t=this;(0,z.Z)(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return(0,Y.Z)(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function fe(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function de(){return!function(){var e,t=null===(e=ce())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(__webpack_require__.g.process)}catch(n){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ge(){try{return"object"===typeof indexedDB}catch(e){return!1}}var _e=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e,r,i){var o;return(0,z.Z)(this,n),(o=t.call(this,r)).code=e,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf((0,q.Z)(o),n.prototype),Error.captureStackTrace&&Error.captureStackTrace((0,q.Z)(o),ve.prototype.create),o}return(0,Y.Z)(n)}(ne(Error)),ve=function(){function e(t,n,r){(0,z.Z)(this,e),this.service=t,this.serviceName=n,this.errors=r}return(0,Y.Z)(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(me,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new _e(n,o,t)}}]),e}();var me=/\{\$([^}]+)}/g;function ye(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,o=n;i<o.length;i++){var s=o[i];if(!r.includes(s))return!1;var a=e[s],l=t[s];if(Te(a)&&Te(l)){if(!ye(a,l))return!1}else if(a!==l)return!1}for(var c=0,u=r;c<u.length;c++){var h=u[c];if(!n.includes(h))return!1}return!0}function Te(e){return null!==e&&"object"===typeof e}function Ee(e){return e&&e._delegate?e._delegate:e}var be=function(){function e(t,n,r){(0,z.Z)(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return(0,Y.Z)(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Oe="[DEFAULT]",Se=function(){function n(e,t){(0,z.Z)(this,n),this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return(0,Y.Z)(n,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new pe;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Oe})}catch(c){}var t,n=(0,X.Z)(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=a(t.value,2),i=r[0],o=r[1],s=this.normalizeInstanceIdentifier(i);try{var l=this.getOrInitializeService({instanceIdentifier:s});o.resolve(l)}catch(c){}}}catch(u){n.e(u)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var n=(0,t.Z)((0,e.Z)().mark((function t(){var n;return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Array.from(this.instances.values()),e.next=3,Promise.all([].concat((0,W.Z)(n.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),(0,W.Z)(n.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),t,this)})));return function(){return n.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,o=this.getOrInitializeService({instanceIdentifier:r,options:n}),s=(0,X.Z)(this.instancesDeferred.entries());try{for(s.s();!(i=s.n()).done;){var l=a(i.value,2),c=l[0],u=l[1];r===this.normalizeInstanceIdentifier(c)&&u.resolve(o)}}catch(h){s.e(h)}finally{s.f()}return o}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=(0,X.Z)(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;try{o(e,t)}catch(YO){}}}catch(s){i.e(s)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Oe?void 0:t),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(YO){}return o||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe;return this.component?this.component.multipleInstances?e:Oe:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),n}();var ke,we,Re=function(){function e(t){(0,z.Z)(this,e),this.name=t,this.providers=new Map}return(0,Y.Z)(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Se(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Ce=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(we||(we={}));var Ie={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},xe=we.INFO,Ae=(ke={},(0,p.Z)(ke,we.DEBUG,"log"),(0,p.Z)(ke,we.VERBOSE,"log"),(0,p.Z)(ke,we.INFO,"info"),(0,p.Z)(ke,we.WARN,"warn"),(0,p.Z)(ke,we.ERROR,"error"),ke),Ne=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Ae[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,o=arguments.length,s=new Array(o>2?o-2:0),a=2;a<o;a++)s[a-2]=arguments[a];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(s))}},Le=function(){function e(t){(0,z.Z)(this,e),this.name=t,this._logLevel=xe,this._logHandler=Ne,this._userLogHandler=null,Ce.push(this)}return(0,Y.Z)(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in we))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Ie[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,we.DEBUG].concat(t)),this._logHandler.apply(this,[this,we.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,we.VERBOSE].concat(t)),this._logHandler.apply(this,[this,we.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,we.INFO].concat(t)),this._logHandler.apply(this,[this,we.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,we.WARN].concat(t)),this._logHandler.apply(this,[this,we.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,we.ERROR].concat(t)),this._logHandler.apply(this,[this,we.ERROR].concat(t))}}]),e}();var Me,De,Pe=__webpack_require__(1413),Be=function(e,t){return t.some((function(t){return e instanceof t}))};var Fe=new WeakMap,Ue=new WeakMap,Ze=new WeakMap,Ge=new WeakMap,He=new WeakMap;var Ve={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ue.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ze.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xe(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function je(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(De||(De=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(ze(this),n),Xe(Fe.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Xe(e.apply(ze(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=e.call.apply(e,[ze(this),t].concat(r));return Ze.set(o,t.sort?t.sort():[t]),Xe(o)}}function We(e){return"function"===typeof e?je(e):(e instanceof IDBTransaction&&function(e){if(!Ue.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=function(){t(),r()},o=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));Ue.set(e,t)}}(e),Be(e,Me||(Me=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Ve):e)}function Xe(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",o)},i=function(){t(Xe(e.result)),r()},o=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((function(t){t instanceof IDBCursor&&Fe.set(t,e)})).catch((function(){})),He.set(t,e),t}(e);if(Ge.has(e))return Ge.get(e);var t=We(e);return t!==e&&(Ge.set(e,t),He.set(t,e)),t}var ze=function(e){return He.get(e)};var Ye,qe,Ke=["get","getKey","getAll","getAllKeys","count"],Qe=["put","add","delete","clear"],Je=new Map;function $e(n,r){if(n instanceof IDBDatabase&&!(r in n)&&"string"===typeof r){if(Je.get(r))return Je.get(r);var i=r.replace(/FromIndex$/,""),o=r!==i,s=Qe.includes(i);if(i in(o?IDBIndex:IDBObjectStore).prototype&&(s||Ke.includes(i))){var a=function(){var n=(0,t.Z)((0,e.Z)().mark((function t(n){var r,a,l,c,u,h,p=arguments;return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=this.transaction(n,s?"readwrite":"readonly"),l=a.store,c=p.length,u=new Array(c>1?c-1:0),h=1;h<c;h++)u[h-1]=p[h];return o&&(l=l.index(u.shift())),e.next=6,Promise.all([(r=l)[i].apply(r,u),s&&a.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),t,this)})));return function(e){return n.apply(this,arguments)}}();return Je.set(r,a),a}}}Ve=function(e){return(0,Pe.Z)((0,Pe.Z)({},e),{},{get:function(t,n,r){return $e(t,n)||e.get(t,n,r)},has:function(t,n){return!!$e(t,n)||e.has(t,n)}})}(Ve);var et=function(){function e(t){(0,z.Z)(this,e),this.container=t}return(0,Y.Z)(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var tt="@firebase/app",nt="0.9.27",rt=new Le("@firebase/app"),it="[DEFAULT]",ot=(Ye={},(0,p.Z)(Ye,tt,"fire-core"),(0,p.Z)(Ye,"@firebase/app-compat","fire-core-compat"),(0,p.Z)(Ye,"@firebase/analytics","fire-analytics"),(0,p.Z)(Ye,"@firebase/analytics-compat","fire-analytics-compat"),(0,p.Z)(Ye,"@firebase/app-check","fire-app-check"),(0,p.Z)(Ye,"@firebase/app-check-compat","fire-app-check-compat"),(0,p.Z)(Ye,"@firebase/auth","fire-auth"),(0,p.Z)(Ye,"@firebase/auth-compat","fire-auth-compat"),(0,p.Z)(Ye,"@firebase/database","fire-rtdb"),(0,p.Z)(Ye,"@firebase/database-compat","fire-rtdb-compat"),(0,p.Z)(Ye,"@firebase/functions","fire-fn"),(0,p.Z)(Ye,"@firebase/functions-compat","fire-fn-compat"),(0,p.Z)(Ye,"@firebase/installations","fire-iid"),(0,p.Z)(Ye,"@firebase/installations-compat","fire-iid-compat"),(0,p.Z)(Ye,"@firebase/messaging","fire-fcm"),(0,p.Z)(Ye,"@firebase/messaging-compat","fire-fcm-compat"),(0,p.Z)(Ye,"@firebase/performance","fire-perf"),(0,p.Z)(Ye,"@firebase/performance-compat","fire-perf-compat"),(0,p.Z)(Ye,"@firebase/remote-config","fire-rc"),(0,p.Z)(Ye,"@firebase/remote-config-compat","fire-rc-compat"),(0,p.Z)(Ye,"@firebase/storage","fire-gcs"),(0,p.Z)(Ye,"@firebase/storage-compat","fire-gcs-compat"),(0,p.Z)(Ye,"@firebase/firestore","fire-fst"),(0,p.Z)(Ye,"@firebase/firestore-compat","fire-fst-compat"),(0,p.Z)(Ye,"fire-js","fire-js"),(0,p.Z)(Ye,"firebase","fire-js-all"),Ye),st=new Map,at=new Map;function lt(e,t){try{e.container.addComponent(t)}catch(n){rt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function ct(e){var t=e.name;if(at.has(t))return rt.debug("There were multiple attempts to register component ".concat(t,".")),!1;at.set(t,e);var n,r=(0,X.Z)(st.values());try{for(r.s();!(n=r.n()).done;){lt(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function ut(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var ht=(qe={},(0,p.Z)(qe,"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),(0,p.Z)(qe,"bad-app-name","Illegal App name: '{$appName}"),(0,p.Z)(qe,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),(0,p.Z)(qe,"app-deleted","Firebase App named '{$appName}' already deleted"),(0,p.Z)(qe,"no-options","Need to provide options, when not being deployed to hosting via source."),(0,p.Z)(qe,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),(0,p.Z)(qe,"invalid-log-argument","First argument to `onLog` must be null or a function."),(0,p.Z)(qe,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),(0,p.Z)(qe,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),(0,p.Z)(qe,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),(0,p.Z)(qe,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),qe),pt=new ve("app","Firebase",ht),ft=function(){function e(t,n,r){var i=this;(0,z.Z)(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new be("app",(function(){return i}),"PUBLIC"))}return(0,Y.Z)(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw pt.create("app-deleted",{appName:this._name})}}]),e}();function dt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:it,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw pt.create("bad-app-name",{appName:String(i)});if(n||(n=he()),!n)throw pt.create("no-options");var o=st.get(i);if(o){if(ye(n,o.options)&&ye(r,o.config))return o;throw pt.create("duplicate-app",{appName:i})}var s,a=new Re(i),l=(0,X.Z)(at.values());try{for(l.s();!(s=l.n()).done;){var c=s.value;a.addComponent(c)}}catch(h){l.e(h)}finally{l.f()}var u=new ft(n,r,a);return st.set(i,u),u}function gt(e,t,n){var r,i=null!==(r=ot[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){var a=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&a.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&s&&a.push("and"),s&&a.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void rt.warn(a.join(" "))}ct(new be("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var _t="firebase-heartbeat-database",vt=1,mt="firebase-heartbeat-store",yt=null;function Tt(){return yt||(yt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,o=n.blocking,s=n.terminated,a=indexedDB.open(e,t),l=Xe(a);return i&&a.addEventListener("upgradeneeded",(function(e){i(Xe(a.result),e.oldVersion,e.newVersion,Xe(a.transaction),e)})),r&&a.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),l.then((function(e){s&&e.addEventListener("close",(function(){return s()})),o&&e.addEventListener("versionchange",(function(e){return o(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),l}(_t,vt,{upgrade:function(e,t){if(0===t)try{e.createObjectStore(mt)}catch(n){console.warn(n)}}}).catch((function(e){throw pt.create("idb-open",{originalErrorMessage:e.message})}))),yt}function Et(e){return bt.apply(this,arguments)}function bt(){return bt=(0,t.Z)((0,e.Z)().mark((function t(n){var r,i,o,s;return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Tt();case 3:return r=e.sent,i=r.transaction(mt),e.next=7,i.objectStore(mt).get(kt(n));case 7:return o=e.sent,e.next=10,i.done;case 10:return e.abrupt("return",o);case 13:e.prev=13,e.t0=e.catch(0),e.t0 instanceof _e?rt.warn(e.t0.message):(s=pt.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),rt.warn(s.message));case 16:case"end":return e.stop()}}),t,null,[[0,13]])}))),bt.apply(this,arguments)}function Ot(e,t){return St.apply(this,arguments)}function St(){return St=(0,t.Z)((0,e.Z)().mark((function t(n,r){var i,o,s,a;return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Tt();case 3:return i=e.sent,o=i.transaction(mt,"readwrite"),s=o.objectStore(mt),e.next=8,s.put(r,kt(n));case 8:return e.next=10,o.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof _e?rt.warn(e.t0.message):(a=pt.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),rt.warn(a.message));case 15:case"end":return e.stop()}}),t,null,[[0,12]])}))),St.apply(this,arguments)}function kt(e){return"".concat(e.name,"!").concat(e.options.appId)}var wt=function(){function n(e){var t=this;(0,z.Z)(this,n),this.container=e,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new xt(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return t._heartbeatsCache=e,e}))}return(0,Y.Z)(n,[{key:"triggerHeartbeat",value:function(){var n=(0,t.Z)((0,e.Z)().mark((function t(){var n,r,i,o,s;return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.container.getProvider("platform-logger").getImmediate(),o=i.getPlatformInfoString(),s=Rt(),null!=(null===(n=this._heartbeatsCache)||void 0===n?void 0:n.heartbeats)){e.next=9;break}return e.next=6,this._heartbeatsCachePromise;case 6:if(this._heartbeatsCache=e.sent,null!=(null===(r=this._heartbeatsCache)||void 0===r?void 0:r.heartbeats)){e.next=9;break}return e.abrupt("return");case 9:if(this._heartbeatsCache.lastSentHeartbeatDate!==s&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===s}))){e.next=13;break}return e.abrupt("return");case 13:this._heartbeatsCache.heartbeats.push({date:s,agent:o});case 14:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 16:case"end":return e.stop()}}),t,this)})));return function(){return n.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var n=(0,t.Z)((0,e.Z)().mark((function t(){var n,r,i,o,s,a;return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!=(null===(n=this._heartbeatsCache)||void 0===n?void 0:n.heartbeats)&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(r=Rt(),i=Ct(this._heartbeatsCache.heartbeats),o=i.heartbeatsToSend,s=i.unsentEntries,a=se(JSON.stringify({version:2,heartbeats:o})),this._heartbeatsCache.lastSentHeartbeatDate=r,!(s.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=s,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),t,this)})));return function(){return n.apply(this,arguments)}}()}]),n}();function Rt(){return(new Date).toISOString().substring(0,10)}function Ct(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),o=(0,X.Z)(e);try{var s=function(){var e=t.value,o=r.find((function(t){return t.agent===e.agent}));if(o){if(o.dates.push(e.date),At(r)>n)return o.dates.pop(),0}else if(r.push({agent:e.agent,dates:[e.date]}),At(r)>n)return r.pop(),0;i=i.slice(1)};for(o.s();!(t=o.n()).done&&0!==s(););}catch(a){o.e(a)}finally{o.f()}return{heartbeatsToSend:r,unsentEntries:i}}var It,xt=function(){function n(e){(0,z.Z)(this,n),this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return(0,Y.Z)(n,[{key:"runIndexedDBEnvironmentCheck",value:function(){var n=(0,t.Z)((0,e.Z)().mark((function t(){return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ge()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(o){t(o)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),t)})));return function(){return n.apply(this,arguments)}}()},{key:"read",value:function(){var n=(0,t.Z)((0,e.Z)().mark((function t(){var n;return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Et(this.app);case 9:if(!(null===(n=e.sent)||void 0===n?void 0:n.heartbeats)){e.next=14;break}return e.abrupt("return",n);case 14:return e.abrupt("return",{heartbeats:[]});case 15:case"end":return e.stop()}}),t,this)})));return function(){return n.apply(this,arguments)}}()},{key:"overwrite",value:function(){var n=(0,t.Z)((0,e.Z)().mark((function t(n){var r,i;return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return i=e.sent,e.abrupt("return",Ot(this.app,{lastSentHeartbeatDate:null!==(r=n.lastSentHeartbeatDate)&&void 0!==r?r:i.lastSentHeartbeatDate,heartbeats:n.heartbeats}));case 11:case"end":return e.stop()}}),t,this)})));return function(e){return n.apply(this,arguments)}}()},{key:"add",value:function(){var n=(0,t.Z)((0,e.Z)().mark((function t(n){var r,i;return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return i=e.sent,e.abrupt("return",Ot(this.app,{lastSentHeartbeatDate:null!==(r=n.lastSentHeartbeatDate)&&void 0!==r?r:i.lastSentHeartbeatDate,heartbeats:[].concat((0,W.Z)(i.heartbeats),(0,W.Z)(n.heartbeats))}));case 11:case"end":return e.stop()}}),t,this)})));return function(e){return n.apply(this,arguments)}}()}]),n}();function At(e){return se(JSON.stringify({version:2,heartbeats:e})).length}It="",ct(new be("platform-logger",(function(e){return new et(e)}),"PRIVATE")),ct(new be("heartbeat",(function(e){return new wt(e)}),"PRIVATE")),gt(tt,nt,It),gt(tt,nt,"esm2017"),gt("fire-js","");function Nt(){return Nt="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,J.Z)(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Nt.apply(this,arguments)}gt("firebase","10.8.0","app");var Lt,Mt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Dt={},Pt=Pt||{},Bt=Mt||self;function Ft(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Ut(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Zt="closure_uid_"+(1e9*Math.random()>>>0),Gt=0;function Ht(e,t,n){return e.call.apply(e.bind,arguments)}function Vt(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function jt(e,t,n){return(jt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ht:Vt).apply(null,arguments)}function Wt(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Xt(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function zt(){this.s=this.s,this.o=this.o}zt.prototype.s=!1,zt.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,Zt)&&e[Zt]||(e[Zt]=++Gt)}(this)},zt.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Yt=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function qt(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Kt(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(Ft(r)){var i=e.length||0,o=r.length||0;e.length=i+o;for(var s=0;s<o;s++)e[i+s]=r[s]}else e.push(r)}}function Qt(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Qt.prototype.h=function(){this.defaultPrevented=!0};var Jt=function(){if(!Bt.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{var n=function(){};Bt.addEventListener("test",n,t),Bt.removeEventListener("test",n,t)}catch(n){}return e}();function $t(e){return/^[\s\xa0]*$/.test(e)}function en(){var e=Bt.navigator;return e&&(e=e.userAgent)?e:""}function tn(e){return-1!=en().indexOf(e)}function nn(e){return nn[" "](e),e}nn[" "]=function(){};var rn,on,sn=tn("Opera"),an=tn("Trident")||tn("MSIE"),ln=tn("Edge"),cn=ln||an,un=tn("Gecko")&&!(-1!=en().toLowerCase().indexOf("webkit")&&!tn("Edge"))&&!(tn("Trident")||tn("MSIE"))&&!tn("Edge"),hn=-1!=en().toLowerCase().indexOf("webkit")&&!tn("Edge");function pn(){var e=Bt.document;return e?e.documentMode:void 0}e:{var fn="",dn=function(){var e=en();return un?/rv:([^\);]+)(\)|;)/.exec(e):ln?/Edge\/([\d\.]+)/.exec(e):an?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):hn?/WebKit\/(\S+)/.exec(e):sn?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(dn&&(fn=dn?dn[1]:""),an){var gn=pn();if(null!=gn&&gn>parseFloat(fn)){rn=String(gn);break e}}rn=fn}if(Bt.document&&an){var _n=pn();on=_n||(parseInt(rn,10)||void 0)}else on=void 0;var vn=on;function mn(e,t){if(Qt.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(un){e:{try{nn(t.nodeName);var i=!0;break e}catch(yf){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:yn[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&mn.$.h.call(this)}}Xt(mn,Qt);var yn={2:"touch",3:"pen",4:"mouse"};mn.prototype.h=function(){mn.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Tn="closure_listenable_"+(1e6*Math.random()|0),En=0;function bn(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++En,this.fa=this.ia=!1}function On(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Sn(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function kn(e){var t={};for(var n in e)t[n]=e[n];return t}var wn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Rn(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<wn.length;o++)n=wn[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Cn(e){this.src=e,this.g={},this.h=0}function In(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Yt(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(On(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function xn(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}Cn.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=xn(e,t,r,i);return-1<s?(t=e[s],n||(t.ia=!1)):((t=new bn(t,this.src,o,!!r,i)).ia=n,e.push(t)),t};var An="closure_lm_"+(1e6*Math.random()|0),Nn={};function Ln(e,t,n,r,i){if(r&&r.once)return Dn(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Ln(e,t[o],n,r,i);return null}return n=Hn(n),e&&e[Tn]?e.O(t,n,Ut(r)?!!r.capture:!!r,i):Mn(e,t,n,!1,r,i)}function Mn(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=Ut(i)?!!i.capture:!!i,a=Zn(e);if(a||(e[An]=a=new Cn(e)),(n=a.add(t,n,r,s,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Un;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Jt||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Fn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Dn(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Dn(e,t[o],n,r,i);return null}return n=Hn(n),e&&e[Tn]?e.P(t,n,Ut(r)?!!r.capture:!!r,i):Mn(e,t,n,!0,r,i)}function Pn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Pn(e,t[o],n,r,i);else r=Ut(r)?!!r.capture:!!r,n=Hn(n),e&&e[Tn]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=xn(o=e.g[t],n,r,i))&&(On(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Zn(e))&&(t=e.g[t.toString()],e=-1,t&&(e=xn(t,n,r,i)),(n=-1<e?t[e]:null)&&Bn(n))}function Bn(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Tn])In(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Fn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Zn(t))?(In(n,e),0==n.h&&(n.src=null,t[An]=null)):On(e)}}}function Fn(e){return e in Nn?Nn[e]:Nn[e]="on"+e}function Un(e,t){if(e.fa)e=!0;else{t=new mn(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Bn(e),e=n.call(r,t)}return e}function Zn(e){return(e=e[An])instanceof Cn?e:null}var Gn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hn(e){return"function"===typeof e?e:(e[Gn]||(e[Gn]=function(t){return e.handleEvent(t)}),e[Gn])}function Vn(){zt.call(this),this.i=new Cn(this),this.S=this,this.J=null}function jn(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Qt(t,e);else if(t instanceof Qt)t.target=t.target||e;else{var i=t;Rn(t=new Qt(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=Wn(s,r,!0,t)&&i}if(i=Wn(s=t.g=e,r,!0,t)&&i,i=Wn(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Wn(s=t.g=n[o],r,!1,t)&&i}function Wn(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&In(e.i,s),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}Xt(Vn,zt),Vn.prototype[Tn]=!0,Vn.prototype.removeEventListener=function(e,t,n,r){Pn(this,e,t,n,r)},Vn.prototype.N=function(){if(Vn.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)On(n[r]);delete t.g[e],t.h--}}this.J=null},Vn.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Vn.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Xn=Bt.JSON.stringify,zn=function(){function e(t,n){(0,z.Z)(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return(0,Y.Z)(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}();function Yn(){var e=nr,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var qn=function(){function e(){(0,z.Z)(this,e),this.h=this.g=null}return(0,Y.Z)(e,[{key:"add",value:function(e,t){var n=Kn.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Kn=new zn((function(){return new Qn}),(function(e){return e.reset()})),Qn=function(){function e(){(0,z.Z)(this,e),this.next=this.g=this.h=null}return(0,Y.Z)(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Jn(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function $n(e){Bt.setTimeout((function(){throw e}),0)}var er,tr=!1,nr=new qn,rr=function(){var e=Bt.Promise.resolve(void 0);er=function(){e.then(ir)}},ir=function(){for(var e;e=Yn();){try{e.h.call(e.g)}catch(Tf){$n(Tf)}var t=Kn;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}tr=!1};function or(e,t){Vn.call(this),this.h=e||1,this.g=t||Bt,this.j=jt(this.qb,this),this.l=Date.now()}function sr(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function ar(e,t,n){if("function"===typeof e)n&&(e=jt(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=jt(e.handleEvent,e)}return 2147483647<Number(t)?-1:Bt.setTimeout(e,t||0)}function lr(e){e.g=ar((function(){e.g=null,e.i&&(e.i=!1,lr(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Xt(or,Vn),(Lt=or.prototype).ga=!1,Lt.T=null,Lt.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),jn(this,"tick"),this.ga&&(sr(this),this.start()))}},Lt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Lt.N=function(){or.$.N.call(this),sr(this),delete this.g};var cr=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e,r){var i;return(0,z.Z)(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return(0,Y.Z)(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:lr(this)}},{key:"N",value:function(){Nt((0,J.Z)(n.prototype),"N",this).call(this),this.g&&(Bt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(zt);function ur(e){zt.call(this),this.h=e,this.g={}}Xt(ur,zt);var hr=[];function pr(e,t,n,r){Array.isArray(n)||(n&&(hr[0]=n.toString()),n=hr);for(var i=0;i<n.length;i++){var o=Ln(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function fr(e){Sn(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Bn(e)}),e),e.g={}}function dr(){this.g=!0}function gr(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Xn(n)}catch(pf){return t}}(e,n)+(r?" "+r:"")}))}ur.prototype.N=function(){ur.$.N.call(this),fr(this)},ur.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},dr.prototype.Ea=function(){this.g=!1},dr.prototype.info=function(){};var _r={},vr=null;function mr(){return vr=vr||new Vn}function yr(e){Qt.call(this,_r.Ta,e)}function Tr(e){var t=mr();jn(t,new yr(t))}function Er(e,t){Qt.call(this,_r.STAT_EVENT,e),this.stat=t}function br(e){var t=mr();jn(t,new Er(t,e))}function Or(e,t){Qt.call(this,_r.Ua,e),this.size=t}function Sr(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Bt.setTimeout((function(){e()}),t)}_r.Ta="serverreachability",Xt(yr,Qt),_r.STAT_EVENT="statevent",Xt(Er,Qt),_r.Ua="timingevent",Xt(Or,Qt);var kr={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},wr={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Rr(){}function Cr(e){return e.h||(e.h=e.i())}function Ir(){}Rr.prototype.h=null;var xr,Ar={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Nr(){Qt.call(this,"d")}function Lr(){Qt.call(this,"c")}function Mr(){}function Dr(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new ur(this),this.P=Br,e=cn?125:void 0,this.V=new or(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Pr}function Pr(){this.i=null,this.g="",this.h=!1}Xt(Nr,Qt),Xt(Lr,Qt),Xt(Mr,Rr),Mr.prototype.g=function(){return new XMLHttpRequest},Mr.prototype.i=function(){return{}},xr=new Mr;var Br=45e3,Fr={},Ur={};function Zr(e,t,n){e.L=1,e.A=oi(ei(t)),e.u=n,e.S=!0,Gr(e,null)}function Gr(e,t){e.G=Date.now(),Wr(e),e.B=ei(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),mi(n.i,"t",r),e.o=0,n=e.l.J,e.h=new Pr,e.g=yo(e.l,n?t:null,!e.u),0<e.O&&(e.M=new cr(jt(e.Pa,e,e.g),e.O)),pr(e.U,e.g,"readystatechange",e.nb),t=e.I?kn(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),Tr(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");s=2<=h.length&&"type"==h[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function Hr(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function Vr(e,t,n){for(var r,i=!0;!e.J&&e.o<n.length;){if((r=jr(e,n))==Ur){4==t&&(e.s=4,br(14),i=!1),gr(e.j,e.m,null,"[Incomplete Response]");break}if(r==Fr){e.s=4,br(15),gr(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}gr(e.j,e.m,r,null),Kr(e,r)}Hr(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,br(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),uo(t),t.M=!0,br(11))):(gr(e.j,e.m,n,"[Invalid Chunked Response]"),qr(e),Yr(e))}function jr(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?Ur:(n=Number(t.substring(n,r)),isNaN(n)?Fr:(r+=1)+n>t.length?Ur:(t=t.slice(r,r+n),e.o=r+n,t))}function Wr(e){e.Y=Date.now()+e.P,Xr(e,e.P)}function Xr(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=Sr(jt(e.lb,e),t)}function zr(e){e.C&&(Bt.clearTimeout(e.C),e.C=null)}function Yr(e){0==e.l.H||e.J||fo(e.l,e)}function qr(e){zr(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,sr(e.V),fr(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Kr(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||ki(n.i,e)))if(!e.K&&ki(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;po(n),no(n)}co(n),br(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Sr(jt(n.ib,n),6e3));if(1>=Si(n.i)&&n.oa){try{n.oa()}catch(o){}n.oa=void 0}}else _o(n,11)}else if((e.K||n.g==e)&&po(n),!$t(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.V=o[0],o=o[1],2==n.H)if("c"==o[0]){n.K=o[1],n.pa=o[2];var s=o[3];null!=s&&(n.ra=s,n.l.info("VER="+n.ra));var a=o[4];null!=a&&(n.Ga=a,n.l.info("SVER="+n.Ga));var l=o[5];null!=l&&"number"===typeof l&&0<l&&(r=1.5*l,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var u=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(u){var h=r.i;h.g||-1==u.indexOf("spdy")&&-1==u.indexOf("quic")&&-1==u.indexOf("h2")||(h.j=h.l,h.g=new Set,h.h&&(wi(h,h.h),h.h=null))}if(r.F){var p=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;p&&(r.Da=p,ii(r.I,r.F,p))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var f=e;if((r=n).wa=mo(r,r.J?r.pa:null,r.Y),f.K){Ri(r.i,f);var d=f,g=r.L;g&&d.setTimeout(g),d.C&&(zr(d),Wr(d)),r.g=f}else lo(r);0<n.j.length&&io(n)}else"stop"!=o[0]&&"close"!=o[0]||_o(n,7);else 3==n.H&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?_o(n,7):to(n):"noop"!=o[0]&&n.h&&n.h.Aa(o),n.A=0)}Tr()}catch(o){}}function Qr(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Ft(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Ft(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Ft(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(Lt=Dr.prototype).setTimeout=function(e){this.P=e},Lt.nb=function(e){e=e.target;var t=this.M;t&&3==qi(e)?t.l():this.Pa(e)},Lt.Pa=function(e){try{if(e==this.g)e:{var t=qi(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||cn||this.g&&(this.h.h||this.g.ja()||Ki(this.g)))){this.J||4!=t||7==n||Tr(),zr(this);var r=this.g.da();this.ca=r;t:if(Hr(this)){var i=Ki(this.g);e="";var o=i.length,s=4==qi(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){qr(this),Yr(this);var a="";break t}this.h.i=new Bt.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:s&&n==o-1});i.length=0,this.h.g+=e,this.o=0,a=this.h.g}else a=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.j,this.v,this.B,this.m,this.W,t,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$t(l)){var u=l;break t}}u=null}if(!(r=u)){this.i=!1,this.s=3,br(12),qr(this),Yr(this);break e}gr(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Kr(this,r)}this.S?(Vr(this,t,a),cn&&this.i&&3==t&&(pr(this.U,this.V,"tick",this.mb),this.V.start())):(gr(this.j,this.m,a,null),Kr(this,a)),4==t&&qr(this),this.i&&!this.J&&(4==t?fo(this.l,this):(this.i=!1,Wr(this)))}else(function(e){var t={};e=(e.g&&2<=qi(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!$t(e[n])){var r=Jn(e[n]),i=r[0];if("string"===typeof(r=r[1])){r=r.trim();var o=t[i]||[];t[i]=o,o.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<a.indexOf("Unknown SID")?(this.s=3,br(12)):(this.s=0,br(13)),qr(this),Yr(this)}}}catch(t){}},Lt.mb=function(){if(this.g){var e=qi(this.g),t=this.g.ja();this.o<t.length&&(zr(this),Vr(this,e,t),this.i&&4!=e&&Wr(this))}},Lt.cancel=function(){this.J=!0,qr(this)},Lt.lb=function(){this.C=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(Tr(),br(17)),qr(this),this.s=2,Yr(this)):Xr(this,this.Y-e)};var Jr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $r(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof $r){this.h=e.h,ti(this,e.j),this.s=e.s,this.g=e.g,ni(this,e.m),this.l=e.l;var t=e.i,n=new di;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ri(this,n),this.o=e.o}else e&&(t=String(e).match(Jr))?(this.h=!1,ti(this,t[1]||"",!0),this.s=si(t[2]||""),this.g=si(t[3]||"",!0),ni(this,t[4]),this.l=si(t[5]||"",!0),ri(this,t[6]||"",!0),this.o=si(t[7]||"")):(this.h=!1,this.i=new di(null,this.h))}function ei(e){return new $r(e)}function ti(e,t,n){e.j=n?si(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ni(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function ri(e,t,n){t instanceof di?(e.i=t,function(e,t){t&&!e.j&&(gi(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(_i(this,t),mi(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ai(t,pi)),e.i=new di(t,e.h))}function ii(e,t,n){e.i.set(t,n)}function oi(e){return ii(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function si(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ai(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,li),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function li(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}$r.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ai(t,ci,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(ai(t,ci,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ai(n,"/"==n.charAt(0)?hi:ui,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ai(n,fi)),e.join("")};var ci=/[#\/\?@]/g,ui=/[#\?:]/g,hi=/[#\?]/g,pi=/[#\?@]/g,fi=/#/g;function di(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function gi(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function _i(e,t){gi(e),t=yi(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function vi(e,t){return gi(e),t=yi(e,t),e.g.has(t)}function mi(e,t,n){_i(e,t),0<n.length&&(e.i=null,e.g.set(yi(e,t),qt(n)),e.h+=n.length)}function yi(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Lt=di.prototype).add=function(e,t){gi(this),this.i=null,e=yi(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Lt.forEach=function(e,t){gi(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Lt.ta=function(){gi(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},Lt.Z=function(e){gi(this);var t=[];if("string"===typeof e)vi(this,e)&&(t=t.concat(this.g.get(yi(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Lt.set=function(e,t){return gi(this),this.i=null,vi(this,e=yi(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Lt.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Lt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var s=i;""!==o[r]&&(s+="="+encodeURIComponent(String(o[r]))),e.push(s)}}return this.i=e.join("&")};var Ti=(0,Y.Z)((function e(t,n){(0,z.Z)(this,e),this.g=t,this.map=n}));function Ei(e){this.l=e||bi,Bt.PerformanceNavigationTiming?e=0<(e=Bt.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Bt.g&&Bt.g.Ka&&Bt.g.Ka()&&Bt.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var bi=10;function Oi(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Si(e){return e.h?1:e.g?e.g.size:0}function ki(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function wi(e,t){e.g?e.g.add(t):e.h=t}function Ri(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Ci(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=(0,X.Z)(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(o){r.e(o)}finally{r.f()}return n}return qt(e.i)}Ei.prototype.cancel=function(){if(this.i=Ci(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=(0,X.Z)(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var Ii=function(){function e(){(0,z.Z)(this,e)}return(0,Y.Z)(e,[{key:"stringify",value:function(e){return Bt.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return Bt.JSON.parse(e,void 0)}}]),e}();function xi(){this.g=new Ii}function Ai(e,t,n){var r=n||"";try{Qr(e,(function(e,n){var i=e;Ut(e)&&(i=Xn(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ni(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(yf){}}function Li(e){this.l=e.ec||null,this.j=e.ob||!1}function Mi(e,t){Vn.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Di,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Xt(Li,Rr),Li.prototype.g=function(){return new Mi(this.l,this.j)},Li.prototype.i=function(e){return function(){return e}}({}),Xt(Mi,Vn);var Di=0;function Pi(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Bi(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Fi(e)}function Fi(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Lt=Mi.prototype).open=function(e,t){if(this.readyState!=Di)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Fi(this)},Lt.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Bt).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Lt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Bi(this)),this.readyState=Di},Lt.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Fi(this)),this.g&&(this.readyState=3,Fi(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Bt.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Pi(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Lt.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Bi(this):Fi(this),3==this.readyState&&Pi(this)}},Lt.Za=function(e){this.g&&(this.response=this.responseText=e,Bi(this))},Lt.Ya=function(e){this.g&&(this.response=e,Bi(this))},Lt.ka=function(){this.g&&Bi(this)},Lt.setRequestHeader=function(e,t){this.v.append(e,t)},Lt.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Lt.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Mi.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Ui=Bt.JSON.parse;function Zi(e){Vn.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Gi,this.L=this.M=!1}Xt(Zi,Vn);var Gi="",Hi=/^https?$/i,Vi=["POST","PUT"];function ji(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Wi(e),zi(e)}function Wi(e){e.F||(e.F=!0,jn(e,"complete"),jn(e,"error"))}function Xi(e){if(e.h&&"undefined"!=typeof Pt&&(!e.C[1]||4!=qi(e)||2!=e.da()))if(e.v&&4==qi(e))ar(e.La,0,e);else if(jn(e,"readystatechange"),4==qi(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.I).match(Jr)[1]||null;!o&&Bt.self&&Bt.self.location&&(o=Bt.self.location.protocol.slice(0,-1)),i=!Hi.test(o?o.toLowerCase():"")}t=i}if(t)jn(e,"complete"),jn(e,"success");else{e.m=6;try{var s=2<qi(e)?e.g.statusText:""}catch(pf){s=""}e.j=s+" ["+e.da()+"]",Wi(e)}}finally{zi(e)}}}function zi(e,t){if(e.g){Yi(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||jn(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Yi(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Bt.clearTimeout(e.A),e.A=null)}function qi(e){return e.g?e.g.readyState:0}function Ki(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Gi:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(rs){return null}}function Qi(e){var t="";return Sn(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Ji(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Qi(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ii(e,t,n))}function $i(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function eo(e){this.Ga=0,this.j=[],this.l=new dr,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=$i("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=$i("baseRetryDelayMs",5e3,e),this.hb=$i("retryDelaySeedMs",1e4,e),this.eb=$i("forwardChannelMaxRetries",2,e),this.xa=$i("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Ei(e&&e.concurrentRequestLimit),this.Ja=new xi,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function to(e){if(ro(e),3==e.H){var t=e.W++,n=ei(e.I);if(ii(n,"SID",e.K),ii(n,"RID",t),ii(n,"TYPE","terminate"),so(e,n),(t=new Dr(e,e.l,t)).L=2,t.A=oi(ei(n)),n=!1,Bt.navigator&&Bt.navigator.sendBeacon)try{n=Bt.navigator.sendBeacon(t.A.toString(),"")}catch(kf){}!n&&Bt.Image&&((new Image).src=t.A,n=!0),n||(t.g=yo(t.l,null),t.g.ha(t.A)),t.G=Date.now(),Wr(t)}vo(e)}function no(e){e.g&&(uo(e),e.g.cancel(),e.g=null)}function ro(e){no(e),e.u&&(Bt.clearTimeout(e.u),e.u=null),po(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Bt.clearTimeout(e.m),e.m=null)}function io(e){if(!Oi(e.i)&&!e.m){e.m=!0;var t=e.Na;er||rr(),tr||(er(),tr=!0),nr.add(t,e),e.C=0}}function oo(e,t){var n;n=t?t.m:e.W++;var r=ei(e.I);ii(r,"SID",e.K),ii(r,"RID",n),ii(r,"AID",e.V),so(e,r),e.o&&e.s&&Ji(r,e.o,e.s),n=new Dr(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=ao(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),wi(e.i,n),Zr(n,r,t)}function so(e,t){e.na&&Sn(e.na,(function(e,n){ii(t,n,e)})),e.h&&Qr({},(function(e,n){ii(t,n,e)}))}function ao(e,t,n){n=Math.min(e.j.length,n);var r=e.h?jt(e.h.Va,e.h,e):null;e:for(var i=e.j,o=-1;;){var s=["count="+n];-1==o?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var a=!0,l=0;l<n;l++){var c=i[l].g,u=i[l].map;if(0>(c-=o))o=Math.max(0,i[l].g-100),a=!1;else try{Ai(u,s,"req"+c+"_")}catch(h){r&&r(u)}}if(a){r=s.join("&");break e}}return e=e.j.splice(0,n),t.F=e,r}function lo(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;er||rr(),tr||(er(),tr=!0),nr.add(t,e),e.A=0}}function co(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Sr(jt(e.Ma,e),go(e,e.A)),e.A++,!0)}function uo(e){null!=e.B&&(Bt.clearTimeout(e.B),e.B=null)}function ho(e){e.g=new Dr(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=ei(e.wa);ii(t,"RID","rpc"),ii(t,"SID",e.K),ii(t,"AID",e.V),ii(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&ii(t,"TO",e.qa),ii(t,"TYPE","xmlhttp"),so(e,t),e.o&&e.s&&Ji(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=oi(ei(t)),n.u=null,n.S=!0,Gr(n,e)}function po(e){null!=e.v&&(Bt.clearTimeout(e.v),e.v=null)}function fo(e,t){var n=null;if(e.g==t){po(e),uo(e),e.g=null;var r=2}else{if(!ki(e.i,t))return;n=t.F,Ri(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;jn(r=mr(),new Or(r,n)),io(e)}else lo(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Si(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Sr(jt(e.Na,e,t),go(e,e.C)),e.C++,!0))}(e,t)||2==r&&co(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:_o(e,5);break;case 4:_o(e,10);break;case 3:_o(e,6);break;default:_o(e,2)}}function go(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function _o(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=jt(e.pb,e);n||(n=new $r("//www.google.com/images/cleardot.gif"),Bt.location&&"http"==Bt.location.protocol||ti(n,"https"),oi(n)),function(e,t){var n=new dr;if(Bt.Image){var r=new Image;r.onload=Wt(Ni,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Wt(Ni,n,r,"TestLoadImage: error",!1,t),r.onabort=Wt(Ni,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Wt(Ni,n,r,"TestLoadImage: timeout",!1,t),Bt.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else br(2);e.H=0,e.h&&e.h.za(t),vo(e),ro(e)}function vo(e){if(e.H=0,e.ma=[],e.h){var t=Ci(e.i);0==t.length&&0==e.j.length||(Kt(e.ma,t),Kt(e.ma,e.j),e.i.i.length=0,qt(e.j),e.j.length=0),e.h.ya()}}function mo(e,t,n){var r=n instanceof $r?ei(n):new $r(n);if(""!=r.g)t&&(r.g=t+"."+r.g),ni(r,r.m);else{var i=Bt.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new $r(null);r&&ti(o,r),t&&(o.g=t),i&&ni(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&ii(r,n,t),ii(r,"VER",e.ra),so(e,r),r}function yo(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new Zi(new Li({ob:n})):new Zi(e.va)).Oa(e.J),t}function To(){}function Eo(){if(an&&!(10<=Number(vn)))throw Error("Environmental error: no available transport.")}function bo(e,t){Vn.call(this),this.g=new eo(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!$t(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!$t(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new ko(this)}function Oo(e){Nr.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function So(){Lr.call(this),this.status=1}function ko(e){this.g=e}function wo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Ro(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(s<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=n+((s=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function Co(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}(Lt=Zi.prototype).Oa=function(e){this.M=e},Lt.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():xr.g(),this.C=this.u?Cr(this.u):Cr(xr),this.g.onreadystatechange=jt(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(l){return void ji(this,l)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var o,s=(0,X.Z)(r.keys());try{for(s.s();!(o=s.n()).done;){var l=o.value;n.set(l,r.get(l))}}catch(d){s.e(d)}finally{s.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=Bt.FormData&&e instanceof Bt.FormData,!(0<=Yt(Vi,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var c,u=(0,X.Z)(n);try{for(u.s();!(c=u.n()).done;){var h=a(c.value,2),p=h[0],f=h[1];this.g.setRequestHeader(p,f)}}catch(d){u.e(d)}finally{u.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Yi(this),0<this.B&&((this.L=function(e){return an&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=jt(this.ua,this)):this.A=ar(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(l){ji(this,l)}},Lt.ua=function(){"undefined"!=typeof Pt&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,jn(this,"timeout"),this.abort(8))},Lt.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,jn(this,"complete"),jn(this,"abort"),zi(this))},Lt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),zi(this,!0)),Zi.$.N.call(this)},Lt.La=function(){this.s||(this.G||this.v||this.l?Xi(this):this.kb())},Lt.kb=function(){Xi(this)},Lt.isActive=function(){return!!this.g},Lt.da=function(){try{return 2<qi(this)?this.g.status:-1}catch(mf){return-1}},Lt.ja=function(){try{return this.g?this.g.responseText:""}catch(mf){return""}},Lt.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Ui(t)}},Lt.Ia=function(){return this.m},Lt.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Lt=eo.prototype).ra=8,Lt.H=1,Lt.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new Dr(this,this.l,e),n=this.s;if(this.U&&(n?Rn(n=kn(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.j.length;i++){var o=this.j[i];if(void 0===(o="__data__"in o.map&&"string"===typeof(o=o.map.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break e}if(4096===r||i===this.j.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=ao(this,t,r),ii(i=ei(this.I),"RID",e),ii(i,"CVER",22),this.F&&ii(i,"X-HTTP-Session-Id",this.F),so(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(Qi(n)))+"&"+r:this.o&&Ji(i,this.o,n)),wi(this.i,t),this.bb&&ii(i,"TYPE","init"),this.P?(ii(i,"$req",r),ii(i,"SID","null"),t.aa=!0,Zr(t,i,null)):Zr(t,i,r),this.H=2}}else 3==this.H&&(e?oo(this,e):0==this.j.length||Oi(this.i)||oo(this))},Lt.Ma=function(){if(this.u=null,ho(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Sr(jt(this.jb,this),e)}},Lt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,br(10),no(this),ho(this))},Lt.ib=function(){null!=this.v&&(this.v=null,no(this),co(this),br(19))},Lt.pb=function(e){e?(this.l.info("Successfully pinged google.com"),br(2)):(this.l.info("Failed to ping google.com"),br(1))},Lt.isActive=function(){return!!this.h&&this.h.isActive(this)},(Lt=To.prototype).Ba=function(){},Lt.Aa=function(){},Lt.za=function(){},Lt.ya=function(){},Lt.isActive=function(){return!0},Lt.Va=function(){},Eo.prototype.g=function(e,t){return new bo(e,t)},Xt(bo,Vn),bo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;br(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=mo(e,null,e.Y),io(e)},bo.prototype.close=function(){to(this.g)},bo.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Xn(e),e=n);t.j.push(new Ti(t.fb++,e)),3==t.H&&io(t)},bo.prototype.N=function(){this.g.h=null,delete this.j,to(this.g),delete this.g,bo.$.N.call(this)},Xt(Oo,Nr),Xt(So,Lr),Xt(ko,To),ko.prototype.Ba=function(){jn(this.g,"a")},ko.prototype.Aa=function(e){jn(this.g,new Oo(e))},ko.prototype.za=function(e){jn(this.g,new So)},ko.prototype.ya=function(){jn(this.g,"b")},Xt(wo,(function(){this.blockSize=-1})),wo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},wo.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(0==i)for(;o<=n;)Ro(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){Ro(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){Ro(this,r),i=0;break}}this.h=i,this.i+=t},wo.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Io={};function xo(e){return-128<=e&&128>e?function(e,t){var n=Io;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Co([0|e],0>e?-1:0)})):new Co([0|e],0>e?-1:0)}function Ao(e){if(isNaN(e)||!isFinite(e))return Lo;if(0>e)return Fo(Ao(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=No;return new Co(t,0)}var No=4294967296,Lo=xo(0),Mo=xo(1),Do=xo(16777216);function Po(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Bo(e){return-1==e.h}function Fo(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Co(n,~e.h).add(Mo)}function Uo(e,t){return e.add(Fo(t))}function Zo(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Go(e,t){this.g=e,this.h=t}function Ho(e,t){if(Po(t))throw Error("division by zero");if(Po(e))return new Go(Lo,Lo);if(Bo(e))return t=Ho(Fo(e),t),new Go(Fo(t.g),Fo(t.h));if(Bo(t))return t=Ho(e,Fo(t)),new Go(Fo(t.g),t.h);if(30<e.g.length){if(Bo(e)||Bo(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Mo,r=t;0>=r.X(e);)n=Vo(n),r=Vo(r);var i=jo(n,1),o=jo(r,1);for(r=jo(r,2),n=jo(n,2);!Po(r);){var s=o.add(r);0>=s.X(e)&&(i=i.add(n),o=s),r=jo(r,1),n=jo(n,1)}return t=Uo(e,i.R(t)),new Go(i,t)}for(i=Lo;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=Ao(n)).R(t);Bo(s)||0<s.X(e);)s=(o=Ao(n-=r)).R(t);Po(o)&&(o=Mo),i=i.add(o),e=Uo(e,s)}return new Go(i,e)}function Vo(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Co(n,e.h)}function jo(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new Co(i,e.h)}(Lt=Co.prototype).ea=function(){if(Bo(this))return-Fo(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:No+r)*t,t*=No}return e},Lt.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Po(this))return"0";if(Bo(this))return"-"+Fo(this).toString(e);for(var t=Ao(Math.pow(e,6)),n=this,r="";;){var i=Ho(n,t).g,o=((0<(n=Uo(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Po(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},Lt.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Lt.X=function(e){return Bo(e=Uo(this,e))?-1:Po(e)?0:1},Lt.abs=function(){return Bo(this)?Fo(this):this},Lt.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(65535&this.D(i))+(65535&e.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new Co(n,-2147483648&n[n.length-1]?-1:0)},Lt.R=function(e){if(Po(this)||Po(e))return Lo;if(Bo(this))return Bo(e)?Fo(this).R(Fo(e)):Fo(Fo(this).R(e));if(Bo(e))return Fo(this.R(Fo(e)));if(0>this.X(Do)&&0>e.X(Do))return Ao(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=s*l,Zo(n,2*r+2*i),n[2*r+2*i+1]+=o*l,Zo(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Zo(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Zo(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Co(n,0)},Lt.gb=function(e){return Ho(this,e).h},Lt.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Co(n,this.h&e.h)},Lt.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Co(n,this.h|e.h)},Lt.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Co(n,this.h^e.h)},Eo.prototype.createWebChannel=Eo.prototype.g,bo.prototype.send=bo.prototype.u,bo.prototype.open=bo.prototype.m,bo.prototype.close=bo.prototype.close,kr.NO_ERROR=0,kr.TIMEOUT=8,kr.HTTP_ERROR=6,wr.COMPLETE="complete",Ir.EventType=Ar,Ar.OPEN="a",Ar.CLOSE="b",Ar.ERROR="c",Ar.MESSAGE="d",Vn.prototype.listen=Vn.prototype.O,Zi.prototype.listenOnce=Zi.prototype.P,Zi.prototype.getLastError=Zi.prototype.Sa,Zi.prototype.getLastErrorCode=Zi.prototype.Ia,Zi.prototype.getStatus=Zi.prototype.da,Zi.prototype.getResponseJson=Zi.prototype.Wa,Zi.prototype.getResponseText=Zi.prototype.ja,Zi.prototype.send=Zi.prototype.ha,Zi.prototype.setWithCredentials=Zi.prototype.Oa,wo.prototype.digest=wo.prototype.l,wo.prototype.reset=wo.prototype.reset,wo.prototype.update=wo.prototype.j,Co.prototype.add=Co.prototype.add,Co.prototype.multiply=Co.prototype.R,Co.prototype.modulo=Co.prototype.gb,Co.prototype.compare=Co.prototype.X,Co.prototype.toNumber=Co.prototype.ea,Co.prototype.toString=Co.prototype.toString,Co.prototype.getBits=Co.prototype.D,Co.fromNumber=Ao,Co.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Fo(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Ao(Math.pow(n,8)),i=Lo,o=0;o<t.length;o+=8){var s=Math.min(8,t.length-o),a=parseInt(t.substring(o,o+s),n);8>s?(s=Ao(Math.pow(n,s)),i=i.R(s).add(Ao(a))):i=(i=i.R(r)).add(Ao(a))}return i};var Wo=Dt.createWebChannelTransport=function(){return new Eo},Xo=Dt.getStatEventTarget=function(){return mr()},zo=Dt.ErrorCode=kr,Yo=Dt.EventType=wr,qo=Dt.Event=_r,Ko=Dt.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Qo=(Dt.FetchXmlHttpFactory=Li,Dt.WebChannel=Ir),Jo=Dt.XhrIo=Zi,$o=(Dt.Md5=wo,Dt.Integer=Co),es="@firebase/firestore",ts=function(){function e(t){(0,z.Z)(this,e),this.uid=t}return(0,Y.Z)(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();ts.UNAUTHENTICATED=new ts(null),ts.GOOGLE_CREDENTIALS=new ts("google-credentials-uid"),ts.FIRST_PARTY=new ts("first-party-uid"),ts.MOCK_USER=new ts("mock-user");var ns="10.8.0",rs=new Le("@firebase/firestore");function is(){return rs.logLevel}function os(e){if(rs.logLevel<=we.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ls);rs.debug.apply(rs,["Firestore (".concat(ns,"): ").concat(e)].concat((0,W.Z)(i)))}}function ss(e){if(rs.logLevel<=we.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ls);rs.error.apply(rs,["Firestore (".concat(ns,"): ").concat(e)].concat((0,W.Z)(i)))}}function as(e){if(rs.logLevel<=we.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ls);rs.warn.apply(rs,["Firestore (".concat(ns,"): ").concat(e)].concat((0,W.Z)(i)))}}function ls(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(df){return e}}function cs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(ns,") INTERNAL ASSERTION FAILED: ")+e;throw ss(t),new Error(t)}function us(e,t){e||cs()}function hs(e,t){return e}var ps={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},fs=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e,r){var i;return(0,z.Z)(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return(0,Y.Z)(n)}(_e),ds=(0,Y.Z)((function e(){var t=this;(0,z.Z)(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),gs=(0,Y.Z)((function e(t,n){(0,z.Z)(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),_s=function(){function e(){(0,z.Z)(this,e)}return(0,Y.Z)(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(ts.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),vs=function(){function e(t){(0,z.Z)(this,e),this.token=t,this.changeListener=null}return(0,Y.Z)(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),ms=function(){function n(e){(0,z.Z)(this,n),this.t=e,this.currentUser=ts.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return(0,Y.Z)(n,[{key:"start",value:function(n,r){var i=this,o=this.i,s=function(e){return i.i!==o?(o=i.i,r(e)):Promise.resolve()},a=new ds;this.o=function(){i.i++,i.currentUser=i.u(),a.resolve(),a=new ds,n.enqueueRetryable((function(){return s(i.currentUser)}))};var l=function(){var r=a;n.enqueueRetryable((0,t.Z)((0,e.Z)().mark((function t(){return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.promise;case 2:return e.next=4,s(i.currentUser);case 4:case"end":return e.stop()}}),t)}))))},c=function(e){os("FirebaseAuthCredentialsProvider","Auth detected"),i.auth=e,i.auth.addAuthTokenListener(i.o),l()};this.t.onInit((function(e){return c(e)})),setTimeout((function(){if(!i.auth){var e=i.t.getImmediate({optional:!0});e?c(e):(os("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ds)}}),0),l()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(os("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(us("string"==typeof n.accessToken),new gs(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return us(null===e||"string"==typeof e),new ts(e)}}]),n}(),ys=function(){function e(t,n,r){(0,z.Z)(this,e),this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=ts.FIRST_PARTY,this.I=new Map}return(0,Y.Z)(e,[{key:"T",value:function(){return this.P?this.P():null}},{key:"headers",get:function(){this.I.set("X-Goog-AuthUser",this.l);var e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}]),e}(),Ts=function(){function e(t,n,r){(0,z.Z)(this,e),this.l=t,this.h=n,this.P=r}return(0,Y.Z)(e,[{key:"getToken",value:function(){return Promise.resolve(new ys(this.l,this.h,this.P))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(ts.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Es=(0,Y.Z)((function e(t){(0,z.Z)(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),bs=function(){function e(t){(0,z.Z)(this,e),this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}return(0,Y.Z)(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&os("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.R;return n.R=e.token,os("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){os("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.A.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.A.getImmediate({optional:!0});e?i(e):os("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(us("string"==typeof t.token),e.R=t.token,new Es(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Os(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Ss=function(){function e(){(0,z.Z)(this,e)}return(0,Y.Z)(e,null,[{key:"newId",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=Os(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function ks(e,t){return e<t?-1:e>t?1:0}function ws(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var Rs=function(){function e(t,n){if((0,z.Z)(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new fs(ps.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fs(ps.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new fs(ps.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new fs(ps.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return(0,Y.Z)(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?ks(this.nanoseconds,e.nanoseconds):ks(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Cs=function(){function e(t){(0,z.Z)(this,e),this.timestamp=t}return(0,Y.Z)(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Rs(0,0))}},{key:"max",value:function(){return new e(new Rs(253402300799,999999999))}}]),e}(),Is=function(){function e(t,n,r){(0,z.Z)(this,e),void 0===n?n=0:n>t.length&&cs(),void 0===r?r=t.length-n:r>t.length-n&&cs(),this.segments=t,this.offset=n,this.len=r}return(0,Y.Z)(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),xs=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(){return(0,z.Z)(this,n),t.apply(this,arguments)}return(0,Y.Z)(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"toUriEncodedString",value:function(){return this.toArray().map(encodeURIComponent).join("/")}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var o=0,s=r;o<s.length;o++){var a=s[o];if(a.indexOf("//")>=0)throw new fs(ps.INVALID_ARGUMENT,"Invalid segment (".concat(a,"). Paths must not contain // in them."));e.push.apply(e,(0,W.Z)(a.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Is),As=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ns=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(){return(0,z.Z)(this,n),t.apply(this,arguments)}return(0,Y.Z)(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return As.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,o=function(){if(0===r.length)throw new fs(ps.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},s=!1;i<e.length;){var a=e[i];if("\\"===a){if(i+1===e.length)throw new fs(ps.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var l=e[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new fs(ps.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new fs(ps.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Is),Ls=function(){function e(t){(0,z.Z)(this,e),this.path=t}return(0,Y.Z)(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===xs.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(xs.fromString(t))}},{key:"fromName",value:function(t){return new e(xs.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(xs.emptyPath())}},{key:"comparator",value:function(e,t){return xs.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new xs(t.slice()))}}]),e}(),Ms=(0,Y.Z)((function e(t,n,r,i){(0,z.Z)(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));Ms.UNKNOWN_ID=-1;function Ds(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Cs.fromTimestamp(1e9===r?new Rs(n+1,0):new Rs(n,r));return new Bs(i,Ls.empty(),t)}function Ps(e){return new Bs(e.readTime,e.key,-1)}var Bs=function(){function e(t,n,r){(0,z.Z)(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return(0,Y.Z)(e,null,[{key:"min",value:function(){return new e(Cs.min(),Ls.empty(),-1)}},{key:"max",value:function(){return new e(Cs.max(),Ls.empty(),-1)}}]),e}();function Fs(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Ls.comparator(e.documentKey,t.documentKey))?n:ks(e.largestBatchId,t.largestBatchId)}var Us="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Zs=function(){function e(){(0,z.Z)(this,e),this.onCommittedListeners=[]}return(0,Y.Z)(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Gs(e){return Hs.apply(this,arguments)}function Hs(){return Hs=(0,t.Z)((0,e.Z)().mark((function t(n){return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code===ps.FAILED_PRECONDITION&&n.message===Us){e.next=2;break}throw n;case 2:os("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),t)}))),Hs.apply(this,arguments)}var Vs=function(){function e(t){var n=this;(0,z.Z)(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return(0,Y.Z)(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&cs(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=(0,X.Z)(t);try{var o=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)o()}catch(s){i.e(s)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,o=new Array(i),s=0,a=function(){var a=l;n(t[a]).next((function(t){o[a]=t,++s===i&&e(o)}),(function(e){return r(e)}))},l=0;l<i;l++)a()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),js=function(){function e(t,n){var r=this;(0,z.Z)(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.V=new ds,this.transaction.oncomplete=function(){r.V.resolve()},this.transaction.onabort=function(){n.error?r.V.reject(new zs(t,n.error)):r.V.resolve()},this.transaction.onerror=function(e){var n=Js(e.target.error);r.V.reject(new zs(t,n))}}return(0,Y.Z)(e,[{key:"m",get:function(){return this.V.promise}},{key:"abort",value:function(e){e&&this.V.reject(e),this.aborted||(os("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"g",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new qs(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new zs(n,t)}}}]),e}(),Ws=function(){function n(e,t,r){(0,z.Z)(this,n),this.name=e,this.version=t,this.p=r,12.2===n.S(fe())&&ss("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return(0,Y.Z)(n,[{key:"O",value:function(){var n=(0,t.Z)((0,e.Z)().mark((function t(n){var r=this;return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return os("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,t){var i=indexedDB.open(r.name,r.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){t(new zs(n,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var r=e.target.error;"VersionError"===r.name?t(new fs(ps.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?t(new fs(ps.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):t(new zs(n,r))},i.onupgradeneeded=function(e){os("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;r.p.N(t,i.transaction,e.oldVersion,r.version).next((function(){os("SimpleDb","Database upgrade to version "+r.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return r.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),t,this)})));return function(e){return n.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var n=(0,t.Z)((0,e.Z)().mark((function t(n,r,i,o){var s,a,l,c,u=this;return(0,e.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s="readonly"===r,a=0,l=(0,e.Z)().mark((function t(){var r,l,c,h;return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++a,e.prev=1,e.next=4,u.O(n);case 4:return u.db=e.sent,r=js.open(u.db,n,s?"readonly":"readwrite",i),l=o(r).next((function(e){return r.g(),e})).catch((function(e){return r.abort(e),Vs.reject(e)})).toPromise(),l.catch((function(){})),e.next=9,r.m;case 9:return e.t0=l,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),c=e.t1,h="FirebaseError"!==c.name&&a<3,os("SimpleDb","Transaction failed with error:",c.message,"Retrying:",h),u.close(),h){e.next=18;break}return e.abrupt("return",{v:Promise.reject(c)});case 18:case"end":return e.stop()}}),t,null,[[1,13]])}));case 3:return t.delegateYield(l(),"t0",4);case 4:if(!(c=t.t0)){t.next=7;break}return t.abrupt("return",c.v);case 7:t.next=3;break;case 9:case"end":return t.stop()}}),t)})));return function(e,t,r,i){return n.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return os("SimpleDb","Removing database:",e),Ks(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"D",value:function(){if(!ge())return!1;if(n.C())return!0;var e=fe(),t=n.S(e),r=0<t&&t<10,i=n.v(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}},{key:"C",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"S",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"v",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),n}(),Xs=function(){function e(t){(0,z.Z)(this,e),this.k=t,this.q=!1,this.K=null}return(0,Y.Z)(e,[{key:"isDone",get:function(){return this.q}},{key:"$",get:function(){return this.K}},{key:"cursor",set:function(e){this.k=e}},{key:"done",value:function(){this.q=!0}},{key:"U",value:function(e){this.K=e}},{key:"delete",value:function(){return Ks(this.k.delete())}}]),e}(),zs=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e,r){var i;return(0,z.Z)(this,n),(i=t.call(this,ps.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return(0,Y.Z)(n)}(fs);function Ys(e){return"IndexedDbTransactionError"===e.name}var qs=function(){function e(t){(0,z.Z)(this,e),this.store=t}return(0,Y.Z)(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(os("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(os("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Ks(n)}},{key:"add",value:function(e){return os("SimpleDb","ADD",this.store.name,e,e),Ks(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Ks(this.store.get(e)).next((function(n){return void 0===n&&(n=null),os("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return os("SimpleDb","DELETE",this.store.name,e),Ks(this.store.delete(e))}},{key:"count",value:function(){return os("SimpleDb","COUNT",this.store.name),Ks(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){var i=r.getAll(n.range);return new Vs((function(e,t){i.onerror=function(e){t(e.target.error)},i.onsuccess=function(t){e(t.target.result)}}))}var o=this.cursor(n),s=[];return this.G(o,(function(e,t){s.push(t)})).next((function(){return s}))}},{key:"j",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Vs((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){os("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.J=!1;var r=this.cursor(n);return this.G(r,(function(e,t,n){return n.delete()}))}},{key:"Y",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.G(r,t)}},{key:"Z",value:function(e){var t=this.cursor({});return new Vs((function(n,r){t.onerror=function(e){var t=Js(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"G",value:function(e,t){var n=[];return new Vs((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new Xs(i),s=t(i.primaryKey,i.value,o);if(s instanceof Vs){var a=s.catch((function(e){return o.done(),Vs.reject(e)}));n.push(a)}o.isDone?r():null===o.$?i.continue():i.continue(o.$)}else r()}})).next((function(){return Vs.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Ks(e){return new Vs((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Js(e.target.error);n(t)}}))}var Qs=!1;function Js(e){var t=Ws.S(fe());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new fs("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Qs||(Qs=!0,setTimeout((function(){throw r}),0)),r}}return e}var $s=function(){function e(t,n){var r=this;(0,z.Z)(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.se(e)},this.oe=function(e){return n.writeSequenceNumber(e)})}return(0,Y.Z)(e,[{key:"se",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.oe&&this.oe(e),e}}]),e}();function ea(e){return null==e}function ta(e){return 0===e&&1/e==-1/0}function na(e){return"number"==typeof e&&Number.isInteger(e)&&!ta(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}$s._e=-1;var ra=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),ia=([].concat((0,W.Z)(ra),["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),oa=ia;[].concat(oa,["indexConfiguration","indexState","indexEntries"]);function sa(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function aa(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function la(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var ca=function(){function e(t,n){(0,z.Z)(this,e),this.comparator=t,this.root=n||ha.EMPTY}return(0,Y.Z)(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ha.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ha.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new ua(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new ua(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new ua(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new ua(this.root,e,this.comparator,!0)}}]),e}(),ua=function(){function e(t,n,r,i){(0,z.Z)(this,e),this.isReverse=i,this.nodeStack=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,n&&i&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return(0,Y.Z)(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),ha=function(){function e(t,n,r,i,o){(0,z.Z)(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return(0,Y.Z)(e,[{key:"copy",value:function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw cs();if(this.right.isRed())throw cs();var e=this.left.check();if(e!==this.right.check())throw cs();return e+(this.isRed()?0:1)}}]),e}();ha.EMPTY=null,ha.RED=!0,ha.BLACK=!1,ha.EMPTY=new(function(){function e(){(0,z.Z)(this,e),this.size=0}return(0,Y.Z)(e,[{key:"key",get:function(){throw cs()}},{key:"value",get:function(){throw cs()}},{key:"color",get:function(){throw cs()}},{key:"left",get:function(){throw cs()}},{key:"right",get:function(){throw cs()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new ha(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var pa=function(){function e(t){(0,z.Z)(this,e),this.comparator=t,this.data=new ca(this.comparator)}return(0,Y.Z)(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new fa(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new fa(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),fa=function(){function e(t){(0,z.Z)(this,e),this.iter=t}return(0,Y.Z)(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();var da=function(){function e(t){(0,z.Z)(this,e),this.fields=t,t.sort(Ns.comparator)}return(0,Y.Z)(e,[{key:"unionWith",value:function(t){var n,r=new pa(Ns.comparator),i=(0,X.Z)(this.fields);try{for(i.s();!(n=i.n()).done;){var o=n.value;r=r.add(o)}}catch(c){i.e(c)}finally{i.f()}var s,a=(0,X.Z)(t);try{for(a.s();!(s=a.n()).done;){var l=s.value;r=r.add(l)}}catch(c){a.e(c)}finally{a.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=(0,X.Z)(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return ws(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),ga=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(){var e;return(0,z.Z)(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return(0,Y.Z)(n)}(ne(Error));var _a=function(e){function t(e){(0,z.Z)(this,t),this.binaryString=e}return(0,Y.Z)(t,[{key:e,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return function(e){return btoa(e)}(this.binaryString)}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return ks(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new ga("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}(Symbol.iterator);_a.EMPTY_BYTE_STRING=new _a("");var va=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ma(e){if(us(!!e),"string"==typeof e){var t=0,n=va.exec(e);if(us(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ya(e.seconds),nanos:ya(e.nanos)}}function ya(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ta(e){return"string"==typeof e?_a.fromBase64String(e):_a.fromUint8Array(e)}function Ea(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ba(e){var t=e.mapValue.fields.__previous_value__;return Ea(t)?ba(t):t}function Oa(e){var t=ma(e.mapValue.fields.__local_write_time__.timestampValue);return new Rs(t.seconds,t.nanos)}var Sa=(0,Y.Z)((function e(t,n,r,i,o,s,a,l,c){(0,z.Z)(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c})),ka=function(){function e(t,n){(0,z.Z)(this,e),this.projectId=t,this.database=n||"(default)"}return(0,Y.Z)(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),wa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ra(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ea(e)?4:Fa(e)?9007199254740991:10:cs()}function Ca(e,t){if(e===t)return!0;var n=Ra(e);if(n!==Ra(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Oa(e).isEqual(Oa(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=ma(e.timestampValue),r=ma(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ta(e.bytesValue).isEqual(Ta(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ya(e.geoPointValue.latitude)===ya(t.geoPointValue.latitude)&&ya(e.geoPointValue.longitude)===ya(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ya(e.integerValue)===ya(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=ya(e.doubleValue),r=ya(t.doubleValue);return n===r?ta(n)===ta(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ws(e.arrayValue.values||[],t.arrayValue.values||[],Ca);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(sa(n)!==sa(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ca(n[i],r[i])))return!1;return!0}(e,t);default:return cs()}}function Ia(e,t){return void 0!==(e.values||[]).find((function(e){return Ca(e,t)}))}function xa(e,t){if(e===t)return 0;var n=Ra(e),r=Ra(t);if(n!==r)return ks(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ks(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=ya(e.integerValue||e.doubleValue),r=ya(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Aa(e.timestampValue,t.timestampValue);case 4:return Aa(Oa(e),Oa(t));case 5:return ks(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Ta(e),r=Ta(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=ks(n[i],r[i]);if(0!==o)return o}return ks(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=ks(ya(e.latitude),ya(t.latitude));return 0!==n?n:ks(ya(e.longitude),ya(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=xa(n[i],r[i]);if(o)return o}return ks(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===wa.mapValue&&t===wa.mapValue)return 0;if(e===wa.mapValue)return 1;if(t===wa.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=ks(r[s],o[s]);if(0!==a)return a;var l=xa(n[r[s]],i[o[s]]);if(0!==l)return l}return ks(r.length,o.length)}(e.mapValue,t.mapValue);default:throw cs()}}function Aa(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ks(e,t);var n=ma(e),r=ma(t),i=ks(n.seconds,r.seconds);return 0!==i?i:ks(n.nanos,r.nanos)}function Na(e){return La(e)}function La(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=ma(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Ta(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Ls.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){var t,n="[",r=!0,i=(0,X.Z)(e.values||[]);try{for(i.s();!(t=i.n()).done;){var o=t.value;r?r=!1:n+=",",n+=La(o)}}catch(s){i.e(s)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n=Object.keys(e.fields||{}).sort(),r="{",i=!0,o=(0,X.Z)(n);try{for(o.s();!(t=o.n()).done;){var s=t.value;i?i=!1:r+=",",r+="".concat(s,":").concat(La(e.fields[s]))}}catch(a){o.e(a)}finally{o.f()}return r+"}"}(e.mapValue):cs()}function Ma(e){return!!e&&"integerValue"in e}function Da(e){return!!e&&"arrayValue"in e}function Pa(e){return!!e&&"mapValue"in e}function Ba(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return aa(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Ba(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Ba(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Fa(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}var Ua=function(){function e(t){(0,z.Z)(this,e),this.value=t}return(0,Y.Z)(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Pa(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ba(t)}},{key:"setAll",value:function(e){var t=this,n=Ns.emptyPath(),r={},i=[];e.forEach((function(e,o){if(!n.isImmediateParentOf(o)){var s=t.getFieldsMap(n);t.applyChanges(s,r,i),r={},i=[],n=o.popLast()}e?r[o.lastSegment()]=Ba(e):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Pa(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Ca(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Pa(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){aa(t,(function(t,n){return e[t]=n}));var r,i=(0,X.Z)(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;delete e[o]}}catch(s){i.e(s)}finally{i.f()}}},{key:"clone",value:function(){return new e(Ba(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Za(e){var t=[];return aa(e.fields,(function(e,n){var r=new Ns([e]);if(Pa(n)){var i=Za(n.mapValue).fields;if(0===i.length)t.push(r);else{var o,s=(0,X.Z)(i);try{for(s.s();!(o=s.n()).done;){var a=o.value;t.push(r.child(a))}}catch(l){s.e(l)}finally{s.f()}}}else t.push(r)})),new da(t)}var Ga=function(){function e(t,n,r,i,o,s,a){(0,z.Z)(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}return(0,Y.Z)(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Cs.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Ua.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Ua.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Cs.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Cs.min(),Cs.min(),Cs.min(),Ua.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,Cs.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Cs.min(),Cs.min(),Ua.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Cs.min(),Cs.min(),Ua.empty(),2)}}]),e}(),Ha=(0,Y.Z)((function e(t,n){(0,z.Z)(this,e),this.position=t,this.inclusive=n}));function Va(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],s=e.position[i];if(r=o.field.isKeyField()?Ls.comparator(Ls.fromName(s.referenceValue),n.key):xa(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function ja(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Ca(e.position[n],t.position[n]))return!1;return!0}var Wa=(0,Y.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";(0,z.Z)(this,e),this.field=t,this.dir=n}));function Xa(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var za=(0,Y.Z)((function e(){(0,z.Z)(this,e)})),Ya=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e,r,i){var o;return(0,z.Z)(this,n),(o=t.call(this)).field=e,o.op=r,o.value=i,o}return(0,Y.Z)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(xa(t,this.value)):null!==t&&Ra(this.value)===Ra(t)&&this.matchesComparison(xa(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return cs()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new nl(e,t,r):"array-contains"===t?new sl(e,r):"in"===t?new al(e,r):"not-in"===t?new ll(e,r):"array-contains-any"===t?new cl(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new rl(e,n):new il(e,n)}}]),n}(za),qa=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e,r){var i;return(0,z.Z)(this,n),(i=t.call(this)).filters=e,i.op=r,i.ue=null,i}return(0,Y.Z)(n,[{key:"matches",value:function(e){return Ka(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ue||(this.ue=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ue}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(za);function Ka(e){return"and"===e.op}function Qa(e){return Ja(e)&&Ka(e)}function Ja(e){var t,n=(0,X.Z)(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof qa)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function $a(e){if(e instanceof Ya)return e.field.canonicalString()+e.op.toString()+Na(e.value);if(Qa(e))return e.filters.map((function(e){return $a(e)})).join(",");var t=e.filters.map((function(e){return $a(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function el(e,t){return e instanceof Ya?function(e,t){return t instanceof Ya&&e.op===t.op&&e.field.isEqual(t.field)&&Ca(e.value,t.value)}(e,t):e instanceof qa?function(e,t){return t instanceof qa&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&el(n,t.filters[r])}),!0)}(e,t):void cs()}function tl(e){return e instanceof Ya?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Na(e.value))}(e):e instanceof qa?function(e){return e.op.toString()+" {"+e.getFilters().map(tl).join(" ,")+"}"}(e):"Filter"}var nl=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e,r,i){var o;return(0,z.Z)(this,n),(o=t.call(this,e,r,i)).key=Ls.fromName(i.referenceValue),o}return(0,Y.Z)(n,[{key:"matches",value:function(e){var t=Ls.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(Ya),rl=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e,r){var i;return(0,z.Z)(this,n),(i=t.call(this,e,"in",r)).keys=ol("in",r),i}return(0,Y.Z)(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Ya),il=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e,r){var i;return(0,z.Z)(this,n),(i=t.call(this,e,"not-in",r)).keys=ol("not-in",r),i}return(0,Y.Z)(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Ya);function ol(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Ls.fromName(e.referenceValue)}))}var sl=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e,r){return(0,z.Z)(this,n),t.call(this,e,"array-contains",r)}return(0,Y.Z)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Da(t)&&Ia(t.arrayValue,this.value)}}]),n}(Ya),al=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e,r){return(0,z.Z)(this,n),t.call(this,e,"in",r)}return(0,Y.Z)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Ia(this.value.arrayValue,t)}}]),n}(Ya),ll=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e,r){return(0,z.Z)(this,n),t.call(this,e,"not-in",r)}return(0,Y.Z)(n,[{key:"matches",value:function(e){if(Ia(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Ia(this.value.arrayValue,t)}}]),n}(Ya),cl=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e,r){return(0,z.Z)(this,n),t.call(this,e,"array-contains-any",r)}return(0,Y.Z)(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Da(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Ia(t.value.arrayValue,e)}))}}]),n}(Ya),ul=(0,Y.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;(0,z.Z)(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}));function hl(e){return new ul(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function pl(e){var t=hs(e);if(null===t.ce){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return $a(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),ea(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Na(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Na(e)})).join(",")),t.ce=n}return t.ce}function fl(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Xa(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!el(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ja(e.startAt,t.startAt)&&ja(e.endAt,t.endAt)}var dl=(0,Y.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;(0,z.Z)(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}));function gl(e,t,n,r,i,o,s,a){return new dl(e,t,n,r,i,o,s,a)}function _l(e){return new dl(e)}function vl(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function ml(e){return null!==e.collectionGroup}function yl(e){var t=hs(e);if(null===t.le){t.le=[];var n,r=new Set,i=(0,X.Z)(t.explicitOrderBy);try{for(i.s();!(n=i.n()).done;){var o=n.value;t.le.push(o),r.add(o.field.canonicalString())}}catch(l){i.e(l)}finally{i.f()}var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",a=function(e){var t=new pa(Ns.comparator);return e.filters.forEach((function(e){e.getFlattenedFilters().forEach((function(e){e.isInequality()&&(t=t.add(e.field))}))})),t}(t);a.forEach((function(e){r.has(e.canonicalString())||e.isKeyField()||t.le.push(new Wa(e,s))})),r.has(Ns.keyField().canonicalString())||t.le.push(new Wa(Ns.keyField(),s))}return t.le}function Tl(e){var t=hs(e);return t.he||(t.he=El(t,yl(e))),t.he}function El(e,t){if("F"===e.limitType)return hl(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);t=t.map((function(e){var t="desc"===e.dir?"asc":"desc";return new Wa(e.field,t)}));var n=e.endAt?new Ha(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Ha(e.startAt.position,e.startAt.inclusive):null;return hl(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}function bl(e,t,n){return new dl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ol(e,t){return fl(Tl(e),Tl(t))&&e.limitType===t.limitType}function Sl(e){return"".concat(pl(Tl(e)),"|lt:").concat(e.limitType)}function kl(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return tl(e)})).join(", "),"]")),ea(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Na(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Na(e)})).join(",")),"Target(".concat(t,")")}(Tl(e)),"; limitType=").concat(e.limitType,")")}function wl(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ls.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=(0,X.Z)(yl(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(o){r.e(o)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=(0,X.Z)(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Va(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,yl(e),t))&&!(e.endAt&&!function(e,t,n){var r=Va(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,yl(e),t))}(e,t)}function Rl(e){return function(t,n){var r,i=!1,o=(0,X.Z)(yl(e));try{for(o.s();!(r=o.n()).done;){var s=r.value,a=Cl(s,t,n);if(0!==a)return a;i=i||s.field.isKeyField()}}catch(l){o.e(l)}finally{o.f()}return 0}}function Cl(e,t,n){var r=e.field.isKeyField()?Ls.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?xa(r,i):cs()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return cs()}}var Il=function(){function e(t,n){(0,z.Z)(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return(0,Y.Z)(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=(0,X.Z)(n);try{for(i.s();!(r=i.n()).done;){var o=a(r.value,2),s=o[0],l=o[1];if(this.equalsFn(s,e))return l}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){aa(this.inner,(function(t,n){var r,i=(0,X.Z)(n);try{for(i.s();!(r=i.n()).done;){var o=a(r.value,2),s=o[0],l=o[1];e(s,l)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return la(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),xl=new ca(Ls.comparator);function Al(){return xl}var Nl=new ca(Ls.comparator);function Ll(){for(var e=Nl,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var s=o[i];e=e.insert(s.key,s)}return e}function Ml(e){var t=Nl;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Dl(){return Bl()}function Pl(){return Bl()}function Bl(){return new Il((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Fl=new ca(Ls.comparator),Ul=new pa(Ls.comparator);function Zl(){for(var e=Ul,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var s=o[i];e=e.add(s)}return e}var Gl=new pa(ks);function Hl(){return Gl}function Vl(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ta(t)?"-0":t}}function jl(e){return{integerValue:""+e}}function Wl(e,t){return na(t)?jl(t):Vl(e,t)}var Xl=(0,Y.Z)((function e(){(0,z.Z)(this,e),this._=void 0}));function zl(e,t,n){return e instanceof Kl?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Ea(t)&&(t=ba(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Ql?Jl(e,t):e instanceof $l?ec(e,t):function(e,t){var n=ql(e,t),r=nc(n)+nc(e.Ie);return Ma(n)&&Ma(e.Ie)?jl(r):Vl(e.serializer,r)}(e,t)}function Yl(e,t,n){return e instanceof Ql?Jl(e,t):e instanceof $l?ec(e,t):n}function ql(e,t){return e instanceof tc?function(e){return Ma(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}var Kl=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(){return(0,z.Z)(this,n),t.apply(this,arguments)}return(0,Y.Z)(n)}(Xl),Ql=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e){var r;return(0,z.Z)(this,n),(r=t.call(this)).elements=e,r}return(0,Y.Z)(n)}(Xl);function Jl(e,t){var n,r=rc(t),i=(0,X.Z)(e.elements);try{var o=function(){var e=n.value;r.some((function(t){return Ca(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)o()}catch(s){i.e(s)}finally{i.f()}return{arrayValue:{values:r}}}var $l=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e){var r;return(0,z.Z)(this,n),(r=t.call(this)).elements=e,r}return(0,Y.Z)(n)}(Xl);function ec(e,t){var n,r=rc(t),i=(0,X.Z)(e.elements);try{var o=function(){var e=n.value;r=r.filter((function(t){return!Ca(t,e)}))};for(i.s();!(n=i.n()).done;)o()}catch(s){i.e(s)}finally{i.f()}return{arrayValue:{values:r}}}var tc=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e,r){var i;return(0,z.Z)(this,n),(i=t.call(this)).serializer=e,i.Ie=r,i}return(0,Y.Z)(n)}(Xl);function nc(e){return ya(e.integerValue||e.doubleValue)}function rc(e){return Da(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var ic=(0,Y.Z)((function e(t,n){(0,z.Z)(this,e),this.field=t,this.transform=n}));var oc=(0,Y.Z)((function e(t,n){(0,z.Z)(this,e),this.version=t,this.transformResults=n})),sc=function(){function e(t,n){(0,z.Z)(this,e),this.updateTime=t,this.exists=n}return(0,Y.Z)(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function ac(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var lc=(0,Y.Z)((function e(){(0,z.Z)(this,e)}));function cc(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Ec(e.key,sc.none()):new dc(e.key,e.data,sc.none());var n,r=e.data,i=Ua.empty(),o=new pa(Ns.comparator),s=(0,X.Z)(t.fields);try{for(s.s();!(n=s.n()).done;){var a=n.value;if(!o.has(a)){var l=r.field(a);null===l&&a.length>1&&(a=a.popLast(),l=r.field(a)),null===l?i.delete(a):i.set(a,l),o=o.add(a)}}}catch(c){s.e(c)}finally{s.f()}return new gc(e.key,i,new da(o.toArray()),sc.none())}function uc(e,t,n){e instanceof dc?function(e,t,n){var r=e.value.clone(),i=vc(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof gc?function(e,t,n){if(ac(e.precondition,t)){var r=vc(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(_c(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function hc(e,t,n,r){return e instanceof dc?function(e,t,n,r){if(!ac(e.precondition,t))return n;var i=e.value.clone(),o=mc(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof gc?function(e,t,n,r){if(!ac(e.precondition,t))return n;var i=mc(e.fieldTransforms,r,t),o=t.data;return o.setAll(_c(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return ac(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function pc(e,t){var n,r=null,i=(0,X.Z)(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var o=n.value,s=t.data.field(o.field),a=ql(o.transform,s||null);null!=a&&(null===r&&(r=Ua.empty()),r.set(o.field,a))}}catch(l){i.e(l)}finally{i.f()}return r||null}function fc(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ws(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ql&&t instanceof Ql||e instanceof $l&&t instanceof $l?ws(e.elements,t.elements,Ca):e instanceof tc&&t instanceof tc?Ca(e.Ie,t.Ie):e instanceof Kl&&t instanceof Kl}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var dc=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e,r,i){var o,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return(0,z.Z)(this,n),(o=t.call(this)).key=e,o.value=r,o.precondition=i,o.fieldTransforms=s,o.type=0,o}return(0,Y.Z)(n,[{key:"getFieldMask",value:function(){return null}}]),n}(lc),gc=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e,r,i,o){var s,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return(0,z.Z)(this,n),(s=t.call(this)).key=e,s.data=r,s.fieldMask=i,s.precondition=o,s.fieldTransforms=a,s.type=1,s}return(0,Y.Z)(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(lc);function _c(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function vc(e,t,n){var r=new Map;us(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,Yl(s,a,n[i]))}return r}function mc(e,t,n){var r,i=new Map,o=(0,X.Z)(e);try{for(o.s();!(r=o.n()).done;){var s=r.value,a=s.transform,l=n.data.field(s.field);i.set(s.field,zl(a,l,t))}}catch(c){o.e(c)}finally{o.f()}return i}var yc,Tc,Ec=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e,r){var i;return(0,z.Z)(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return(0,Y.Z)(n,[{key:"getFieldMask",value:function(){return null}}]),n}(lc),bc=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e,r){var i;return(0,z.Z)(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return(0,Y.Z)(n,[{key:"getFieldMask",value:function(){return null}}]),n}(lc),Oc=function(){function e(t,n,r,i){(0,z.Z)(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return(0,Y.Z)(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&uc(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=(0,X.Z)(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=hc(i,e,t,this.localWriteTime))}}catch(l){r.e(l)}finally{r.f()}var o,s=(0,X.Z)(this.mutations);try{for(s.s();!(o=s.n()).done;){var a=o.value;a.key.isEqual(e.key)&&(t=hc(a,e,t,this.localWriteTime))}}catch(l){s.e(l)}finally{s.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Pl();return this.mutations.forEach((function(i){var o=e.get(i.key),s=o.overlayedDocument,a=n.applyToLocalView(s,o.mutatedFields),l=cc(s,a=t.has(i.key)?null:a);null!==l&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Cs.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Zl())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&ws(this.mutations,e.mutations,(function(e,t){return fc(e,t)}))&&ws(this.baseMutations,e.baseMutations,(function(e,t){return fc(e,t)}))}}]),e}(),Sc=function(){function e(t,n,r,i){(0,z.Z)(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return(0,Y.Z)(e,null,[{key:"from",value:function(t,n,r){us(t.mutations.length===r.length);for(var i=Fl,o=t.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new e(t,n,r,i)}}]),e}(),kc=function(){function e(t,n){(0,z.Z)(this,e),this.largestBatchId=t,this.mutation=n}return(0,Y.Z)(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}();function wc(e){switch(e){default:return cs();case ps.CANCELLED:case ps.UNKNOWN:case ps.DEADLINE_EXCEEDED:case ps.RESOURCE_EXHAUSTED:case ps.INTERNAL:case ps.UNAVAILABLE:case ps.UNAUTHENTICATED:return!1;case ps.INVALID_ARGUMENT:case ps.NOT_FOUND:case ps.ALREADY_EXISTS:case ps.PERMISSION_DENIED:case ps.FAILED_PRECONDITION:case ps.ABORTED:case ps.OUT_OF_RANGE:case ps.UNIMPLEMENTED:case ps.DATA_LOSS:return!0}}function Rc(e){if(void 0===e)return ss("GRPC error has no .code"),ps.UNKNOWN;switch(e){case yc.OK:return ps.OK;case yc.CANCELLED:return ps.CANCELLED;case yc.UNKNOWN:return ps.UNKNOWN;case yc.DEADLINE_EXCEEDED:return ps.DEADLINE_EXCEEDED;case yc.RESOURCE_EXHAUSTED:return ps.RESOURCE_EXHAUSTED;case yc.INTERNAL:return ps.INTERNAL;case yc.UNAVAILABLE:return ps.UNAVAILABLE;case yc.UNAUTHENTICATED:return ps.UNAUTHENTICATED;case yc.INVALID_ARGUMENT:return ps.INVALID_ARGUMENT;case yc.NOT_FOUND:return ps.NOT_FOUND;case yc.ALREADY_EXISTS:return ps.ALREADY_EXISTS;case yc.PERMISSION_DENIED:return ps.PERMISSION_DENIED;case yc.FAILED_PRECONDITION:return ps.FAILED_PRECONDITION;case yc.ABORTED:return ps.ABORTED;case yc.OUT_OF_RANGE:return ps.OUT_OF_RANGE;case yc.UNIMPLEMENTED:return ps.UNIMPLEMENTED;case yc.DATA_LOSS:return ps.DATA_LOSS;default:return cs()}}(Tc=yc||(yc={}))[Tc.OK=0]="OK",Tc[Tc.CANCELLED=1]="CANCELLED",Tc[Tc.UNKNOWN=2]="UNKNOWN",Tc[Tc.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Tc[Tc.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Tc[Tc.NOT_FOUND=5]="NOT_FOUND",Tc[Tc.ALREADY_EXISTS=6]="ALREADY_EXISTS",Tc[Tc.PERMISSION_DENIED=7]="PERMISSION_DENIED",Tc[Tc.UNAUTHENTICATED=16]="UNAUTHENTICATED",Tc[Tc.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Tc[Tc.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Tc[Tc.ABORTED=10]="ABORTED",Tc[Tc.OUT_OF_RANGE=11]="OUT_OF_RANGE",Tc[Tc.UNIMPLEMENTED=12]="UNIMPLEMENTED",Tc[Tc.INTERNAL=13]="INTERNAL",Tc[Tc.UNAVAILABLE=14]="UNAVAILABLE",Tc[Tc.DATA_LOSS=15]="DATA_LOSS";new $o([4294967295,4294967295],0);var Cc=(0,Y.Z)((function e(t,n){(0,z.Z)(this,e),this.databaseId=t,this.useProto3Json=n}));function Ic(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function xc(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Ac(e,t){return Ic(e,t.toTimestamp())}function Nc(e){return us(!!e),Cs.fromTimestamp(function(e){var t=ma(e);return new Rs(t.seconds,t.nanos)}(e))}function Lc(e,t){return Mc(e,t).canonicalString()}function Mc(e,t){var n=function(e){return new xs(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Dc(e){var t=xs.fromString(e);return us(Xc(t)),t}function Pc(e,t){return Lc(e.databaseId,t.path)}function Bc(e){var t=Dc(e);return 4===t.length?xs.emptyPath():Uc(t)}function Fc(e){return new xs(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Uc(e){return us(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Zc(e,t,n){return{name:Pc(e,t),fields:n.value.mapValue.fields}}function Gc(e,t){var n;if(t instanceof dc)n={update:Zc(e,t.key,t.value)};else if(t instanceof Ec)n={delete:Pc(e,t.key)};else if(t instanceof gc)n={update:Zc(e,t.key,t.data),updateMask:Wc(t.fieldMask)};else{if(!(t instanceof bc))return cs();n={verify:Pc(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Kl)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ql)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof $l)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof tc)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw cs()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Ac(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:cs()}(e,t.precondition)),n}function Hc(e){var t=Bc(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){us(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var s=[];n.where&&(s=function(e){var t=Vc(e);return t instanceof qa&&Qa(t)?t.getFilters():[t]}(n.where));var a=[];n.orderBy&&(a=function(e){return e.map((function(e){return function(e){return new Wa(jc(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)}))}(n.orderBy));var l=null;n.limit&&(l=function(e){var t;return ea(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Ha(n,t)}(n.startAt));var u=null;return n.endAt&&(u=function(e){var t=!e.before,n=e.values||[];return new Ha(n,t)}(n.endAt)),gl(t,i,a,s,l,"F",c,u)}function Vc(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=jc(e.unaryFilter.field);return Ya.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=jc(e.unaryFilter.field);return Ya.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=jc(e.unaryFilter.field);return Ya.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=jc(e.unaryFilter.field);return Ya.create(i,"!=",{nullValue:"NULL_VALUE"});default:return cs()}}(e):void 0!==e.fieldFilter?function(e){return Ya.create(jc(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return cs()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return qa.create(e.compositeFilter.filters.map((function(e){return Vc(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return cs()}}(e.compositeFilter.op))}(e):cs()}function jc(e){return Ns.fromServerFormat(e.fieldPath)}function Wc(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Xc(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var zc=(0,Y.Z)((function e(t){(0,z.Z)(this,e),this.ct=t}));function Yc(e){var t=Hc({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?bl(t,t.limit,"L"):t}var qc=function(){function e(){(0,z.Z)(this,e)}return(0,Y.Z)(e,[{key:"Pt",value:function(e,t){this.It(e,t),t.Tt()}},{key:"It",value:function(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(ya(e.integerValue));else if("doubleValue"in e){var n=ya(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),ta(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){var r=e.timestampValue;this.Et(t,20),"string"==typeof r?t.At(r):(t.At("".concat(r.seconds||"")),t.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(Ta(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.Et(t,45),t.dt(i.latitude||0),t.dt(i.longitude||0)}else"mapValue"in e?Fa(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):cs()}},{key:"Rt",value:function(e,t){this.Et(t,25),this.St(e,t)}},{key:"St",value:function(e,t){t.At(e)}},{key:"yt",value:function(e,t){var n=e.fields||{};this.Et(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var o=i[r];this.Rt(o,t),this.It(n[o],t)}}},{key:"wt",value:function(e,t){var n=e.values||[];this.Et(t,50);var r,i=(0,X.Z)(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;this.It(o,t)}}catch(s){i.e(s)}finally{i.f()}}},{key:"gt",value:function(e,t){var n=this;this.Et(t,37),Ls.fromName(e).path.forEach((function(e){n.Et(t,60),n.St(e,t)}))}},{key:"Et",value:function(e,t){e.dt(t)}},{key:"Vt",value:function(e){e.dt(2)}}]),e}();qc.bt=new qc;var Kc=function(){function e(){(0,z.Z)(this,e),this._n=new Qc}return(0,Y.Z)(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this._n.add(t),Vs.resolve()}},{key:"getCollectionParents",value:function(e,t){return Vs.resolve(this._n.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Vs.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Vs.resolve()}},{key:"deleteAllFieldIndexes",value:function(e){return Vs.resolve()}},{key:"createTargetIndexes",value:function(e,t){return Vs.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Vs.resolve(null)}},{key:"getIndexType",value:function(e,t){return Vs.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Vs.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Vs.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Vs.resolve(Bs.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Vs.resolve(Bs.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Vs.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Vs.resolve()}}]),e}(),Qc=function(){function e(){(0,z.Z)(this,e),this.index={}}return(0,Y.Z)(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new pa(xs.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new pa(xs.comparator)).toArray()}}]),e}();new Uint8Array(0);var Jc=function(){function e(t,n,r){(0,z.Z)(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return(0,Y.Z)(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();Jc.DEFAULT_COLLECTION_PERCENTILE=10,Jc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jc.DEFAULT=new Jc(41943040,Jc.DEFAULT_COLLECTION_PERCENTILE,Jc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jc.DISABLED=new Jc(-1,0,0);var $c=function(){function e(t){(0,z.Z)(this,e),this.On=t}return(0,Y.Z)(e,[{key:"next",value:function(){return this.On+=2,this.On}}],[{key:"Nn",value:function(){return new e(0)}},{key:"Bn",value:function(){return new e(-1)}}]),e}();var eu=function(){function e(){(0,z.Z)(this,e),this.changes=new Il((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return(0,Y.Z)(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Ga.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Vs.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var tu=(0,Y.Z)((function e(t,n){(0,z.Z)(this,e),this.overlayedDocument=t,this.mutatedFields=n})),nu=function(){function e(t,n,r,i){(0,z.Z)(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return(0,Y.Z)(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&hc(r.mutation,e,da.empty(),Rs.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Zl()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Zl(),i=Dl();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Ll();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Dl();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Zl())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Al(),o=Bl(),s=Bl();return t.forEach((function(e,t){var s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof gc)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),hc(s.mutation,t,s.mutation.getFieldMask(),Rs.now())):o.set(t.key,da.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return o.set(e,t)})),t.forEach((function(e,t){var n;return s.set(e,new tu(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),s}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Bl(),i=new ca((function(e,t){return e-t})),o=Zl();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,o=(0,X.Z)(e);try{var s=function(){var e=n.value;e.keys().forEach((function(n){var o=t.get(n);if(null!==o){var s=r.get(n)||da.empty();s=e.applyToLocalView(o,s),r.set(n,s);var a=(i.get(e.batchId)||Zl()).add(n);i=i.insert(e.batchId,a)}}))};for(o.s();!(n=o.n()).done;)s()}catch(a){o.e(a)}finally{o.f()}})).next((function(){for(var s=[],a=i.getReverseIterator(),l=function(){var i=a.getNext(),l=i.key,c=i.value,u=Pl();c.forEach((function(e){if(!o.has(e)){var n=cc(t.get(e),r.get(e));null!==n&&u.set(e,n),o=o.add(e)}})),s.push(n.documentOverlayCache.saveOverlays(e,l,u))};a.hasNext();)l();return Vs.waitFor(s)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){return function(e){return Ls.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ml(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(o){var s=r-o.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-o.size):Vs.resolve(Dl()),a=-1,l=o;return s.next((function(t){return Vs.forEach(t,(function(t,n){return a<n.largestBatchId&&(a=n.largestBatchId),o.get(t)?Vs.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){l=l.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,o)})).next((function(){return i.computeViews(e,l,t,Zl())})).next((function(e){return{batchId:a,changes:Ml(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Ls(t)).next((function(e){var t=Ll();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n,r){var i=this,o=t.collectionGroup,s=Ll();return this.indexManager.getCollectionParents(e,o).next((function(a){return Vs.forEach(a,(function(a){var l=function(e,t){return new dl(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(o));return i.getDocumentsMatchingCollectionQuery(e,l,n,r).next((function(e){e.forEach((function(e,t){s=s.insert(e,t)}))}))})).next((function(){return s}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n,r){var i,o=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(s){return i=s,o.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)})).next((function(e){i.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,Ga.newInvalidDocument(r)))}));var n=Ll();return e.forEach((function(e,r){var o=i.get(e);void 0!==o&&hc(o.mutation,r,da.empty(),Rs.now()),wl(t,r)&&(n=n.insert(e,r))})),n}))}}]),e}(),ru=function(){function e(t){(0,z.Z)(this,e),this.serializer=t,this.cr=new Map,this.lr=new Map}return(0,Y.Z)(e,[{key:"getBundleMetadata",value:function(e,t){return Vs.resolve(this.cr.get(t))}},{key:"saveBundleMetadata",value:function(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Nc(e.createTime)}}(t)),Vs.resolve()}},{key:"getNamedQuery",value:function(e,t){return Vs.resolve(this.lr.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:Yc(e.bundledQuery),readTime:Nc(e.readTime)}}(t)),Vs.resolve()}}]),e}(),iu=function(){function e(){(0,z.Z)(this,e),this.overlays=new ca(Ls.comparator),this.hr=new Map}return(0,Y.Z)(e,[{key:"getOverlay",value:function(e,t){return Vs.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Dl();return Vs.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ht(e,t,i)})),Vs.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.hr.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.hr.delete(n)),Vs.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Dl(),i=t.length+1,o=new Ls(t.child("")),s=this.overlays.getIteratorFrom(o);s.hasNext();){var a=s.getNext().value,l=a.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===i&&a.largestBatchId>n&&r.set(a.getKey(),a)}return Vs.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new ca((function(e,t){return e-t})),o=this.overlays.getIterator();o.hasNext();){var s=o.getNext().value;if(s.getKey().getCollectionGroup()===t&&s.largestBatchId>n){var a=i.get(s.largestBatchId);null===a&&(a=Dl(),i=i.insert(s.largestBatchId,a)),a.set(s.getKey(),s)}}for(var l=Dl(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return l.set(e,t)})),!(l.size()>=r)););return Vs.resolve(l)}},{key:"ht",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new kc(t,n));var o=this.hr.get(t);void 0===o&&(o=Zl(),this.hr.set(t,o)),this.hr.set(t,o.add(n.key))}}]),e}(),ou=function(){function e(){(0,z.Z)(this,e),this.Pr=new pa(su.Ir),this.Tr=new pa(su.Er)}return(0,Y.Z)(e,[{key:"isEmpty",value:function(){return this.Pr.isEmpty()}},{key:"addReference",value:function(e,t){var n=new su(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}},{key:"dr",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Ar(new su(e,t))}},{key:"Rr",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Vr",value:function(e){var t=this,n=new Ls(new xs([])),r=new su(n,e),i=new su(n,e+1),o=[];return this.Tr.forEachInRange([r,i],(function(e){t.Ar(e),o.push(e.key)})),o}},{key:"mr",value:function(){var e=this;this.Pr.forEach((function(t){return e.Ar(t)}))}},{key:"Ar",value:function(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}},{key:"gr",value:function(e){var t=new Ls(new xs([])),n=new su(t,e),r=new su(t,e+1),i=Zl();return this.Tr.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new su(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),su=function(){function e(t,n){(0,z.Z)(this,e),this.key=t,this.pr=n}return(0,Y.Z)(e,null,[{key:"Ir",value:function(e,t){return Ls.comparator(e.key,t.key)||ks(e.pr,t.pr)}},{key:"Er",value:function(e,t){return ks(e.pr,t.pr)||Ls.comparator(e.key,t.key)}}]),e}(),au=function(){function e(t,n){(0,z.Z)(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new pa(su.Ir)}return(0,Y.Z)(e,[{key:"checkEmpty",value:function(e){return Vs.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var o=new Oc(i,t,n,r);this.mutationQueue.push(o);var s,a=(0,X.Z)(r);try{for(a.s();!(s=a.n()).done;){var l=s.value;this.wr=this.wr.add(new su(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast())}}catch(c){a.e(c)}finally{a.f()}return Vs.resolve(o)}},{key:"lookupMutationBatch",value:function(e,t){return Vs.resolve(this.Sr(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.br(n),i=r<0?0:r;return Vs.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Vs.resolve(0===this.mutationQueue.length?-1:this.yr-1)}},{key:"getAllMutationBatches",value:function(e){return Vs.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new su(t,0),i=new su(t,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],(function(e){var t=n.Sr(e.pr);o.push(t)})),Vs.resolve(o)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new pa(ks);return t.forEach((function(e){var t=new su(e,0),i=new su(e,Number.POSITIVE_INFINITY);n.wr.forEachInRange([t,i],(function(e){r=r.add(e.pr)}))})),Vs.resolve(this.Dr(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Ls.isDocumentKey(i)||(i=i.child(""));var o=new su(new Ls(i),0),s=new pa(ks);return this.wr.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.pr)),!0)}),o),Vs.resolve(this.Dr(s))}},{key:"Dr",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Sr(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;us(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();var r=this.wr;return Vs.forEach(t.mutations,(function(i){var o=new su(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.wr=r}))}},{key:"Mn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new su(t,0),r=this.wr.firstAfterOrEqual(n);return Vs.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Vs.resolve()}},{key:"Cr",value:function(e,t){return this.br(e)}},{key:"br",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"Sr",value:function(e){var t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),lu=function(){function e(t){(0,z.Z)(this,e),this.vr=t,this.docs=new ca(Ls.comparator),this.size=0}return(0,Y.Z)(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Vs.resolve(n?n.document.mutableCopy():Ga.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Al();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Ga.newInvalidDocument(e))})),Vs.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=Al(),o=t.path,s=new Ls(o.child("")),a=this.docs.getIteratorFrom(s);a.hasNext();){var l=a.getNext(),c=l.key,u=l.value.document;if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Fs(Ps(u),n)<=0||(r.has(u.key)||wl(t,u))&&(i=i.insert(u.key,u.mutableCopy()))}return Vs.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){cs()}},{key:"Fr",value:function(e,t){return Vs.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new cu(this)}},{key:"getSize",value:function(e){return Vs.resolve(this.size)}}]),e}(),cu=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e){var r;return(0,z.Z)(this,n),(r=t.call(this)).ar=e,r}return(0,Y.Z)(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.ar.addEntry(e,i)):t.ar.removeEntry(r)})),Vs.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.ar.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.ar.getEntries(e,t)}}]),n}(eu),uu=function(){function e(t){(0,z.Z)(this,e),this.persistence=t,this.Mr=new Il((function(e){return pl(e)}),fl),this.lastRemoteSnapshotVersion=Cs.min(),this.highestTargetId=0,this.Or=0,this.Nr=new ou,this.targetCount=0,this.Br=$c.Nn()}return(0,Y.Z)(e,[{key:"forEachTarget",value:function(e,t){return this.Mr.forEach((function(e,n){return t(n)})),Vs.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Vs.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Vs.resolve(this.Or)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Br.next(),Vs.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),Vs.resolve()}},{key:"qn",value:function(e){this.Mr.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Br=new $c(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.qn(t),this.targetCount+=1,Vs.resolve()}},{key:"updateTargetData",value:function(e,t){return this.qn(t),Vs.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,Vs.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,o=[];return this.Mr.forEach((function(s,a){a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r.Mr.delete(s),o.push(r.removeMatchingKeysForTargetId(e,a.targetId)),i++)})),Vs.waitFor(o).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Vs.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Mr.get(t)||null;return Vs.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Nr.dr(t,n),Vs.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Nr.Rr(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Vs.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Nr.Vr(t),Vs.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Nr.gr(t);return Vs.resolve(n)}},{key:"containsKey",value:function(e,t){return Vs.resolve(this.Nr.containsKey(t))}}]),e}(),hu=function(){function e(t,n){var r=this;(0,z.Z)(this,e),this.Lr={},this.overlays={},this.kr=new $s(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new uu(this),this.indexManager=new Kc,this.remoteDocumentCache=function(e){return new lu(e)}((function(e){return r.referenceDelegate.Kr(e)})),this.serializer=new zc(n),this.$r=new ru(this.serializer)}return(0,Y.Z)(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.qr=!1,Promise.resolve()}},{key:"started",get:function(){return this.qr}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new iu,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Lr[e.toKey()];return n||(n=new au(t,this.referenceDelegate),this.Lr[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Qr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.$r}},{key:"runTransaction",value:function(e,t,n){var r=this;os("MemoryPersistence","Starting transaction:",e);var i=new pu(this.kr.next());return this.referenceDelegate.Ur(),n(i).next((function(e){return r.referenceDelegate.Wr(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Gr",value:function(e,t){return Vs.or(Object.values(this.Lr).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),pu=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e){var r;return(0,z.Z)(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return(0,Y.Z)(n)}(Zs),fu=function(){function e(t){(0,z.Z)(this,e),this.persistence=t,this.zr=new ou,this.jr=null}return(0,Y.Z)(e,[{key:"Jr",get:function(){if(this.jr)return this.jr;throw cs()}},{key:"addReference",value:function(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),Vs.resolve()}},{key:"removeReference",value:function(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),Vs.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Jr.add(t.toString()),Vs.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.zr.Vr(t.targetId).forEach((function(e){return n.Jr.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Jr.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ur",value:function(){this.jr=new Set}},{key:"Wr",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Vs.forEach(this.Jr,(function(r){var i=Ls.fromPath(r);return t.Yr(e,i).next((function(e){e||n.removeEntry(i,Cs.min())}))})).next((function(){return t.jr=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Yr(e,t).next((function(e){e?n.Jr.delete(t.toString()):n.Jr.add(t.toString())}))}},{key:"Kr",value:function(e){return 0}},{key:"Yr",value:function(e,t){var n=this;return Vs.or([function(){return Vs.resolve(n.zr.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Gr(e,t)}])}}],[{key:"Hr",value:function(t){return new e(t)}}]),e}();var du=function(){function e(t,n,r,i){(0,z.Z)(this,e),this.targetId=t,this.fromCache=n,this.qi=r,this.Qi=i}return(0,Y.Z)(e,null,[{key:"Ki",value:function(t,n){var r,i=Zl(),o=Zl(),s=(0,X.Z)(n.docChanges);try{for(s.s();!(r=s.n()).done;){var a=r.value;switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}}}catch(l){s.e(l)}finally{s.f()}return new e(t,n.fromCache,i,o)}}]),e}(),gu=function(){function e(){(0,z.Z)(this,e),this._documentReadCount=0}return(0,Y.Z)(e,[{key:"documentReadCount",get:function(){return this._documentReadCount}},{key:"incrementDocumentReadCount",value:function(e){this._documentReadCount+=e}}]),e}(),_u=function(){function e(){(0,z.Z)(this,e),this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=de()?8:Ws.v(fe())>0?6:4}return(0,Y.Z)(e,[{key:"initialize",value:function(e,t){this.zi=e,this.indexManager=t,this.$i=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,o={result:null};return this.ji(e,t).next((function(e){o.result=e})).next((function(){if(!o.result)return i.Hi(e,t,r,n).next((function(e){o.result=e}))})).next((function(){if(!o.result){var n=new gu;return i.Ji(e,t,n).next((function(r){if(o.result=r,i.Ui)return i.Yi(e,t,n,r.size)}))}})).next((function(){return o.result}))}},{key:"Yi",value:function(e,t,n,r){return n.documentReadCount<this.Wi?(is()<=we.DEBUG&&os("QueryEngine","SDK will not create cache indexes for query:",kl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),Vs.resolve()):(is()<=we.DEBUG&&os("QueryEngine","Query:",kl(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(is()<=we.DEBUG&&os("QueryEngine","The SDK decides to create cache indexes for query:",kl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Tl(t))):Vs.resolve())}},{key:"ji",value:function(e,t){var n=this;if(vl(t))return Vs.resolve(null);var r=Tl(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=bl(t,null,"F"),r=Tl(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var o=Zl.apply(void 0,(0,W.Z)(i));return n.zi.getDocuments(e,o).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var s=n.Zi(t,i);return n.Xi(t,s,o,r.readTime)?n.ji(e,bl(t,null,"F")):n.es(e,s,t,r)}))}))})))}))}},{key:"Hi",value:function(e,t,n,r){var i=this;return vl(t)||r.isEqual(Cs.min())?Vs.resolve(null):this.zi.getDocuments(e,n).next((function(o){var s=i.Zi(t,o);return i.Xi(t,s,n,r)?Vs.resolve(null):(is()<=we.DEBUG&&os("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),kl(t)),i.es(e,s,t,Ds(r,-1)).next((function(e){return e})))}))}},{key:"Zi",value:function(e,t){var n=new pa(Rl(e));return t.forEach((function(t,r){wl(e,r)&&(n=n.add(r))})),n}},{key:"Xi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ji",value:function(e,t,n){return is()<=we.DEBUG&&os("QueryEngine","Using full collection scan to execute query:",kl(t)),this.zi.getDocumentsMatchingQuery(e,t,Bs.min(),n)}},{key:"es",value:function(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),vu=function(){function e(t,n,r,i){(0,z.Z)(this,e),this.persistence=t,this.ts=n,this.serializer=i,this.ns=new ca(ks),this.rs=new Il((function(e){return pl(e)}),fl),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(r)}return(0,Y.Z)(e,[{key:"_s",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nu(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.ns)}))}}]),e}();function mu(e,t,n,r){return new vu(e,t,n,r)}function yu(e,t){return Tu.apply(this,arguments)}function Tu(){return Tu=(0,t.Z)((0,e.Z)().mark((function t(n,r){var i;return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=hs(n),e.next=3,i.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return i.mutationQueue.getAllMutationBatches(e).next((function(n){return t=n,i._s(r),i.mutationQueue.getAllMutationBatches(e)})).next((function(n){var r,o=[],s=[],a=Zl(),l=(0,X.Z)(t);try{for(l.s();!(r=l.n()).done;){var c=r.value;o.push(c.batchId);var u,h=(0,X.Z)(c.mutations);try{for(h.s();!(u=h.n()).done;){var p=u.value;a=a.add(p.key)}}catch(y){h.e(y)}finally{h.f()}}}catch(y){l.e(y)}finally{l.f()}var f,d=(0,X.Z)(n);try{for(d.s();!(f=d.n()).done;){var g=f.value;s.push(g.batchId);var _,v=(0,X.Z)(g.mutations);try{for(v.s();!(_=v.n()).done;){var m=_.value;a=a.add(m.key)}}catch(y){v.e(y)}finally{v.f()}}}catch(y){d.e(y)}finally{d.f()}return i.localDocuments.getDocuments(e,a).next((function(e){return{us:e,removedBatchIds:o,addedBatchIds:s}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),t)}))),Tu.apply(this,arguments)}function Eu(e,t){var n=hs(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),s=Vs.resolve();return o.forEach((function(e){s=s.next((function(){return r.getEntry(t,e)})).next((function(t){var o=n.docVersions.get(e);us(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Zl(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function bu(e){var t=hs(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Qr.getLastRemoteSnapshotVersion(e)}))}function Ou(e,t){var n=hs(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}var Su=function(){function e(){(0,z.Z)(this,e),this.activeTargetIds=Hl()}return(0,Y.Z)(e,[{key:"As",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Rs",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"ds",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),ku=function(){function e(){(0,z.Z)(this,e),this.no=new Su,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return(0,Y.Z)(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.no.As(e),this.ro[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.ro[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.no.Rs(e)}},{key:"isLocalQueryTarget",value:function(e){return this.no.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.ro[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.no.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.no.activeTargetIds.has(e)}},{key:"start",value:function(){return this.no=new Su,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),wu=function(){function e(){(0,z.Z)(this,e)}return(0,Y.Z)(e,[{key:"io",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Ru=function(){function e(){var t=this;(0,z.Z)(this,e),this.so=function(){return t.oo()},this._o=function(){return t.ao()},this.uo=[],this.co()}return(0,Y.Z)(e,[{key:"io",value:function(e){this.uo.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}},{key:"co",value:function(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}},{key:"oo",value:function(){os("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=(0,X.Z)(this.uo);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"ao",value:function(){os("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=(0,X.Z)(this.uo);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Cu=null;function Iu(){return null===Cu?Cu=268435456+Math.round(2147483648*Math.random()):Cu++,"0x"+Cu.toString(16)}var xu={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Au=function(){function e(t){(0,z.Z)(this,e),this.lo=t.lo,this.ho=t.ho}return(0,Y.Z)(e,[{key:"Po",value:function(e){this.Io=e}},{key:"To",value:function(e){this.Eo=e}},{key:"onMessage",value:function(e){this.Ao=e}},{key:"close",value:function(){this.ho()}},{key:"send",value:function(e){this.lo(e)}},{key:"Ro",value:function(){this.Io()}},{key:"Vo",value:function(e){this.Eo(e)}},{key:"mo",value:function(e){this.Ao(e)}}]),e}(),Nu="WebChannelConnection",Lu=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e){var r;return(0,z.Z)(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return(0,Y.Z)(n,[{key:"Co",value:function(e,t,n,r){var i=Iu();return new Promise((function(o,s){var a=new Jo;a.setWithCredentials(!0),a.listenOnce(Yo.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case zo.NO_ERROR:var t=a.getResponseJson();os(Nu,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),o(t);break;case zo.TIMEOUT:os(Nu,"RPC '".concat(e,"' ").concat(i," timed out")),s(new fs(ps.DEADLINE_EXCEEDED,"Request time out"));break;case zo.HTTP_ERROR:var n=a.getStatus();if(os(Nu,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson();Array.isArray(r)&&(r=r[0]);var l=null==r?void 0:r.error;if(l&&l.status&&l.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(ps).indexOf(t)>=0?t:ps.UNKNOWN}(l.status);s(new fs(c,l.message))}else s(new fs(ps.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new fs(ps.UNAVAILABLE,"Connection failed."));break;default:cs()}}finally{os(Nu,"RPC '".concat(e,"' ").concat(i," completed."))}}));var l=JSON.stringify(r);os(Nu,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",l,n,15)}))}},{key:"Fo",value:function(e,t,n){var r=Iu(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Wo(),s=Xo(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Do(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;var c=i.join("");os(Nu,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);var u=o.createWebChannel(c,a),h=!1,p=!1,f=new Au({lo:function(t){p?os(Nu,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(os(Nu,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),os(Nu,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},ho:function(){return u.close()}}),d=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return d(u,Qo.EventType.OPEN,(function(){p||os(Nu,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),d(u,Qo.EventType.CLOSE,(function(){p||(p=!0,os(Nu,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.Vo())})),d(u,Qo.EventType.ERROR,(function(t){p||(p=!0,as(Nu,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.Vo(new fs(ps.UNAVAILABLE,"The operation could not be completed")))})),d(u,Qo.EventType.MESSAGE,(function(t){var n;if(!p){var i=t.data[0];us(!!i);var o=i,s=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){os(Nu,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);var a=s.status,l=function(e){var t=yc[e];if(void 0!==t)return Rc(t)}(a),c=s.message;void 0===l&&(l=ps.INTERNAL,c="Unknown error status: "+a+" with message "+s.message),p=!0,f.Vo(new fs(l,c)),u.close()}else os(Nu,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.mo(i)}})),d(s,qo.STAT_EVENT,(function(t){t.stat===Ko.PROXY?os(Nu,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Ko.NOPROXY&&os(Nu,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){f.Ro()}),0),f}}]),n}(function(){function e(t){(0,z.Z)(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.fo=n+"://"+t.host,this.po="projects/".concat(r,"/databases/").concat(i),this.yo="(default)"===this.databaseId.database?"project_id=".concat(r):"project_id=".concat(r,"&database_id=").concat(i)}return(0,Y.Z)(e,[{key:"wo",get:function(){return!1}},{key:"So",value:function(e,t,n,r,i){var o=Iu(),s=this.bo(e,t.toUriEncodedString());os("RestConnection","Sending RPC '".concat(e,"' ").concat(o,":"),s,n);var a={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(a,r,i),this.Co(e,s,a,n).then((function(t){return os("RestConnection","Received RPC '".concat(e,"' ").concat(o,": "),t),t}),(function(t){throw as("RestConnection","RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",s,"request:",n),t}))}},{key:"vo",value:function(e,t,n,r,i,o){return this.So(e,t,n,r,i)}},{key:"Do",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+ns,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"bo",value:function(e,t){var n=xu[e];return"".concat(this.fo,"/v1/").concat(t,":").concat(n)}},{key:"terminate",value:function(){}}]),e}());function Mu(){return"undefined"!=typeof document?document:null}function Du(e){return new Cc(e,!0)}var Pu=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;(0,z.Z)(this,e),this.oi=t,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=o,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}return(0,Y.Z)(e,[{key:"reset",value:function(){this.No=0}},{key:"ko",value:function(){this.No=this.Oo}},{key:"qo",value:function(e){var t=this;this.cancel();var n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&os("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.No," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,(function(){return t.Lo=Date.now(),e()})),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}},{key:"Ko",value:function(){null!==this.Bo&&(this.Bo.skipDelay(),this.Bo=null)}},{key:"cancel",value:function(){null!==this.Bo&&(this.Bo.cancel(),this.Bo=null)}},{key:"Qo",value:function(){return(Math.random()-.5)*this.No}}]),e}(),Bu=function(){function n(e,t,r,i,o,s,a,l){(0,z.Z)(this,n),this.oi=e,this.$o=r,this.Uo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Pu(e,t)}return(0,Y.Z)(n,[{key:"Ho",value:function(){return 1===this.state||5===this.state||this.Jo()}},{key:"Jo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Yo()}},{key:"stop",value:function(){var n=(0,t.Z)((0,e.Z)().mark((function t(){return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Ho(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),t,this)})));return function(){return n.apply(this,arguments)}}()},{key:"Zo",value:function(){this.state=0,this.jo.reset()}},{key:"Xo",value:function(){var e=this;this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,(function(){return e.e_()})))}},{key:"t_",value:function(e){this.n_(),this.stream.send(e)}},{key:"e_",value:function(){var n=(0,t.Z)((0,e.Z)().mark((function t(){return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Jo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),t,this)})));return function(){return n.apply(this,arguments)}}()},{key:"n_",value:function(){this.Go&&(this.Go.cancel(),this.Go=null)}},{key:"r_",value:function(){this.zo&&(this.zo.cancel(),this.zo=null)}},{key:"close",value:function(){var n=(0,t.Z)((0,e.Z)().mark((function t(n,r){return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.n_(),this.r_(),this.jo.cancel(),this.Wo++,4!==n?this.jo.reset():r&&r.code===ps.RESOURCE_EXHAUSTED?(ss(r.toString()),ss("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):r&&r.code===ps.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.i_(),this.stream.close(),this.stream=null),this.state=n,e.next=9,this.listener.To(r);case 9:case"end":return e.stop()}}),t,this)})));return function(e,t){return n.apply(this,arguments)}}()},{key:"i_",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=a(t,2),i=r[0],o=r[1];e.Wo===n&&e.o_(i,o)}),(function(n){t((function(){var t=new fs(ps.UNKNOWN,"Fetching auth token failed: "+n.message);return e.__(t)}))}))}},{key:"o_",value:function(e,t){var n=this,r=this.s_(this.Wo);this.stream=this.a_(e,t),this.stream.Po((function(){r((function(){return n.state=2,n.zo=n.oi.enqueueAfterDelay(n.Uo,1e4,(function(){return n.Jo()&&(n.state=3),Promise.resolve()})),n.listener.Po()}))})),this.stream.To((function(e){r((function(){return n.__(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Yo",value:function(){var n=this;this.state=5,this.jo.qo((0,t.Z)((0,e.Z)().mark((function t(){return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.state=0,n.start();case 1:case"end":return e.stop()}}),t)}))))}},{key:"__",value:function(e){return os("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"s_",value:function(e){var t=this;return function(n){t.oi.enqueueAndForget((function(){return t.Wo===e?n():(os("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),n}(),Fu=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e,r,i,o,s,a){var l;return(0,z.Z)(this,n),(l=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,o,a)).serializer=s,l.h_=!1,l}return(0,Y.Z)(n,[{key:"P_",get:function(){return this.h_}},{key:"start",value:function(){this.h_=!1,this.lastStreamToken=void 0,Nt((0,J.Z)(n.prototype),"start",this).call(this)}},{key:"i_",value:function(){this.h_&&this.I_([])}},{key:"a_",value:function(e,t){return this.connection.Fo("Write",e,t)}},{key:"onMessage",value:function(e){if(us(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();var t=function(e,t){return e&&e.length>0?(us(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Nc(e.updateTime):Nc(t);return n.isEqual(Cs.min())&&(n=Nc(t)),new oc(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Nc(e.commitTime);return this.listener.T_(n,t)}return us(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}},{key:"d_",value:function(){var e={};e.database=Fc(this.serializer),this.t_(e)}},{key:"I_",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Gc(t.serializer,e)}))};this.t_(n)}}]),n}(Bu),Uu=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e,r,i,o){var s;return(0,z.Z)(this,n),(s=t.call(this)).authCredentials=e,s.appCheckCredentials=r,s.connection=i,s.serializer=o,s.A_=!1,s}return(0,Y.Z)(n,[{key:"R_",value:function(){if(this.A_)throw new fs(ps.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"So",value:function(e,t,n,r){var i=this;return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(o){var s=a(o,2),l=s[0],c=s[1];return i.connection.So(e,Mc(t,n),r,l,c)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===ps.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new fs(ps.UNKNOWN,e.toString())}))}},{key:"vo",value:function(e,t,n,r,i){var o=this;return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(s){var l=a(s,2),c=l[0],u=l[1];return o.connection.vo(e,Mc(t,n),r,c,u,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===ps.UNAUTHENTICATED&&(o.authCredentials.invalidateToken(),o.appCheckCredentials.invalidateToken()),e):new fs(ps.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.A_=!0,this.connection.terminate()}}]),n}((0,Y.Z)((function e(){(0,z.Z)(this,e)})));var Zu=function(){function e(t,n){(0,z.Z)(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}return(0,Y.Z)(e,[{key:"p_",value:function(){var e=this;0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.f_=null,e.w_("Backend didn't respond within 10 seconds."),e.y_("Offline"),Promise.resolve()})))}},{key:"S_",value:function(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.y_("Offline")))}},{key:"set",value:function(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}},{key:"y_",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"w_",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.g_?(ss(t),this.g_=!1):os("OnlineStateTracker",t)}},{key:"b_",value:function(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}]),e}(),Gu=(0,Y.Z)((function n(r,i,o,s,a){var l=this;(0,z.Z)(this,n),this.localStore=r,this.datastore=i,this.asyncQueue=o,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=a,this.M_.io((function(n){o.enqueueAndForget((0,t.Z)((0,e.Z)().mark((function n(){return(0,e.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=Xu(l),!n.t0){n.next=5;break}return os("RemoteStore","Restarting streams for network reachability change."),n.next=5,function(){var n=(0,t.Z)((0,e.Z)().mark((function t(n){var r;return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=hs(n)).v_.add(4),e.next=4,ju(r);case 4:return r.x_.set("Unknown"),r.v_.delete(4),e.next=8,Hu(r);case 8:case"end":return e.stop()}}),t)})));return function(e){return n.apply(this,arguments)}}()(l);case 5:case"end":return n.stop()}}),n)}))))})),this.x_=new Zu(o,s)}));function Hu(e){return Vu.apply(this,arguments)}function Vu(){return Vu=(0,t.Z)((0,e.Z)().mark((function t(n){var r,i,o;return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Xu(n)){e.next=18;break}r=(0,X.Z)(n.F_),e.prev=2,r.s();case 4:if((i=r.n()).done){e.next=10;break}return o=i.value,e.next=8,o(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),r.e(e.t0);case 15:return e.prev=15,r.f(),e.finish(15);case 18:case"end":return e.stop()}}),t,null,[[2,12,15,18]])}))),Vu.apply(this,arguments)}function ju(e){return Wu.apply(this,arguments)}function Wu(){return Wu=(0,t.Z)((0,e.Z)().mark((function t(n){var r,i,o;return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=(0,X.Z)(n.F_),e.prev=1,r.s();case 3:if((i=r.n()).done){e.next=9;break}return o=i.value,e.next=7,o(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),r.e(e.t0);case 14:return e.prev=14,r.f(),e.finish(14);case 17:case"end":return e.stop()}}),t,null,[[1,11,14,17]])}))),Wu.apply(this,arguments)}function Xu(e){return 0===hs(e).v_.size}function zu(e,t,n){return Yu.apply(this,arguments)}function Yu(){return Yu=(0,t.Z)((0,e.Z)().mark((function n(r,i,o){return(0,e.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(Ys(i)){n.next=2;break}throw i;case 2:return r.v_.add(1),n.next=5,ju(r);case 5:r.x_.set("Offline"),o||(o=function(){return bu(r.localStore)}),r.asyncQueue.enqueueRetryable((0,t.Z)((0,e.Z)().mark((function t(){return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return os("RemoteStore","Retrying IndexedDB access"),e.next=3,o();case 3:return r.v_.delete(1),e.next=6,Hu(r);case 6:case"end":return e.stop()}}),t)}))));case 8:case"end":return n.stop()}}),n)}))),Yu.apply(this,arguments)}function qu(e,t){return t().catch((function(n){return zu(e,n,t)}))}function Ku(e){return Qu.apply(this,arguments)}function Qu(){return Qu=(0,t.Z)((0,e.Z)().mark((function t(n){var r,i,o,s;return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=hs(n),i=dh(r),o=r.D_.length>0?r.D_[r.D_.length-1].batchId:-1;case 2:if(!Ju(r)){e.next=19;break}return e.prev=3,e.next=6,Ou(r.localStore,o);case 6:if(null!==(s=e.sent)){e.next=10;break}return 0===r.D_.length&&i.Xo(),e.abrupt("break",19);case 10:o=s.batchId,$u(r,s),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,zu(r,e.t0);case 17:e.next=2;break;case 19:eh(r)&&th(r);case 20:case"end":return e.stop()}}),t,null,[[3,13]])}))),Qu.apply(this,arguments)}function Ju(e){return Xu(e)&&e.D_.length<10}function $u(e,t){e.D_.push(t);var n=dh(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function eh(e){return Xu(e)&&!dh(e).Ho()&&e.D_.length>0}function th(e){dh(e).start()}function nh(e){return rh.apply(this,arguments)}function rh(){return rh=(0,t.Z)((0,e.Z)().mark((function t(n){return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:dh(n).d_();case 1:case"end":return e.stop()}}),t)}))),rh.apply(this,arguments)}function ih(e){return oh.apply(this,arguments)}function oh(){return oh=(0,t.Z)((0,e.Z)().mark((function t(n){var r,i,o,s;return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=dh(n),i=(0,X.Z)(n.D_);try{for(i.s();!(o=i.n()).done;)s=o.value,r.I_(s.mutations)}catch(t){i.e(t)}finally{i.f()}case 3:case"end":return e.stop()}}),t)}))),oh.apply(this,arguments)}function sh(e,t,n){return ah.apply(this,arguments)}function ah(){return ah=(0,t.Z)((0,e.Z)().mark((function t(n,r,i){var o,s;return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.D_.shift(),s=Sc.from(o,r,i),e.next=3,qu(n,(function(){return n.remoteSyncer.applySuccessfulWrite(s)}));case 3:return e.next=5,Ku(n);case 5:case"end":return e.stop()}}),t)}))),ah.apply(this,arguments)}function lh(e,t){return ch.apply(this,arguments)}function ch(){return ch=(0,t.Z)((0,e.Z)().mark((function n(r,i){return(0,e.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=i&&dh(r).P_,!n.t0){n.next=4;break}return n.next=4,function(){var n=(0,t.Z)((0,e.Z)().mark((function t(n,r){var i;return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!function(e){return wc(e)&&e!==ps.ABORTED}(r.code)){e.next=7;break}return i=n.D_.shift(),dh(n).Zo(),e.next=5,qu(n,(function(){return n.remoteSyncer.rejectFailedWrite(i.batchId,r)}));case 5:return e.next=7,Ku(n);case 7:case"end":return e.stop()}}),t)})));return function(e,t){return n.apply(this,arguments)}}()(r,i);case 4:eh(r)&&th(r);case 5:case"end":return n.stop()}}),n)}))),ch.apply(this,arguments)}function uh(e,t){return hh.apply(this,arguments)}function hh(){return hh=(0,t.Z)((0,e.Z)().mark((function t(n,r){var i,o;return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=hs(n)).asyncQueue.verifyOperationInProgress(),os("RemoteStore","RemoteStore received new credentials"),o=Xu(i),i.v_.add(3),e.next=6,ju(i);case 6:return o&&i.x_.set("Unknown"),e.next=9,i.remoteSyncer.handleCredentialChange(r);case 9:return i.v_.delete(3),e.next=12,Hu(i);case 12:case"end":return e.stop()}}),t)}))),hh.apply(this,arguments)}function ph(e,t){return fh.apply(this,arguments)}function fh(){return fh=(0,t.Z)((0,e.Z)().mark((function t(n,r){var i;return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=hs(n),!r){e.next=7;break}return i.v_.delete(2),e.next=5,Hu(i);case 5:e.next=13;break;case 7:if(e.t0=r,e.t0){e.next=13;break}return i.v_.add(2),e.next=12,ju(i);case 12:i.x_.set("Unknown");case 13:case"end":return e.stop()}}),t)}))),fh.apply(this,arguments)}function dh(n){return n.B_||(n.B_=function(e,t,n){var r=hs(e);return r.R_(),new Fu(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(n.datastore,n.asyncQueue,{Po:nh.bind(null,n),To:lh.bind(null,n),E_:ih.bind(null,n),T_:sh.bind(null,n)}),n.F_.push(function(){var r=(0,t.Z)((0,e.Z)().mark((function t(r){return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=6;break}return n.B_.Zo(),e.next=4,Ku(n);case 4:e.next=9;break;case 6:return e.next=8,n.B_.stop();case 8:n.D_.length>0&&(os("RemoteStore","Stopping write stream with ".concat(n.D_.length," pending writes")),n.D_=[]);case 9:case"end":return e.stop()}}),t)})));return function(e){return r.apply(this,arguments)}}())),n.B_}var gh=function(){function e(t,n,r,i,o){(0,z.Z)(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return(0,Y.Z)(e,[{key:"promise",get:function(){return this.deferred.promise}},{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new fs(ps.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,o){var s=new e(t,n,Date.now()+r,i,o);return s.start(r),s}}]),e}();function _h(e,t){if(ss("AsyncQueue","".concat(t,": ").concat(e)),Ys(e))return new fs(ps.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var vh=(0,Y.Z)((function e(){(0,z.Z)(this,e),this.queries=new Il((function(e){return Sl(e)}),Ol),this.onlineState="Unknown",this.K_=new Set}));function mh(e){e.K_.forEach((function(e){e.next()}))}var yh=function(){function e(t,n,r,i,o,s){(0,z.Z)(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.fa={},this.ga=new Il((function(e){return Sl(e)}),Ol),this.pa=new Map,this.ya=new Set,this.wa=new ca(Ls.comparator),this.Sa=new Map,this.ba=new ou,this.Da={},this.Ca=new Map,this.va=$c.Bn(),this.onlineState="Unknown",this.Fa=void 0}return(0,Y.Z)(e,[{key:"isPrimaryClient",get:function(){return!0===this.Fa}}]),e}();function Th(e,t,n){return Eh.apply(this,arguments)}function Eh(){return Eh=(0,t.Z)((0,e.Z)().mark((function t(n,r,i){var o,s,a;return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Lh(n),e.prev=1,e.next=4,function(e,t){var n,r,i=hs(e),o=Rs.now(),s=t.reduce((function(e,t){return e.add(t.key)}),Zl());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var a=Al(),l=Zl();return i.os.getEntries(e,s).next((function(e){(a=e).forEach((function(e,t){t.isValidDocument()||(l=l.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,a)})).next((function(r){n=r;var s,a=[],l=(0,X.Z)(t);try{for(l.s();!(s=l.n()).done;){var c=s.value,u=pc(c,n.get(c.key).overlayedDocument);null!=u&&a.push(new gc(c.key,u,Za(u.value.mapValue),sc.exists(!0)))}}catch(h){l.e(h)}finally{l.f()}return i.mutationQueue.addMutationBatch(e,o,a,t)})).next((function(t){r=t;var o=t.applyToLocalDocumentSet(n,l);return i.documentOverlayCache.saveOverlays(e,t.batchId,o)}))})).then((function(){return{batchId:r.batchId,changes:Ml(n)}}))}(o.localStore,r);case 4:return s=e.sent,o.sharedClientState.addPendingMutation(s.batchId),function(e,t,n){var r=e.Da[e.currentUser.toKey()];r||(r=new ca(ks)),r=r.insert(t,n),e.Da[e.currentUser.toKey()]=r}(o,s.batchId,i),e.next=9,Ih(o,s.changes);case 9:return e.next=11,Ku(o.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),a=_h(e.t0,"Failed to persist write"),i.reject(a);case 17:case"end":return e.stop()}}),t,null,[[1,13]])}))),Eh.apply(this,arguments)}function bh(e,t,n){var r=hs(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ga.forEach((function(e,n){var r=n.view.U_(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=hs(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,o=(0,X.Z)(n.Q_);try{for(o.s();!(i=o.n()).done;){i.value.U_(t)&&(r=!0)}}catch(s){o.e(s)}finally{o.f()}})),r&&mh(n)}(r.eventManager,t),i.length&&r.fa.u_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Oh(e,t){return Sh.apply(this,arguments)}function Sh(){return Sh=(0,t.Z)((0,e.Z)().mark((function t(n,r){var i,o,s;return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=hs(n),o=r.batch.batchId,e.prev=1,e.next=4,Eu(i.localStore,r);case 4:return s=e.sent,Ch(i,o,null),Rh(i,o),i.sharedClientState.updateMutationState(o,"acknowledged"),e.next=10,Ih(i,s);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Gs(e.t0);case 16:case"end":return e.stop()}}),t,null,[[1,12]])}))),Sh.apply(this,arguments)}function kh(e,t,n){return wh.apply(this,arguments)}function wh(){return wh=(0,t.Z)((0,e.Z)().mark((function t(n,r,i){var o,s;return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=hs(n),e.prev=1,e.next=4,function(e,t){var n=hs(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return us(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(o.localStore,r);case 4:return s=e.sent,Ch(o,r,i),Rh(o,r),o.sharedClientState.updateMutationState(r,"rejected",i),e.next=10,Ih(o,s);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Gs(e.t0);case 16:case"end":return e.stop()}}),t,null,[[1,12]])}))),wh.apply(this,arguments)}function Rh(e,t){(e.Ca.get(t)||[]).forEach((function(e){e.resolve()})),e.Ca.delete(t)}function Ch(e,t,n){var r=hs(e),i=r.Da[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.Da[r.currentUser.toKey()]=i}}function Ih(e,t,n){return xh.apply(this,arguments)}function xh(){return xh=(0,t.Z)((0,e.Z)().mark((function n(r,i,o){var s,a,l,c;return(0,e.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s=hs(r),a=[],l=[],c=[],n.t0=s.ga.isEmpty(),n.t0){n.next=9;break}return s.ga.forEach((function(e,t){c.push(s.Ma(t,i,o).then((function(e){if((e||o)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=du.Ki(t.targetId,e);l.push(n)}})))})),n.next=6,Promise.all(c);case 6:return s.fa.u_(a),n.next=9,function(){var n=(0,t.Z)((0,e.Z)().mark((function t(n,r){var i,o,s,a,l,c,u,h;return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=hs(n),e.prev=1,e.next=4,i.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Vs.forEach(r,(function(t){return Vs.forEach(t.qi,(function(n){return i.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Vs.forEach(t.Qi,(function(n){return i.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Ys(e.t0)){e.next=10;break}throw e.t0;case 10:os("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:o=(0,X.Z)(r);try{for(o.s();!(s=o.n()).done;)a=s.value,l=a.targetId,a.fromCache||(c=i.ns.get(l),u=c.snapshotVersion,h=c.withLastLimboFreeSnapshotVersion(u),i.ns=i.ns.insert(l,h))}catch(t){o.e(t)}finally{o.f()}case 13:case"end":return e.stop()}}),t,null,[[1,6]])})));return function(e,t){return n.apply(this,arguments)}}()(s.localStore,l);case 9:case"end":return n.stop()}}),n)}))),xh.apply(this,arguments)}function Ah(e,t){return Nh.apply(this,arguments)}function Nh(){return Nh=(0,t.Z)((0,e.Z)().mark((function t(n,r){var i,o;return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=hs(n)).currentUser.isEqual(r)){e.next=11;break}return os("SyncEngine","User change. New user:",r.toKey()),e.next=5,yu(i.localStore,r);case 5:return o=e.sent,i.currentUser=r,function(e,t){e.Ca.forEach((function(e){e.forEach((function(e){e.reject(new fs(ps.CANCELLED,t))}))})),e.Ca.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(r,o.removedBatchIds,o.addedBatchIds),e.next=11,Ih(i,o.us);case 11:case"end":return e.stop()}}),t)}))),Nh.apply(this,arguments)}function Lh(e){var t=hs(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Oh.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=kh.bind(null,t),t}var Mh=function(){function n(){(0,z.Z)(this,n),this.synchronizeTabs=!1}return(0,Y.Z)(n,[{key:"initialize",value:function(){var n=(0,t.Z)((0,e.Z)().mark((function t(n){return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=Du(n.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(n),this.persistence=this.createPersistence(n),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(n),this.gcScheduler=this.createGarbageCollectionScheduler(n,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(n,this.localStore);case 8:case"end":return e.stop()}}),t,this)})));return function(e){return n.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return mu(this.persistence,new _u,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new hu(fu.Hr,this.serializer)}},{key:"createSharedClientState",value:function(e){return new ku}},{key:"terminate",value:function(){var n=(0,t.Z)((0,e.Z)().mark((function t(){var n,r;return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(n=this.gcScheduler)||void 0===n||n.stop(),null===(r=this.indexBackfillerScheduler)||void 0===r||r.stop(),this.sharedClientState.shutdown(),e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),t,this)})));return function(){return n.apply(this,arguments)}}()}]),n}(),Dh=function(){function n(){(0,z.Z)(this,n)}return(0,Y.Z)(n,[{key:"initialize",value:function(){var n=(0,t.Z)((0,e.Z)().mark((function t(n,r){var i=this;return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return bh(i.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Ah.bind(null,this.syncEngine),e.next=12,ph(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),t,this)})));return function(e,t){return n.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new vh}},{key:"createDatastore",value:function(e){var t=Du(e.databaseInfo.databaseId),n=function(e){return new Lu(e)}(e.databaseInfo);return function(e,t,n,r){return new Uu(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}},{key:"createRemoteStore",value:function(e){var t=this;return function(e,t,n,r,i){return new Gu(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(function(e){return bh(t.syncEngine,e,0)}),Ru.D()?new Ru:new wu)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,o,s){var a=new yh(e,t,n,r,i,o);return s&&(a.Fa=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){var n=(0,t.Z)((0,e.Z)().mark((function n(){var r;return(0,e.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,function(){var n=(0,t.Z)((0,e.Z)().mark((function t(n){var r;return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hs(n),os("RemoteStore","RemoteStore shutting down."),r.v_.add(5),e.next=5,ju(r);case 5:r.M_.shutdown(),r.x_.set("Unknown");case 7:case"end":return e.stop()}}),t)})));return function(e){return n.apply(this,arguments)}}()(this.remoteStore);case 2:null===(r=this.datastore)||void 0===r||r.terminate();case 3:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}()}]),n}();var Ph=function(){function n(r,i,o,s){var a=this;(0,z.Z)(this,n),this.authCredentials=r,this.appCheckCredentials=i,this.asyncQueue=o,this.databaseInfo=s,this.user=ts.UNAUTHENTICATED,this.clientId=Ss.newId(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(o,function(){var n=(0,t.Z)((0,e.Z)().mark((function t(n){return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return os("FirestoreClient","Received user=",n.uid),e.next=3,a.authCredentialListener(n);case 3:a.user=n;case 4:case"end":return e.stop()}}),t)})));return function(e){return n.apply(this,arguments)}}()),this.appCheckCredentials.start(o,(function(e){return os("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return(0,Y.Z)(n,[{key:"configuration",get:function(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new fs(ps.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var n=this;this.asyncQueue.enterRestrictedMode();var r=new ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,t.Z)((0,e.Z)().mark((function t(){var i;return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,e.t0=n._onlineComponents,!e.t0){e.next=5;break}return e.next=5,n._onlineComponents.terminate();case 5:if(e.t1=n._offlineComponents,!e.t1){e.next=9;break}return e.next=9,n._offlineComponents.terminate();case 9:n.authCredentials.shutdown(),n.appCheckCredentials.shutdown(),r.resolve(),e.next=18;break;case 14:e.prev=14,e.t2=e.catch(0),i=_h(e.t2,"Failed to shutdown persistence"),r.reject(i);case 18:case"end":return e.stop()}}),t,null,[[0,14]])})))),r.promise}}]),n}();function Bh(e,t){return Fh.apply(this,arguments)}function Fh(){return Fh=(0,t.Z)((0,e.Z)().mark((function n(r,i){var o,s;return(0,e.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.asyncQueue.verifyOperationInProgress(),os("FirestoreClient","Initializing OfflineComponentProvider"),o=r.configuration,n.next=4,i.initialize(o);case 4:s=o.initialUser,r.setCredentialChangeListener(function(){var n=(0,t.Z)((0,e.Z)().mark((function t(n){return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=s.isEqual(n),e.t0){e.next=5;break}return e.next=4,yu(i.localStore,n);case 4:s=n;case 5:case"end":return e.stop()}}),t)})));return function(e){return n.apply(this,arguments)}}()),i.persistence.setDatabaseDeletedListener((function(){return r.terminate()})),r._offlineComponents=i;case 6:case"end":return n.stop()}}),n)}))),Fh.apply(this,arguments)}function Uh(e,t){return Zh.apply(this,arguments)}function Zh(){return Zh=(0,t.Z)((0,e.Z)().mark((function t(n,r){var i;return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.asyncQueue.verifyOperationInProgress(),e.next=3,Hh(n);case 3:return i=e.sent,os("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,r.initialize(i,n.configuration);case 7:n.setCredentialChangeListener((function(e){return uh(r.remoteStore,e)})),n.setAppCheckTokenChangeListener((function(e,t){return uh(r.remoteStore,t)})),n._onlineComponents=r;case 10:case"end":return e.stop()}}),t)}))),Zh.apply(this,arguments)}function Gh(e){return"FirebaseError"===e.name?e.code===ps.FAILED_PRECONDITION||e.code===ps.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function Hh(e){return Vh.apply(this,arguments)}function Vh(){return Vh=(0,t.Z)((0,e.Z)().mark((function t(n){var r;return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n._offlineComponents){e.next=21;break}if(!n._uninitializedComponentsProvider){e.next=18;break}return os("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,Bh(n,n._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),Gh(r=e.t0)){e.next=13;break}throw r;case 13:return as("Error using user provided cache. Falling back to memory cache: "+r),e.next=16,Bh(n,new Mh);case 16:e.next=21;break;case 18:return os("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,Bh(n,new Mh);case 21:return e.abrupt("return",n._offlineComponents);case 22:case"end":return e.stop()}}),t,null,[[3,8]])}))),Vh.apply(this,arguments)}function jh(e){return Wh.apply(this,arguments)}function Wh(){return Wh=(0,t.Z)((0,e.Z)().mark((function t(n){return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n._onlineComponents,e.t0){e.next=11;break}if(!n._uninitializedComponentsProvider){e.next=8;break}return os("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,Uh(n,n._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return os("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,Uh(n,new Dh);case 11:return e.abrupt("return",n._onlineComponents);case 12:case"end":return e.stop()}}),t)}))),Wh.apply(this,arguments)}function Xh(e){return jh(e).then((function(e){return e.syncEngine}))}function zh(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var Yh=new Map;function qh(e,t,n){if(!n)throw new fs(ps.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Kh(e){if(!Ls.isDocumentKey(e))throw new fs(ps.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Qh(e){if(Ls.isDocumentKey(e))throw new fs(ps.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Jh(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":cs()}function $h(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new fs(ps.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Jh(e);throw new fs(ps.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}var ep=function(){function e(t){var n,r;if((0,z.Z)(this,e),void 0===t.host){if(void 0!==t.ssl)throw new fs(ps.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new fs(ps.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new fs(ps.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zh(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new fs(ps.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new fs(ps.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new fs(ps.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return(0,Y.Z)(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),tp=function(){function e(t,n,r,i){(0,z.Z)(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ep({}),this._settingsFrozen=!1}return(0,Y.Z)(e,[{key:"app",get:function(){if(!this._app)throw new fs(ps.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new fs(ps.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ep(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new _s;switch(e.type){case"firstParty":return new Ts(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new fs(ps.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Yh.get(e);t&&(os("ComponentProvider","Removing Datastore"),Yh.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function np(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=(e=$h(e,tp))._getSettings(),s="".concat(t,":").concat(n);if("firestore.googleapis.com"!==o.host&&o.host!==s&&as("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){var a,l;if("string"==typeof i.mockUserToken)a=i.mockUserToken,l=ts.MOCK_USER;else{a=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[se(JSON.stringify({alg:"none",type:"JWT"})),se(JSON.stringify(o)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new fs(ps.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new ts(c)}e._authCredentials=new vs(new gs(a,l))}}var rp=function(){function e(t,n,r){(0,z.Z)(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return(0,Y.Z)(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),ip=function(){function e(t,n,r){(0,z.Z)(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return(0,Y.Z)(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new op(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),op=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e,r,i){var o;return(0,z.Z)(this,n),(o=t.call(this,e,r,_l(i)))._path=i,o.type="collection",o}return(0,Y.Z)(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new ip(this.firestore,null,new Ls(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(rp);function sp(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ee(e),qh("collection","path",t),e instanceof tp){var o=xs.fromString.apply(xs,[t].concat(r));return Qh(o),new op(e,null,o)}if(!(e instanceof ip||e instanceof op))throw new fs(ps.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var s=e._path.child(xs.fromString.apply(xs,[t].concat(r)));return Qh(s),new op(e.firestore,null,s)}var ap=function(){function n(){var e=this;(0,z.Z)(this,n),this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new Pu(this,"async_queue_retry"),this._u=function(){var t=Mu();t&&os("AsyncQueue","Visibility state changed to "+t.visibilityState),e.jo.Ko()};var t=Mu();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._u)}return(0,Y.Z)(n,[{key:"isShuttingDown",get:function(){return this.tu}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.au(),this.uu(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.tu){this.tu=!0,this.su=e||!1;var t=Mu();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._u)}}},{key:"enqueue",value:function(e){var t=this;if(this.au(),this.tu)return new Promise((function(){}));var n=new ds;return this.uu((function(){return t.tu&&t.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.eu.push(e),t.cu()}))}},{key:"cu",value:function(){var n=(0,t.Z)((0,e.Z)().mark((function t(){var n=this;return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.eu.length){e.next=14;break}return e.prev=1,e.next=4,this.eu[0]();case 4:this.eu.shift(),this.jo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Ys(e.t0)){e.next=12;break}throw e.t0;case 12:os("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.eu.length>0&&this.jo.qo((function(){return n.cu()}));case 14:case"end":return e.stop()}}),t,this,[[1,8]])})));return function(){return n.apply(this,arguments)}}()},{key:"uu",value:function(e){var t=this,n=this.Xa.then((function(){return t.iu=!0,e().catch((function(e){t.ru=e,t.iu=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw ss("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.iu=!1,e}))}));return this.Xa=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.au(),this.ou.indexOf(e)>-1&&(t=0);var i=gh.createAndSchedule(this,e,t,n,(function(e){return r.lu(e)}));return this.nu.push(i),i}},{key:"au",value:function(){this.ru&&cs()}},{key:"verifyOperationInProgress",value:function(){}},{key:"hu",value:function(){var n=(0,t.Z)((0,e.Z)().mark((function t(){var n;return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.Xa,e.next=3,n;case 3:if(n!==this.Xa){e.next=0;break}case 4:case"end":return e.stop()}}),t,this)})));return function(){return n.apply(this,arguments)}}()},{key:"Pu",value:function(e){var t,n=(0,X.Z)(this.nu);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Iu",value:function(e){var t=this;return this.hu().then((function(){t.nu.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=(0,X.Z)(t.nu);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(o){r.e(o)}finally{r.f()}return t.hu()}))}},{key:"Tu",value:function(e){this.ou.push(e)}},{key:"lu",value:function(e){var t=this.nu.indexOf(e);this.nu.splice(t,1)}}]),n}();var lp=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e,r,i,o){var s;return(0,z.Z)(this,n),(s=t.call(this,e,r,i,o)).type="firestore",s._queue=new ap,s._persistenceKey=(null==o?void 0:o.name)||"[DEFAULT]",s}return(0,Y.Z)(n,[{key:"_terminate",value:function(){return this._firestoreClient||up(this),this._firestoreClient.terminate()}}]),n}(tp);function cp(e){return e._firestoreClient||up(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function up(e){var t,n,r,i=e._freezeSettings(),o=function(e,t,n,r){return new Sa(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,zh(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Ph(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var hp=function(){function e(t){(0,z.Z)(this,e),this._byteString=t}return(0,Y.Z)(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(_a.fromBase64String(t))}catch(t){throw new fs(ps.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(_a.fromUint8Array(t))}}]),e}(),pp=function(){function e(){(0,z.Z)(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new fs(ps.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ns(n)}return(0,Y.Z)(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var fp=(0,Y.Z)((function e(t){(0,z.Z)(this,e),this._methodName=t})),dp=function(){function e(t,n){if((0,z.Z)(this,e),!isFinite(t)||t<-90||t>90)throw new fs(ps.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new fs(ps.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return(0,Y.Z)(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return ks(this._lat,e._lat)||ks(this._long,e._long)}}]),e}(),gp=/^__.*__$/,_p=function(){function e(t,n,r){(0,z.Z)(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return(0,Y.Z)(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new gc(e,this.data,this.fieldMask,t,this.fieldTransforms):new dc(e,this.data,t,this.fieldTransforms)}}]),e}(),vp=function(){function e(t,n,r){(0,z.Z)(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return(0,Y.Z)(e,[{key:"toMutation",value:function(e,t){return new gc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function mp(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw cs()}}var yp=function(){function e(t,n,r,i,o,s){(0,z.Z)(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.Eu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}return(0,Y.Z)(e,[{key:"path",get:function(){return this.settings.path}},{key:"du",get:function(){return this.settings.du}},{key:"Au",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Ru",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Au({path:n,Vu:!1});return r.mu(e),r}},{key:"fu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Au({path:n,Vu:!1});return r.Eu(),r}},{key:"gu",value:function(e){return this.Au({path:void 0,Vu:!0})}},{key:"pu",value:function(e){return Mp(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Eu",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.mu(this.path.get(e))}},{key:"mu",value:function(e){if(0===e.length)throw this.pu("Document fields must not be empty");if(mp(this.du)&&gp.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}]),e}(),Tp=function(){function e(t,n,r){(0,z.Z)(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Du(t)}return(0,Y.Z)(e,[{key:"Su",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new yp({du:e,methodName:t,wu:n,path:Ns.emptyPath(),Vu:!1,yu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function Ep(e){var t=e._freezeSettings(),n=Du(e._databaseId);return new Tp(e._databaseId,!!t.ignoreUndefinedProperties,n)}function bp(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=e.Su(o.merge||o.mergeFields?2:0,t,n,i);xp("Data must be an object, but it was:",s,r);var a,l,c=Cp(r,s);if(o.merge)a=new da(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){var u,h=[],p=(0,X.Z)(o.mergeFields);try{for(p.s();!(u=p.n()).done;){var f=Ap(t,u.value,n);if(!s.contains(f))throw new fs(ps.INVALID_ARGUMENT,"Field '".concat(f,"' is specified in your field mask but missing from your input data."));Dp(h,f)||h.push(f)}}catch(d){p.e(d)}finally{p.f()}a=new da(h),l=s.fieldTransforms.filter((function(e){return a.covers(e.field)}))}else a=null,l=s.fieldTransforms;return new _p(new Ua(c),a,l)}var Op=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(){return(0,z.Z)(this,n),t.apply(this,arguments)}return(0,Y.Z)(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.du)throw 1===e.du?e.pu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.pu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(fp);var Sp=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(){return(0,z.Z)(this,n),t.apply(this,arguments)}return(0,Y.Z)(n,[{key:"_toFieldTransform",value:function(e){return new ic(e.path,new Kl)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(fp);function kp(e,t,n,r){var i=e.Su(1,t,n);xp("Data must be an object, but it was:",i,r);var o=[],s=Ua.empty();aa(r,(function(e,r){var a=Lp(t,e,n);r=Ee(r);var l=i.fu(a);if(r instanceof Op)o.push(a);else{var c=Rp(r,l);null!=c&&(o.push(a),s.set(a,c))}}));var a=new da(o);return new vp(s,a,i.fieldTransforms)}function wp(e,t,n,r,i,o){var s=e.Su(1,t,n),a=[Ap(t,r,n)],l=[i];if(o.length%2!=0)throw new fs(ps.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<o.length;c+=2)a.push(Ap(t,o[c])),l.push(o[c+1]);for(var u=[],h=Ua.empty(),p=a.length-1;p>=0;--p)if(!Dp(u,a[p])){var f=a[p],d=l[p];d=Ee(d);var g=s.fu(f);if(d instanceof Op)u.push(f);else{var _=Rp(d,g);null!=_&&(u.push(f),h.set(f,_))}}var v=new da(u);return new vp(h,v,s.fieldTransforms)}function Rp(e,t){if(Ip(e=Ee(e)))return xp("Unsupported field value:",t,e),Cp(e,t);if(e instanceof fp)return function(e,t){if(!mp(t.du))throw t.pu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.pu("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Vu&&4!==t.du)throw t.pu("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,o=(0,X.Z)(e);try{for(o.s();!(n=o.n()).done;){var s=Rp(n.value,t.gu(i));null==s&&(s={nullValue:"NULL_VALUE"}),r.push(s),i++}}catch(a){o.e(a)}finally{o.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Ee(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Wl(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Rs.fromDate(e);return{timestampValue:Ic(t.serializer,n)}}if(e instanceof Rs){var r=new Rs(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ic(t.serializer,r)}}if(e instanceof dp)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof hp)return{bytesValue:xc(t.serializer,e._byteString)};if(e instanceof ip){var i=t.databaseId,o=e.firestore._databaseId;if(!o.isEqual(i))throw t.pu("Document reference is for database ".concat(o.projectId,"/").concat(o.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Lc(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.pu("Unsupported field value: ".concat(Jh(e)))}(e,t)}function Cp(e,t){var n={};return la(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):aa(e,(function(e,r){var i=Rp(r,t.Ru(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Ip(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Rs||e instanceof dp||e instanceof hp||e instanceof ip||e instanceof fp)}function xp(e,t,n){if(!Ip(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Jh(n);throw"an object"===r?t.pu(e+" a custom object"):t.pu(e+" "+r)}}function Ap(e,t,n){if((t=Ee(t))instanceof pp)return t._internalPath;if("string"==typeof t)return Lp(e,t);throw Mp("Field path arguments must be of type string or ",e,!1,void 0,n)}var Np=new RegExp("[~\\*/\\[\\]]");function Lp(e,t,n){if(t.search(Np)>=0)throw Mp("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return te(pp,(0,W.Z)(t.split(".")))._internalPath}catch(Xt){throw Mp("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Mp(e,t,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";var l="";return(o||s)&&(l+=" (found",o&&(l+=" in field ".concat(r)),s&&(l+=" in document ".concat(i)),l+=")"),new fs(ps.INVALID_ARGUMENT,a+e+l)}function Dp(e,t){return e.some((function(e){return e.isEqual(t)}))}function Pp(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}function Bp(e,t,n){e=$h(e,ip);for(var r=$h(e.firestore,lp),i=Ep(r),o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return Up(r,[("string"==typeof(t=Ee(t))||t instanceof pp?wp(i,"updateDoc",e._key,t,n,s):kp(i,"updateDoc",e._key,t)).toMutation(e._key,sc.exists(!0))])}function Fp(e,t){var n=$h(e.firestore,lp),r=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ee(e),1===arguments.length&&(t=Ss.newId()),qh("doc","path",t),e instanceof tp){var o=xs.fromString.apply(xs,[t].concat(r));return Kh(o),new ip(e,null,new Ls(o))}if(!(e instanceof ip||e instanceof op))throw new fs(ps.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var s=e._path.child(xs.fromString.apply(xs,[t].concat(r)));return Kh(s),new ip(e.firestore,e instanceof op?e.converter:null,new Ls(s))}(e),i=Pp(e.converter,t);return Up(n,[bp(Ep(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,sc.exists(!1))]).then((function(){return r}))}function Up(n,r){return function(n,r){var i=new ds;return n.asyncQueue.enqueueAndForget((0,t.Z)((0,e.Z)().mark((function t(){return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Th,e.next=3,Xh(n);case 3:return e.t1=e.sent,e.t2=r,e.t3=i,e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3));case 7:case"end":return e.stop()}}),t)})))),i.promise}(cp(n),r)}new WeakMap;!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){ns=e}("10.8.0"),ct(new be("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,o=e.getProvider("app").getImmediate(),s=new lp(new ms(e.getProvider("auth-internal")),new bs(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new fs(ps.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ka(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s}),"PUBLIC").setMultipleInstances(!0)),gt(es,"4.4.2",e),gt(es,"4.4.2","esm2017")}();var Zp=function(e,t){var n="object"==typeof e?e:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it,t=st.get(e);if(!t&&e===it&&he())return dt();if(!t)throw pt.create("no-app",{appName:e});return t}(),r="string"==typeof e?e:t||"(default)",i=ut(n,"firestore").getImmediate({identifier:r});if(!i._initialized){var o=ue("firestore");o&&np.apply(void 0,[i].concat((0,W.Z)(o)))}return i}(dt({apiKey:'"AIzaSyCRe7jfIs-nwkbnJ0Q6rozxjrnBEpr52Sw",',authDomain:'"web-python-logs.firebaseapp.com",',projectId:'"web-python-logs",',storageBucket:'"web-python-logs.appspot.com",',messagingSenderId:'"991477648249",',appId:"1:991477648249:web:825e878fd8259bb8073da8"})),Gp=null,Hp=function(){var n=(0,t.Z)((0,e.Z)().mark((function t(n){var r,i,o,s;return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o={data:n,createdAt:new Sp("serverTimestamp"),source:null===(r=window)||void 0===r||null===(i=r.location)||void 0===i?void 0:i.href,userAgent:$p()},s=jp(),!Vp()){e.next=9;break}return e.next=6,Bp(Gp,o);case 6:Jp("Document updated with ID: ",Gp.id),e.next=13;break;case 9:return e.next=11,Fp(sp(Zp,s),o);case 11:Gp=e.sent,Jp("Document written with ID: ",Gp.id);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.error("Error adding document: ",e.t0);case 18:case"end":return e.stop()}}),t,null,[[0,15]])})));return function(e){return n.apply(this,arguments)}}(),Vp=function(){return!!Gp},jp=function(){var e=window.location.pathname;return"localhost"===window.location.hostname?"logs":-1!==e.indexOf("edu/blockly-staging")?"blockly-staging":-1!==e.indexOf("edu/blockly")?"blockly":e.indexOf(!0)?"python-staging":-1!==e.indexOf("edu/python")?"python":"logs"},Wp=[],Xp=0,zp=console.log,Yp=console.error,qp=function(){console.log=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];zp.apply(console,t),Kp("consoleLog",t)},console.error=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Yp.apply(console,t),Kp("consoleError",t),Qp().then((function(){zp("Error message sent to the server")})).catch((function(e){Yp("Error sending message to the server: ",e)}))},window.onerror=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Kp("windowError",t),Qp().then((function(){zp("Error message sent to the server")})).catch((function(e){Yp("Error sending message to the server: ",e)}))}},Kp=function(e,t){var n={type:e,args:JSON.stringify(t)};Wp.push(n)},Qp=function(){var n=(0,t.Z)((0,e.Z)().mark((function t(){return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Xp>5)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Hp(Wp);case 4:Xp+=1;case 5:case"end":return e.stop()}}),t)})));return function(){return n.apply(this,arguments)}}(),Jp=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];zp(t)},$p=function(){try{return window.navigator.userAgent}catch(e){return console.log("Error getting user agent:",e),"Unknown"}};function ef(){var e=prompt(j.GH.SAVE_FILE_NAME);if(null==e||""===e);else{var t=V().Xml.workspaceToDom(V().getMainWorkspace());(0,j.l1)(e,t),__webpack_require__.g.showDownloadNotif()}}function tf(){(0,j.PT)()}function nf(){(0,j.Pg)()}function rf(){V().getMainWorkspace().cleanUp()}function of(){V().getMainWorkspace().undo()}function sf(){V().getMainWorkspace().undo(!0)}function af(e,t){"cdm"===e?window.open("https://robolink.helpdocs.io/category/udkob0aika-codrone-mini","_blank"):"ko"===t?window.open("http://robolink.co.kr/web/cate02/product02.mn.php","_blank"):window.open("https://robolink.helpdocs.io/category/awfgtbygot-co-drone-edu","_blank")}function lf(){window.open("https://www.robolink.com/pages/min-requirements","_blank")}var cf=function(e){var t=e.isDropdownOpen,r=e.openNewModal,i=e.openOpenModal,o=e.openSettings,s=e.droneType,a=(0,n.useContext)(B).msg,l=[{testid:"menu-save",label:a.MENU_SAVE,onClick:ef},{testid:"menu-open",label:a.MENU_OPEN,onClick:i},{testid:"menu-new",label:a.MENU_NEW,onClick:r},{label:"separator"},{testid:"menu-cleanup",label:a.MENU_CLEAN_UP,onClick:rf},{testid:"menu-undo",label:a.MENU_UNDO,onClick:of},{testid:"menu-redo",label:a.MENU_REDO,onClick:sf},{testid:"menu-help",label:a.MENU_HELP,onClick:function(){return af("cde")}},{label:"separator"},{testid:"menu-settings",label:a.MENU_SETTINGS,onClick:o},{testid:"menu-system",label:a.MENU_SYSTEM,onClick:lf},{testid:"menu-version",label:a.VERSION_MENU,onClick:function(){window.window.open(__webpack_require__.g.URL_REDIRECT_VERSION_MENU,"_blank")}}],c=[{testid:"menu-save",label:a.MENU_SAVE,onClick:ef},{testid:"menu-open",label:a.MENU_OPEN,onClick:i},{testid:"menu-new",label:a.MENU_NEW,onClick:r},{label:"separator"},{testid:"menu-cleanup",label:a.MENU_CLEAN_UP,onClick:rf},{testid:"menu-undo",label:a.MENU_UNDO,onClick:of},{testid:"menu-redo",label:a.MENU_REDO,onClick:sf},{testid:"menu-help",label:a.MENU_HELP,onClick:function(){return af("cdm")}},{label:"separator"},{testid:"menu-system",label:a.MENU_SYSTEM,onClick:lf}];return(0,P.jsx)(P.Fragment,{children:(0,P.jsx)("div",{className:"menu-list ".concat(t?"active":""),children:(0,P.jsxs)("ul",{children:["cde"===s&&l.map((function(e,t){return(0,P.jsx)(G,{testid:e.testid,label:e.label,onClick:e.onClick},t)})),"cdm"===s&&c.map((function(e,t){return(0,P.jsx)(G,{testid:e.testid,label:e.label,onClick:e.onClick},t)}))]})})})},uf=(0,j.FY)(),hf=function(){return(0,P.jsxs)("select",{name:"lang",id:"lang",onChange:function(){var e=document.querySelector("select#lang").value;localStorage.setItem("cde_lang",e),window.location.reload()},defaultValue:uf||"en",children:[(0,P.jsx)("option",{value:"en",children:"English"}),(0,P.jsx)("option",{value:"ko",children:"\ud55c\uae00"}),(0,P.jsx)("option",{value:"ja",children:"\u65e5\u672c\u8a9e"})]})};function pf(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function ff(e){return!!e&&!!e[nd]}function df(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===rd}(e)||Array.isArray(e)||!!e[td]||!!(null===(t=e.constructor)||void 0===t?void 0:t[td])||Ef(e)||bf(e))}function gf(e,t,n){void 0===n&&(n=!1),0===_f(e)?(n?Object.keys:id)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function _f(e){var t=e[nd];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:Ef(e)?2:bf(e)?3:0}function vf(e,t){return 2===_f(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function mf(e,t){return 2===_f(e)?e.get(t):e[t]}function yf(e,t,n){var r=_f(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function Tf(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function Ef(e){return Qf&&e instanceof Map}function bf(e){return Jf&&e instanceof Set}function Of(e){return e.o||e.t}function Sf(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=od(e);delete t[nd];for(var n=id(t),r=0;r<n.length;r++){var i=n[r],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function kf(e,t){return void 0===t&&(t=!1),Rf(e)||ff(e)||!df(e)||(_f(e)>1&&(e.set=e.add=e.clear=e.delete=wf),Object.freeze(e),t&&gf(e,(function(e,t){return kf(t,!0)}),!0)),e}function wf(){pf(2)}function Rf(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function Cf(e){var t=sd[e];return t||pf(18,e),t}function If(e,t){sd[e]||(sd[e]=t)}function xf(){return qf}function Af(e,t){t&&(Cf("Patches"),e.u=[],e.s=[],e.v=t)}function Nf(e){Lf(e),e.p.forEach(Df),e.p=null}function Lf(e){e===qf&&(qf=e.l)}function Mf(e){return qf={p:[],l:qf,h:e,m:!0,_:0}}function Df(e){var t=e[nd];0===t.i||1===t.i?t.j():t.g=!0}function Pf(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.O||Cf("ES5").S(t,e,r),r?(n[nd].P&&(Nf(t),pf(4)),df(e)&&(e=Bf(t,e),t.l||Uf(t,e)),t.u&&Cf("Patches").M(n[nd].t,e,t.u,t.s)):e=Bf(t,n,[]),Nf(t),t.u&&t.v(t.u,t.s),e!==ed?e:void 0}function Bf(e,t,n){if(Rf(t))return t;var r=t[nd];if(!r)return gf(t,(function(i,o){return Ff(e,r,t,i,o,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return Uf(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=Sf(r.k):r.o,o=i,s=!1;3===r.i&&(o=new Set(i),i.clear(),s=!0),gf(o,(function(t,o){return Ff(e,r,i,t,o,n,s)})),Uf(e,i,!1),n&&e.u&&Cf("Patches").N(r,n,e.u,e.s)}return r.o}function Ff(e,t,n,r,i,o,s){if(ff(i)){var a=Bf(e,i,o&&t&&3!==t.i&&!vf(t.R,r)?o.concat(r):void 0);if(yf(n,r,a),!ff(a))return;e.m=!1}else s&&n.add(i);if(df(i)&&!Rf(i)){if(!e.h.D&&e._<1)return;Bf(e,i),t&&t.A.l||Uf(e,i)}}function Uf(e,t,n){void 0===n&&(n=!1),!e.l&&e.h.D&&e.m&&kf(t,n)}function Zf(e,t){var n=e[nd];return(n?Of(n):e)[t]}function Gf(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Hf(e){e.P||(e.P=!0,e.l&&Hf(e.l))}function Vf(e){e.o||(e.o=Sf(e.t))}function jf(e,t,n){var r=Ef(t)?Cf("MapSet").F(t,n):bf(t)?Cf("MapSet").T(t,n):e.O?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:xf(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,o=ad;n&&(i=[r],o=ld);var s=Proxy.revocable(i,o),a=s.revoke,l=s.proxy;return r.k=l,r.j=a,l}(t,n):Cf("ES5").J(t,n);return(n?n.A:xf()).p.push(r),r}function Wf(e){return ff(e)||pf(22,e),function e(t){if(!df(t))return t;var n,r=t[nd],i=_f(t);if(r){if(!r.P&&(r.i<4||!Cf("ES5").K(r)))return r.t;r.I=!0,n=Xf(t,i),r.I=!1}else n=Xf(t,i);return gf(n,(function(t,i){r&&mf(r.t,t)===i||yf(n,t,e(i))})),3===i?new Set(n):n}(e)}function Xf(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return Sf(e)}function zf(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[nd];return ad.get(t,e)},set:function(t){var n=this[nd];ad.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][nd];if(!i.P)switch(i.i){case 5:r(i)&&Hf(i);break;case 4:n(i)&&Hf(i)}}}function n(e){for(var t=e.t,n=e.k,r=id(n),i=r.length-1;i>=0;i--){var o=r[i];if(o!==nd){var s=t[o];if(void 0===s&&!vf(t,o))return!0;var a=n[o],l=a&&a[nd];if(l?l.t!==s:!Tf(a,s))return!0}}var c=!!t[nd];return r.length!==id(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};If("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var o=od(n);delete o[nd];for(var s=id(o),a=0;a<s.length;a++){var l=s[a];o[l]=e(l,t||!!o[l].enumerable)}return Object.create(Object.getPrototypeOf(n),o)}(r,t),o={i:r?5:4,A:n?n.A:xf(),P:!1,I:!1,R:{},l:n,t:t,k:i,o:null,g:!1,C:!1};return Object.defineProperty(i,nd,{value:o,writable:!0}),i},S:function(e,n,i){i?ff(n)&&n[nd].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[nd];if(n){var i=n.t,o=n.k,s=n.R,a=n.i;if(4===a)gf(o,(function(t){t!==nd&&(void 0!==i[t]||vf(i,t)?s[t]||e(o[t]):(s[t]=!0,Hf(n)))})),gf(i,(function(e){void 0!==o[e]||vf(o,e)||(s[e]=!1,Hf(n))}));else if(5===a){if(r(n)&&(Hf(n),s.length=!0),o.length<i.length)for(var l=o.length;l<i.length;l++)s[l]=!1;else for(var c=i.length;c<o.length;c++)s[c]=!0;for(var u=Math.min(o.length,i.length),h=0;h<u;h++)o.hasOwnProperty(h)||(s[h]=!0),void 0===s[h]&&e(o[h])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}var Yf,qf,Kf="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),Qf="undefined"!=typeof Map,Jf="undefined"!=typeof Set,$f="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,ed=Kf?Symbol.for("immer-nothing"):((Yf={})["immer-nothing"]=!0,Yf),td=Kf?Symbol.for("immer-draftable"):"__$immer_draftable",nd=Kf?Symbol.for("immer-state"):"__$immer_state",rd=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),id="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,od=Object.getOwnPropertyDescriptors||function(e){var t={};return id(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},sd={},ad={get:function(e,t){if(t===nd)return e;var n=Of(e);if(!vf(n,t))return function(e,t,n){var r,i=Gf(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!df(r)?r:r===Zf(e.t,t)?(Vf(e),e.o[t]=jf(e.A.h,r,e)):r},has:function(e,t){return t in Of(e)},ownKeys:function(e){return Reflect.ownKeys(Of(e))},set:function(e,t,n){var r=Gf(Of(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=Zf(Of(e),t),o=null==i?void 0:i[nd];if(o&&o.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(Tf(n,i)&&(void 0!==n||vf(e.t,t)))return!0;Vf(e),Hf(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==Zf(e.t,t)||t in e.t?(e.R[t]=!1,Vf(e),Hf(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Of(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){pf(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){pf(12)}},ld={};gf(ad,(function(e,t){ld[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),ld.deleteProperty=function(e,t){return ld.set.call(this,e,t,void 0)},ld.set=function(e,t,n){return ad.set.call(this,e[0],t,n,e[0])};var cd=function(){function e(e){var t=this;this.O=$f,this.D=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var o=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,s=Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];return o.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(s))}))}}var s;if("function"!=typeof n&&pf(6),void 0!==r&&"function"!=typeof r&&pf(7),df(e)){var a=Mf(t),l=jf(t,e,void 0),c=!0;try{s=n(l),c=!1}finally{c?Nf(a):Lf(a)}return"undefined"!=typeof Promise&&s instanceof Promise?s.then((function(e){return Af(a,r),Pf(e,a)}),(function(e){throw Nf(a),e})):(Af(a,r),Pf(s,a))}if(!e||"object"!=typeof e){if(void 0===(s=n(e))&&(s=e),s===ed&&(s=void 0),t.D&&kf(s,!0),r){var u=[],h=[];Cf("Patches").M(e,s,u,h),r(u,h)}return s}pf(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,o=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return[e,r,i]})):[o,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){df(e)||pf(8),ff(e)&&(e=Wf(e));var t=Mf(this),n=jf(this,e,void 0);return n[nd].C=!0,Lf(t),n},t.finishDraft=function(e,t){var n=(e&&e[nd]).A;return Af(n,t),Pf(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!$f&&pf(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=Cf("Patches").$;return ff(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),ud=new cd,hd=ud.produce,pd=(ud.produceWithPatches.bind(ud),ud.setAutoFreeze.bind(ud),ud.setUseProxies.bind(ud),ud.applyPatches.bind(ud),ud.createDraft.bind(ud),ud.finishDraft.bind(ud),hd);function fd(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var dd="function"===typeof Symbol&&Symbol.observable||"@@observable",gd=function(){return Math.random().toString(36).substring(7).split("").join(".")},_d={INIT:"@@redux/INIT"+gd(),REPLACE:"@@redux/REPLACE"+gd(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+gd()}};function vd(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function md(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(fd(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(fd(1));return n(md)(e,t)}if("function"!==typeof e)throw new Error(fd(2));var i=e,o=t,s=[],a=s,l=!1;function c(){a===s&&(a=s.slice())}function u(){if(l)throw new Error(fd(3));return o}function h(e){if("function"!==typeof e)throw new Error(fd(4));if(l)throw new Error(fd(5));var t=!0;return c(),a.push(e),function(){if(t){if(l)throw new Error(fd(6));t=!1,c();var n=a.indexOf(e);a.splice(n,1),s=null}}}function p(e){if(!vd(e))throw new Error(fd(7));if("undefined"===typeof e.type)throw new Error(fd(8));if(l)throw new Error(fd(9));try{l=!0,o=i(o,e)}finally{l=!1}for(var t=s=a,n=0;n<t.length;n++){(0,t[n])()}return e}return p({type:_d.INIT}),(r={dispatch:p,subscribe:h,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error(fd(10));i=e,p({type:_d.REPLACE})}})[dd]=function(){var e,t=h;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(fd(11));function n(){e.next&&e.next(u())}return n(),{unsubscribe:t(n)}}})[dd]=function(){return this},e},r}function yd(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var o,s=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:_d.INIT}))throw new Error(fd(12));if("undefined"===typeof n(void 0,{type:_d.PROBE_UNKNOWN_ACTION()}))throw new Error(fd(13))}))}(n)}catch(a){o=a}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,i={},a=0;a<s.length;a++){var l=s[a],c=n[l],u=e[l],h=c(u,t);if("undefined"===typeof h){t&&t.type;throw new Error(fd(14))}i[l]=h,r=r||h!==u}return(r=r||s.length!==Object.keys(e).length)?i:e}}function Td(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function Ed(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(fd(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map((function(e){return e(i)}));return r=Td.apply(void 0,o)(n.dispatch),(0,Pe.Z)((0,Pe.Z)({},n),{},{dispatch:r})}}}function bd(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var Od=bd();Od.withExtraArgument=bd;var Sd=Od,kd=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wd=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},Rd=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},Cd=Object.defineProperty,Id=Object.defineProperties,xd=Object.getOwnPropertyDescriptors,Ad=Object.getOwnPropertySymbols,Nd=Object.prototype.hasOwnProperty,Ld=Object.prototype.propertyIsEnumerable,Md=function(e,t,n){return t in e?Cd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Dd=function(e,t){for(var n in t||(t={}))Nd.call(t,n)&&Md(e,n,t[n]);if(Ad)for(var r=0,i=Ad(t);r<i.length;r++){n=i[r];Ld.call(t,n)&&Md(e,n,t[n])}return e},Pd=function(e,t){return Id(e,xd(t))},Bd=function(e,t,n){return new Promise((function(r,i){var o=function(e){try{a(n.next(e))}catch(t){i(t)}},s=function(e){try{a(n.throw(e))}catch(t){i(t)}},a=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(o,s)};a((n=n.apply(e,t)).next())}))},Fd="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?Td:Td.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function Ud(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}function Zd(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return Dd(Dd({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}var Gd=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return kd(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,Rd([void 0],e[0].concat(this)))):new(t.bind.apply(t,Rd([void 0],e.concat(this))))},t}(Array),Hd=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return kd(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,Rd([void 0],e[0].concat(this)))):new(t.bind.apply(t,Rd([void 0],e.concat(this))))},t}(Array);function Vd(e){return df(e)?pd(e,(function(){})):e}function jd(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,e.actionCreatorCheck,new Gd);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(Sd.withExtraArgument(n.extraArgument)):r.push(Sd));0;return r}(e)}}function Wd(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(!r)throw new Error("`builder.addCase` cannot be called with an empty action type");if(r in n)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function Xd(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:Vd(e.initialState),i=e.reducers||{},o=Object.keys(i),s={},a={},l={};function c(){var t="function"===typeof e.extraReducers?Wd(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,o=t[1],s=void 0===o?[]:o,l=t[2],c=void 0===l?void 0:l,u=Dd(Dd({},i),a);return function(e,t,n,r){void 0===n&&(n=[]);var i,o="function"===typeof t?Wd(t):[t,n,r],s=o[0],a=o[1],l=o[2];if(function(e){return"function"===typeof e}(e))i=function(){return Vd(e())};else{var c=Vd(e);i=function(){return c}}function u(e,t){void 0===e&&(e=i());var n=Rd([s[t.type]],a.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[l]),n.reduce((function(e,n){if(n){var r;if(ff(e))return void 0===(r=n(e,t))?e:r;if(df(e))return pd(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return u.getInitialState=i,u}(r,(function(e){for(var t in u)e.addCase(t,u[t]);for(var n=0,r=s;n<r.length;n++){var i=r[n];e.addMatcher(i.matcher,i.reducer)}c&&e.addDefaultCase(c)}))}return o.forEach((function(e){var n,r,o=i[e],c=t+"/"+e;"reducer"in o?(n=o.reducer,r=o.prepare):n=o,s[e]=n,a[c]=n,l[e]=r?Zd(c,r):Zd(c)})),{name:t,reducer:function(e,t){return n||(n=c()),n(e,t)},actions:l,caseReducers:s,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}var zd=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},Yd=["name","message","stack","code"],qd=function(e,t){this.payload=e,this.meta=t},Kd=function(e,t){this.payload=e,this.meta=t},Qd=function(e){if("object"===typeof e&&null!==e){for(var t={},n=0,r=Yd;n<r.length;n++){var i=r[n];"string"===typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}};!function(){function e(e,t,n){var r=Zd(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:Pd(Dd({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),i=Zd(e+"/pending",(function(e,t,n){return{payload:void 0,meta:Pd(Dd({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),o=Zd(e+"/rejected",(function(e,t,r,i,o){return{payload:i,error:(n&&n.serializeError||Qd)(e||"Rejected"),meta:Pd(Dd({},o||{}),{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),s="undefined"!==typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(a,l,c){var u,h=(null==n?void 0:n.idGenerator)?n.idGenerator(e):zd(),p=new s;function f(e){u=e,p.abort()}var d=function(){return Bd(this,null,(function(){var s,d,g,_,v,m;return wd(this,(function(y){switch(y.label){case 0:return y.trys.push([0,4,,5]),_=null==(s=null==n?void 0:n.condition)?void 0:s.call(n,e,{getState:l,extra:c}),null===(T=_)||"object"!==typeof T||"function"!==typeof T.then?[3,2]:[4,_];case 1:_=y.sent(),y.label=2;case 2:if(!1===_||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return!0,v=new Promise((function(e,t){return p.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:u||"Aborted"})}))})),a(i(h,e,null==(d=null==n?void 0:n.getPendingMeta)?void 0:d.call(n,{requestId:h,arg:e},{getState:l,extra:c}))),[4,Promise.race([v,Promise.resolve(t(e,{dispatch:a,getState:l,extra:c,requestId:h,signal:p.signal,abort:f,rejectWithValue:function(e,t){return new qd(e,t)},fulfillWithValue:function(e,t){return new Kd(e,t)}})).then((function(t){if(t instanceof qd)throw t;return t instanceof Kd?r(t.payload,h,e,t.meta):r(t,h,e)}))])];case 3:return g=y.sent(),[3,5];case 4:return m=y.sent(),g=m instanceof qd?o(null,h,e,m.payload,m.meta):o(m,h,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&o.match(g)&&g.meta.condition||a(g),[2,g]}var T}))}))}();return Object.assign(d,{abort:f,requestId:h,arg:e,unwrap:function(){return d.then(Jd)}})}}),{pending:i,rejected:o,fulfilled:r,typePrefix:e})}e.withTypes=function(){return e}}();function Jd(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}Object.assign;var $d="listenerMiddleware";Zd($d+"/add"),Zd($d+"/removeAll"),Zd($d+"/remove");"function"===typeof queueMicrotask&&queueMicrotask.bind("undefined"!==typeof window?window:"undefined"!==typeof __webpack_require__.g?__webpack_require__.g:globalThis);var eg,tg=function(e){return function(t){setTimeout(t,e)}};"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:tg(10);zf();var ng=Xd({name:"colorTheme",initialState:{isDark:!!localStorage.getItem("cde-color-dark")&&"true"===localStorage.getItem("cde-color-dark")},reducers:{toggleColorTheme:function(e){e.isDark=!e.isDark,localStorage.setItem("cde-color-dark",e.isDark)}}}),rg=ng.actions.toggleColorTheme,ig=ng.reducer,og=function(){var e=A(),t=b((function(e){return e.colorTheme})),n=t.isDark;return(0,P.jsx)("div",{className:"color-theme",children:(0,P.jsxs)("label",{className:"switch",onClick:function(){return e(rg())},children:[(0,P.jsx)("input",{type:"checkbox",checked:n,onChange:function(){return console.warn("onchange")}}),(0,P.jsx)("span",{})]})})};var sg=__webpack_require__.p+"static/media/close.78d1c8a03c75b7a14aba46ce3792f14a.svg",ag=function(e){var t=e.isOpen,r=e.close,i=e.droneType,o=(0,n.useContext)(B).msg;return(0,P.jsx)("div",{id:"settings-bg",className:"".concat(t?"":"hide"),onClick:r,children:(0,P.jsxs)("div",{className:"settings",onClick:function(e){e.preventDefault(),e.stopPropagation()},children:[(0,P.jsxs)("div",{className:"md-header",children:[(0,P.jsx)("div",{className:"close",children:(0,P.jsx)("img",{src:sg,alt:"x",onClick:r})}),(0,P.jsx)("h1",{children:o.MENU_SETTINGS})]}),(0,P.jsxs)("div",{className:"md-body",children:["cde"===i&&(0,P.jsxs)("div",{className:"language",children:[(0,P.jsx)("div",{className:"title",children:o.MENU_LANGUAGE}),(0,P.jsx)(hf,{})]}),(0,P.jsxs)("div",{className:"theme",children:[(0,P.jsx)("div",{className:"title",children:"Dark mode"}),(0,P.jsx)(og,{})]})]})]})})},lg=(0,N.g)(),cg=function(e){var t=e.isOpen,r=e.close,i=e.handleClick,o=e.warningMsg,s=(0,n.useContext)(B).msg;return(0,P.jsx)("div",{className:"".concat(t?"clear-workspace-modal-bg":"clear-workspace-modal-bg hide"),onClick:r,children:(0,P.jsxs)("div",{className:"clear-workspace-modal",onClick:function(e){e.preventDefault(),e.stopPropagation()},children:[(0,P.jsx)("div",{className:"md-body",children:(0,P.jsx)("span",{children:o})}),(0,P.jsxs)("div",{className:"md-footer",children:[(0,P.jsx)("button",{className:"clear-btn",onClick:r,children:s.BTN_CANCEL}),(0,P.jsx)("button",{className:"yes-btn",onClick:function(){i(),r()},children:s.BTN_CONTINUE})]})]})})},ug=function(e){var t=e.isOpen,r=e.handleToggle,i=(0,n.useContext)(B).msg,o=a((0,n.useState)(!1),2),s=o[0],l=o[1],c=a((0,n.useState)(!1),2),u=c[0],h=c[1],p=a((0,n.useState)(!1),2),f=p[0],d=p[1];return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)("div",{className:"Menu",onClick:r,children:[(0,P.jsx)("div",{className:"menu-btn","data-testid":"menu-btn",children:(0,P.jsx)("span",{children:i.MENU_MENU})}),(0,P.jsx)("div",{className:"menu-txt",children:i.MENU_MENU}),(0,P.jsx)(cf,{isDropdownOpen:t,openNewModal:function(e){l(!0)},openOpenModal:function(e){h(!0)},openSettings:function(e){d(!0)},droneType:lg})]}),(0,P.jsx)(cg,{isOpen:s,close:function(e){l(!1)},handleClick:nf,warningMsg:i.CLEAR_WARNING}),(0,P.jsx)(cg,{isOpen:u,close:function(e){h(!1)},handleClick:tf,warningMsg:i.NEW_WARNING}),(0,P.jsx)(ag,{isOpen:f,close:function(e){d(!1)},droneType:lg})]})};var hg=__webpack_require__.p+"static/media/close_blockly.bde002f5fee7480da526b27c38620789.svg",pg=(0,j.FY)(),fg="https://learn.robolink.com/course/blockly-with-codrone-edu/?rsw=install-cache",dg=function(r){var i=r.isOpen,o=r.droneType;(0,n.useEffect)((function(){window.addEventListener("offline",(function(){})),window.addEventListener("online",(function(){})),document.querySelector("#btnBackLessons").style.display="none";var n=function(){var n=(0,t.Z)((0,e.Z)().mark((function t(){return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://codrone.robolink.com/versions.json");case 2:e.sent;case 3:case"end":return e.stop()}}),t)})));return function(){return n.apply(this,arguments)}}();n().catch((function(e){})),window.addEventListener("message",(function(e){"https://learn.robolink.com"===e.origin&&(e.data!=fg?document.querySelector("#btnBackLessons").style.display="inline-block":document.querySelector("#btnBackLessons").style.display="none")}))}),[]);return(0,P.jsxs)("div",{className:"content-panel content-1 ".concat(i?"active":""),children:[(0,P.jsx)("div",{className:"nav",children:(0,P.jsx)("button",{id:"btnBackLessons",onClick:function(e){document.querySelector("#iframeBasecamp").src=fg},children:"Back to CoDrone EDU lessons"})}),"cde"===o&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("p",{id:"offlineText",style:{margin:"10px",display:"none"},children:"Offline Blockly is still in beta testing. Our lessons are currently inaccessible offline."}),(0,P.jsx)("iframe",{title:"CDE Blockly basecamp",id:"iframeBasecamp",src:"ko"===pg?"https://learn.robolink.com/ko/course/blockly-with-codrone-edu-kor/":"https://learn.robolink.com/course/blockly-with-codrone-edu/?rsw=install-cache",frameBorder:"0",onLoad:function(e){e.target.contentWindow.postMessage("href","https://learn.robolink.com/course/blockly-with-codrone-edu/?rsw=install-cache")}})]}),"cdm"===o&&(0,P.jsx)("iframe",{title:"CDM Blockly basecamp",id:"iframeBasecamp",src:"https://learn.robolink.com/course/codrone-mini-with-blockly/",frameBorder:"0"})]})};function gg(e,t){var r=(0,n.useRef)(!0);(0,n.useEffect)((function(){if(!r.current)return e();r.current=!1}),t)}function _g(e){__webpack_require__.g.showConsole=e}function vg(e){__webpack_require__.g.disablePlayButton=e,__webpack_require__.g.RUNNING=!1}function mg(e){__webpack_require__.g.toggleExWarn=e}var yg=__webpack_require__(2968);var Tg=__webpack_require__.p+"static/media/arrow.fa87796c27f9ce2810a4eaf2e86f6a9f.svg";var Eg=__webpack_require__.p+"static/media/arrow_dark.2114d887388518d00f397d6e495428ff.svg",bg={Unknown:"unknown",White:"white",Red:"red",Yellow:"yellow",Green:"green",Cyan:"lightblue",Blue:"blue",Magenta:"purple",Black:"black",Grey:"grey"},Og=(0,j.FY)(),Sg=function(e){var t=e.style;return(0,P.jsx)("div",{className:"gyro-range",children:(0,P.jsxs)("div",{className:"range",style:t,children:[(0,P.jsx)("div",{className:"track"}),(0,P.jsx)("div",{className:"thumb"})]})})},kg=!0,wg=yg.R7.DRONE_NOT_PAIRED,Rg=function(r){var i=r.isOpen,o=b((function(e){return e.colorTheme})),s=o.isDark,l=(0,n.useContext)(B).msg,c=a((0,n.useState)(yg.R7.DRONE_NOT_PAIRED),2),u=c[0],h=c[1],p=a((0,n.useState)({front:0,bottom:0}),2),f=p[0],d=p[1],g=a((0,n.useState)({accel:{x:0,y:0,z:0},gyro:{pitch:0,yaw:0,roll:0}}),2),_=g[0],v=g[1],m=a((0,n.useState)([0,0,0]),2),y=m[0],T=m[1],E=a((0,n.useState)([0,0,0]),2),O=E[0],S=E[1],k=a((0,n.useState)("black"),2),w=k[0],R=k[1],C=a((0,n.useState)("black"),2),I=C[0],x=C[1],A=a((0,n.useState)(0),2),N=A[0],L=A[1],M=a((0,n.useState)(0),2),D=M[0],F=M[1],U=a((0,n.useState)([0,0]),2),Z=U[0],G=U[1],H=a((0,n.useState)(!1),2),V=H[0],j=H[1];(0,n.useEffect)((function(){!function(e){__webpack_require__.g.enableRefreshBtn=e}(X),function(e){__webpack_require__.g.disableRefreshBtn=e}(z),function(e){__webpack_require__.g.changeSDMode=e}(Y),function(e){__webpack_require__.g.resetDataItem=e}(q)}),[]),gg((function(){function n(){return(n=(0,t.Z)((0,e.Z)().mark((function t(){return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.addEventListener("storage",W),e.next=3,(0,yg.Im)();case 3:case"end":return e.stop()}}),t)})))).apply(this,arguments)}i?function(){n.apply(this,arguments)}():(window.removeEventListener("storage",W),(0,yg.Fc)())}),[i]);var W=function(e){if(-1!==e.key.indexOf("droneData"))try{var t=e.key.replace("droneData_",""),n=JSON.parse(e.newValue);if("range"===t){var r=n.range.slice(-1)[0];d({front:(.1*r.front).toFixed(1),bottom:(.1*r.bottom).toFixed(1)}),kg=!(r.bottom>0)}else if("motion"===t){var i=n.motion.slice(-1)[0];v({accel:{x:i.accelX,y:i.accelY,z:i.accelZ},gyro:{roll:i.angleRoll,pitch:i.anglePitch,yaw:i.angleYaw}})}else if("altitude"===t){var o=n.altitude.slice(-1)[0];F((.001*o.pressure).toFixed(3)),L(o.temp.toFixed(2))}else if("position"===t){var s=n.position.slice(-1)[0];G([s.x.toFixed(2),s.y.toFixed(2)])}else if("cardColor"===t){if(!kg)return void Y(yg.R7.COLOR_INACTIVE);kg&&yg.An&&Y(yg.R7.ALL_ACTIVE);var a=n.cardColor.slice(-1)[0];T(a.frontHSVL.slice(0,3)),S(a.backHSVL.slice(0,3)),__webpack_require__.g.knn?(R(__webpack_require__.g.knn.predict(a.frontHSVL)),x(__webpack_require__.g.knn.predict(a.backHSVL)),document.getElementById("front-color-box").style.backgroundColor="hsl(".concat(a.frontHSVL[0],", ").concat(a.frontHSVL[1],"%, ").concat(a.frontHSVL[3],"%)"),document.getElementById("rear-color-box").style.backgroundColor="hsl(".concat(a.backHSVL[0],", ").concat(a.backHSVL[1],"%, ").concat(a.backHSVL[3],"%)")):(R(bg[a.front]),x(bg[a.back]))}}catch(e){console.log(e)}},X=function(){j(!0)},z=function(){j(!1)},Y=function(e){e!==wg&&(console.log("change SD mode",e),wg=e,h(e))},q=function(){document.querySelectorAll(".data-item").forEach((function(e){e.classList.add("inactive")}))};return(0,P.jsxs)("div",{className:"content-panel content-4 ".concat(Og," ").concat(i?"active":""),children:[(0,P.jsxs)("div",{className:"data","data-mode":u,children:[(0,P.jsxs)("div",{className:"data-item column-2-1 inactive",id:"accel",children:[(0,P.jsx)("p",{className:"type",children:l.SD_ACCEL}),(0,P.jsxs)("div",{className:"sensor-data accel-data",children:[(0,P.jsxs)("div",{children:[(0,P.jsx)("p",{className:"invisible",children:"zero"}),(0,P.jsx)("input",{type:"range",min:"-156.8",max:"156.8",value:_.accel.x,className:"slider vertical-slider zero-guideline",readOnly:!0}),(0,P.jsx)("p",{className:"invisible",children:"0"})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("p",{className:"label",children:"x"}),(0,P.jsx)("input",{type:"range",min:"-156.8",max:"156.8",value:_.accel.x,className:"slider vertical-slider",readOnly:!0}),(0,P.jsx)("p",{className:"data-value",children:_.accel.x})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("p",{className:"label",children:"y"}),(0,P.jsx)("input",{type:"range",min:"-156.8",max:"156.8",value:_.accel.y,className:"slider vertical-slider",readOnly:!0}),(0,P.jsx)("p",{className:"data-value",children:_.accel.y})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("p",{className:"label",children:"z"}),(0,P.jsx)("input",{type:"range",min:"-156.8",max:"156.8",value:_.accel.z,className:"slider vertical-slider",readOnly:!0}),(0,P.jsx)("p",{className:"data-value",children:_.accel.z})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("p",{className:"invisible",children:"zero"}),(0,P.jsx)("input",{type:"range",min:"-156.8",max:"156.8",value:_.accel.x,className:"slider vertical-slider zero-guideline",readOnly:!0}),(0,P.jsx)("p",{className:"invisible",children:"0"})]})]})]}),(0,P.jsxs)("div",{className:"data-item column-2-2 inactive",id:"gyro",children:[(0,P.jsx)("p",{className:"type",children:l.SD_GYRO}),(0,P.jsxs)("div",{className:"sensor-data gyro-data",children:[(0,P.jsxs)("div",{children:[(0,P.jsx)("p",{className:"label",children:l.CONN_PITCH}),(0,P.jsx)(Sg,{style:{transform:"rotate(".concat(parseInt(180*_.gyro.pitch/180),"deg)")}}),(0,P.jsx)("p",{className:"data-value",children:_.gyro.pitch})]}),(0,P.jsxs)("div",{className:"yaw",children:[(0,P.jsx)("p",{className:"label",children:l.VALUE_YAW}),(0,P.jsx)("img",{src:s?Eg:Tg,alt:"yaw",style:{transform:"rotate(".concat(parseInt(180*_.gyro.yaw/-180),"deg)")}}),(0,P.jsx)("p",{className:"data-value",children:_.gyro.yaw})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("p",{className:"label",children:l.CONN_ROLL}),(0,P.jsx)(Sg,{style:{transform:"rotate(".concat(parseInt(180*_.gyro.roll/180),"deg)")}}),(0,P.jsx)("p",{className:"data-value",children:_.gyro.roll})]})]})]}),(0,P.jsxs)("div",{className:"data-item column-2-1 inactive",id:"frontRange",children:[(0,P.jsx)("p",{className:"type",children:l.SD_FRONT_RANGE}),(0,P.jsxs)("div",{className:"range-data",children:[(0,P.jsx)("input",{type:"range",min:"0",max:"200",value:f.front,className:"slider",readOnly:!0}),(0,P.jsx)("div",{className:"text-center text-gray",children:f.front<200?"".concat(f.front," cm"):l.SD_OUT_OF_RANGE})]})]}),(0,P.jsxs)("div",{className:"data-item column-2-2 inactive",id:"bottomRange",children:[(0,P.jsx)("p",{className:"type",children:l.SD_BOTTOM_RANGE}),(0,P.jsxs)("div",{className:"range-data",children:[(0,P.jsx)("input",{type:"range",min:"0",max:"200",value:f.bottom,className:"slider vertical-slider",readOnly:!0}),(0,P.jsx)("div",{className:"text-center text-gray",children:f.bottom<200?"".concat(f.bottom," cm"):l.SD_OUT_OF_RANGE})]})]}),(0,P.jsxs)("div",{className:"data-item column-2-1 inactive",id:"frontColor",children:[(0,P.jsx)("p",{className:"type",children:l.SD_FRONT_COLOR}),(0,P.jsxs)("div",{className:"sensor-data",children:[(0,P.jsxs)("div",{children:[(0,P.jsx)("p",{className:"label",children:l.VALUE_HUE}),(0,P.jsx)("p",{className:"data-value",children:y[0]})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("p",{className:"label",children:l.VALUE_SAT}),(0,P.jsx)("p",{className:"data-value",children:y[1]})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("p",{className:"label",children:l.VALUE_VAL}),(0,P.jsx)("p",{className:"data-value",children:y[2]})]})]}),(0,P.jsxs)("div",{className:"color-data",children:[(0,P.jsx)("div",{className:"box ".concat(w.toLowerCase()),id:"front-color-box"}),(0,P.jsx)("div",{className:"label",children:w})]})]}),(0,P.jsxs)("div",{className:"data-item column-2-2 inactive",id:"rearColor",children:[(0,P.jsx)("p",{className:"type",children:l.SD_REAR_COLOR}),(0,P.jsxs)("div",{className:"sensor-data",children:[(0,P.jsxs)("div",{children:[(0,P.jsx)("p",{className:"label",children:l.VALUE_HUE}),(0,P.jsx)("p",{className:"data-value",children:O[0]})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("p",{className:"label",children:l.VALUE_SAT}),(0,P.jsx)("p",{className:"data-value",children:O[1]})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("p",{className:"label",children:l.VALUE_VAL}),(0,P.jsx)("p",{className:"data-value",children:O[2]})]})]}),(0,P.jsxs)("div",{className:"color-data",children:[(0,P.jsx)("div",{className:"box ".concat(I.toLowerCase()),id:"rear-color-box"}),(0,P.jsx)("div",{className:"label",children:I})]})]}),(0,P.jsxs)("div",{className:"data-item column-3-1 inactive",id:"temp",children:[(0,P.jsx)("p",{className:"type",children:l.SD_TEMP}),(0,P.jsxs)("p",{className:"mt-20 ft-26 text-cde data-value",children:[N," \u02daC"]})]}),(0,P.jsxs)("div",{className:"data-item column-3-2 inactive",id:"altitude",children:[(0,P.jsx)("p",{className:"type",children:l.SD_PRESSURE}),(0,P.jsx)("p",{className:"m-20 ft-26  text-cde data-value",children:D}),(0,P.jsx)("p",{className:"ft-gray",children:"kPa"})]}),(0,P.jsxs)("div",{className:"data-item column-3-3 inactive",id:"position",children:[(0,P.jsx)("p",{className:"type",children:l.SD_POS}),(0,P.jsxs)("div",{className:"sensor-data-2",children:[(0,P.jsxs)("div",{children:[(0,P.jsx)("p",{className:"label",children:"x"}),(0,P.jsx)("p",{className:"ft-26 text-cde data-value",children:Z[0]}),(0,P.jsx)("p",{className:"ft-gray",children:"cm"})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("p",{className:"label",children:"y"}),(0,P.jsx)("p",{className:"ft-26 text-cde data-value",children:Z[1]}),(0,P.jsx)("p",{className:"ft-gray",children:"cm"})]})]})]})]}),(0,P.jsx)("div",{className:"refresh",style:{display:V?"flex":"none"},children:(0,P.jsx)("button",{className:"refresh-btn",onClick:function(){__webpack_require__.g.FREEZEDASHBOARD=!1,j(!1),yg.An||(q(),(0,yg.Im)())},children:l.SD_BTN_REFRESH})}),(0,P.jsxs)("div",{className:"inactive-div","data-mode":u,children:[(0,P.jsx)("div",{className:"inactive-msg",children:l.SD_MSG_REQUEST}),(0,P.jsx)("div",{className:"inactive-msg inactive-color",children:l.SD_INACTIVE_NOT_ON_SURFACE}),(0,P.jsx)("div",{className:"inactive-msg inactive-color",children:l.SD_INACTIVE_NOT_ON_SURFACE}),(0,P.jsx)("div",{className:"inactive-msg inactive-position",children:l.SD_INACTIVE_NOT_ON_SURFACE})]}),(0,P.jsx)("div",{className:"inactive-div-2","data-mode":u,children:(0,P.jsx)("div",{className:"inactive-msg",children:l.SD_NO_DRONE_PAIRED})})]})},Cg=__webpack_require__(7462),Ig=__webpack_require__(3366),xg=function(){function e(){(0,z.Z)(this,e)}return(0,Y.Z)(e,[{key:"lineAt",value:function(e){if(e<0||e>this.length)throw new RangeError("Invalid position ".concat(e," in document of length ").concat(this.length));return this.lineInner(e,!1,1,0)}},{key:"line",value:function(e){if(e<1||e>this.lines)throw new RangeError("Invalid line number ".concat(e," in ").concat(this.lines,"-line document"));return this.lineInner(e,!0,1,0)}},{key:"replace",value:function(e,t,n){var r=[];return this.decompose(0,e,r,2),n.length&&n.decompose(0,n.length,r,3),this.decompose(t,this.length,r,1),Ng.from(r,this.length-(t-e)+n.length)}},{key:"append",value:function(e){return this.replace(this.length,this.length,e)}},{key:"slice",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length,n=[];return this.decompose(e,t,n,0),Ng.from(n,t-e)}},{key:"eq",value:function(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;for(var t=this.scanIdentical(e,1),n=this.length-this.scanIdentical(e,-1),r=new Dg(this),i=new Dg(e),o=t,s=t;;){if(r.next(o),i.next(o),o=0,r.lineBreak!=i.lineBreak||r.done!=i.done||r.value!=i.value)return!1;if(s+=r.value.length,r.done||s>=n)return!0}}},{key:"iter",value:function(){return new Dg(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)}},{key:"iterRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length;return new Pg(this,e,t)}},{key:"iterLines",value:function(e,t){var n;if(null==e)n=this.iter();else{null==t&&(t=this.lines+1);var r=this.line(e).from;n=this.iterRange(r,Math.max(r,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new Bg(n)}},{key:"toString",value:function(){return this.sliceString(0)}},{key:"toJSON",value:function(){var e=[];return this.flatten(e),e}}],[{key:"of",value:function(t){if(0==t.length)throw new RangeError("A document must have at least one line");return 1!=t.length||t[0]?t.length<=32?new Ag(t):Ng.from(Ag.split(t,[])):e.empty}}]),e}(),Ag=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){var t,n=-1,r=(0,X.Z)(e);try{for(r.s();!(t=r.n()).done;){n+=t.value.length+1}}catch(i){r.e(i)}finally{r.f()}return n}(e);return(0,z.Z)(this,n),(r=t.call(this)).text=e,r.length=i,r}return(0,Y.Z)(n,[{key:"lines",get:function(){return this.text.length}},{key:"children",get:function(){return null}},{key:"lineInner",value:function(e,t,n,r){for(var i=0;;i++){var o=this.text[i],s=r+o.length;if((t?n:s)>=e)return new Fg(r,s,n,o);r=s+1,n++}}},{key:"decompose",value:function(e,t,r,i){var o=e<=0&&t>=this.length?this:new n(Mg(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(1&i){var s=r.pop(),a=Lg(o.text,s.text.slice(),0,o.length);if(a.length<=32)r.push(new n(a,s.length+o.length));else{var l=a.length>>1;r.push(new n(a.slice(0,l)),new n(a.slice(l)))}}else r.push(o)}},{key:"replace",value:function(e,t,r){if(!(r instanceof n))return Nt((0,J.Z)(n.prototype),"replace",this).call(this,e,t,r);var i=Lg(this.text,Lg(r.text,Mg(this.text,0,e)),t),o=this.length+r.length-(t-e);return i.length<=32?new n(i,o):Ng.from(n.split(i,[]),o)}},{key:"sliceString",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\n",r="",i=0,o=0;i<=t&&o<this.text.length;o++){var s=this.text[o],a=i+s.length;i>e&&o&&(r+=n),e<a&&t>i&&(r+=s.slice(Math.max(0,e-i),t-i)),i=a+1}return r}},{key:"flatten",value:function(e){var t,n=(0,X.Z)(this.text);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.push(r)}}catch(i){n.e(i)}finally{n.f()}}},{key:"scanIdentical",value:function(){return 0}}],[{key:"split",value:function(e,t){var r,i=[],o=-1,s=(0,X.Z)(e);try{for(s.s();!(r=s.n()).done;){var a=r.value;i.push(a),o+=a.length+1,32==i.length&&(t.push(new n(i,o)),i=[],o=-1)}}catch(l){s.e(l)}finally{s.f()}return o>-1&&t.push(new n(i,o)),t}}]),n}(xg),Ng=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e,r){var i;(0,z.Z)(this,n),(i=t.call(this)).children=e,i.length=r,i.lines=0;var o,s=(0,X.Z)(e);try{for(s.s();!(o=s.n()).done;){var a=o.value;i.lines+=a.lines}}catch(l){s.e(l)}finally{s.f()}return i}return(0,Y.Z)(n,[{key:"lineInner",value:function(e,t,n,r){for(var i=0;;i++){var o=this.children[i],s=r+o.length,a=n+o.lines-1;if((t?a:s)>=e)return o.lineInner(e,t,n,r);r=s+1,n=a+1}}},{key:"decompose",value:function(e,t,n,r){for(var i=0,o=0;o<=t&&i<this.children.length;i++){var s=this.children[i],a=o+s.length;if(e<=a&&t>=o){var l=r&((o<=e?1:0)|(a>=t?2:0));o>=e&&a<=t&&!l?n.push(s):s.decompose(e-o,t-o,n,l)}o=a+1}}},{key:"replace",value:function(e,t,r){if(r.lines<this.lines)for(var i=0,o=0;i<this.children.length;i++){var s=this.children[i],a=o+s.length;if(e>=o&&t<=a){var l=s.replace(e-o,t-o,r),c=this.lines-s.lines+l.lines;if(l.lines<c>>4&&l.lines>c>>6){var u=this.children.slice();return u[i]=l,new n(u,this.length-(t-e)+r.length)}return Nt((0,J.Z)(n.prototype),"replace",this).call(this,o,a,l)}o=a+1}return Nt((0,J.Z)(n.prototype),"replace",this).call(this,e,t,r)}},{key:"sliceString",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\n",r="",i=0,o=0;i<this.children.length&&o<=t;i++){var s=this.children[i],a=o+s.length;o>e&&i&&(r+=n),e<a&&t>o&&(r+=s.sliceString(e-o,t-o,n)),o=a+1}return r}},{key:"flatten",value:function(e){var t,n=(0,X.Z)(this.children);try{for(n.s();!(t=n.n()).done;){t.value.flatten(e)}}catch(r){n.e(r)}finally{n.f()}}},{key:"scanIdentical",value:function(e,t){if(!(e instanceof n))return 0;for(var r=0,i=a(t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1],4),o=i[0],s=i[1],l=i[2],c=i[3];;o+=t,s+=t){if(o==l||s==c)return r;var u=this.children[o],h=e.children[s];if(u!=h)return r+u.scanIdentical(h,t);r+=u.length+1}}}],[{key:"from",value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.reduce((function(e,t){return e+t.length+1}),-1),i=0,o=(0,X.Z)(e);try{for(o.s();!(t=o.n()).done;){i+=t.value.lines}}catch(T){o.e(T)}finally{o.f()}if(i<32){var s,a=[],l=(0,X.Z)(e);try{for(l.s();!(s=l.n()).done;){s.value.flatten(a)}}catch(T){l.e(T)}finally{l.f()}return new Ag(a,r)}var c=Math.max(32,i>>5),u=c<<1,h=c>>1,p=[],f=0,d=-1,g=[];function _(e){var t;if(e.lines>u&&e instanceof n){var r,i=(0,X.Z)(e.children);try{for(i.s();!(r=i.n()).done;){_(r.value)}}catch(T){i.e(T)}finally{i.f()}}else e.lines>h&&(f>h||!f)?(v(),p.push(e)):e instanceof Ag&&f&&(t=g[g.length-1])instanceof Ag&&e.lines+t.lines<=32?(f+=e.lines,d+=e.length+1,g[g.length-1]=new Ag(t.text.concat(e.text),t.length+1+e.length)):(f+e.lines>c&&v(),f+=e.lines,d+=e.length+1,g.push(e))}function v(){0!=f&&(p.push(1==g.length?g[0]:n.from(g,d)),d=-1,f=g.length=0)}var m,y=(0,X.Z)(e);try{for(y.s();!(m=y.n()).done;){_(m.value)}}catch(T){y.e(T)}finally{y.f()}return v(),1==p.length?p[0]:new n(p,r)}}]),n}(xg);function Lg(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e9,i=0,o=0,s=!0;o<e.length&&i<=r;o++){var a=e[o],l=i+a.length;l>=n&&(l>r&&(a=a.slice(0,r-i)),i<n&&(a=a.slice(n-i)),s?(t[t.length-1]+=a,s=!1):t.push(a)),i=l+1}return t}function Mg(e,t,n){return Lg(e,[""],t,n)}xg.empty=new Ag([""],0);var Dg=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;(0,z.Z)(this,e),this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[t],this.offsets=[n>0?1:(t instanceof Ag?t.text.length:t.children.length)<<1]}return(0,Y.Z)(e,[{key:"nextInner",value:function(e,t){for(this.done=this.lineBreak=!1;;){var n=this.nodes.length-1,r=this.nodes[n],i=this.offsets[n],o=i>>1,s=r instanceof Ag?r.text.length:r.children.length;if(o==(t>0?s:0)){if(0==n)return this.done=!0,this.value="",this;t>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&i)==(t>0?0:1)){if(this.offsets[n]+=t,0==e)return this.lineBreak=!0,this.value="\n",this;e--}else if(r instanceof Ag){var a=r.text[o+(t<0?-1:0)];if(this.offsets[n]+=t,a.length>Math.max(0,e))return this.value=0==e?a:t>0?a.slice(e):a.slice(0,a.length-e),this;e-=a.length}else{var l=r.children[o+(t<0?-1:0)];e>l.length?(e-=l.length,this.offsets[n]+=t):(t<0&&this.offsets[n]--,this.nodes.push(l),this.offsets.push(t>0?1:(l instanceof Ag?l.text.length:l.children.length)<<1))}}}},{key:"next",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}]),e}(),Pg=function(){function e(t,n,r){(0,z.Z)(this,e),this.value="",this.done=!1,this.cursor=new Dg(t,n>r?-1:1),this.pos=n>r?t.length:0,this.from=Math.min(n,r),this.to=Math.max(n,r)}return(0,Y.Z)(e,[{key:"nextInner",value:function(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);var n=t<0?this.pos-this.from:this.to-this.pos;e>n&&(e=n),n-=e;var r=this.cursor.next(e).value;return this.pos+=(r.length+e)*t,this.value=r.length<=n?r:t<0?r.slice(r.length-n):r.slice(0,n),this.done=!this.value,this}},{key:"next",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}},{key:"lineBreak",get:function(){return this.cursor.lineBreak&&""!=this.value}}]),e}(),Bg=function(){function e(t){(0,z.Z)(this,e),this.inner=t,this.afterBreak=!0,this.value="",this.done=!1}return(0,Y.Z)(e,[{key:"next",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.inner.next(e),n=t.done,r=t.lineBreak,i=t.value;return n?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}},{key:"lineBreak",get:function(){return!1}}]),e}();"undefined"!=typeof Symbol&&(xg.prototype[Symbol.iterator]=function(){return this.iter()},Dg.prototype[Symbol.iterator]=Pg.prototype[Symbol.iterator]=Bg.prototype[Symbol.iterator]=function(){return this});for(var Fg=function(){function e(t,n,r,i){(0,z.Z)(this,e),this.from=t,this.to=n,this.number=r,this.text=i}return(0,Y.Z)(e,[{key:"length",get:function(){return this.to-this.from}}]),e}(),Ug="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map((function(e){return e?parseInt(e,36):1})),Zg=1;Zg<Ug.length;Zg++)Ug[Zg]+=Ug[Zg-1];function Gg(e){for(var t=1;t<Ug.length;t+=2)if(Ug[t]>e)return Ug[t-1]<=e;return!1}function Hg(e){return e>=127462&&e<=127487}var Vg=8205;function jg(e,t){return(!(arguments.length>2&&void 0!==arguments[2])||arguments[2]?Wg:Xg)(e,t,!(arguments.length>3&&void 0!==arguments[3])||arguments[3])}function Wg(e,t,n){if(t==e.length)return t;t&&zg(e.charCodeAt(t))&&Yg(e.charCodeAt(t-1))&&t--;var r=qg(e,t);for(t+=Qg(r);t<e.length;){var i=qg(e,t);if(r==Vg||i==Vg||n&&Gg(i))t+=Qg(i),r=i;else{if(!Hg(i))break;for(var o=0,s=t-2;s>=0&&Hg(qg(e,s));)o++,s-=2;if(o%2==0)break;t+=2}}return t}function Xg(e,t,n){for(;t>0;){var r=Wg(e,t-2,n);if(r<t)return r;t--}return 0}function zg(e){return e>=56320&&e<57344}function Yg(e){return e>=55296&&e<56320}function qg(e,t){var n=e.charCodeAt(t);if(!Yg(n)||t+1==e.length)return n;var r=e.charCodeAt(t+1);return zg(r)?r-56320+(n-55296<<10)+65536:n}function Kg(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}function Qg(e){return e<65536?1:2}var Jg=/\r\n?|\n/,$g=function(e){return e[e.Simple=0]="Simple",e[e.TrackDel=1]="TrackDel",e[e.TrackBefore=2]="TrackBefore",e[e.TrackAfter=3]="TrackAfter",e}($g||($g={})),e_=function(){function e(t){(0,z.Z)(this,e),this.sections=t}return(0,Y.Z)(e,[{key:"length",get:function(){for(var e=0,t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}},{key:"newLength",get:function(){for(var e=0,t=0;t<this.sections.length;t+=2){var n=this.sections[t+1];e+=n<0?this.sections[t]:n}return e}},{key:"empty",get:function(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}},{key:"iterGaps",value:function(e){for(var t=0,n=0,r=0;t<this.sections.length;){var i=this.sections[t++],o=this.sections[t++];o<0?(e(n,r,i),r+=i):r+=o,n+=i}}},{key:"iterChangedRanges",value:function(e){i_(this,e,arguments.length>1&&void 0!==arguments[1]&&arguments[1])}},{key:"invertedDesc",get:function(){for(var t=[],n=0;n<this.sections.length;){var r=this.sections[n++],i=this.sections[n++];i<0?t.push(r,i):t.push(i,r)}return new e(t)}},{key:"composeDesc",value:function(e){return this.empty?e:e.empty?this:s_(this,e)}},{key:"mapDesc",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.empty?this:o_(this,e,t)}},{key:"mapPos",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$g.Simple,r=0,i=0,o=0;o<this.sections.length;){var s=this.sections[o++],a=this.sections[o++],l=r+s;if(a<0){if(l>e)return i+(e-r);i+=s}else{if(n!=$g.Simple&&l>=e&&(n==$g.TrackDel&&r<e&&l>e||n==$g.TrackBefore&&r<e||n==$g.TrackAfter&&l>e))return null;if(l>e||l==e&&t<0&&!s)return e==r||t<0?i:i+a;i+=a}r=l}if(e>r)throw new RangeError("Position ".concat(e," is out of range for changeset of length ").concat(r));return i}},{key:"touchesRange",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=0,r=0;n<this.sections.length&&r<=t;){var i=r+this.sections[n++];if(this.sections[n++]>=0&&r<=t&&i>=e)return!(r<e&&i>t)||"cover";r=i}return!1}},{key:"toString",value:function(){for(var e="",t=0;t<this.sections.length;){var n=this.sections[t++],r=this.sections[t++];e+=(e?" ":"")+n+(r>=0?":"+r:"")}return e}},{key:"toJSON",value:function(){return this.sections}}],[{key:"fromJSON",value:function(t){if(!Array.isArray(t)||t.length%2||t.some((function(e){return"number"!=typeof e})))throw new RangeError("Invalid JSON representation of ChangeDesc");return new e(t)}},{key:"create",value:function(t){return new e(t)}}]),e}(),t_=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e,r){var i;return(0,z.Z)(this,n),(i=t.call(this,e)).inserted=r,i}return(0,Y.Z)(n,[{key:"apply",value:function(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return i_(this,(function(t,n,r,i,o){return e=e.replace(r,r+(n-t),o)}),!1),e}},{key:"mapDesc",value:function(e){return o_(this,e,arguments.length>1&&void 0!==arguments[1]&&arguments[1],!0)}},{key:"invert",value:function(e){for(var t=this.sections.slice(),r=[],i=0,o=0;i<t.length;i+=2){var s=t[i],a=t[i+1];if(a>=0){t[i]=a,t[i+1]=s;for(var l=i>>1;r.length<l;)r.push(xg.empty);r.push(s?e.slice(o,o+s):xg.empty)}o+=s}return new n(t,r)}},{key:"compose",value:function(e){return this.empty?e:e.empty?this:s_(this,e,!0)}},{key:"map",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.empty?this:o_(this,e,t,!0)}},{key:"iterChanges",value:function(e){i_(this,e,arguments.length>1&&void 0!==arguments[1]&&arguments[1])}},{key:"desc",get:function(){return e_.create(this.sections)}},{key:"filter",value:function(e){var t=[],r=[],i=[],o=new a_(this);e:for(var s=0,a=0;;){for(var l=s==e.length?1e9:e[s++];a<l||a==l&&0==o.len;){if(o.done)break e;var c=Math.min(o.len,l-a);n_(i,c,-1);var u=-1==o.ins?-1:0==o.off?o.ins:0;n_(t,c,u),u>0&&r_(r,t,o.text),o.forward(c),a+=c}for(var h=e[s++];a<h;){if(o.done)break e;var p=Math.min(o.len,h-a);n_(t,p,-1),n_(i,p,-1==o.ins?-1:0==o.off?o.ins:0),o.forward(p),a+=p}}return{changes:new n(t,r),filtered:e_.create(i)}}},{key:"toJSON",value:function(){for(var e=[],t=0;t<this.sections.length;t+=2){var n=this.sections[t],r=this.sections[t+1];r<0?e.push(n):0==r?e.push([n]):e.push([n].concat(this.inserted[t>>1].toJSON()))}return e}}],[{key:"of",value:function(e,t,r){var i=[],o=[],s=0,a=null;function l(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]||i.length){s<t&&n_(i,t-s,-1);var e=new n(i,o);a=a?a.compose(e.map(a)):e,i=[],o=[],s=0}}return function e(c){if(Array.isArray(c)){var u,h=(0,X.Z)(c);try{for(h.s();!(u=h.n()).done;){e(u.value)}}catch(m){h.e(m)}finally{h.f()}}else if(c instanceof n){if(c.length!=t)throw new RangeError("Mismatched change set length (got ".concat(c.length,", expected ").concat(t,")"));l(),a=a?a.compose(c.map(a)):c}else{var p=c.from,f=c.to,d=void 0===f?p:f,g=c.insert;if(p>d||p<0||d>t)throw new RangeError("Invalid change range ".concat(p," to ").concat(d," (in doc of length ").concat(t,")"));var _=g?"string"==typeof g?xg.of(g.split(r||Jg)):g:xg.empty,v=_.length;if(p==d&&0==v)return;p<s&&l(),p>s&&n_(i,p-s,-1),n_(i,d-p,v),r_(o,i,_),s=d}}(e),l(!a),a}},{key:"empty",value:function(e){return new n(e?[e,-1]:[],[])}},{key:"fromJSON",value:function(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");for(var t=[],r=[],i=0;i<e.length;i++){var o=e[i];if("number"==typeof o)t.push(o,-1);else{if(!Array.isArray(o)||"number"!=typeof o[0]||o.some((function(e,t){return t&&"string"!=typeof e})))throw new RangeError("Invalid JSON representation of ChangeSet");if(1==o.length)t.push(o[0],0);else{for(;r.length<i;)r.push(xg.empty);r[i]=xg.of(o.slice(1)),t.push(o[0],r[i].length)}}}return new n(t,r)}},{key:"createSet",value:function(e,t){return new n(e,t)}}]),n}(e_);function n_(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!(0==t&&n<=0)){var i=e.length-2;i>=0&&n<=0&&n==e[i+1]?e[i]+=t:0==t&&0==e[i]?e[i+1]+=n:r?(e[i]+=t,e[i+1]+=n):e.push(t,n)}}function r_(e,t,n){if(0!=n.length){var r=t.length-2>>1;if(r<e.length)e[e.length-1]=e[e.length-1].append(n);else{for(;e.length<r;)e.push(xg.empty);e.push(n)}}}function i_(e,t,n){for(var r=e.inserted,i=0,o=0,s=0;s<e.sections.length;){var a=e.sections[s++],l=e.sections[s++];if(l<0)i+=a,o+=a;else{for(var c=i,u=o,h=xg.empty;c+=a,u+=l,l&&r&&(h=h.append(r[s-2>>1])),!(n||s==e.sections.length||e.sections[s+1]<0);)a=e.sections[s++],l=e.sections[s++];t(i,c,o,u,h),i=c,o=u}}}function o_(e,t,n){for(var r=[],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3]?[]:null,o=new a_(e),s=new a_(t),a=-1;;)if(-1==o.ins&&-1==s.ins){var l=Math.min(o.len,s.len);n_(r,l,-1),o.forward(l),s.forward(l)}else if(s.ins>=0&&(o.ins<0||a==o.i||0==o.off&&(s.len<o.len||s.len==o.len&&!n))){var c=s.len;for(n_(r,s.ins,-1);c;){var u=Math.min(o.len,c);o.ins>=0&&a<o.i&&o.len<=u&&(n_(r,0,o.ins),i&&r_(i,r,o.text),a=o.i),o.forward(u),c-=u}s.next()}else{if(!(o.ins>=0)){if(o.done&&s.done)return i?t_.createSet(r,i):e_.create(r);throw new Error("Mismatched change set lengths")}for(var h=0,p=o.len;p;)if(-1==s.ins){var f=Math.min(p,s.len);h+=f,p-=f,s.forward(f)}else{if(!(0==s.ins&&s.len<p))break;p-=s.len,s.next()}n_(r,h,a<o.i?o.ins:0),i&&a<o.i&&r_(i,r,o.text),a=o.i,o.forward(o.len-p)}}function s_(e,t){for(var n=[],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?[]:null,i=new a_(e),o=new a_(t),s=!1;;){if(i.done&&o.done)return r?t_.createSet(n,r):e_.create(n);if(0==i.ins)n_(n,i.len,0,s),i.next();else if(0!=o.len||o.done){if(i.done||o.done)throw new Error("Mismatched change set lengths");var a=Math.min(i.len2,o.len),l=n.length;if(-1==i.ins){var c=-1==o.ins?-1:o.off?0:o.ins;n_(n,a,c,s),r&&c&&r_(r,n,o.text)}else-1==o.ins?(n_(n,i.off?0:i.len,a,s),r&&r_(r,n,i.textBit(a))):(n_(n,i.off?0:i.len,o.off?0:o.ins,s),r&&!o.off&&r_(r,n,o.text));s=(i.ins>a||o.ins>=0&&o.len>a)&&(s||n.length>l),i.forward2(a),o.forward(a)}else n_(n,0,o.ins,s),r&&r_(r,n,o.text),o.next()}}var a_=function(){function e(t){(0,z.Z)(this,e),this.set=t,this.i=0,this.next()}return(0,Y.Z)(e,[{key:"next",value:function(){var e=this.set.sections;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}},{key:"done",get:function(){return-2==this.ins}},{key:"len2",get:function(){return this.ins<0?this.len:this.ins}},{key:"text",get:function(){var e=this.set.inserted,t=this.i-2>>1;return t>=e.length?xg.empty:e[t]}},{key:"textBit",value:function(e){var t=this.set.inserted,n=this.i-2>>1;return n>=t.length&&!e?xg.empty:t[n].slice(this.off,null==e?void 0:this.off+e)}},{key:"forward",value:function(e){e==this.len?this.next():(this.len-=e,this.off+=e)}},{key:"forward2",value:function(e){-1==this.ins?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}]),e}(),l_=function(){function e(t,n,r){(0,z.Z)(this,e),this.from=t,this.to=n,this.flags=r}return(0,Y.Z)(e,[{key:"anchor",get:function(){return 32&this.flags?this.to:this.from}},{key:"head",get:function(){return 32&this.flags?this.from:this.to}},{key:"empty",get:function(){return this.from==this.to}},{key:"assoc",get:function(){return 8&this.flags?-1:16&this.flags?1:0}},{key:"bidiLevel",get:function(){var e=7&this.flags;return 7==e?null:e}},{key:"goalColumn",get:function(){var e=this.flags>>6;return 16777215==e?void 0:e}},{key:"map",value:function(t){var n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return this.empty?n=r=t.mapPos(this.from,i):(n=t.mapPos(this.from,1),r=t.mapPos(this.to,-1)),n==this.from&&r==this.to?this:new e(n,r,this.flags)}},{key:"extend",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(e<=this.anchor&&t>=this.anchor)return c_.range(e,t);var n=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return c_.range(this.anchor,n)}},{key:"eq",value:function(e){return this.anchor==e.anchor&&this.head==e.head}},{key:"toJSON",value:function(){return{anchor:this.anchor,head:this.head}}}],[{key:"fromJSON",value:function(e){if(!e||"number"!=typeof e.anchor||"number"!=typeof e.head)throw new RangeError("Invalid JSON representation for SelectionRange");return c_.range(e.anchor,e.head)}},{key:"create",value:function(t,n,r){return new e(t,n,r)}}]),e}(),c_=function(){function e(t,n){(0,z.Z)(this,e),this.ranges=t,this.mainIndex=n}return(0,Y.Z)(e,[{key:"map",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return t.empty?this:e.create(this.ranges.map((function(e){return e.map(t,n)})),this.mainIndex)}},{key:"eq",value:function(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(var t=0;t<this.ranges.length;t++)if(!this.ranges[t].eq(e.ranges[t]))return!1;return!0}},{key:"main",get:function(){return this.ranges[this.mainIndex]}},{key:"asSingle",value:function(){return 1==this.ranges.length?this:new e([this.main],0)}},{key:"addRange",value:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.create([t].concat(this.ranges),n?0:this.mainIndex+1)}},{key:"replaceRange",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.mainIndex,r=this.ranges.slice();return r[n]=t,e.create(r,this.mainIndex)}},{key:"toJSON",value:function(){return{ranges:this.ranges.map((function(e){return e.toJSON()})),main:this.mainIndex}}}],[{key:"fromJSON",value:function(t){if(!t||!Array.isArray(t.ranges)||"number"!=typeof t.main||t.main>=t.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new e(t.ranges.map((function(e){return l_.fromJSON(e)})),t.main)}},{key:"single",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return new e([e.range(t,n)],0)}},{key:"create",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0==t.length)throw new RangeError("A selection needs at least one range");for(var r=0,i=0;i<t.length;i++){var o=t[i];if(o.empty?o.from<=r:o.from<r)return e.normalized(t.slice(),n);r=o.to}return new e(t,n)}},{key:"cursor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return l_.create(e,e,(0==t?0:t<0?8:16)|(null==n?7:Math.min(6,n))|(null!==r&&void 0!==r?r:16777215)<<6)}},{key:"range",value:function(e,t,n,r){var i=(null!==n&&void 0!==n?n:16777215)<<6|(null==r?7:Math.min(6,r));return t<e?l_.create(t,e,48|i):l_.create(e,t,(t>e?8:0)|i)}},{key:"normalized",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=t[n];t.sort((function(e,t){return e.from-t.from})),n=t.indexOf(r);for(var i=1;i<t.length;i++){var o=t[i],s=t[i-1];if(o.empty?o.from<=s.to:o.from<s.to){var a=s.from,l=Math.max(o.to,s.to);i<=n&&n--,t.splice(--i,2,o.anchor>o.head?e.range(l,a):e.range(a,l))}}return new e(t,n)}}]),e}();function u_(e,t){var n,r=(0,X.Z)(e.ranges);try{for(r.s();!(n=r.n()).done;){if(n.value.to>t)throw new RangeError("Selection points outside of document")}}catch(i){r.e(i)}finally{r.f()}}var h_=0,p_=function(){function e(t,n,r,i,o){(0,z.Z)(this,e),this.combine=t,this.compareInput=n,this.compare=r,this.isStatic=i,this.id=h_++,this.default=t([]),this.extensions="function"==typeof o?o(this):o}return(0,Y.Z)(e,[{key:"reader",get:function(){return this}},{key:"of",value:function(e){return new d_([],this,0,e)}},{key:"compute",value:function(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new d_(e,this,1,t)}},{key:"computeN",value:function(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new d_(e,this,2,t)}},{key:"from",value:function(e,t){return t||(t=function(e){return e}),this.compute([e],(function(n){return t(n.field(e))}))}}],[{key:"define",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new e(t.combine||function(e){return e},t.compareInput||function(e,t){return e===t},t.compare||(t.combine?function(e,t){return e===t}:f_),!!t.static,t.enables)}}]),e}();function f_(e,t){return e==t||e.length==t.length&&e.every((function(e,n){return e===t[n]}))}var d_=function(){function e(t,n,r,i){(0,z.Z)(this,e),this.dependencies=t,this.facet=n,this.type=r,this.value=i,this.id=h_++}return(0,Y.Z)(e,[{key:"dynamicSlot",value:function(e){var t,n,r=this,i=this.value,o=this.facet.compareInput,s=this.id,a=e[s]>>1,l=2==this.type,c=!1,u=!1,h=[],p=(0,X.Z)(this.dependencies);try{for(p.s();!(n=p.n()).done;){var f=n.value;"doc"==f?c=!0:"selection"==f?u=!0:0==(1&(null!==(t=e[f.id])&&void 0!==t?t:1))&&h.push(e[f.id])}}catch(d){p.e(d)}finally{p.f()}return{create:function(e){return e.values[a]=i(e),1},update:function(e,t){if(c&&t.docChanged||u&&(t.docChanged||t.selection)||__(e,h)){var n=i(e);if(l?!g_(n,e.values[a],o):!o(n,e.values[a]))return e.values[a]=n,1}return 0},reconfigure:function(e,t){var n,c=t.config.address[s];if(null!=c){var u=x_(t,c);if(r.dependencies.every((function(n){return n instanceof p_?t.facet(n)===e.facet(n):!(n instanceof m_)||t.field(n,!1)==e.field(n,!1)}))||(l?g_(n=i(e),u,o):o(n=i(e),u)))return e.values[a]=u,0}else n=i(e);return e.values[a]=n,1}}}}]),e}();function g_(e,t,n){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}function __(e,t){var n,r=!1,i=(0,X.Z)(t);try{for(i.s();!(n=i.n()).done;){1&I_(e,n.value)&&(r=!0)}}catch(o){i.e(o)}finally{i.f()}return r}var v_=p_.define({static:!0}),m_=function(){function e(t,n,r,i,o){(0,z.Z)(this,e),this.id=t,this.createF=n,this.updateF=r,this.compareF=i,this.spec=o,this.provides=void 0}return(0,Y.Z)(e,[{key:"create",value:function(e){var t=this,n=e.facet(v_).find((function(e){return e.field==t}));return((null===n||void 0===n?void 0:n.create)||this.createF)(e)}},{key:"slot",value:function(e){var t=this,n=e[this.id]>>1;return{create:function(e){return e.values[n]=t.create(e),1},update:function(e,r){var i=e.values[n],o=t.updateF(i,r);return t.compareF(i,o)?0:(e.values[n]=o,1)},reconfigure:function(e,r){return null!=r.config.address[t.id]?(e.values[n]=r.field(t),0):(e.values[n]=t.create(e),1)}}}},{key:"init",value:function(e){return[this,v_.of({field:this,create:e})]}},{key:"extension",get:function(){return this}}],[{key:"define",value:function(t){var n=new e(h_++,t.create,t.update,t.compare||function(e,t){return e===t},t);return t.provide&&(n.provides=t.provide(n)),n}}]),e}(),y_=4,T_=3,E_=2,b_=1;function O_(e){return function(t){return new k_(t,e)}}var S_={highest:O_(0),high:O_(b_),default:O_(E_),low:O_(T_),lowest:O_(y_)},k_=(0,Y.Z)((function e(t,n){(0,z.Z)(this,e),this.inner=t,this.prec=n})),w_=function(){function e(){(0,z.Z)(this,e)}return(0,Y.Z)(e,[{key:"of",value:function(e){return new R_(this,e)}},{key:"reconfigure",value:function(t){return e.reconfigure.of({compartment:this,extension:t})}},{key:"get",value:function(e){return e.config.compartments.get(this)}}]),e}(),R_=(0,Y.Z)((function e(t,n){(0,z.Z)(this,e),this.compartment=t,this.inner=n})),C_=function(){function e(t,n,r,i,o,s){for((0,z.Z)(this,e),this.base=t,this.compartments=n,this.dynamicSlots=r,this.address=i,this.staticValues=o,this.facets=s,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}return(0,Y.Z)(e,[{key:"staticFacet",value:function(e){var t=this.address[e.id];return null==t?e.default:this.staticValues[t>>1]}}],[{key:"resolve",value:function(t,n,r){var i,o=[],s=Object.create(null),a=new Map,l=(0,X.Z)(function(e,t,n){var r=[[],[],[],[],[]],i=new Map;function o(e,s){var a=i.get(e);if(null!=a){if(a<=s)return;var l=r[a].indexOf(e);l>-1&&r[a].splice(l,1),e instanceof R_&&n.delete(e.compartment)}if(i.set(e,s),Array.isArray(e)){var c,u=(0,X.Z)(e);try{for(u.s();!(c=u.n()).done;){o(c.value,s)}}catch(f){u.e(f)}finally{u.f()}}else if(e instanceof R_){if(n.has(e.compartment))throw new RangeError("Duplicate use of compartment in extensions");var h=t.get(e.compartment)||e.inner;n.set(e.compartment,h),o(h,s)}else if(e instanceof k_)o(e.inner,e.prec);else if(e instanceof m_)r[s].push(e),e.provides&&o(e.provides,s);else if(e instanceof d_)r[s].push(e),e.facet.extensions&&o(e.facet.extensions,E_);else{var p=e.extension;if(!p)throw new Error("Unrecognized extension value in extension set (".concat(e,"). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks."));o(p,s)}}return o(e,E_),r.reduce((function(e,t){return e.concat(t)}))}(t,n,a));try{for(l.s();!(i=l.n()).done;){var c=i.value;c instanceof m_?o.push(c):(s[c.facet.id]||(s[c.facet.id]=[])).push(c)}}catch(T){l.e(T)}finally{l.f()}for(var u=Object.create(null),h=[],p=[],f=function(){var e=g[d];u[e.id]=p.length<<1,p.push((function(t){return e.slot(t)}))},d=0,g=o;d<g.length;d++)f();var _=null===r||void 0===r?void 0:r.config.facets,v=function(){var e=s[m],t=e[0].facet,n=_&&_[m]||[];if(e.every((function(e){return 0==e.type})))if(u[t.id]=h.length<<1|1,f_(n,e))h.push(r.facet(t));else{var i=t.combine(e.map((function(e){return e.value})));h.push(r&&t.compare(i,r.facet(t))?r.facet(t):i)}else{var o,a=(0,X.Z)(e);try{var l=function(){var e=o.value;0==e.type?(u[e.id]=h.length<<1|1,h.push(e.value)):(u[e.id]=p.length<<1,p.push((function(t){return e.dynamicSlot(t)})))};for(a.s();!(o=a.n()).done;)l()}catch(T){a.e(T)}finally{a.f()}u[t.id]=p.length<<1,p.push((function(n){return function(e,t,n){var r=n.map((function(t){return e[t.id]})),i=n.map((function(e){return e.type})),o=r.filter((function(e){return!(1&e)})),s=e[t.id]>>1;function a(e){for(var n=[],o=0;o<r.length;o++){var s=x_(e,r[o]);if(2==i[o]){var a,l=(0,X.Z)(s);try{for(l.s();!(a=l.n()).done;){var c=a.value;n.push(c)}}catch(T){l.e(T)}finally{l.f()}}else n.push(s)}return t.combine(n)}return{create:function(e){var t,n=(0,X.Z)(r);try{for(n.s();!(t=n.n()).done;)I_(e,t.value)}catch(T){n.e(T)}finally{n.f()}return e.values[s]=a(e),1},update:function(e,n){if(!__(e,o))return 0;var r=a(e);return t.compare(r,e.values[s])?0:(e.values[s]=r,1)},reconfigure:function(e,i){var o=__(e,r),l=i.config.facets[t.id],c=i.facet(t);if(l&&!o&&f_(n,l))return e.values[s]=c,0;var u=a(e);return t.compare(u,c)?(e.values[s]=c,0):(e.values[s]=u,1)}}}(n,t,e)}))}};for(var m in s)v();var y=p.map((function(e){return e(u)}));return new e(t,a,y,u,h,s)}}]),e}();function I_(e,t){if(1&t)return 2;var n=t>>1,r=e.status[n];if(4==r)throw new Error("Cyclic dependency between fields and/or facets");if(2&r)return r;e.status[n]=4;var i=e.computeSlot(e,e.config.dynamicSlots[n]);return e.status[n]=2|i}function x_(e,t){return 1&t?e.config.staticValues[t>>1]:e.values[t>>1]}var A_=p_.define(),N_=p_.define({combine:function(e){return e.some((function(e){return e}))},static:!0}),L_=p_.define({combine:function(e){return e.length?e[0]:void 0},static:!0}),M_=p_.define(),D_=p_.define(),P_=p_.define(),B_=p_.define({combine:function(e){return!!e.length&&e[0]}}),F_=function(){function e(t,n){(0,z.Z)(this,e),this.type=t,this.value=n}return(0,Y.Z)(e,null,[{key:"define",value:function(){return new U_}}]),e}(),U_=function(){function e(){(0,z.Z)(this,e)}return(0,Y.Z)(e,[{key:"of",value:function(e){return new F_(this,e)}}]),e}(),Z_=function(){function e(t){(0,z.Z)(this,e),this.map=t}return(0,Y.Z)(e,[{key:"of",value:function(e){return new G_(this,e)}}]),e}(),G_=function(){function e(t,n){(0,z.Z)(this,e),this.type=t,this.value=n}return(0,Y.Z)(e,[{key:"map",value:function(t){var n=this.type.map(this.value,t);return void 0===n?void 0:n==this.value?this:new e(this.type,n)}},{key:"is",value:function(e){return this.type==e}}],[{key:"define",value:function(){return new Z_((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).map||function(e){return e})}},{key:"mapEffects",value:function(e,t){if(!e.length)return e;var n,r=[],i=(0,X.Z)(e);try{for(i.s();!(n=i.n()).done;){var o=n.value.map(t);o&&r.push(o)}}catch(s){i.e(s)}finally{i.f()}return r}}]),e}();G_.reconfigure=G_.define(),G_.appendConfig=G_.define();var H_=function(){function e(t,n,r,i,o,s){(0,z.Z)(this,e),this.startState=t,this.changes=n,this.selection=r,this.effects=i,this.annotations=o,this.scrollIntoView=s,this._doc=null,this._state=null,r&&u_(r,n.newLength),o.some((function(t){return t.type==e.time}))||(this.annotations=o.concat(e.time.of(Date.now())))}return(0,Y.Z)(e,[{key:"newDoc",get:function(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}},{key:"newSelection",get:function(){return this.selection||this.startState.selection.map(this.changes)}},{key:"state",get:function(){return this._state||this.startState.applyTransaction(this),this._state}},{key:"annotation",value:function(e){var t,n=(0,X.Z)(this.annotations);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.type==e)return r.value}}catch(i){n.e(i)}finally{n.f()}}},{key:"docChanged",get:function(){return!this.changes.empty}},{key:"reconfigured",get:function(){return this.startState.config!=this.state.config}},{key:"isUserEvent",value:function(t){var n=this.annotation(e.userEvent);return!(!n||!(n==t||n.length>t.length&&n.slice(0,t.length)==t&&"."==n[t.length]))}}],[{key:"create",value:function(t,n,r,i,o,s){return new e(t,n,r,i,o,s)}}]),e}();function V_(e,t){for(var n=[],r=0,i=0;;){var o=void 0,s=void 0;if(r<e.length&&(i==t.length||t[i]>=e[r]))o=e[r++],s=e[r++];else{if(!(i<t.length))return n;o=t[i++],s=t[i++]}!n.length||n[n.length-1]<o?n.push(o,s):n[n.length-1]<s&&(n[n.length-1]=s)}}function j_(e,t,n){var r,i,o,s;return n?(i=t.changes,o=t_.empty(t.changes.length),s=e.changes.compose(t.changes)):(i=t.changes.map(e.changes),o=e.changes.mapDesc(t.changes,!0),s=e.changes.compose(i)),{changes:s,selection:t.selection?t.selection.map(o):null===(r=e.selection)||void 0===r?void 0:r.map(i),effects:G_.mapEffects(e.effects,i).concat(G_.mapEffects(t.effects,o)),annotations:e.annotations.length?e.annotations.concat(t.annotations):t.annotations,scrollIntoView:e.scrollIntoView||t.scrollIntoView}}function W_(e,t,n){var r=t.selection,i=Y_(t.annotations);return t.userEvent&&(i=i.concat(H_.userEvent.of(t.userEvent))),{changes:t.changes instanceof t_?t.changes:t_.of(t.changes||[],n,e.facet(L_)),selection:r&&(r instanceof c_?r:c_.single(r.anchor,r.head)),effects:Y_(t.effects),annotations:i,scrollIntoView:!!t.scrollIntoView}}function X_(e,t,n){var r=W_(e,t.length?t[0]:{},e.doc.length);t.length&&!1===t[0].filter&&(n=!1);for(var i=1;i<t.length;i++){!1===t[i].filter&&(n=!1);var o=!!t[i].sequential;r=j_(r,W_(e,t[i],o?r.changes.newLength:e.doc.length),o)}var s=H_.create(e,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return function(e){for(var t=e.startState,n=t.facet(P_),r=e,i=n.length-1;i>=0;i--){var o=n[i](e);o&&Object.keys(o).length&&(r=j_(r,W_(t,o,e.changes.newLength),!0))}return r==e?e:H_.create(t,e.changes,e.selection,r.effects,r.annotations,r.scrollIntoView)}(n?function(e){var t,n=e.startState,r=!0,i=(0,X.Z)(n.facet(M_));try{for(i.s();!(t=i.n()).done;){var o=(0,t.value)(e);if(!1===o){r=!1;break}Array.isArray(o)&&(r=!0===r?o:V_(r,o))}}catch(p){i.e(p)}finally{i.f()}if(!0!==r){var s,a;if(!1===r)a=e.changes.invertedDesc,s=t_.empty(n.doc.length);else{var l=e.changes.filter(r);s=l.changes,a=l.filtered.mapDesc(l.changes).invertedDesc}e=H_.create(n,s,e.selection&&e.selection.map(a),G_.mapEffects(e.effects,a),e.annotations,e.scrollIntoView)}for(var c=n.facet(D_),u=c.length-1;u>=0;u--){var h=c[u](e);e=h instanceof H_?h:Array.isArray(h)&&1==h.length&&h[0]instanceof H_?h[0]:X_(n,Y_(h),!1)}return e}(s):s)}H_.time=F_.define(),H_.userEvent=F_.define(),H_.addToHistory=F_.define(),H_.remote=F_.define();var z_=[];function Y_(e){return null==e?z_:Array.isArray(e)?e:[e]}var q_,K_=function(e){return e[e.Word=0]="Word",e[e.Space=1]="Space",e[e.Other=2]="Other",e}(K_||(K_={})),Q_=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;try{q_=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(xf){}function J_(e){return function(t){if(!/\S/.test(t))return K_.Space;if(function(e){if(q_)return q_.test(e);for(var t=0;t<e.length;t++){var n=e[t];if(/\w/.test(n)||n>"\x80"&&(n.toUpperCase()!=n.toLowerCase()||Q_.test(n)))return!0}return!1}(t))return K_.Word;for(var n=0;n<e.length;n++)if(t.indexOf(e[n])>-1)return K_.Word;return K_.Other}}var $_=function(){function e(t,n,r,i,o,s){(0,z.Z)(this,e),this.config=t,this.doc=n,this.selection=r,this.values=i,this.status=t.statusTemplate.slice(),this.computeSlot=o,s&&(s._state=this);for(var a=0;a<this.config.dynamicSlots.length;a++)I_(this,a<<1);this.computeSlot=null}return(0,Y.Z)(e,[{key:"field",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.config.address[e.id];if(null!=n)return I_(this,n),x_(this,n);if(t)throw new RangeError("Field is not present in this state")}},{key:"update",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return X_(this,t,!0)}},{key:"applyTransaction",value:function(t){var n,r,i=this,o=this.config,s=o,a=s.base,l=s.compartments,c=(0,X.Z)(t.effects);try{for(c.s();!(n=c.n()).done;){var u=n.value;u.is(w_.reconfigure)?(o&&(l=new Map,o.compartments.forEach((function(e,t){return l.set(t,e)})),o=null),l.set(u.value.compartment,u.value.extension)):u.is(G_.reconfigure)?(o=null,a=u.value):u.is(G_.appendConfig)&&(o=null,a=Y_(a).concat(u.value))}}catch(h){c.e(h)}finally{c.f()}o?r=t.startState.values.slice():r=new e(o=C_.resolve(a,l,this),this.doc,this.selection,o.dynamicSlots.map((function(){return null})),(function(e,t){return t.reconfigure(e,i)}),null).values;new e(o,t.newDoc,t.newSelection,r,(function(e,n){return n.update(e,t)}),t)}},{key:"replaceSelection",value:function(e){return"string"==typeof e&&(e=this.toText(e)),this.changeByRange((function(t){return{changes:{from:t.from,to:t.to,insert:e},range:c_.cursor(t.from+e.length)}}))}},{key:"changeByRange",value:function(e){for(var t=this.selection,n=e(t.ranges[0]),r=this.changes(n.changes),i=[n.range],o=Y_(n.effects),s=1;s<t.ranges.length;s++){for(var a=e(t.ranges[s]),l=this.changes(a.changes),c=l.map(r),u=0;u<s;u++)i[u]=i[u].map(c);var h=r.mapDesc(l,!0);i.push(a.range.map(h)),r=r.compose(c),o=G_.mapEffects(o,c).concat(G_.mapEffects(Y_(a.effects),h))}return{changes:r,selection:c_.create(i,t.mainIndex),effects:o}}},{key:"changes",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t instanceof t_?t:t_.of(t,this.doc.length,this.facet(e.lineSeparator))}},{key:"toText",value:function(t){return xg.of(t.split(this.facet(e.lineSeparator)||Jg))}},{key:"sliceDoc",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.doc.length;return this.doc.sliceString(e,t,this.lineBreak)}},{key:"facet",value:function(e){var t=this.config.address[e.id];return null==t?e.default:(I_(this,t),x_(this,t))}},{key:"toJSON",value:function(e){var t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(var n in e){var r=e[n];r instanceof m_&&null!=this.config.address[r.id]&&(t[n]=r.spec.toJSON(this.field(e[n]),this))}return t}},{key:"tabSize",get:function(){return this.facet(e.tabSize)}},{key:"lineBreak",get:function(){return this.facet(e.lineSeparator)||"\n"}},{key:"readOnly",get:function(){return this.facet(B_)}},{key:"phrase",value:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o,s=(0,X.Z)(this.facet(e.phrases));try{for(s.s();!(o=s.n()).done;){var a=o.value;if(Object.prototype.hasOwnProperty.call(a,t)){t=a[t];break}}}catch(l){s.e(l)}finally{s.f()}return r.length&&(t=t.replace(/\$(\$|\d*)/g,(function(e,t){if("$"==t)return"$";var n=+(t||1);return!n||n>r.length?e:r[n-1]}))),t}},{key:"languageDataAt",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,i=[],o=(0,X.Z)(this.facet(A_));try{for(o.s();!(n=o.n()).done;){var s,a=n.value,l=(0,X.Z)(a(this,t,r));try{for(l.s();!(s=l.n()).done;){var c=s.value;Object.prototype.hasOwnProperty.call(c,e)&&i.push(c[e])}}catch(u){l.e(u)}finally{l.f()}}}catch(u){o.e(u)}finally{o.f()}return i}},{key:"charCategorizer",value:function(e){return J_(this.languageDataAt("wordChars",e).join(""))}},{key:"wordAt",value:function(e){for(var t=this.doc.lineAt(e),n=t.text,r=t.from,i=t.length,o=this.charCategorizer(e),s=e-r,a=e-r;s>0;){var l=jg(n,s,!1);if(o(n.slice(l,s))!=K_.Word)break;s=l}for(;a<i;){var c=jg(n,a);if(o(n.slice(a,c))!=K_.Word)break;a=c}return s==a?null:c_.range(s+r,a+r)}}],[{key:"fromJSON",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;if(!t||"string"!=typeof t.doc)throw new RangeError("Invalid JSON representation for EditorState");var i=[];if(r){var o=function(){if(Object.prototype.hasOwnProperty.call(t,s)){var e=r[s],n=t[s];i.push(e.init((function(t){return e.spec.fromJSON(n,t)})))}};for(var s in r)o()}return e.create({doc:t.doc,selection:c_.fromJSON(t.selection),extensions:n.extensions?i.concat([n.extensions]):i})}},{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=C_.resolve(t.extensions||[],new Map),r=t.doc instanceof xg?t.doc:xg.of((t.doc||"").split(n.staticFacet(e.lineSeparator)||Jg)),i=t.selection?t.selection instanceof c_?t.selection:c_.single(t.selection.anchor,t.selection.head):c_.single(0);return u_(i,r.length),n.staticFacet(N_)||(i=i.asSingle()),new e(n,r,i,n.dynamicSlots.map((function(){return null})),(function(e,t){return t.create(e)}),null)}}]),e}();function ev(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={},o=(0,X.Z)(e);try{for(o.s();!(n=o.n()).done;)for(var s=n.value,a=0,l=Object.keys(s);a<l.length;a++){var c=l[a],u=s[c],h=i[c];if(void 0===h)i[c]=u;else if(h===u||void 0===u);else{if(!Object.hasOwnProperty.call(r,c))throw new Error("Config merge conflict for field "+c);i[c]=r[c](h,u)}}}catch(f){o.e(f)}finally{o.f()}for(var p in t)void 0===i[p]&&(i[p]=t[p]);return i}$_.allowMultipleSelections=N_,$_.tabSize=p_.define({combine:function(e){return e.length?e[0]:4}}),$_.lineSeparator=L_,$_.readOnly=B_,$_.phrases=p_.define({compare:function(e,t){var n=Object.keys(e),r=Object.keys(t);return n.length==r.length&&n.every((function(n){return e[n]==t[n]}))}}),$_.languageData=A_,$_.changeFilter=M_,$_.transactionFilter=D_,$_.transactionExtender=P_,w_.reconfigure=G_.define();var tv=function(){function e(){(0,z.Z)(this,e)}return(0,Y.Z)(e,[{key:"eq",value:function(e){return this==e}},{key:"range",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return nv.create(e,t,this)}}]),e}();tv.prototype.startSide=tv.prototype.endSide=0,tv.prototype.point=!1,tv.prototype.mapMode=$g.TrackDel;var nv=function(){function e(t,n,r){(0,z.Z)(this,e),this.from=t,this.to=n,this.value=r}return(0,Y.Z)(e,null,[{key:"create",value:function(t,n,r){return new e(t,n,r)}}]),e}();function rv(e,t){return e.from-t.from||e.value.startSide-t.value.startSide}var iv=function(){function e(t,n,r,i){(0,z.Z)(this,e),this.from=t,this.to=n,this.value=r,this.maxPoint=i}return(0,Y.Z)(e,[{key:"length",get:function(){return this.to[this.to.length-1]}},{key:"findIndex",value:function(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=n?this.to:this.from,o=r,s=i.length;;){if(o==s)return o;var a=o+s>>1,l=i[a]-e||(n?this.value[a].endSide:this.value[a].startSide)-t;if(a==o)return l>=0?o:s;l>=0?s=a:o=a+1}}},{key:"between",value:function(e,t,n,r){for(var i=this.findIndex(t,-1e9,!0),o=this.findIndex(n,1e9,!1,i);i<o;i++)if(!1===r(this.from[i]+e,this.to[i]+e,this.value[i]))return!1}},{key:"map",value:function(t,n){for(var r=[],i=[],o=[],s=-1,a=-1,l=0;l<this.value.length;l++){var c=this.value[l],u=this.from[l]+t,h=this.to[l]+t,p=void 0,f=void 0;if(u==h){var d=n.mapPos(u,c.startSide,c.mapMode);if(null==d)continue;if(p=f=d,c.startSide!=c.endSide&&(f=n.mapPos(u,c.endSide))<p)continue}else if((p=n.mapPos(u,c.startSide))>(f=n.mapPos(h,c.endSide))||p==f&&c.startSide>0&&c.endSide<=0)continue;(f-p||c.endSide-c.startSide)<0||(s<0&&(s=p),c.point&&(a=Math.max(a,f-p)),r.push(c),i.push(p-s),o.push(f-s))}return{mapped:r.length?new e(i,o,r,a):null,pos:s}}}]),e}(),ov=function(){function e(t,n,r,i){(0,z.Z)(this,e),this.chunkPos=t,this.chunk=n,this.nextLayer=r,this.maxPoint=i}return(0,Y.Z)(e,[{key:"length",get:function(){var e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}},{key:"size",get:function(){if(this.isEmpty)return 0;var e,t=this.nextLayer.size,n=(0,X.Z)(this.chunk);try{for(n.s();!(e=n.n()).done;){t+=e.value.value.length}}catch(r){n.e(r)}finally{n.f()}return t}},{key:"chunkEnd",value:function(e){return this.chunkPos[e]+this.chunk[e].length}},{key:"update",value:function(t){var n=t.add,r=void 0===n?[]:n,i=t.sort,o=void 0!==i&&i,s=t.filterFrom,a=void 0===s?0:s,l=t.filterTo,c=void 0===l?this.length:l,u=t.filter;if(0==r.length&&!u)return this;if(o&&(r=r.slice().sort(rv)),this.isEmpty)return r.length?e.of(r):this;for(var h=new lv(this,null,-1).goto(0),p=0,f=[],d=new sv;h.value||p<r.length;)if(p<r.length&&(h.from-r[p].from||h.startSide-r[p].value.startSide)>=0){var g=r[p++];d.addInner(g.from,g.to,g.value)||f.push(g)}else 1==h.rangeIndex&&h.chunkIndex<this.chunk.length&&(p==r.length||this.chunkEnd(h.chunkIndex)<r[p].from)&&(!u||a>this.chunkEnd(h.chunkIndex)||c<this.chunkPos[h.chunkIndex])&&d.addChunk(this.chunkPos[h.chunkIndex],this.chunk[h.chunkIndex])?h.nextChunk():((!u||a>h.to||c<h.from||u(h.from,h.to,h.value))&&(d.addInner(h.from,h.to,h.value)||f.push(nv.create(h.from,h.to,h.value))),h.next());return d.finishInner(this.nextLayer.isEmpty&&!f.length?e.empty:this.nextLayer.update({add:f,filter:u,filterFrom:a,filterTo:c}))}},{key:"map",value:function(t){if(t.empty||this.isEmpty)return this;for(var n=[],r=[],i=-1,o=0;o<this.chunk.length;o++){var s=this.chunkPos[o],a=this.chunk[o],l=t.touchesRange(s,s+a.length);if(!1===l)i=Math.max(i,a.maxPoint),n.push(a),r.push(t.mapPos(s));else if(!0===l){var c=a.map(s,t),u=c.mapped,h=c.pos;u&&(i=Math.max(i,u.maxPoint),n.push(u),r.push(h))}}var p=this.nextLayer.map(t);return 0==n.length?p:new e(r,n,p||e.empty,i)}},{key:"between",value:function(e,t,n){if(!this.isEmpty){for(var r=0;r<this.chunk.length;r++){var i=this.chunkPos[r],o=this.chunk[r];if(t>=i&&e<=i+o.length&&!1===o.between(i,e-i,t-i,n))return}this.nextLayer.between(e,t,n)}}},{key:"iter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return cv.from([this]).goto(e)}},{key:"isEmpty",get:function(){return this.nextLayer==this}}],[{key:"create",value:function(t,n,r,i){return new e(t,n,r,i)}},{key:"iter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return cv.from(e).goto(t)}},{key:"compare",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,o=e.filter((function(e){return e.maxPoint>0||!e.isEmpty&&e.maxPoint>=i})),s=t.filter((function(e){return e.maxPoint>0||!e.isEmpty&&e.maxPoint>=i})),a=av(o,s,n),l=new hv(o,a,i),c=new hv(s,a,i);n.iterGaps((function(e,t,n){return pv(l,e,c,t,n,r)})),n.empty&&0==n.length&&pv(l,0,c,0,0,r)}},{key:"eq",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0;null==r&&(r=999999999);var i=e.filter((function(e){return!e.isEmpty&&t.indexOf(e)<0})),o=t.filter((function(t){return!t.isEmpty&&e.indexOf(t)<0}));if(i.length!=o.length)return!1;if(!i.length)return!0;for(var s=av(i,o),a=new hv(i,s,0).goto(n),l=new hv(o,s,0).goto(n);;){if(a.to!=l.to||!fv(a.active,l.active)||a.point&&(!l.point||!a.point.eq(l.point)))return!1;if(a.to>r)return!0;a.next(),l.next()}}},{key:"spans",value:function(e,t,n,r){for(var i=new hv(e,null,arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1).goto(t),o=t,s=i.openStart;;){var a=Math.min(i.to,n);if(i.point){var l=i.activeForPoint(i.to),c=i.pointFrom<t?l.length+1:Math.min(l.length,s);r.point(o,a,i.point,l,c,i.pointRank),s=Math.min(i.openEnd(a),l.length)}else a>o&&(r.span(o,a,i.active,s),s=i.openEnd(a));if(i.to>n)return s+(i.point&&i.to>n?1:0);o=i.to,i.next()}}},{key:"of",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=new sv,i=(0,X.Z)(e instanceof nv?[e]:n?function(e){if(e.length>1)for(var t=e[0],n=1;n<e.length;n++){var r=e[n];if(rv(t,r)>0)return e.slice().sort(rv);t=r}return e}(e):e);try{for(i.s();!(t=i.n()).done;){var o=t.value;r.add(o.from,o.to,o.value)}}catch(s){i.e(s)}finally{i.f()}return r.finish()}}]),e}();ov.empty=new ov([],[],null,-1),ov.empty.nextLayer=ov.empty;var sv=function(){function e(){(0,z.Z)(this,e),this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}return(0,Y.Z)(e,[{key:"finishChunk",value:function(e){this.chunks.push(new iv(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}},{key:"add",value:function(t,n,r){this.addInner(t,n,r)||(this.nextLayer||(this.nextLayer=new e)).add(t,n,r)}},{key:"addInner",value:function(e,t,n){var r=e-this.lastTo||n.startSide-this.last.endSide;if(r<=0&&(e-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(r<0)&&(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=n,this.lastFrom=e,this.lastTo=t,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}},{key:"addChunk",value:function(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);var n=t.value.length-1;return this.last=t.value[n],this.lastFrom=t.from[n]+e,this.lastTo=t.to[n]+e,!0}},{key:"finish",value:function(){return this.finishInner(ov.empty)}},{key:"finishInner",value:function(e){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return e;var t=ov.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}]),e}();function av(e,t,n){var r,i=new Map,o=(0,X.Z)(e);try{for(o.s();!(r=o.n()).done;)for(var s=r.value,a=0;a<s.chunk.length;a++)s.chunk[a].maxPoint<=0&&i.set(s.chunk[a],s.chunkPos[a])}catch(d){o.e(d)}finally{o.f()}var l,c=new Set,u=(0,X.Z)(t);try{for(u.s();!(l=u.n()).done;)for(var h=l.value,p=0;p<h.chunk.length;p++){var f=i.get(h.chunk[p]);null==f||(n?n.mapPos(f):f)!=h.chunkPos[p]||(null===n||void 0===n?void 0:n.touchesRange(f,f+h.chunk[p].length))||c.add(h.chunk[p])}}catch(d){u.e(d)}finally{u.f()}return c}var lv=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;(0,z.Z)(this,e),this.layer=t,this.skip=n,this.minPoint=r,this.rank=i}return(0,Y.Z)(e,[{key:"startSide",get:function(){return this.value?this.value.startSide:0}},{key:"endSide",get:function(){return this.value?this.value.endSide:0}},{key:"goto",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1e9;return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}},{key:"gotoInner",value:function(e,t,n){for(;this.chunkIndex<this.layer.chunk.length;){var r=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(r)||this.layer.chunkEnd(this.chunkIndex)<e||r.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){var i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!n||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}},{key:"forward",value:function(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}},{key:"next",value:function(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}var e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],n=e+t.from[this.rangeIndex];if(this.from=n,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}},{key:"setRangeIndex",value:function(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}},{key:"nextChunk",value:function(){this.chunkIndex++,this.rangeIndex=0,this.next()}},{key:"compare",value:function(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}]),e}(),cv=function(){function e(t){(0,z.Z)(this,e),this.heap=t}return(0,Y.Z)(e,[{key:"startSide",get:function(){return this.value?this.value.startSide:0}},{key:"goto",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1e9,r=(0,X.Z)(this.heap);try{for(r.s();!(t=r.n()).done;){t.value.goto(e,n)}}catch(o){r.e(o)}finally{r.f()}for(var i=this.heap.length>>1;i>=0;i--)uv(this.heap,i);return this.next(),this}},{key:"forward",value:function(e,t){var n,r=(0,X.Z)(this.heap);try{for(r.s();!(n=r.n()).done;){n.value.forward(e,t)}}catch(o){r.e(o)}finally{r.f()}for(var i=this.heap.length>>1;i>=0;i--)uv(this.heap,i);(this.to-e||this.value.endSide-t)<0&&this.next()}},{key:"next",value:function(){if(0==this.heap.length)this.from=this.to=1e9,this.value=null,this.rank=-1;else{var e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),uv(this.heap,0)}}}],[{key:"from",value:function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,i=[],o=0;o<t.length;o++)for(var s=t[o];!s.isEmpty;s=s.nextLayer)s.maxPoint>=r&&i.push(new lv(s,n,r,o));return 1==i.length?i[0]:new e(i)}}]),e}();function uv(e,t){for(var n=e[t];;){var r=1+(t<<1);if(r>=e.length)break;var i=e[r];if(r+1<e.length&&i.compare(e[r+1])>=0&&(i=e[r+1],r++),n.compare(i)<0)break;e[r]=n,e[t]=i,t=r}}var hv=function(){function e(t,n,r){(0,z.Z)(this,e),this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=cv.from(t,n,r)}return(0,Y.Z)(e,[{key:"goto",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1e9;return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}},{key:"forward",value:function(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}},{key:"removeActive",value:function(e){dv(this.active,e),dv(this.activeTo,e),dv(this.activeRank,e),this.minActive=_v(this.active,this.activeTo)}},{key:"addActive",value:function(e){for(var t=0,n=this.cursor,r=n.value,i=n.to,o=n.rank;t<this.activeRank.length&&this.activeRank[t]<=o;)t++;gv(this.active,t,r),gv(this.activeTo,t,i),gv(this.activeRank,t,o),e&&gv(e,t,this.cursor.from),this.minActive=_v(this.active,this.activeTo)}},{key:"next",value:function(){var e=this.to,t=this.point;this.point=null;for(var n=this.openStart<0?[]:null;;){var r=this.minActive;if(r>-1&&(this.activeTo[r]-this.cursor.from||this.active[r].endSide-this.cursor.startSide)<0){if(this.activeTo[r]>e){this.to=this.activeTo[r],this.endSide=this.active[r].endSide;break}this.removeActive(r),n&&dv(n,r)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}var i=this.cursor.value;if(i.point){if(!(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)){this.point=i,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=i.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(n),this.cursor.next()}}if(n){this.openStart=0;for(var o=n.length-1;o>=0&&n[o]<e;o--)this.openStart++}}},{key:"activeForPoint",value:function(e){if(!this.active.length)return this.active;for(var t=[],n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>e||this.activeTo[n]==e&&this.active[n].endSide>=this.point.endSide)&&t.push(this.active[n]);return t.reverse()}},{key:"openEnd",value:function(e){for(var t=0,n=this.activeTo.length-1;n>=0&&this.activeTo[n]>e;n--)t++;return t}}]),e}();function pv(e,t,n,r,i,o){e.goto(t),n.goto(r);for(var s=r+i,a=r,l=r-t;;){var c=e.to+l-n.to||e.endSide-n.endSide,u=c<0?e.to+l:n.to,h=Math.min(u,s);if(e.point||n.point?e.point&&n.point&&(e.point==n.point||e.point.eq(n.point))&&fv(e.activeForPoint(e.to),n.activeForPoint(n.to))||o.comparePoint(a,h,e.point,n.point):h>a&&!fv(e.active,n.active)&&o.compareRange(a,h,e.active,n.active),u>s)break;a=u,c<=0&&e.next(),c>=0&&n.next()}}function fv(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!=t[n]&&!e[n].eq(t[n]))return!1;return!0}function dv(e,t){for(var n=t,r=e.length-1;n<r;n++)e[n]=e[n+1];e.pop()}function gv(e,t,n){for(var r=e.length-1;r>=t;r--)e[r+1]=e[r];e[t]=n}function _v(e,t){for(var n=-1,r=1e9,i=0;i<t.length;i++)(t[i]-r||e[i].endSide-e[n].endSide)<0&&(n=i,r=t[i]);return n}function vv(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,r=0,i=0;i<n;)9==e.charCodeAt(i)?(r+=t-r%t,i++):(r++,i=jg(e,i));return r}function mv(e,t,n,r){for(var i=0,o=0;;){if(o>=t)return i;if(i==e.length)break;o+=9==e.charCodeAt(i)?n-o%n:1,i=jg(e,i)}return!0===r?-1:e.length}for(var yv="undefined"==typeof Symbol?"__\u037c":Symbol.for("\u037c"),Tv="undefined"==typeof Symbol?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),Ev="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:{},bv=function(){function e(t,n){(0,z.Z)(this,e),this.rules=[];var r=(n||{}).finish;function i(e){return/^@/.test(e)?[e]:e.split(/,\s*/)}function o(e,t,n,s){var a=[],l=/^@(\w+)\b/.exec(e[0]),c=l&&"keyframes"==l[1];if(l&&null==t)return n.push(e[0]+";");for(var u in t){var h=t[u];if(/&/.test(u))o(u.split(/,\s*/).map((function(t){return e.map((function(e){return t.replace(/&/,e)}))})).reduce((function(e,t){return e.concat(t)})),h,n);else if(h&&"object"==typeof h){if(!l)throw new RangeError("The value of a property ("+u+") should be a primitive value.");o(i(u),h,a,c)}else null!=h&&a.push(u.replace(/_.*/,"").replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()}))+": "+h+";")}(a.length||c)&&n.push((!r||l||s?e:e.map(r)).join(", ")+" {"+a.join(" ")+"}")}for(var s in t)o(i(s),t[s],this.rules)}return(0,Y.Z)(e,[{key:"getRules",value:function(){return this.rules.join("\n")}}],[{key:"newName",value:function(){var e=Ev[yv]||1;return Ev[yv]=e+1,"\u037c"+e.toString(36)}},{key:"mount",value:function(e,t,n){var r=e[Tv],i=n&&n.nonce;r?i&&r.setNonce(i):r=new Sv(e,i),r.mount(Array.isArray(t)?t:[t])}}]),e}(),Ov=new Map,Sv=function(){function e(t,n){(0,z.Z)(this,e);var r=t.ownerDocument||t,i=r.defaultView;if(!t.head&&t.adoptedStyleSheets&&i.CSSStyleSheet){var o=Ov.get(r);if(o)return t.adoptedStyleSheets=[o.sheet].concat((0,W.Z)(t.adoptedStyleSheets)),t[Tv]=o;this.sheet=new i.CSSStyleSheet,t.adoptedStyleSheets=[this.sheet].concat((0,W.Z)(t.adoptedStyleSheets)),Ov.set(r,this)}else{this.styleTag=r.createElement("style"),n&&this.styleTag.setAttribute("nonce",n);var s=t.head||t;s.insertBefore(this.styleTag,s.firstChild)}this.modules=[],t[Tv]=this}return(0,Y.Z)(e,[{key:"mount",value:function(e){for(var t=this.sheet,n=0,r=0,i=0;i<e.length;i++){var o=e[i],s=this.modules.indexOf(o);if(s<r&&s>-1&&(this.modules.splice(s,1),r--,s=-1),-1==s){if(this.modules.splice(r++,0,o),t)for(var a=0;a<o.rules.length;a++)t.insertRule(o.rules[a],n++)}else{for(;r<s;)n+=this.modules[r++].rules.length;n+=o.rules.length,r++}}if(!t){for(var l="",c=0;c<this.modules.length;c++)l+=this.modules[c].getRules()+"\n";this.styleTag.textContent=l}}},{key:"setNonce",value:function(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}]),e}(),kv={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},wv={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Rv="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),Cv="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Iv=0;Iv<10;Iv++)kv[48+Iv]=kv[96+Iv]=String(Iv);for(Iv=1;Iv<=24;Iv++)kv[Iv+111]="F"+Iv;for(Iv=65;Iv<=90;Iv++)kv[Iv]=String.fromCharCode(Iv+32),wv[Iv]=String.fromCharCode(Iv);for(var xv in kv)wv.hasOwnProperty(xv)||(wv[xv]=kv[xv]);function Av(e){return(11==e.nodeType?e.getSelection?e:e.ownerDocument:e).getSelection()}function Nv(e,t){return!!t&&(e==t||e.contains(1!=t.nodeType?t.parentNode:t))}function Lv(e,t){if(!t.anchorNode)return!1;try{return Nv(e,t.anchorNode)}catch(xf){return!1}}function Mv(e){return 3==e.nodeType?Wv(e,0,e.nodeValue.length).getClientRects():1==e.nodeType?e.getClientRects():[]}function Dv(e,t,n,r){return!!n&&(Bv(e,t,n,r,-1)||Bv(e,t,n,r,1))}function Pv(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t}function Bv(e,t,n,r,i){for(;;){if(e==n&&t==r)return!0;if(t==(i<0?0:Fv(e))){if("DIV"==e.nodeName)return!1;var o=e.parentNode;if(!o||1!=o.nodeType)return!1;t=Pv(e)+(i<0?0:1),e=o}else{if(1!=e.nodeType)return!1;if(1==(e=e.childNodes[t+(i<0?-1:0)]).nodeType&&"false"==e.contentEditable)return!1;t=i<0?Fv(e):0}}}function Fv(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function Uv(e,t){var n=t?e.left:e.right;return{left:n,right:n,top:e.top,bottom:e.bottom}}function Zv(e){return{left:0,right:e.innerWidth,top:0,bottom:e.innerHeight}}var Gv,Hv=function(){function e(){(0,z.Z)(this,e),this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}return(0,Y.Z)(e,[{key:"eq",value:function(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}},{key:"setRange",value:function(e){var t=e.anchorNode,n=e.focusNode;this.set(t,Math.min(e.anchorOffset,t?Fv(t):0),n,Math.min(e.focusOffset,n?Fv(n):0))}},{key:"set",value:function(e,t,n,r){this.anchorNode=e,this.anchorOffset=t,this.focusNode=n,this.focusOffset=r}}]),e}(),Vv=null;function jv(e){if(e.setActive)return e.setActive();if(Vv)return e.focus(Vv);for(var t=[],n=e;n&&(t.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(e.focus(null==Vv?{get preventScroll(){return Vv={preventScroll:!0},!0}}:void 0),!Vv){Vv=!1;for(var r=0;r<t.length;){var i=t[r++],o=t[r++],s=t[r++];i.scrollTop!=o&&(i.scrollTop=o),i.scrollLeft!=s&&(i.scrollLeft=s)}}}function Wv(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=Gv||(Gv=document.createRange());return r.setEnd(e,n),r.setStart(e,t),r}function Xv(e,t,n){var r={key:t,code:t,keyCode:n,which:n,cancelable:!0},i=new KeyboardEvent("keydown",r);i.synthetic=!0,e.dispatchEvent(i);var o=new KeyboardEvent("keyup",r);return o.synthetic=!0,e.dispatchEvent(o),i.defaultPrevented||o.defaultPrevented}function zv(e){for(;e.attributes.length;)e.removeAttributeNode(e.attributes[0])}function Yv(e){return e.scrollTop>Math.max(1,e.scrollHeight-e.clientHeight-4)}var qv=function(){function e(t,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];(0,z.Z)(this,e),this.node=t,this.offset=n,this.precise=r}return(0,Y.Z)(e,null,[{key:"before",value:function(t,n){return new e(t.parentNode,Pv(t),n)}},{key:"after",value:function(t,n){return new e(t.parentNode,Pv(t)+1,n)}}]),e}(),Kv=[],Qv=function(){function e(){(0,z.Z)(this,e),this.parent=null,this.dom=null,this.flags=2}return(0,Y.Z)(e,[{key:"overrideDOMText",get:function(){return null}},{key:"posAtStart",get:function(){return this.parent?this.parent.posBefore(this):0}},{key:"posAtEnd",get:function(){return this.posAtStart+this.length}},{key:"posBefore",value:function(e){var t,n=this.posAtStart,r=(0,X.Z)(this.children);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(i==e)return n;n+=i.length+i.breakAfter}}catch(o){r.e(o)}finally{r.f()}throw new RangeError("Invalid child in posBefore")}},{key:"posAfter",value:function(e){return this.posBefore(e)+e.length}},{key:"sync",value:function(t,n){if(2&this.flags){var r,i,o=this.dom,s=null,a=(0,X.Z)(this.children);try{for(a.s();!(i=a.n()).done;){var l=i.value;if(7&l.flags){if(!l.dom&&(r=s?s.nextSibling:o.firstChild)){var c=e.get(r);(!c||!c.parent&&c.canReuseDOM(l))&&l.reuseDOM(r)}l.sync(t,n),l.flags&=-8}if(r=s?s.nextSibling:o.firstChild,n&&!n.written&&n.node==o&&r!=l.dom&&(n.written=!0),l.dom.parentNode==o)for(;r&&r!=l.dom;)r=Jv(r);else o.insertBefore(l.dom,r);s=l.dom}}catch(f){a.e(f)}finally{a.f()}for((r=s?s.nextSibling:o.firstChild)&&n&&n.node==o&&(n.written=!0);r;)r=Jv(r)}else if(1&this.flags){var u,h=(0,X.Z)(this.children);try{for(h.s();!(u=h.n()).done;){var p=u.value;7&p.flags&&(p.sync(t,n),p.flags&=-8)}}catch(f){h.e(f)}finally{h.f()}}}},{key:"reuseDOM",value:function(e){}},{key:"localPosFromDOM",value:function(t,n){var r;if(t==this.dom)r=this.dom.childNodes[n];else{for(var i=0==Fv(t)?0:0==n?-1:1;;){var o=t.parentNode;if(o==this.dom)break;0==i&&o.firstChild!=o.lastChild&&(i=t==o.firstChild?-1:1),t=o}r=i<0?t:t.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!e.get(r);)r=r.nextSibling;if(!r)return this.length;for(var s=0,a=0;;s++){var l=this.children[s];if(l.dom==r)return a;a+=l.length+l.breakAfter}}},{key:"domBoundsAround",value:function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=-1,i=-1,o=-1,s=-1,a=0,l=n,c=n;a<this.children.length;a++){var u=this.children[a],h=l+u.length;if(l<e&&h>t)return u.domBoundsAround(e,t,l);if(h>=e&&-1==r&&(r=a,i=l),l>t&&u.dom.parentNode==this.dom){o=a,s=c;break}c=h,l=h+u.breakAfter}return{from:i,to:s<0?n+this.length:s,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}},{key:"markDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.flags|=2,this.markParentsDirty(e)}},{key:"markParentsDirty",value:function(e){for(var t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),1&t.flags)return;t.flags|=1,e=!1}}},{key:"setParent",value:function(e){this.parent!=e&&(this.parent=e,7&this.flags&&this.markParentsDirty(!0))}},{key:"setDOM",value:function(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}},{key:"rootView",get:function(){for(var e=this;;){var t=e.parent;if(!t)return e;e=t}}},{key:"replaceChildren",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Kv;this.markDirty();for(var i=e;i<t;i++){var o=this.children[i];o.parent==this&&o.destroy()}(n=this.children).splice.apply(n,[e,t-e].concat((0,W.Z)(r)));for(var s=0;s<r.length;s++)r[s].setParent(this)}},{key:"ignoreMutation",value:function(e){return!1}},{key:"ignoreEvent",value:function(e){return!1}},{key:"childCursor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.length;return new $v(this.children,e,this.children.length)}},{key:"childPos",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.childCursor().findPos(e,t)}},{key:"toString",value:function(){var e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==e?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}},{key:"isEditable",get:function(){return!0}},{key:"isWidget",get:function(){return!1}},{key:"isHidden",get:function(){return!1}},{key:"merge",value:function(e,t,n,r,i,o){return!1}},{key:"become",value:function(e){return!1}},{key:"canReuseDOM",value:function(e){return e.constructor==this.constructor&&!(8&(this.flags|e.flags))}},{key:"getSide",value:function(){return 0}},{key:"destroy",value:function(){this.parent=null}}],[{key:"get",value:function(e){return e.cmView}}]),e}();function Jv(e){var t=e.nextSibling;return e.parentNode.removeChild(e),t}Qv.prototype.breakAfter=0;var $v=function(){function e(t,n,r){(0,z.Z)(this,e),this.children=t,this.pos=n,this.i=r,this.off=0}return(0,Y.Z)(e,[{key:"findPos",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;;){if(e>this.pos||e==this.pos&&(t>0||0==this.i||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;var n=this.children[--this.i];this.pos-=n.length+n.breakAfter}}}]),e}();function em(e,t,n,r,i,o,s,a,l){var c=e.children,u=c.length?c[t]:null,h=o.length?o[o.length-1]:null,p=h?h.breakAfter:s;if(!(t==r&&u&&!s&&!p&&o.length<2&&u.merge(n,i,o.length?h:null,0==n,a,l))){if(r<c.length){var f=c[r];f&&(i<f.length||f.breakAfter&&(null===h||void 0===h?void 0:h.breakAfter))?(t==r&&(f=f.split(i),i=0),!p&&h&&f.merge(0,i,h,!0,0,l)?o[o.length-1]=f:((i||f.children.length&&!f.children[0].length)&&f.merge(0,i,null,!1,0,l),o.push(f))):(null===f||void 0===f?void 0:f.breakAfter)&&(h?h.breakAfter=1:s=1),r++}for(u&&(u.breakAfter=s,n>0&&(!s&&o.length&&u.merge(n,u.length,o[0],!1,a,0)?u.breakAfter=o.shift().breakAfter:(n<u.length||u.children.length&&0==u.children[u.children.length-1].length)&&u.merge(n,u.length,null,!1,a,0),t++));t<r&&o.length;)if(c[r-1].become(o[o.length-1]))r--,o.pop(),l=o.length?0:a;else{if(!c[t].become(o[0]))break;t++,o.shift(),a=o.length?0:l}!o.length&&t&&r<c.length&&!c[t-1].breakAfter&&c[r].merge(0,0,c[t-1],!1,a,l)&&t--,(t<r||o.length)&&e.replaceChildren(t,r,o)}}function tm(e,t,n,r,i,o){var s,a=e.childCursor(),l=a.findPos(n,1),c=l.i,u=l.off,h=a.findPos(t,-1),p=h.i,f=h.off,d=t-n,g=(0,X.Z)(r);try{for(g.s();!(s=g.n()).done;){d+=s.value.length}}catch(_){g.e(_)}finally{g.f()}e.length+=d,em(e,p,f,c,u,r,0,i,o)}var nm="undefined"!=typeof navigator?navigator:{userAgent:"",vendor:"",platform:""},rm="undefined"!=typeof document?document:{documentElement:{style:{}}},im=/Edge\/(\d+)/.exec(nm.userAgent),om=/MSIE \d/.test(nm.userAgent),sm=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(nm.userAgent),am=!!(om||sm||im),lm=!am&&/gecko\/(\d+)/i.test(nm.userAgent),cm=!am&&/Chrome\/(\d+)/.exec(nm.userAgent),um="webkitFontSmoothing"in rm.documentElement.style,hm=!am&&/Apple Computer/.test(nm.vendor),pm=hm&&(/Mobile\/\w+/.test(nm.userAgent)||nm.maxTouchPoints>2),fm={mac:pm||/Mac/.test(nm.platform),windows:/Win/.test(nm.platform),linux:/Linux|X11/.test(nm.platform),ie:am,ie_version:om?rm.documentMode||6:sm?+sm[1]:im?+im[1]:0,gecko:lm,gecko_version:lm?+(/Firefox\/(\d+)/.exec(nm.userAgent)||[0,0])[1]:0,chrome:!!cm,chrome_version:cm?+cm[1]:0,ios:pm,android:/Android\b/.test(nm.userAgent),webkit:um,safari:hm,webkit_version:um?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:null!=rm.documentElement.style.tabSize?"tab-size":"-moz-tab-size"},dm=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e){var r;return(0,z.Z)(this,n),(r=t.call(this)).text=e,r}return(0,Y.Z)(n,[{key:"length",get:function(){return this.text.length}},{key:"createDOM",value:function(e){this.setDOM(e||document.createTextNode(this.text))}},{key:"sync",value:function(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}},{key:"reuseDOM",value:function(e){3==e.nodeType&&this.createDOM(e)}},{key:"merge",value:function(e,t,r){return!(8&this.flags||r&&(!(r instanceof n)||this.length-(t-e)+r.length>256||8&r.flags))&&(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(t),this.markDirty(),!0)}},{key:"split",value:function(e){var t=new n(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=8&this.flags,t}},{key:"localPosFromDOM",value:function(e,t){return e==this.dom?t:t?this.text.length:0}},{key:"domAtPos",value:function(e){return new qv(this.dom,e)}},{key:"domBoundsAround",value:function(e,t,n){return{from:n,to:n+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}},{key:"coordsAt",value:function(e,t){return function(e,t,n){var r=e.nodeValue.length;t>r&&(t=r);var i=t,o=t,s=0;0==t&&n<0||t==r&&n>=0?fm.chrome||fm.gecko||(t?(i--,s=1):o<r&&(o++,s=-1)):n<0?i--:o<r&&o++;var a=Wv(e,i,o).getClientRects();if(!a.length)return null;var l=a[(s?s<0:n>=0)?0:a.length-1];fm.safari&&!s&&0==l.width&&(l=Array.prototype.find.call(a,(function(e){return e.width}))||l);return s?Uv(l,s<0):l||null}(this.dom,e,t)}}]),n}(Qv),gm=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;(0,z.Z)(this,n),(r=t.call(this)).mark=e,r.children=i,r.length=o;var s,a=(0,X.Z)(i);try{for(a.s();!(s=a.n()).done;){s.value.setParent((0,q.Z)(r))}}catch(l){a.e(l)}finally{a.f()}return r}return(0,Y.Z)(n,[{key:"setAttrs",value:function(e){if(zv(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(var t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}},{key:"canReuseDOM",value:function(e){return Nt((0,J.Z)(n.prototype),"canReuseDOM",this).call(this,e)&&!(8&(this.flags|e.flags))}},{key:"reuseDOM",value:function(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}},{key:"sync",value:function(e,t){this.dom?4&this.flags&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),Nt((0,J.Z)(n.prototype),"sync",this).call(this,e,t)}},{key:"merge",value:function(e,t,r,i,o,s){return(!r||!(!(r instanceof n&&r.mark.eq(this.mark))||e&&o<=0||t<this.length&&s<=0))&&(tm(this,e,t,r?r.children:[],o-1,s-1),this.markDirty(),!0)}},{key:"split",value:function(e){var t,r=[],i=0,o=-1,s=0,a=(0,X.Z)(this.children);try{for(a.s();!(t=a.n()).done;){var l=t.value,c=i+l.length;c>e&&r.push(i<e?l.split(e-i):l),o<0&&i>=e&&(o=s),i=c,s++}}catch(h){a.e(h)}finally{a.f()}var u=this.length-e;return this.length=e,o>-1&&(this.children.length=o,this.markDirty()),new n(this.mark,r,u)}},{key:"domAtPos",value:function(e){return mm(this,e)}},{key:"coordsAt",value:function(e,t){return Tm(this,e,t)}}]),n}(Qv);var _m=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e,r,i){var o;return(0,z.Z)(this,n),(o=t.call(this)).widget=e,o.length=r,o.side=i,o.prevWidget=null,o}return(0,Y.Z)(n,[{key:"split",value:function(e){var t=n.create(this.widget,this.length-e,this.side);return this.length-=e,t}},{key:"sync",value:function(e){this.dom&&this.widget.updateDOM(this.dom,e)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}},{key:"getSide",value:function(){return this.side}},{key:"merge",value:function(e,t,r,i,o,s){return!(r&&(!(r instanceof n&&this.widget.compare(r.widget))||e>0&&o<=0||t<this.length&&s<=0))&&(this.length=e+(r?r.length:0)+(this.length-t),!0)}},{key:"become",value:function(e){return e instanceof n&&e.side==this.side&&this.widget.constructor==e.widget.constructor&&(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0)}},{key:"ignoreMutation",value:function(){return!0}},{key:"ignoreEvent",value:function(e){return this.widget.ignoreEvent(e)}},{key:"overrideDOMText",get:function(){if(0==this.length)return xg.empty;for(var e=this;e.parent;)e=e.parent;var t=e.view,n=t&&t.state.doc,r=this.posAtStart;return n?n.slice(r,r+this.length):xg.empty}},{key:"domAtPos",value:function(e){return(this.length?0==e:this.side>0)?qv.before(this.dom):qv.after(this.dom,e==this.length)}},{key:"domBoundsAround",value:function(){return null}},{key:"coordsAt",value:function(e,t){var n=this.widget.coordsAt(this.dom,e,t);if(n)return n;var r=this.dom.getClientRects(),i=null;if(!r.length)return null;for(var o=this.side?this.side<0:e>0,s=o?r.length-1:0;i=r[s],!(e>0?0==s:s==r.length-1||i.top<i.bottom);s+=o?-1:1);return Uv(i,!o)}},{key:"isEditable",get:function(){return!1}},{key:"isWidget",get:function(){return!0}},{key:"isHidden",get:function(){return this.widget.isHidden}},{key:"destroy",value:function(){Nt((0,J.Z)(n.prototype),"destroy",this).call(this),this.dom&&this.widget.destroy(this.dom)}}],[{key:"create",value:function(e,t,r){return new n(e,t,r)}}]),n}(Qv),vm=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e){var r;return(0,z.Z)(this,n),(r=t.call(this)).side=e,r}return(0,Y.Z)(n,[{key:"length",get:function(){return 0}},{key:"merge",value:function(){return!1}},{key:"become",value:function(e){return e instanceof n&&e.side==this.side}},{key:"split",value:function(){return new n(this.side)}},{key:"sync",value:function(){if(!this.dom){var e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}},{key:"getSide",value:function(){return this.side}},{key:"domAtPos",value:function(e){return this.side>0?qv.before(this.dom):qv.after(this.dom)}},{key:"localPosFromDOM",value:function(){return 0}},{key:"domBoundsAround",value:function(){return null}},{key:"coordsAt",value:function(e){return this.dom.getBoundingClientRect()}},{key:"overrideDOMText",get:function(){return xg.empty}},{key:"isHidden",get:function(){return!0}}]),n}(Qv);function mm(e,t){for(var n=e.dom,r=e.children,i=0,o=0;i<r.length;i++){var s=r[i],a=o+s.length;if(!(a==o&&s.getSide()<=0)){if(t>o&&t<a&&s.dom.parentNode==n)return s.domAtPos(t-o);if(t<=o)break;o=a}}for(var l=i;l>0;l--){var c=r[l-1];if(c.dom.parentNode==n)return c.domAtPos(c.length)}for(var u=i;u<r.length;u++){var h=r[u];if(h.dom.parentNode==n)return h.domAtPos(0)}return new qv(n,0)}function ym(e,t,n){var r,i=e.children;n>0&&t instanceof gm&&i.length&&(r=i[i.length-1])instanceof gm&&r.mark.eq(t.mark)?ym(r,t.children[0],n-1):(i.push(t),t.setParent(e)),e.length+=t.length}function Tm(e,t,n){var r=null,i=-1,o=null,s=-1;!function e(t,a){for(var l=0,c=0;l<t.children.length&&c<=a;l++){var u=t.children[l],h=c+u.length;h>=a&&(u.children.length?e(u,a-c):(!o||o.isHidden&&n>0)&&(h>a||c==h&&u.getSide()>0)?(o=u,s=a-c):(c<a||c==h&&u.getSide()<0&&!u.isHidden)&&(r=u,i=a-c)),c=h}}(e,t);var a=(n<0?r:o)||r||o;return a?a.coordsAt(Math.max(0,a==r?i:s),n):function(e){var t=e.dom.lastChild;if(!t)return e.dom.getBoundingClientRect();var n=Mv(t);return n[n.length-1]||null}(e)}function Em(e,t){for(var n in e)"class"==n&&t.class?t.class+=" "+e.class:"style"==n&&t.style?t.style+=";"+e.style:t[n]=e[n];return t}dm.prototype.children=_m.prototype.children=vm.prototype.children=Kv;var bm=Object.create(null);function Om(e,t,n){if(e==t)return!0;e||(e=bm),t||(t=bm);var r=Object.keys(e),i=Object.keys(t);if(r.length-(n&&r.indexOf(n)>-1?1:0)!=i.length-(n&&i.indexOf(n)>-1?1:0))return!1;for(var o=0,s=r;o<s.length;o++){var a=s[o];if(a!=n&&(-1==i.indexOf(a)||e[a]!==t[a]))return!1}return!0}function Sm(e,t,n){var r=!1;if(t)for(var i in t)n&&i in n||(r=!0,"style"==i?e.style.cssText="":e.removeAttribute(i));if(n)for(var o in n)t&&t[o]==n[o]||(r=!0,"style"==o?e.style.cssText=n[o]:e.setAttribute(o,n[o]));return r}function km(e){for(var t=Object.create(null),n=0;n<e.attributes.length;n++){var r=e.attributes[n];t[r.name]=r.value}return t}var wm=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(){var e;return(0,z.Z)(this,n),(e=t.apply(this,arguments)).children=[],e.length=0,e.prevAttrs=void 0,e.attrs=null,e.breakAfter=0,e}return(0,Y.Z)(n,[{key:"merge",value:function(e,t,r,i,o,s){if(r){if(!(r instanceof n))return!1;this.dom||r.transferDOM(this)}return i&&this.setDeco(r?r.attrs:null),tm(this,e,t,r?r.children:[],o,s),!0}},{key:"split",value:function(e){var t=new n;if(t.breakAfter=this.breakAfter,0==this.length)return t;var r=this.childPos(e),i=r.i,o=r.off;o&&(t.append(this.children[i].split(o),0),this.children[i].merge(o,this.children[i].length,null,!1,0,0),i++);for(var s=i;s<this.children.length;s++)t.append(this.children[s],0);for(;i>0&&0==this.children[i-1].length;)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=e,t}},{key:"transferDOM",value:function(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}},{key:"setDeco",value:function(e){Om(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}},{key:"append",value:function(e,t){ym(this,e,t)}},{key:"addLineDeco",value:function(e){var t=e.spec.attributes,n=e.spec.class;t&&(this.attrs=Em(t,this.attrs||{})),n&&(this.attrs=Em({class:n},this.attrs||{}))}},{key:"domAtPos",value:function(e){return mm(this,e)}},{key:"reuseDOM",value:function(e){"DIV"==e.nodeName&&(this.setDOM(e),this.flags|=6)}},{key:"sync",value:function(e,t){var r;this.dom?4&this.flags&&(zv(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),void 0!==this.prevAttrs&&(Sm(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),Nt((0,J.Z)(n.prototype),"sync",this).call(this,e,t);for(var i=this.dom.lastChild;i&&Qv.get(i)instanceof gm;)i=i.lastChild;if(!i||!this.length||"BR"!=i.nodeName&&0==(null===(r=Qv.get(i))||void 0===r?void 0:r.isEditable)&&(!fm.ios||!this.children.some((function(e){return e instanceof dm})))){var o=document.createElement("BR");o.cmIgnore=!0,this.dom.appendChild(o)}}},{key:"measureTextSize",value:function(){if(0==this.children.length||this.length>20)return null;var e,t,n=0,r=(0,X.Z)(this.children);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(!(i instanceof dm)||/[^ -~]/.test(i.text))return null;var o=Mv(i.dom);if(1!=o.length)return null;n+=o[0].width,e=o[0].height}}catch(s){r.e(s)}finally{r.f()}return n?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:n/this.length,textHeight:e}:null}},{key:"coordsAt",value:function(e,t){var n=Tm(this,e,t);if(!this.children.length&&n&&this.parent){var r=this.parent.view.viewState.heightOracle,i=n.bottom-n.top;if(Math.abs(i-r.lineHeight)<2&&r.textHeight<i){var o=(i-r.textHeight)/2;return{top:n.top+o,bottom:n.bottom-o,left:n.left,right:n.left}}}return n}},{key:"become",value:function(e){return!1}},{key:"covers",value:function(){return!0}}],[{key:"find",value:function(e,t){for(var r=0,i=0;r<e.children.length;r++){var o=e.children[r],s=i+o.length;if(s>=t){if(o instanceof n)return o;if(s>t)break}i=s+o.breakAfter}return null}}]),n}(Qv),Rm=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e,r,i){var o;return(0,z.Z)(this,n),(o=t.call(this)).widget=e,o.length=r,o.deco=i,o.breakAfter=0,o.prevWidget=null,o}return(0,Y.Z)(n,[{key:"merge",value:function(e,t,r,i,o,s){return!(r&&(!(r instanceof n&&this.widget.compare(r.widget))||e>0&&o<=0||t<this.length&&s<=0))&&(this.length=e+(r?r.length:0)+(this.length-t),!0)}},{key:"domAtPos",value:function(e){return 0==e?qv.before(this.dom):qv.after(this.dom,e==this.length)}},{key:"split",value:function(e){var t=this.length-e;this.length=e;var r=new n(this.widget,t,this.deco);return r.breakAfter=this.breakAfter,r}},{key:"children",get:function(){return Kv}},{key:"sync",value:function(e){this.dom&&this.widget.updateDOM(this.dom,e)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}},{key:"overrideDOMText",get:function(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):xg.empty}},{key:"domBoundsAround",value:function(){return null}},{key:"become",value:function(e){return e instanceof n&&e.widget.constructor==this.widget.constructor&&(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0)}},{key:"ignoreMutation",value:function(){return!0}},{key:"ignoreEvent",value:function(e){return this.widget.ignoreEvent(e)}},{key:"isEditable",get:function(){return!1}},{key:"isWidget",get:function(){return!0}},{key:"coordsAt",value:function(e,t){return this.widget.coordsAt(this.dom,e,t)}},{key:"destroy",value:function(){Nt((0,J.Z)(n.prototype),"destroy",this).call(this),this.dom&&this.widget.destroy(this.dom)}},{key:"covers",value:function(e){var t=this.deco,n=t.startSide,r=t.endSide;return n!=r&&(e<0?n<0:r>0)}}]),n}(Qv),Cm=function(){function e(){(0,z.Z)(this,e)}return(0,Y.Z)(e,[{key:"eq",value:function(e){return!1}},{key:"updateDOM",value:function(e,t){return!1}},{key:"compare",value:function(e){return this==e||this.constructor==e.constructor&&this.eq(e)}},{key:"estimatedHeight",get:function(){return-1}},{key:"lineBreaks",get:function(){return 0}},{key:"ignoreEvent",value:function(e){return!0}},{key:"coordsAt",value:function(e,t,n){return null}},{key:"isHidden",get:function(){return!1}},{key:"destroy",value:function(e){}}]),e}(),Im=function(e){return e[e.Text=0]="Text",e[e.WidgetBefore=1]="WidgetBefore",e[e.WidgetAfter=2]="WidgetAfter",e[e.WidgetRange=3]="WidgetRange",e}(Im||(Im={})),xm=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e,r,i,o){var s;return(0,z.Z)(this,n),(s=t.call(this)).startSide=e,s.endSide=r,s.widget=i,s.spec=o,s}return(0,Y.Z)(n,[{key:"heightRelevant",get:function(){return!1}},{key:"hasHeight",value:function(){return!!this.widget&&this.widget.estimatedHeight>-1}}],[{key:"mark",value:function(e){return new Am(e)}},{key:"widget",value:function(e){var t=Math.max(-1e4,Math.min(1e4,e.side||0)),n=!!e.block;return t+=n&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new Lm(e,t,t,n,e.widget||null,!1)}},{key:"replace",value:function(e){var t,n,r=!!e.block;if(e.isBlockGap)t=-5e8,n=4e8;else{var i=Mm(e,r);t=(i.start?r?-3e8:-1:5e8)-1,n=1+(i.end?r?2e8:1:-6e8)}return new Lm(e,t,n,r,e.widget||null,!0)}},{key:"line",value:function(e){return new Nm(e)}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ov.of(e,t)}}]),n}(tv);xm.none=ov.empty;var Am=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e){var r;(0,z.Z)(this,n);var i=Mm(e),o=i.start,s=i.end;return(r=t.call(this,o?-1:5e8,s?1:-6e8,null,e)).tagName=e.tagName||"span",r.class=e.class||"",r.attrs=e.attributes||null,r}return(0,Y.Z)(n,[{key:"eq",value:function(e){var t,r;return this==e||e instanceof n&&this.tagName==e.tagName&&(this.class||(null===(t=this.attrs)||void 0===t?void 0:t.class))==(e.class||(null===(r=e.attrs)||void 0===r?void 0:r.class))&&Om(this.attrs,e.attrs,"class")}},{key:"range",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(e>=t)throw new RangeError("Mark decorations may not be empty");return Nt((0,J.Z)(n.prototype),"range",this).call(this,e,t)}}]),n}(xm);Am.prototype.point=!1;var Nm=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e){return(0,z.Z)(this,n),t.call(this,-2e8,-2e8,null,e)}return(0,Y.Z)(n,[{key:"eq",value:function(e){return e instanceof n&&this.spec.class==e.spec.class&&Om(this.spec.attributes,e.spec.attributes)}},{key:"range",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return Nt((0,J.Z)(n.prototype),"range",this).call(this,e,t)}}]),n}(xm);Nm.prototype.mapMode=$g.TrackBefore,Nm.prototype.point=!0;var Lm=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e,r,i,o,s,a){var l;return(0,z.Z)(this,n),(l=t.call(this,r,i,s,e)).block=o,l.isReplace=a,l.mapMode=o?r<=0?$g.TrackBefore:$g.TrackAfter:$g.TrackDel,l}return(0,Y.Z)(n,[{key:"type",get:function(){return this.startSide!=this.endSide?Im.WidgetRange:this.startSide<=0?Im.WidgetBefore:Im.WidgetAfter}},{key:"heightRelevant",get:function(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}},{key:"eq",value:function(e){return e instanceof n&&function(e,t){return e==t||!!(e&&t&&e.compare(t))}(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}},{key:"range",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return Nt((0,J.Z)(n.prototype),"range",this).call(this,e,t)}}]),n}(xm);function Mm(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.inclusiveStart,r=e.inclusiveEnd;return null==n&&(n=e.inclusive),null==r&&(r=e.inclusive),{start:null!==n&&void 0!==n?n:t,end:null!==r&&void 0!==r?r:t}}function Dm(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=n.length-1;i>=0&&n[i]+r>=e?n[i]=Math.max(n[i],t):n.push(e,t)}Lm.prototype.point=!0;var Pm=function(){function e(t,n,r,i){(0,z.Z)(this,e),this.doc=t,this.pos=n,this.end=r,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=t.iter(),this.skip=n}return(0,Y.Z)(e,[{key:"posCovered",value:function(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;var e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof Rm&&e.deco.endSide<0)}},{key:"getLine",value:function(){return this.curLine||(this.content.push(this.curLine=new wm),this.atCursorPos=!0),this.curLine}},{key:"flushBuffer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.bufferMarks;this.pendingBuffer&&(this.curLine.append(Bm(new vm(-1),e),e.length),this.pendingBuffer=0)}},{key:"addBlockWidget",value:function(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}},{key:"finish",value:function(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||e&&this.content.length&&this.content[this.content.length-1]instanceof Rm||this.getLine()}},{key:"buildText",value:function(e,t,n){for(;e>0;){if(this.textOff==this.text.length){var r=this.cursor.next(this.skip),i=r.value,o=r.lineBreak,s=r.done;if(this.skip=0,s)throw new Error("Ran out of text content when drawing inline views");if(o){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}this.text=i,this.textOff=0}var a=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-n)),this.getLine().append(Bm(new dm(this.text.slice(this.textOff,this.textOff+a)),t),n),this.atCursorPos=!0,this.textOff+=a,e-=a,n=0}}},{key:"span",value:function(e,t,n,r){this.buildText(t-e,n,r),this.pos=t,this.openStart<0&&(this.openStart=r)}},{key:"point",value:function(e,t,n,r,i,o){if(this.disallowBlockEffectsFor[o]&&n instanceof Lm){if(n.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}var s=t-e;if(n instanceof Lm)if(n.block)n.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Rm(n.widget||new Fm("div"),s,n));else{var a=_m.create(n.widget||new Fm("span"),s,s?0:n.startSide),l=this.atCursorPos&&!a.isEditable&&i<=r.length&&(e<t||n.startSide>0),c=!a.isEditable&&(e<t||i>r.length||n.startSide<=0),u=this.getLine();2!=this.pendingBuffer||l||a.isEditable||(this.pendingBuffer=0),this.flushBuffer(r),l&&(u.append(Bm(new vm(1),r),i),i=r.length+Math.max(0,i-r.length)),u.append(Bm(a,r),i),this.atCursorPos=c,this.pendingBuffer=c?e<t||i>r.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=r.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(n);s&&(this.textOff+s<=this.text.length?this.textOff+=s:(this.skip+=s-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=i)}}],[{key:"build",value:function(t,n,r,i,o){var s=new e(t,n,r,o);return s.openEnd=ov.spans(i,n,r,s),s.openStart<0&&(s.openStart=s.openEnd),s.finish(s.openEnd),s}}]),e}();function Bm(e,t){var n,r=(0,X.Z)(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;e=new gm(i,[e],e.length)}}catch(o){r.e(o)}finally{r.f()}return e}var Fm=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e){var r;return(0,z.Z)(this,n),(r=t.call(this)).tag=e,r}return(0,Y.Z)(n,[{key:"eq",value:function(e){return e.tag==this.tag}},{key:"toDOM",value:function(){return document.createElement(this.tag)}},{key:"updateDOM",value:function(e){return e.nodeName.toLowerCase()==this.tag}},{key:"isHidden",get:function(){return!0}}]),n}(Cm),Um=p_.define(),Zm=p_.define(),Gm=p_.define(),Hm=p_.define(),Vm=p_.define(),jm=p_.define(),Wm=p_.define(),Xm=p_.define({combine:function(e){return e.some((function(e){return e}))}}),zm=p_.define({combine:function(e){return e.some((function(e){return e}))}}),Ym=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"nearest",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"nearest",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:5;(0,z.Z)(this,e),this.range=t,this.y=n,this.x=r,this.yMargin=i,this.xMargin=o}return(0,Y.Z)(e,[{key:"map",value:function(t){return t.empty?this:new e(this.range.map(t),this.y,this.x,this.yMargin,this.xMargin)}}]),e}(),qm=G_.define({map:function(e,t){return e.map(t)}});function Km(e,t,n){var r=e.facet(Hm);r.length?r[0](t):window.onerror?window.onerror(String(t),n,void 0,void 0,t):n?console.error(n+":",t):console.error(t)}var Qm=p_.define({combine:function(e){return!e.length||e[0]}}),Jm=0,$m=p_.define(),ey=function(){function e(t,n,r,i,o){(0,z.Z)(this,e),this.id=t,this.create=n,this.domEventHandlers=r,this.domEventObservers=i,this.extension=o(this)}return(0,Y.Z)(e,null,[{key:"define",value:function(t,n){var r=n||{},i=r.eventHandlers,o=r.eventObservers,s=r.provide,a=r.decorations;return new e(Jm++,t,i,o,(function(e){var t=[$m.of(e)];return a&&t.push(iy.of((function(t){var n=t.plugin(e);return n?a(n):xm.none}))),s&&t.push(s(e)),t}))}},{key:"fromClass",value:function(t,n){return e.define((function(e){return new t(e)}),n)}}]),e}(),ty=function(){function e(t){(0,z.Z)(this,e),this.spec=t,this.mustUpdate=null,this.value=null}return(0,Y.Z)(e,[{key:"update",value:function(e){if(this.value){if(this.mustUpdate){var t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(n){if(Km(t.state,n,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch(xf){}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(n){Km(e.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}},{key:"destroy",value:function(e){var t;if(null===(t=this.value)||void 0===t?void 0:t.destroy)try{this.value.destroy()}catch(n){Km(e.state,n,"CodeMirror plugin crashed")}}},{key:"deactivate",value:function(){this.spec=this.value=null}}]),e}(),ny=p_.define(),ry=p_.define(),iy=p_.define(),oy=p_.define(),sy=p_.define();function ay(e,t,n){var r=e.state.facet(sy);if(!r.length)return r;var i=r.map((function(t){return t instanceof Function?t(e):t})),o=[];return ov.spans(i,t,n,{point:function(){},span:function(e,t,n,r){for(var i=o,s=n.length-1;s>=0;s--,r--){var a=n[s].spec.bidiIsolate,l=void 0;if(null!=a)if(r>0&&i.length&&(l=i[i.length-1]).to==e&&l.direction==a)l.to=t,i=l.inner;else{var c={from:e,to:t,direction:a,inner:[]};i.push(c),i=c.inner}}}}),o}var ly=p_.define();function cy(e){var t,n=0,r=0,i=0,o=0,s=(0,X.Z)(e.state.facet(ly));try{for(s.s();!(t=s.n()).done;){var a=(0,t.value)(e);a&&(null!=a.left&&(n=Math.max(n,a.left)),null!=a.right&&(r=Math.max(r,a.right)),null!=a.top&&(i=Math.max(i,a.top)),null!=a.bottom&&(o=Math.max(o,a.bottom)))}}catch(l){s.e(l)}finally{s.f()}return{left:n,right:r,top:i,bottom:o}}var uy=p_.define(),hy=function(){function e(t,n,r,i){(0,z.Z)(this,e),this.fromA=t,this.toA=n,this.fromB=r,this.toB=i}return(0,Y.Z)(e,[{key:"join",value:function(t){return new e(Math.min(this.fromA,t.fromA),Math.max(this.toA,t.toA),Math.min(this.fromB,t.fromB),Math.max(this.toB,t.toB))}},{key:"addToSet",value:function(e){for(var t=e.length,n=this;t>0;t--){var r=e[t-1];if(!(r.fromA>n.toA)){if(r.toA<n.fromA)break;n=n.join(r),e.splice(t-1,1)}}return e.splice(t,0,n),e}}],[{key:"extendWithRanges",value:function(t,n){if(0==n.length)return t;for(var r=[],i=0,o=0,s=0,a=0;;i++){for(var l=i==t.length?null:t[i],c=s-a,u=l?l.fromB:1e9;o<n.length&&n[o]<u;){var h=n[o],p=n[o+1],f=Math.max(a,h),d=Math.min(u,p);if(f<=d&&new e(f+c,d+c,f,d).addToSet(r),p>u)break;o+=2}if(!l)return r;new e(l.fromA,l.toA,l.fromB,l.toB).addToSet(r),s=l.toA,a=l.toB}}}]),e}(),py=function(){function e(t,n,r){(0,z.Z)(this,e),this.view=t,this.state=n,this.transactions=r,this.flags=0,this.startState=t.state,this.changes=t_.empty(this.startState.doc.length);var i,o=(0,X.Z)(r);try{for(o.s();!(i=o.n()).done;){var s=i.value;this.changes=this.changes.compose(s.changes)}}catch(l){o.e(l)}finally{o.f()}var a=[];this.changes.iterChangedRanges((function(e,t,n,r){return a.push(new hy(e,t,n,r))})),this.changedRanges=a}return(0,Y.Z)(e,[{key:"viewportChanged",get:function(){return(4&this.flags)>0}},{key:"heightChanged",get:function(){return(2&this.flags)>0}},{key:"geometryChanged",get:function(){return this.docChanged||(10&this.flags)>0}},{key:"focusChanged",get:function(){return(1&this.flags)>0}},{key:"docChanged",get:function(){return!this.changes.empty}},{key:"selectionSet",get:function(){return this.transactions.some((function(e){return e.selection}))}},{key:"empty",get:function(){return 0==this.flags&&0==this.transactions.length}}],[{key:"create",value:function(t,n,r){return new e(t,n,r)}}]),e}(),fy=function(e){return e[e.LTR=0]="LTR",e[e.RTL=1]="RTL",e}(fy||(fy={})),dy=fy.LTR,gy=fy.RTL;function _y(e){for(var t=[],n=0;n<e.length;n++)t.push(1<<+e[n]);return t}for(var vy=_y("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),my=_y("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),yy=Object.create(null),Ty=[],Ey=0,by=["()","[]","{}"];Ey<by.length;Ey++){var Oy=by[Ey],Sy=Oy.charCodeAt(0),ky=Oy.charCodeAt(1);yy[Sy]=ky,yy[ky]=-Sy}var wy=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/,Ry=function(){function e(t,n,r){(0,z.Z)(this,e),this.from=t,this.to=n,this.level=r}return(0,Y.Z)(e,[{key:"dir",get:function(){return this.level%2?gy:dy}},{key:"side",value:function(e,t){return this.dir==t==e?this.to:this.from}}],[{key:"find",value:function(e,t,n,r){for(var i=-1,o=0;o<e.length;o++){var s=e[o];if(s.from<=t&&s.to>=t){if(s.level==n)return o;(i<0||(0!=r?r<0?s.from<t:s.to>t:e[i].level>s.level))&&(i=o)}}if(i<0)throw new RangeError("Index out of range");return i}}]),e}();function Cy(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],i=t[n];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!Cy(r.inner,i.inner))return!1}return!0}var Iy=[];function xy(e,t,n,r,i,o,s){var a=r%2?2:1;if(r%2==i%2)for(var l=t,c=0;l<n;){var u=!0,h=!1;if(c==o.length||l<o[c].from){var p=Iy[l];p!=a&&(u=!1,h=16==p)}var f=u||1!=a?null:[],d=u?r:r+1,g=l;e:for(;;)if(c<o.length&&g==o[c].from){if(h)break e;var _=o[c];if(!u)for(var v=_.to,m=c+1;;){if(v==n)break e;if(!(m<o.length&&o[m].from==v)){if(Iy[v]==a)break e;break}v=o[m++].to}if(c++,f)f.push(_);else _.from>l&&s.push(new Ry(l,_.from,d)),Ay(e,_.direction==dy!=!(d%2)?r+1:r,i,_.inner,_.from,_.to,s),l=_.to;g=_.to}else{if(g==n||(u?Iy[g]!=a:Iy[g]==a))break;g++}f?xy(e,l,g,r+1,i,f,s):l<g&&s.push(new Ry(l,g,d)),l=g}else for(var y=n,T=o.length;y>t;){var E=!0,b=!1;if(!T||y>o[T-1].to){var O=Iy[y-1];O!=a&&(E=!1,b=16==O)}var S=E||1!=a?null:[],k=E?r:r+1,w=y;e:for(;;)if(T&&w==o[T-1].to){if(b)break e;var R=o[--T];if(!E)for(var C=R.from,I=T;;){if(C==t)break e;if(!I||o[I-1].to!=C){if(Iy[C-1]==a)break e;break}C=o[--I].from}if(S)S.push(R);else R.to<y&&s.push(new Ry(R.to,y,k)),Ay(e,R.direction==dy!=!(k%2)?r+1:r,i,R.inner,R.from,R.to,s),y=R.from;w=R.from}else{if(w==t||(E?Iy[w-1]!=a:Iy[w-1]==a))break;w--}S?xy(e,w,y,r+1,i,S,s):w<y&&s.push(new Ry(w,y,k)),y=w}}function Ay(e,t,n,r,i,o,s){var a=t%2?2:1;!function(e,t,n,r,i){for(var o=0;o<=r.length;o++){for(var s=o?r[o-1].to:t,a=o<r.length?r[o].from:n,l=o?256:i,c=s,u=l,h=l;c<a;c++){var p=(T=e.charCodeAt(c))<=247?vy[T]:1424<=T&&T<=1524?2:1536<=T&&T<=1785?my[T-1536]:1774<=T&&T<=2220?4:8192<=T&&T<=8203?256:64336<=T&&T<=65023?4:8204==T?256:1;512==p?p=u:8==p&&4==h&&(p=16),Iy[c]=4==p?2:p,7&p&&(h=p),u=p}for(var f=s,d=l,g=l;f<a;f++){var _=Iy[f];if(128==_)f<a-1&&d==Iy[f+1]&&24&d?_=Iy[f]=d:Iy[f]=256;else if(64==_){for(var v=f+1;v<a&&64==Iy[v];)v++;for(var m=f&&8==d||v<n&&8==Iy[v]?1==g?1:8:256,y=f;y<v;y++)Iy[y]=m;f=v-1}else 8==_&&1==g&&(Iy[f]=1);d=_,7&_&&(g=_)}}var T}(e,i,o,r,a),function(e,t,n,r,i){for(var o=1==i?2:1,s=0,a=0,l=0;s<=r.length;s++)for(var c,u,h,p=s?r[s-1].to:t,f=s<r.length?r[s].from:n,d=p;d<f;d++)if(u=yy[c=e.charCodeAt(d)])if(u<0){for(var g=a-3;g>=0;g-=3)if(Ty[g+1]==-u){var _=Ty[g+2],v=2&_?i:4&_?1&_?o:i:0;v&&(Iy[d]=Iy[Ty[g]]=v),a=g;break}}else{if(189==Ty.length)break;Ty[a++]=d,Ty[a++]=c,Ty[a++]=l}else if(2==(h=Iy[d])||1==h){var m=h==i;l=m?0:1;for(var y=a-3;y>=0;y-=3){var T=Ty[y+2];if(2&T)break;if(m)Ty[y+2]|=2;else{if(4&T)break;Ty[y+2]|=4}}}}(e,i,o,r,a),function(e,t,n,r){for(var i=0,o=r;i<=n.length;i++)for(var s=i?n[i-1].to:e,a=i<n.length?n[i].from:t,l=s;l<a;){var c=Iy[l];if(256==c){for(var u=l+1;;)if(u==a){if(i==n.length)break;u=n[i++].to,a=i<n.length?n[i].from:t}else{if(256!=Iy[u])break;u++}for(var h=1==o,p=h==(1==(u<t?Iy[u]:r))?h?1:2:r,f=u,d=i,g=d?n[d-1].to:e;f>l;)f==g&&(f=n[--d].from,g=d?n[d-1].to:e),Iy[--f]=p;l=u}else o=c,l++}}(i,o,r,a),xy(e,i,o,t,n,r,s)}function Ny(e,t,n){if(!e)return[new Ry(0,0,t==gy?1:0)];if(t==dy&&!n.length&&!wy.test(e))return Ly(e.length);if(n.length)for(;e.length>Iy.length;)Iy[Iy.length]=256;var r=[],i=t==dy?0:1;return Ay(e,i,i,n,0,e.length,r),r}function Ly(e){return[new Ry(0,e,0)]}var My="";function Dy(e,t,n,r,i){var o,s=r.head-e.from,a=-1;if(0==s){if(!i||!e.length)return null;t[0].level!=n&&(s=t[0].side(!1,n),a=0)}else if(s==e.length){if(i)return null;var l=t[t.length-1];l.level!=n&&(s=l.side(!0,n),a=t.length-1)}a<0&&(a=Ry.find(t,s,null!==(o=r.bidiLevel)&&void 0!==o?o:-1,r.assoc));var c=t[a];s==c.side(i,n)&&(s=(c=t[a+=i?1:-1]).side(!i,n));var u=i==(c.dir==n),h=jg(e.text,s,u);if(My=e.text.slice(Math.min(s,h),Math.max(s,h)),h!=c.side(i,n))return c_.cursor(h+e.from,u?-1:1,c.level);var p=a==(i?t.length-1:0)?null:t[a+(i?1:-1)];return p||c.level==n?p&&p.level<c.level?c_.cursor(p.side(!i,n)+e.from,i?1:-1,p.level):c_.cursor(h+e.from,i?-1:1,c.level):c_.cursor(i?e.to:e.from,i?-1:1,n)}var Py=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e){var r;return(0,z.Z)(this,n),(r=t.call(this)).view=e,r.decorations=[],r.dynamicDecorationMap=[],r.domChanged=null,r.hasComposition=null,r.markedForComposition=new Set,r.minWidth=0,r.minWidthFrom=0,r.minWidthTo=0,r.impreciseAnchor=null,r.impreciseHead=null,r.forceSelection=!1,r.lastUpdate=Date.now(),r.setDOM(e.contentDOM),r.children=[new wm],r.children[0].setParent((0,q.Z)(r)),r.updateDeco(),r.updateInner([new hy(0,0,0,e.state.doc.length)],0,null),r}return(0,Y.Z)(n,[{key:"length",get:function(){return this.view.state.doc.length}},{key:"update",value:function(e){var t,n=this,r=e.changedRanges;this.minWidth>0&&r.length&&(r.every((function(e){var t=e.fromA;return e.toA<n.minWidthFrom||t>n.minWidthTo}))?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0);var i=-1;this.view.inputState.composing>=0&&((null===(t=this.domChanged)||void 0===t?void 0:t.newSel)?i=this.domChanged.newSel.head:function(e,t){var n=!1;t&&e.iterChangedRanges((function(e,r){e<t.to&&r>t.from&&(n=!0)}));return n}(e.changes,this.hasComposition)||e.selectionSet||(i=e.state.selection.main.head));var o=i>-1?function(e,t,n){var r=Fy(e,n);if(!r)return null;var i=r.node,o=r.from,s=r.to,a=i.nodeValue;if(/[\n\r]/.test(a))return null;if(e.state.doc.sliceString(r.from,r.to)!=a)return null;for(var l=t.invertedDesc,c=new hy(l.mapPos(o),l.mapPos(s),o,s),u=[],h=i.parentNode;;h=h.parentNode){var p=Qv.get(h);if(p instanceof gm)u.push({node:h,deco:p.mark});else{if(p instanceof wm||"DIV"==h.nodeName&&h.parentNode==e.contentDOM)return{range:c,text:i,marks:u,line:h};if(h==e.contentDOM)return null;u.push({node:h,deco:new Am({inclusive:!0,attributes:km(h),tagName:h.tagName.toLowerCase()})})}}}(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();var s=this.hasComposition,a=s.from,l=s.to;r=new hy(a,l,e.changes.mapPos(a,-1),e.changes.mapPos(l,1)).addToSet(r.slice())}this.hasComposition=o?{from:o.range.fromB,to:o.range.toB}:null,(fm.ie||fm.chrome)&&!o&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);var c=function(e,t,n){var r=new Zy;return ov.compare(e,t,n,r),r.changes}(this.decorations,this.updateDeco(),e.changes);return r=hy.extendWithRanges(r,c),!!(7&this.flags||0!=r.length)&&(this.updateInner(r,e.startState.doc.length,o),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}},{key:"updateInner",value:function(e,t,n){var r=this;this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,n);var i=this.view.observer;i.ignore((function(){r.dom.style.height=r.view.viewState.contentHeight/r.view.scaleY+"px",r.dom.style.flexBasis=r.minWidth?r.minWidth+"px":"";var e=fm.chrome||fm.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;r.sync(r.view,e),r.flags&=-8,e&&(e.written||i.selectionRange.focusNode!=e.node)&&(r.forceSelection=!0),r.dom.style.height=""})),this.markedForComposition.forEach((function(e){return e.flags&=-9}));var o=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length){var s,a=(0,X.Z)(this.children);try{for(a.s();!(s=a.n()).done;){var l=s.value;l instanceof Rm&&l.widget instanceof By&&o.push(l.dom)}}catch(c){a.e(c)}finally{a.f()}}i.updateGaps(o)}},{key:"updateChildren",value:function(e,t,n){for(var r=n?n.range.addToSet(e.slice()):e,i=this.childCursor(t),o=r.length-1;;o--){var s=o>=0?r[o]:null;if(!s)break;var a=s.fromA,l=s.toA,c=s.fromB,u=s.toB,h=void 0,p=void 0,f=void 0,d=void 0;if(n&&n.range.fromB<u&&n.range.toB>c){var g=Pm.build(this.view.state.doc,c,n.range.fromB,this.decorations,this.dynamicDecorationMap),_=Pm.build(this.view.state.doc,n.range.toB,u,this.decorations,this.dynamicDecorationMap);p=g.breakAtStart,f=g.openStart,d=_.openEnd;var v=this.compositionView(n);_.breakAtStart?v.breakAfter=1:_.content.length&&v.merge(v.length,v.length,_.content[0],!1,_.openStart,0)&&(v.breakAfter=_.content[0].breakAfter,_.content.shift()),g.content.length&&v.merge(0,0,g.content[g.content.length-1],!0,0,g.openEnd)&&g.content.pop(),h=g.content.concat(v).concat(_.content)}else{var m=Pm.build(this.view.state.doc,c,u,this.decorations,this.dynamicDecorationMap);h=m.content,p=m.breakAtStart,f=m.openStart,d=m.openEnd}var y=i.findPos(l,1),T=y.i,E=y.off,b=i.findPos(a,-1);em(this,b.i,b.off,T,E,h,p,f,d)}n&&this.fixCompositionDOM(n)}},{key:"compositionView",value:function(e){var t=new dm(e.text.nodeValue);t.flags|=8;var n,r=(0,X.Z)(e.marks);try{for(r.s();!(n=r.n()).done;){var i=n.value.deco;t=new gm(i,[t],t.length)}}catch(s){r.e(s)}finally{r.f()}var o=new wm;return o.append(t,0),o}},{key:"fixCompositionDOM",value:function(e){var t=this,n=function(e,n){n.flags|=8|(n.children.some((function(e){return 7&e.flags}))?1:0),t.markedForComposition.add(n);var r=Qv.get(e);r&&r!=n&&(r.dom=null),n.setDOM(e)},r=this.childPos(e.range.fromB,1),i=this.children[r.i];n(e.line,i);for(var o=e.marks.length-1;o>=-1;o--)r=i.childPos(r.off,1),i=i.children[r.i],n(o>=0?e.marks[o].node:e.text,i)}},{key:"updateSelection",value:function(){var e=this,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!(arguments.length>0&&void 0!==arguments[0]&&arguments[0])&&this.view.observer.selectionRange.focusNode||this.view.observer.readSelectionRange();var n=this.view.root.activeElement,r=n==this.dom,i=!r&&Lv(this.dom,this.view.observer.selectionRange)&&!(n&&this.dom.contains(n));if(r||t||i){var o=this.forceSelection;this.forceSelection=!1;var s,a=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(a.anchor)),c=a.empty?l:this.moveToLine(this.domAtPos(a.head));if(fm.gecko&&a.empty&&!this.hasComposition&&(1==(s=l).node.nodeType&&s.node.firstChild&&(0==s.offset||"false"==s.node.childNodes[s.offset-1].contentEditable)&&(s.offset==s.node.childNodes.length||"false"==s.node.childNodes[s.offset].contentEditable))){var u=document.createTextNode("");this.view.observer.ignore((function(){return l.node.insertBefore(u,l.node.childNodes[l.offset]||null)})),l=c=new qv(u,0),o=!0}var h=this.view.observer.selectionRange;!o&&h.focusNode&&Dv(l.node,l.offset,h.anchorNode,h.anchorOffset)&&Dv(c.node,c.offset,h.focusNode,h.focusOffset)||(this.view.observer.ignore((function(){fm.android&&fm.chrome&&e.dom.contains(h.focusNode)&&function(e,t){for(var n=e;n&&n!=t;n=n.assignedSlot||n.parentNode)if(1==n.nodeType&&"false"==n.contentEditable)return!0;return!1}(h.focusNode,e.dom)&&(e.dom.blur(),e.dom.focus({preventScroll:!0}));var t,r,o=Av(e.view.root);if(o)if(a.empty){if(fm.gecko){var s=(t=l.node,r=l.offset,1!=t.nodeType?0:(r&&"false"==t.childNodes[r-1].contentEditable?1:0)|(r<t.childNodes.length&&"false"==t.childNodes[r].contentEditable?2:0));if(s&&3!=s){var u=Uy(l.node,l.offset,1==s?1:-1);u&&(l=new qv(u.node,u.offset))}}o.collapse(l.node,l.offset),null!=a.bidiLevel&&void 0!==o.caretBidiLevel&&(o.caretBidiLevel=a.bidiLevel)}else if(o.extend){o.collapse(l.node,l.offset);try{o.extend(c.node,c.offset)}catch(xf){}}else{var p=document.createRange();if(a.anchor>a.head){var f=[c,l];l=f[0],c=f[1]}p.setEnd(c.node,c.offset),p.setStart(l.node,l.offset),o.removeAllRanges(),o.addRange(p)}else;i&&e.view.root.activeElement==e.dom&&(e.dom.blur(),n&&n.focus())})),this.view.observer.setSelectionRange(l,c)),this.impreciseAnchor=l.precise?null:new qv(h.anchorNode,h.anchorOffset),this.impreciseHead=c.precise?null:new qv(h.focusNode,h.focusOffset)}}},{key:"enforceCursorAssoc",value:function(){if(!this.hasComposition){var e=this.view,t=e.state.selection.main,n=Av(e.root),r=e.observer.selectionRange,i=r.anchorNode,o=r.anchorOffset;if(n&&t.empty&&t.assoc&&n.modify){var s=wm.find(this,t.head);if(s){var a=s.posAtStart;if(t.head!=a&&t.head!=a+s.length){var l=this.coordsAt(t.head,-1),c=this.coordsAt(t.head,1);if(l&&c&&!(l.bottom>c.top)){var u=this.domAtPos(t.head+t.assoc);n.collapse(u.node,u.offset),n.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();var h=e.observer.selectionRange;e.docView.posFromDOM(h.anchorNode,h.anchorOffset)!=t.from&&n.collapse(i,o)}}}}}}},{key:"moveToLine",value:function(e){var t,n=this.dom;if(e.node!=n)return e;for(var r=e.offset;!t&&r<n.childNodes.length;r++){var i=Qv.get(n.childNodes[r]);i instanceof wm&&(t=i.domAtPos(0))}for(var o=e.offset-1;!t&&o>=0;o--){var s=Qv.get(n.childNodes[o]);s instanceof wm&&(t=s.domAtPos(s.length))}return t?new qv(t.node,t.offset,!0):e}},{key:"nearest",value:function(e){for(var t=e;t;){var n=Qv.get(t);if(n&&n.rootView==this)return n;t=t.parentNode}return null}},{key:"posFromDOM",value:function(e,t){var n=this.nearest(e);if(!n)throw new RangeError("Trying to find position for a DOM position outside of the document");return n.localPosFromDOM(e,t)+n.posAtStart}},{key:"domAtPos",value:function(e){for(var t=this.childCursor().findPos(e,-1),n=t.i,r=t.off;n<this.children.length-1;){var i=this.children[n];if(r<i.length||i instanceof wm)break;n++,r=0}return this.children[n].domAtPos(r)}},{key:"coordsAt",value:function(e,t){for(var n=null,r=0,i=this.length,o=this.children.length-1;o>=0;o--){var s=this.children[o],a=i-s.breakAfter,l=a-s.length;if(a<e)break;l<=e&&(l<e||s.covers(-1))&&(a>e||s.covers(1))&&(!n||s instanceof wm&&!(n instanceof wm&&t>=0))&&(n=s,r=l),i=l}return n?n.coordsAt(e-r,t):null}},{key:"coordsForChar",value:function(e){var t=this.childPos(e,1),n=t.i,r=t.off,i=this.children[n];if(!(i instanceof wm))return null;for(;i.children.length;){for(var o=i.childPos(r,1),s=o.i,a=o.off;;s++){if(s==i.children.length)return null;if((i=i.children[s]).length)break}r=a}if(!(i instanceof dm))return null;var l=jg(i.text,r);if(l==r)return null;for(var c=Wv(i.dom,r,l).getClientRects(),u=0;u<c.length;u++){var h=c[u];if(u==c.length-1||h.top<h.bottom&&h.left<h.right)return h}return null}},{key:"measureVisibleLineHeights",value:function(e){for(var t=[],n=e.from,r=e.to,i=this.view.contentDOM.clientWidth,o=i>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,s=-1,a=this.view.textDirection==fy.LTR,l=0,c=0;c<this.children.length;c++){var u=this.children[c],h=l+u.length;if(h>r)break;if(l>=n){var p=u.dom.getBoundingClientRect();if(t.push(p.height),o){var f=u.dom.lastChild,d=f?Mv(f):[];if(d.length){var g=d[d.length-1],_=a?g.right-p.left:p.right-g.left;_>s&&(s=_,this.minWidth=i,this.minWidthFrom=l,this.minWidthTo=h)}}}l=h+u.breakAfter}return t}},{key:"textDirectionAt",value:function(e){var t=this.childPos(e,1).i;return"rtl"==getComputedStyle(this.children[t].dom).direction?fy.RTL:fy.LTR}},{key:"measureTextSize",value:function(){var e,t=this,n=(0,X.Z)(this.children);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r instanceof wm){var i=r.measureTextSize();if(i)return i}}}catch(c){n.e(c)}finally{n.f()}var o,s,a,l=document.createElement("div");return l.className="cm-line",l.style.width="99999px",l.style.position="absolute",l.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore((function(){t.dom.appendChild(l);var e=Mv(l.firstChild)[0];o=l.getBoundingClientRect().height,s=e?e.width/27:7,a=e?e.height:o,l.remove()})),{lineHeight:o,charWidth:s,textHeight:a}}},{key:"childCursor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.length,t=this.children.length;return t&&(e-=this.children[--t].length),new $v(this.children,e,t)}},{key:"computeBlockGapDeco",value:function(){for(var e=[],t=this.view.viewState,n=0,r=0;;r++){var i=r==t.viewports.length?null:t.viewports[r],o=i?i.from-1:this.length;if(o>n){var s=(t.lineBlockAt(o).bottom-t.lineBlockAt(n).top)/this.view.scaleY;e.push(xm.replace({widget:new By(s),block:!0,inclusive:!0,isBlockGap:!0}).range(n,o))}if(!i)break;n=i.to+1}return xm.set(e)}},{key:"updateDeco",value:function(){for(var e=this,t=this.view.state.facet(iy).map((function(t,n){return(e.dynamicDecorationMap[n]="function"==typeof t)?t(e.view):t})),n=t.length;n<t.length+3;n++)this.dynamicDecorationMap[n]=!1;return this.decorations=[].concat((0,W.Z)(t),[this.computeBlockGapDeco(),this.view.viewState.lineGapDeco])}},{key:"scrollIntoView",value:function(e){var t,n=e.range,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1);if(r){!n.empty&&(t=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,t.left),top:Math.min(r.top,t.top),right:Math.max(r.right,t.right),bottom:Math.max(r.bottom,t.bottom)});var i=cy(this.view),o={left:r.left-i.left,top:r.top-i.top,right:r.right+i.right,bottom:r.bottom+i.bottom};!function(e,t,n,r,i,o,s,a){for(var l=e.ownerDocument,c=l.defaultView||window,u=e,h=!1;u&&!h;)if(1==u.nodeType){var p=void 0,f=u==l.body,d=1,g=1;if(f)p=Zv(c);else{if(/^(fixed|sticky)$/.test(getComputedStyle(u).position)&&(h=!0),u.scrollHeight<=u.clientHeight&&u.scrollWidth<=u.clientWidth){u=u.assignedSlot||u.parentNode;continue}var _=u.getBoundingClientRect();d=_.width/u.offsetWidth,g=_.height/u.offsetHeight,p={left:_.left,right:_.left+u.clientWidth*d,top:_.top,bottom:_.top+u.clientHeight*g}}var v=0,m=0;if("nearest"==i)t.top<p.top?(m=-(p.top-t.top+s),n>0&&t.bottom>p.bottom+m&&(m=t.bottom-p.bottom+m+s)):t.bottom>p.bottom&&(m=t.bottom-p.bottom+s,n<0&&t.top-m<p.top&&(m=-(p.top+m-t.top+s)));else{var y=t.bottom-t.top,T=p.bottom-p.top;m=("center"==i&&y<=T?t.top+y/2-T/2:"start"==i||"center"==i&&n<0?t.top-s:t.bottom-T+s)-p.top}if("nearest"==r?t.left<p.left?(v=-(p.left-t.left+o),n>0&&t.right>p.right+v&&(v=t.right-p.right+v+o)):t.right>p.right&&(v=t.right-p.right+o,n<0&&t.left<p.left+v&&(v=-(p.left+v-t.left+o))):v=("center"==r?t.left+(t.right-t.left)/2-(p.right-p.left)/2:"start"==r==a?t.left-o:t.right-(p.right-p.left)+o)-p.left,v||m)if(f)c.scrollBy(v,m);else{var E=0,b=0;if(m){var O=u.scrollTop;u.scrollTop+=m/g,b=(u.scrollTop-O)*g}if(v){var S=u.scrollLeft;u.scrollLeft+=v/d,E=(u.scrollLeft-S)*d}t={left:t.left-E,top:t.top-b,right:t.right-E,bottom:t.bottom-b},E&&Math.abs(E-v)<1&&(r="nearest"),b&&Math.abs(b-m)<1&&(i="nearest")}if(f)break;u=u.assignedSlot||u.parentNode}else{if(11!=u.nodeType)break;u=u.host}}(this.view.scrollDOM,o,n.head<n.anchor?-1:1,e.x,e.y,e.xMargin,e.yMargin,this.view.textDirection==fy.LTR)}}}]),n}(Qv);var By=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e){var r;return(0,z.Z)(this,n),(r=t.call(this)).height=e,r}return(0,Y.Z)(n,[{key:"toDOM",value:function(){var e=document.createElement("div");return this.updateDOM(e),e}},{key:"eq",value:function(e){return e.height==this.height}},{key:"updateDOM",value:function(e){return e.style.height=this.height+"px",!0}},{key:"estimatedHeight",get:function(){return this.height}}]),n}(Cm);function Fy(e,t){var n=e.observer.selectionRange,r=n.focusNode&&Uy(n.focusNode,n.focusOffset,0);if(!r)return null;var i=t-r.offset;return{from:i,to:i+r.node.nodeValue.length,node:r.node}}function Uy(e,t,n){if(n<=0)for(var r=e,i=t;;){if(3==r.nodeType)return{node:r,offset:i};if(!(1==r.nodeType&&i>0))break;i=Fv(r=r.childNodes[i-1])}if(n>=0)for(var o=e,s=t;;){if(3==o.nodeType)return{node:o,offset:s};if(!(1==o.nodeType&&s<o.childNodes.length&&n>=0))break;o=o.childNodes[s],s=0}return null}var Zy=function(){function e(){(0,z.Z)(this,e),this.changes=[]}return(0,Y.Z)(e,[{key:"compareRange",value:function(e,t){Dm(e,t,this.changes)}},{key:"comparePoint",value:function(e,t){Dm(e,t,this.changes)}}]),e}();function Gy(e,t){return t.left>e?t.left-e:Math.max(0,e-t.right)}function Hy(e,t){return t.top>e?t.top-e:Math.max(0,e-t.bottom)}function Vy(e,t){return e.top<t.bottom-1&&e.bottom>t.top+1}function jy(e,t){return t<e.top?{top:t,left:e.left,right:e.right,bottom:e.bottom}:e}function Wy(e,t){return t>e.bottom?{top:e.top,left:e.left,right:e.right,bottom:t}:e}function Xy(e,t,n){for(var r,i,o,s,a,l,c,u,h=!1,p=e.firstChild;p;p=p.nextSibling)for(var f=Mv(p),d=0;d<f.length;d++){var g=f[d];i&&Vy(i,g)&&(g=jy(Wy(g,i.bottom),i.top));var _=Gy(t,g),v=Hy(n,g);if(0==_&&0==v)return 3==p.nodeType?zy(p,t,n):Xy(p,t,n);if(!r||s>v||s==v&&o>_){r=p,i=g,o=_,s=v;var m=v?n<g.top?-1:1:_?t<g.left?-1:1:0;h=!m||(m>0?d<f.length-1:d>0)}0==_?n>g.bottom&&(!c||c.bottom<g.bottom)?(a=p,c=g):n<g.top&&(!u||u.top>g.top)&&(l=p,u=g):c&&Vy(c,g)?c=Wy(c,g.bottom):u&&Vy(u,g)&&(u=jy(u,g.top))}if(c&&c.bottom>=n?(r=a,i=c):u&&u.top<=n&&(r=l,i=u),!r)return{node:e,offset:0};var y=Math.max(i.left,Math.min(i.right,t));return 3==r.nodeType?zy(r,y,n):h&&"false"!=r.contentEditable?Xy(r,y,n):{node:e,offset:Array.prototype.indexOf.call(e.childNodes,r)+(t>=(i.left+i.right)/2?1:0)}}function zy(e,t,n){for(var r=e.nodeValue.length,i=-1,o=1e9,s=0,a=0;a<r;a++)for(var l=Wv(e,a,a+1).getClientRects(),c=0;c<l.length;c++){var u=l[c];if(u.top!=u.bottom){s||(s=t-u.left);var h=(u.top>n?u.top-n:n-u.bottom)-1;if(u.left-1<=t&&u.right+1>=t&&h<o){var p=t>=(u.left+u.right)/2,f=p;if(fm.chrome||fm.gecko)Wv(e,a).getBoundingClientRect().left==u.right&&(f=!p);if(h<=0)return{node:e,offset:a+(f?1:0)};i=a+(f?1:0),o=h}}}return{node:e,offset:i>-1?i:s>0?e.nodeValue.length:0}}function Yy(e,t,n){var r,i,o,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,a=e.contentDOM.getBoundingClientRect(),l=a.top+e.viewState.paddingTop,c=e.viewState.docHeight,u=t.x,h=t.y,p=h-l;if(p<0)return 0;if(p>c)return e.state.doc.length;for(var f=e.viewState.heightOracle.textHeight/2,d=!1;(o=e.elementAtHeight(p)).type!=Im.Text;)for(;!((p=s>0?o.bottom+f:o.top-f)>=0&&p<=c);){if(d)return n?null:0;d=!0,s=-s}h=l+p;var g=o.from;if(g<e.viewport.from)return 0==e.viewport.from?0:n?null:qy(e,a,o,u,h);if(g>e.viewport.to)return e.viewport.to==e.state.doc.length?e.state.doc.length:n?null:qy(e,a,o,u,h);var _=e.dom.ownerDocument,v=e.root.elementFromPoint?e.root:_,m=v.elementFromPoint(u,h);m&&!e.contentDOM.contains(m)&&(m=null),m||(u=Math.max(a.left+1,Math.min(a.right-1,u)),(m=v.elementFromPoint(u,h))&&!e.contentDOM.contains(m)&&(m=null));var y,T=-1;if(m&&0!=(null===(r=e.docView.nearest(m))||void 0===r?void 0:r.isEditable))if(_.caretPositionFromPoint){var E=_.caretPositionFromPoint(u,h);E&&(y=E.offsetNode,T=E.offset)}else if(_.caretRangeFromPoint){var b=_.caretRangeFromPoint(u,h);b&&(y=b.startContainer,T=b.startOffset,(!e.contentDOM.contains(y)||fm.safari&&function(e,t,n){var r;if(3!=e.nodeType||t!=(r=e.nodeValue.length))return!1;for(var i=e.nextSibling;i;i=i.nextSibling)if(1!=i.nodeType||"BR"!=i.nodeName)return!1;return Wv(e,r-1,r).getBoundingClientRect().left>n}(y,T,u)||fm.chrome&&function(e,t,n){if(0!=t)return!1;for(var r=e;;){var i=r.parentNode;if(!i||1!=i.nodeType||i.firstChild!=r)return!1;if(i.classList.contains("cm-line"))break;r=i}var o=1==e.nodeType?e.getBoundingClientRect():Wv(e,0,Math.max(e.nodeValue.length,1)).getBoundingClientRect();return n-o.left>5}(y,T,u))&&(y=void 0))}if(!y||!e.docView.dom.contains(y)){var O=wm.find(e.docView,g);if(!O)return p>o.top+o.height/2?o.to:o.from;var S=Xy(O.dom,u,h);y=S.node,T=S.offset}var k=e.docView.nearest(y);if(!k)return null;if(k.isWidget&&1==(null===(i=k.dom)||void 0===i?void 0:i.nodeType)){var w=k.dom.getBoundingClientRect();return t.y<w.top||t.y<=w.bottom&&t.x<=(w.left+w.right)/2?k.posAtStart:k.posAtEnd}return k.localPosFromDOM(y,T)+k.posAtStart}function qy(e,t,n,r,i){var o=Math.round((r-t.left)*e.defaultCharacterWidth);if(e.lineWrapping&&n.height>1.5*e.defaultLineHeight){var s=e.viewState.heightOracle.textHeight;o+=Math.floor((i-n.top-.5*(e.defaultLineHeight-s))/s)*e.viewState.heightOracle.lineLength}var a=e.state.sliceDoc(n.from,n.to);return n.from+mv(a,o,e.state.tabSize)}function Ky(e,t){var n=e.lineBlockAt(t);if(Array.isArray(n.type)){var r,i=(0,X.Z)(n.type);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o.to>t||o.to==t&&(o.to==n.to||o.type==Im.Text))return o}}catch(s){i.e(s)}finally{i.f()}}return n}function Qy(e,t,n,r){for(var i=e.state.doc.lineAt(t.head),o=e.bidiSpans(i),s=e.textDirectionAt(i.from),a=t,l=null;;){var c=Dy(i,o,s,a,n),u=My;if(!c){if(i.number==(n?e.state.doc.lines:1))return a;u="\n",i=e.state.doc.line(i.number+(n?1:-1)),o=e.bidiSpans(i),c=c_.cursor(n?i.from:i.to)}if(l){if(!l(u))return a}else{if(!r)return c;l=r(u)}a=c}}function Jy(e,t,n){for(var r,i=function(){var r,i=0,o=(0,X.Z)(e);try{for(o.s();!(r=o.n()).done;){r.value.between(t-1,t+1,(function(e,r,o){if(t>e&&t<r){var s=i||n||(t-e<r-t?-1:1);t=s<0?e:r,i=s}}))}}catch(s){o.e(s)}finally{o.f()}if(!i)return{v:t}};;)if(r=i())return r.v}function $y(e,t,n){var r=Jy(e.state.facet(oy).map((function(t){return t(e)})),n.from,t.head>n.from?-1:1);return r==n.from?n:c_.cursor(r,r<n.from?1:-1)}var eT=function(){function e(t){(0,z.Z)(this,e),this.view=t,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=t.hasFocus,fm.safari&&t.contentDOM.addEventListener("input",(function(){return null})),fm.gecko&&function(e){RT.has(e)||(RT.add(e),e.addEventListener("copy",(function(){})),e.addEventListener("cut",(function(){})))}(t.contentDOM.ownerDocument)}return(0,Y.Z)(e,[{key:"setSelectionOrigin",value:function(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}},{key:"handleEvent",value:function(e){(function(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(var n,r=t.target;r!=e.contentDOM;r=r.parentNode)if(!r||11==r.nodeType||(n=Qv.get(r))&&n.ignoreEvent(t))return!1;return!0})(this.view,e)&&!this.ignoreDuringComposition(e)&&("keydown"==e.type&&this.keydown(e)||this.runHandlers(e.type,e))}},{key:"runHandlers",value:function(e,t){var n=this.handlers[e];if(n){var r,i=(0,X.Z)(n.observers);try{for(i.s();!(r=i.n()).done;){(0,r.value)(this.view,t)}}catch(l){i.e(l)}finally{i.f()}var o,s=(0,X.Z)(n.handlers);try{for(s.s();!(o=s.n()).done;){var a=o.value;if(t.defaultPrevented)break;if(a(this.view,t)){t.preventDefault();break}}}catch(l){s.e(l)}finally{s.f()}}}},{key:"ensureHandlers",value:function(e){var t=nT(e),n=this.handlers,r=this.view.contentDOM;for(var i in t)if("scroll"!=i){var o=!t[i].handlers.length,s=n[i];s&&o!=!s.handlers.length&&(r.removeEventListener(i,this.handleEvent),s=null),s||r.addEventListener(i,this.handleEvent,{passive:o})}for(var a in n)"scroll"==a||t[a]||r.removeEventListener(a,this.handleEvent);this.handlers=t}},{key:"keydown",value:function(e){var t,n=this;return this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),9==e.keyCode&&Date.now()<this.lastEscPress+2e3||(27!=e.keyCode&&oT.indexOf(e.keyCode)<0&&(this.view.inputState.lastEscPress=0),!fm.android||!fm.chrome||e.synthetic||13!=e.keyCode&&8!=e.keyCode?!fm.ios||e.synthetic||e.altKey||e.metaKey||!((t=rT.find((function(t){return t.keyCode==e.keyCode})))&&!e.ctrlKey||iT.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(229!=e.keyCode&&this.view.observer.forceFlush(),!1):(this.pendingIOSKey=t||e,setTimeout((function(){return n.flushIOSKey()}),250),!0):(this.view.observer.delayAndroidKey(e.key,e.keyCode),!0))}},{key:"flushIOSKey",value:function(){var e=this.pendingIOSKey;return!!e&&(this.pendingIOSKey=void 0,Xv(this.view.contentDOM,e.key,e.keyCode))}},{key:"ignoreDuringComposition",value:function(e){return!!/^key/.test(e.type)&&(this.composing>0||!!(fm.safari&&!fm.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100)&&(this.compositionPendingKey=!1,!0))}},{key:"startMouseSelection",value:function(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}},{key:"update",value:function(e){this.mouseSelection&&this.mouseSelection.update(e),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}},{key:"destroy",value:function(){this.mouseSelection&&this.mouseSelection.destroy()}}]),e}();function tT(e,t){return function(n,r){try{return t.call(e,r,n)}catch(i){Km(n.state,i)}}}function nT(e){var t=Object.create(null);function n(e){return t[e]||(t[e]={observers:[],handlers:[]})}var r,i=(0,X.Z)(e);try{for(i.s();!(r=i.n()).done;){var o=r.value,s=o.spec;if(s&&s.domEventHandlers)for(var a in s.domEventHandlers){var l=s.domEventHandlers[a];l&&n(a).handlers.push(tT(o.value,l))}if(s&&s.domEventObservers)for(var c in s.domEventObservers){var u=s.domEventObservers[c];u&&n(c).observers.push(tT(o.value,u))}}}catch(f){i.e(f)}finally{i.f()}for(var h in lT)n(h).handlers.push(lT[h]);for(var p in cT)n(p).observers.push(cT[p]);return t}var rT=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],iT="dthko",oT=[16,17,18,20,91,92,224,225];function sT(e){return.7*Math.max(0,e)+8}var aT=function(){function e(t,n,r,i){(0,z.Z)(this,e),this.view=t,this.startEvent=n,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParent=function(e){for(var t=e.ownerDocument,n=e.parentNode;n&&n!=t.body;)if(1==n.nodeType){if(n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth)return n;n=n.assignedSlot||n.parentNode}else{if(11!=n.nodeType)break;n=n.host}return null}(t.contentDOM),this.atoms=t.state.facet(oy).map((function(e){return e(t)}));var o=t.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=t.state.facet($_.allowMultipleSelections)&&function(e,t){var n=e.state.facet(Um);return n.length?n[0](t):fm.mac?t.metaKey:t.ctrlKey}(t,n),this.dragging=!(!function(e,t){var n=e.state.selection.main;if(n.empty)return!1;var r=Av(e.root);if(!r||0==r.rangeCount)return!0;for(var i=r.getRangeAt(0).getClientRects(),o=0;o<i.length;o++){var s=i[o];if(s.left<=t.clientX&&s.right>=t.clientX&&s.top<=t.clientY&&s.bottom>=t.clientY)return!0}return!1}(t,n)||1!=ET(n))&&null}return(0,Y.Z)(e,[{key:"start",value:function(e){!1===this.dragging&&this.select(e)}},{key:"move",value:function(e){var t;if(0==e.buttons)return this.destroy();if(!(this.dragging||null==this.dragging&&function(e,t){return Math.max(Math.abs(e.clientX-t.clientX),Math.abs(e.clientY-t.clientY))}(this.startEvent,e)<10)){this.select(this.lastEvent=e);var n=0,r=0,i=(null===(t=this.scrollParent)||void 0===t?void 0:t.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight},o=cy(this.view);e.clientX-o.left<=i.left+6?n=-sT(i.left-e.clientX):e.clientX+o.right>=i.right-6&&(n=sT(e.clientX-i.right)),e.clientY-o.top<=i.top+6?r=-sT(i.top-e.clientY):e.clientY+o.bottom>=i.bottom-6&&(r=sT(e.clientY-i.bottom)),this.setScrollSpeed(n,r)}}},{key:"up",value:function(e){null==this.dragging&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}},{key:"destroy",value:function(){this.setScrollSpeed(0,0);var e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}},{key:"setScrollSpeed",value:function(e,t){var n=this;this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval((function(){return n.scroll()}),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}},{key:"scroll",value:function(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),!1===this.dragging&&this.select(this.lastEvent)}},{key:"skipAtoms",value:function(e){for(var t=null,n=0;n<e.ranges.length;n++){var r=e.ranges[n],i=null;if(r.empty){var o=Jy(this.atoms,r.from,0);o!=r.from&&(i=c_.cursor(o,-1))}else{var s=Jy(this.atoms,r.from,-1),a=Jy(this.atoms,r.to,1);s==r.from&&a==r.to||(i=c_.range(r.from==r.anchor?s:a,r.from==r.head?s:a))}i&&(t||(t=e.ranges.slice()),t[n]=i)}return t?c_.create(t,e.mainIndex):e}},{key:"select",value:function(e){var t=this.view,n=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!n.eq(t.state.selection)||n.main.assoc!=t.state.selection.main.assoc&&!1===this.dragging)&&this.view.dispatch({selection:n,userEvent:"select.pointer"}),this.mustSelect=!1}},{key:"update",value:function(e){var t=this;e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)&&setTimeout((function(){return t.select(t.lastEvent)}),20)}}]),e}();var lT=Object.create(null),cT=Object.create(null),uT=fm.ie&&fm.ie_version<15||fm.ios&&fm.webkit_version<604;function hT(e,t){var n,r=e.state,i=1,o=r.toText(t),s=o.lines==r.selection.ranges.length,a=null!=OT&&r.selection.ranges.every((function(e){return e.empty}))&&OT==o.toString();if(a){var l=-1;n=r.changeByRange((function(e){var n=r.doc.lineAt(e.from);if(n.from==l)return{range:e};l=n.from;var a=r.toText((s?o.line(i++).text:t)+r.lineBreak);return{changes:{from:n.from,insert:a},range:c_.cursor(e.from+a.length)}}))}else n=s?r.changeByRange((function(e){var t=o.line(i++);return{changes:{from:e.from,to:e.to,insert:t.text},range:c_.cursor(e.from+t.length)}})):r.replaceSelection(o);e.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}function pT(e,t,n,r){if(1==r)return c_.cursor(t,n);if(2==r)return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=e.charCategorizer(t),i=e.doc.lineAt(t),o=t-i.from;if(0==i.length)return c_.cursor(t);0==o?n=1:o==i.length&&(n=-1);var s=o,a=o;n<0?s=jg(i.text,o,!1):a=jg(i.text,o);for(var l=r(i.text.slice(s,a));s>0;){var c=jg(i.text,s,!1);if(r(i.text.slice(c,s))!=l)break;s=c}for(;a<i.length;){var u=jg(i.text,a);if(r(i.text.slice(a,u))!=l)break;a=u}return c_.range(s+i.from,a+i.from)}(e.state,t,n);var i=wm.find(e.docView,t),o=e.state.doc.lineAt(i?i.posAtEnd:t),s=i?i.posAtStart:o.from,a=i?i.posAtEnd:o.to;return a<e.state.doc.length&&a==o.to&&a++,c_.range(s,a)}cT.scroll=function(e){e.inputState.lastScrollTop=e.scrollDOM.scrollTop,e.inputState.lastScrollLeft=e.scrollDOM.scrollLeft},lT.keydown=function(e,t){return e.inputState.setSelectionOrigin("select"),27==t.keyCode&&(e.inputState.lastEscPress=Date.now()),!1},cT.touchstart=function(e,t){e.inputState.lastTouchTime=Date.now(),e.inputState.setSelectionOrigin("select.pointer")},cT.touchmove=function(e){e.inputState.setSelectionOrigin("select.pointer")},lT.mousedown=function(e,t){if(e.observer.flush(),e.inputState.lastTouchTime>Date.now()-2e3)return!1;var n,r=null,i=(0,X.Z)(e.state.facet(Gm));try{for(i.s();!(n=i.n()).done;){if(r=(0,n.value)(e,t))break}}catch(a){i.e(a)}finally{i.f()}if(r||0!=t.button||(r=function(e,t){var n=_T(e,t),r=ET(t),i=e.state.selection;return{update:function(e){e.docChanged&&(n.pos=e.changes.mapPos(n.pos),i=i.map(e.changes))},get:function(t,o,s){var a,l=_T(e,t),c=pT(e,l.pos,l.bias,r);if(n.pos!=l.pos&&!o){var u=pT(e,n.pos,n.bias,r),h=Math.min(u.from,c.from),p=Math.max(u.to,c.to);c=h<c.from?c_.range(h,p):c_.range(p,h)}return o?i.replaceRange(i.main.extend(c.from,c.to)):s&&1==r&&i.ranges.length>1&&(a=function(e,t){for(var n=0;n<e.ranges.length;n++){var r=e.ranges[n],i=r.from,o=r.to;if(i<=t&&o>=t)return c_.create(e.ranges.slice(0,n).concat(e.ranges.slice(n+1)),e.mainIndex==n?0:e.mainIndex-(e.mainIndex>n?1:0))}return null}(i,l.pos))?a:s?i.addRange(c):c_.create([c])}}}(e,t)),r){var o=!e.hasFocus;e.inputState.startMouseSelection(new aT(e,t,r,o)),o&&e.observer.ignore((function(){return jv(e.contentDOM)}));var s=e.inputState.mouseSelection;if(s)return s.start(t),!1===s.dragging}return!1};var fT=function(e,t){return e>=t.top&&e<=t.bottom},dT=function(e,t,n){return fT(t,n)&&e>=n.left&&e<=n.right};function gT(e,t,n,r){var i=wm.find(e.docView,t);if(!i)return 1;var o=t-i.posAtStart;if(0==o)return 1;if(o==i.length)return-1;var s=i.coordsAt(o,-1);if(s&&dT(n,r,s))return-1;var a=i.coordsAt(o,1);return a&&dT(n,r,a)?1:s&&fT(r,s)?-1:1}function _T(e,t){var n=e.posAtCoords({x:t.clientX,y:t.clientY},!1);return{pos:n,bias:gT(e,n,t.clientX,t.clientY)}}var vT=fm.ie&&fm.ie_version<=11,mT=null,yT=0,TT=0;function ET(e){if(!vT)return e.detail;var t=mT,n=TT;return mT=e,TT=Date.now(),yT=!t||n>Date.now()-400&&Math.abs(t.clientX-e.clientX)<2&&Math.abs(t.clientY-e.clientY)<2?(yT+1)%3:1}function bT(e,t,n,r){if(n){var i=e.posAtCoords({x:t.clientX,y:t.clientY},!1),o=e.inputState.mouseSelection,s=r&&o&&o.dragging&&function(e,t){var n=e.state.facet(Zm);return n.length?n[0](t):fm.mac?!t.altKey:!t.ctrlKey}(e,t)?{from:o.dragging.from,to:o.dragging.to}:null,a={from:i,insert:n},l=e.state.changes(s?[s,a]:a);e.focus(),e.dispatch({changes:l,selection:{anchor:l.mapPos(i,-1),head:l.mapPos(i,1)},userEvent:s?"move.drop":"input.drop"})}}lT.dragstart=function(e,t){var n=e.state.selection.main,r=e.inputState.mouseSelection;return r&&(r.dragging=n),t.dataTransfer&&(t.dataTransfer.setData("Text",e.state.sliceDoc(n.from,n.to)),t.dataTransfer.effectAllowed="copyMove"),!1},lT.drop=function(e,t){if(!t.dataTransfer)return!1;if(e.state.readOnly)return!0;var n=t.dataTransfer.files;if(n&&n.length){for(var r=Array(n.length),i=0,o=function(){++i==n.length&&bT(e,t,r.filter((function(e){return null!=e})).join(e.state.lineBreak),!1)},s=function(e){var t=new FileReader;t.onerror=o,t.onload=function(){/[\x00-\x08\x0e-\x1f]{2}/.test(t.result)||(r[e]=t.result),o()},t.readAsText(n[e])},a=0;a<n.length;a++)s(a);return!0}var l=t.dataTransfer.getData("Text");return!!l&&(bT(e,t,l,!0),!0)},lT.paste=function(e,t){if(e.state.readOnly)return!0;e.observer.flush();var n=uT?null:t.clipboardData;return n?(hT(e,n.getData("text/plain")||n.getData("text/uri-text")),!0):(function(e){var t=e.dom.parentNode;if(t){var n=t.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout((function(){e.focus(),n.remove(),hT(e,n.value)}),50)}}(e),!1)};var OT=null;lT.copy=lT.cut=function(e,t){var n=function(e){var t,n=[],r=[],i=!1,o=(0,X.Z)(e.selection.ranges);try{for(o.s();!(t=o.n()).done;){var s=t.value;s.empty||(n.push(e.sliceDoc(s.from,s.to)),r.push(s))}}catch(p){o.e(p)}finally{o.f()}if(!n.length){var a,l=-1,c=(0,X.Z)(e.selection.ranges);try{for(c.s();!(a=c.n()).done;){var u=a.value.from,h=e.doc.lineAt(u);h.number>l&&(n.push(h.text),r.push({from:h.from,to:Math.min(e.doc.length,h.to+1)})),l=h.number}}catch(p){c.e(p)}finally{c.f()}i=!0}return{text:n.join(e.lineBreak),ranges:r,linewise:i}}(e.state),r=n.text,i=n.ranges,o=n.linewise;if(!r&&!o)return!1;OT=o?r:null,"cut"!=t.type||e.state.readOnly||e.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"});var s=uT?null:t.clipboardData;return s?(s.clearData(),s.setData("text/plain",r),!0):(function(e,t){var n=e.dom.parentNode;if(n){var r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=t,r.focus(),r.selectionEnd=t.length,r.selectionStart=0,setTimeout((function(){r.remove(),e.focus()}),50)}}(e,r),!1)};var ST=F_.define();function kT(e,t){var n,r=[],i=(0,X.Z)(e.facet(Wm));try{for(i.s();!(n=i.n()).done;){var o=(0,n.value)(e,t);o&&r.push(o)}}catch(s){i.e(s)}finally{i.f()}return r?e.update({effects:r,annotations:ST.of(!0)}):null}function wT(e){setTimeout((function(){var t=e.hasFocus;if(t!=e.inputState.notifiedFocused){var n=kT(e.state,t);n?e.dispatch(n):e.update([])}}),10)}cT.focus=function(e){e.inputState.lastFocusTime=Date.now(),e.scrollDOM.scrollTop||!e.inputState.lastScrollTop&&!e.inputState.lastScrollLeft||(e.scrollDOM.scrollTop=e.inputState.lastScrollTop,e.scrollDOM.scrollLeft=e.inputState.lastScrollLeft),wT(e)},cT.blur=function(e){e.observer.clearSelectionRange(),wT(e)},cT.compositionstart=cT.compositionupdate=function(e){null==e.inputState.compositionFirstChange&&(e.inputState.compositionFirstChange=!0),e.inputState.composing<0&&(e.inputState.composing=0)},cT.compositionend=function(e){e.inputState.composing=-1,e.inputState.compositionEndedAt=Date.now(),e.inputState.compositionPendingKey=!0,e.inputState.compositionPendingChange=e.observer.pendingRecords().length>0,e.inputState.compositionFirstChange=null,fm.chrome&&fm.android?e.observer.flushSoon():e.inputState.compositionPendingChange?Promise.resolve().then((function(){return e.observer.flush()})):setTimeout((function(){e.inputState.composing<0&&e.docView.hasComposition&&e.update([])}),50)},cT.contextmenu=function(e){e.inputState.lastContextMenu=Date.now()},lT.beforeinput=function(e,t){var n,r;if(fm.chrome&&fm.android&&(r=rT.find((function(e){return e.inputType==t.inputType})))&&(e.observer.delayAndroidKey(r.key,r.keyCode),"Backspace"==r.key||"Delete"==r.key)){var i=(null===(n=window.visualViewport)||void 0===n?void 0:n.height)||0;setTimeout((function(){var t;((null===(t=window.visualViewport)||void 0===t?void 0:t.height)||0)>i+10&&e.hasFocus&&(e.contentDOM.blur(),e.focus())}),100)}return!1};var RT=new Set;var CT=["pre-wrap","normal","pre-line","break-spaces"],IT=function(){function e(t){(0,z.Z)(this,e),this.lineWrapping=t,this.doc=xg.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}return(0,Y.Z)(e,[{key:"heightForGap",value:function(e,t){var n=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(n+=Math.max(0,Math.ceil((t-e-n*this.lineLength*.5)/this.lineLength))),this.lineHeight*n}},{key:"heightForLine",value:function(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}},{key:"setDoc",value:function(e){return this.doc=e,this}},{key:"mustRefreshForWrapping",value:function(e){return CT.indexOf(e)>-1!=this.lineWrapping}},{key:"mustRefreshForHeights",value:function(e){for(var t=!1,n=0;n<e.length;n++){var r=e[n];r<0?n++:this.heightSamples[Math.floor(10*r)]||(t=!0,this.heightSamples[Math.floor(10*r)]=!0)}return t}},{key:"refresh",value:function(e,t,n,r,i,o){var s=CT.indexOf(e)>-1,a=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=s;if(this.lineWrapping=s,this.lineHeight=t,this.charWidth=n,this.textHeight=r,this.lineLength=i,a){this.heightSamples={};for(var l=0;l<o.length;l++){var c=o[l];c<0?l++:this.heightSamples[Math.floor(10*c)]=!0}}return a}}]),e}(),xT=function(){function e(t,n){(0,z.Z)(this,e),this.from=t,this.heights=n,this.index=0}return(0,Y.Z)(e,[{key:"more",get:function(){return this.index<this.heights.length}}]),e}(),AT=function(){function e(t,n,r,i,o){(0,z.Z)(this,e),this.from=t,this.length=n,this.top=r,this.height=i,this._content=o}return(0,Y.Z)(e,[{key:"type",get:function(){return"number"==typeof this._content?Im.Text:Array.isArray(this._content)?this._content:this._content.type}},{key:"to",get:function(){return this.from+this.length}},{key:"bottom",get:function(){return this.top+this.height}},{key:"widget",get:function(){return this._content instanceof Lm?this._content.widget:null}},{key:"widgetLineBreaks",get:function(){return"number"==typeof this._content?this._content:0}},{key:"join",value:function(t){var n=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(t._content)?t._content:[t]);return new e(this.from,this.length+t.length,this.top,this.height+t.height,n)}}]),e}(),NT=function(e){return e[e.ByPos=0]="ByPos",e[e.ByHeight=1]="ByHeight",e[e.ByPosNoHeight=2]="ByPosNoHeight",e}(NT||(NT={})),LT=.001,MT=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;(0,z.Z)(this,e),this.length=t,this.height=n,this.flags=r}return(0,Y.Z)(e,[{key:"outdated",get:function(){return(2&this.flags)>0},set:function(e){this.flags=(e?2:0)|-3&this.flags}},{key:"setHeight",value:function(e,t){this.height!=t&&(Math.abs(this.height-t)>LT&&(e.heightChanged=!0),this.height=t)}},{key:"replace",value:function(t,n,r){return e.of(r)}},{key:"decomposeLeft",value:function(e,t){t.push(this)}},{key:"decomposeRight",value:function(e,t){t.push(this)}},{key:"applyChanges",value:function(e,t,n,r){for(var i=this,o=n.doc,s=r.length-1;s>=0;s--){var a=r[s],l=a.fromA,c=a.toA,u=a.fromB,h=a.toB,p=i.lineAt(l,NT.ByPosNoHeight,n.setDoc(t),0,0),f=p.to>=c?p:i.lineAt(c,NT.ByPosNoHeight,n,0,0);for(h+=f.to-c,c=f.to;s>0&&p.from<=r[s-1].toA;)l=r[s-1].fromA,u=r[s-1].fromB,s--,l<p.from&&(p=i.lineAt(l,NT.ByPosNoHeight,n,0,0));u+=p.from-l,l=p.from;var d=ZT.build(n.setDoc(o),e,u,h);i=i.replace(l,c,d)}return i.updateHeight(n,0)}}],[{key:"empty",value:function(){return new PT(0,0)}},{key:"of",value:function(t){if(1==t.length)return t[0];for(var n=0,r=t.length,i=0,o=0;;)if(n==r)if(i>2*o){var s=t[n-1];s.break?t.splice(--n,1,s.left,null,s.right):t.splice(--n,1,s.left,s.right),r+=1+s.break,i-=s.size}else{if(!(o>2*i))break;var a=t[r];a.break?t.splice(r,1,a.left,null,a.right):t.splice(r,1,a.left,a.right),r+=2+a.break,o-=a.size}else if(i<o){var l=t[n++];l&&(i+=l.size)}else{var c=t[--r];c&&(o+=c.size)}var u=0;return null==t[n-1]?(u=1,n--):null==t[n]&&(u=1,r++),new FT(e.of(t.slice(0,n)),u,e.of(t.slice(r)))}}]),e}();MT.prototype.size=1;var DT=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e,r,i){var o;return(0,z.Z)(this,n),(o=t.call(this,e,r)).deco=i,o}return(0,Y.Z)(n,[{key:"blockAt",value:function(e,t,n,r){return new AT(r,this.length,n,this.height,this.deco||0)}},{key:"lineAt",value:function(e,t,n,r,i){return this.blockAt(0,n,r,i)}},{key:"forEachLine",value:function(e,t,n,r,i,o){e<=i+this.length&&t>=i&&o(this.blockAt(0,n,r,i))}},{key:"updateHeight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>3?arguments[3]:void 0;return n&&n.from<=t&&n.more&&this.setHeight(e,n.heights[n.index++]),this.outdated=!1,this}},{key:"toString",value:function(){return"block(".concat(this.length,")")}}]),n}(MT),PT=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e,r){var i;return(0,z.Z)(this,n),(i=t.call(this,e,r,null)).collapsed=0,i.widgetHeight=0,i.breaks=0,i}return(0,Y.Z)(n,[{key:"blockAt",value:function(e,t,n,r){return new AT(r,this.length,n,this.height,this.breaks)}},{key:"replace",value:function(e,t,r){var i=r[0];return 1==r.length&&(i instanceof n||i instanceof BT&&4&i.flags)&&Math.abs(this.length-i.length)<10?(i instanceof BT?i=new n(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):MT.of(r)}},{key:"updateHeight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0;return r&&r.from<=t&&r.more?this.setHeight(e,r.heights[r.index++]):(n||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}},{key:"toString",value:function(){return"line(".concat(this.length).concat(this.collapsed?-this.collapsed:"").concat(this.widgetHeight?":"+this.widgetHeight:"",")")}}]),n}(DT),BT=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e){return(0,z.Z)(this,n),t.call(this,e,0)}return(0,Y.Z)(n,[{key:"heightMetrics",value:function(e,t){var n,r=e.doc.lineAt(t).number,i=e.doc.lineAt(t+this.length).number,o=i-r+1,s=0;if(e.lineWrapping){var a=Math.min(this.height,e.lineHeight*o);n=a/o,this.length>o+1&&(s=(this.height-a)/(this.length-o-1))}else n=this.height/o;return{firstLine:r,lastLine:i,perLine:n,perChar:s}}},{key:"blockAt",value:function(e,t,n,r){var i=this.heightMetrics(t,r),o=i.firstLine,s=i.lastLine,a=i.perLine,l=i.perChar;if(t.lineWrapping){var c=r+Math.round(Math.max(0,Math.min(1,(e-n)/this.height))*this.length),u=t.doc.lineAt(c),h=a+u.length*l,p=Math.max(n,e-h/2);return new AT(u.from,u.length,p,h,0)}var f=Math.max(0,Math.min(s-o,Math.floor((e-n)/a))),d=t.doc.line(o+f),g=d.from,_=d.length;return new AT(g,_,n+a*f,a,0)}},{key:"lineAt",value:function(e,t,n,r,i){if(t==NT.ByHeight)return this.blockAt(e,n,r,i);if(t==NT.ByPosNoHeight){var o=n.doc.lineAt(e),s=o.from,a=o.to;return new AT(s,a-s,0,0,0)}var l=this.heightMetrics(n,i),c=l.firstLine,u=l.perLine,h=l.perChar,p=n.doc.lineAt(e),f=u+p.length*h,d=p.number-c,g=r+u*d+h*(p.from-i-d);return new AT(p.from,p.length,Math.max(r,Math.min(g,r+this.height-f)),f,0)}},{key:"forEachLine",value:function(e,t,n,r,i,o){e=Math.max(e,i),t=Math.min(t,i+this.length);for(var s=this.heightMetrics(n,i),a=s.firstLine,l=s.perLine,c=s.perChar,u=e,h=r;u<=t;){var p=n.doc.lineAt(u);if(u==e){var f=p.number-a;h+=l*f+c*(e-i-f)}var d=l+c*p.length;o(new AT(p.from,p.length,h,d,0)),h+=d,u=p.to+1}}},{key:"replace",value:function(e,t,r){var i=this.length-t;if(i>0){var o=r[r.length-1];o instanceof n?r[r.length-1]=new n(o.length+i):r.push(null,new n(i-1))}if(e>0){var s=r[0];s instanceof n?r[0]=new n(e+s.length):r.unshift(new n(e-1),null)}return MT.of(r)}},{key:"decomposeLeft",value:function(e,t){t.push(new n(e-1),null)}},{key:"decomposeRight",value:function(e,t){t.push(null,new n(this.length-e-1))}},{key:"updateHeight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0,o=t+this.length;if(i&&i.from<=t+this.length&&i.more){var s=[],a=Math.max(t,i.from),l=-1;for(i.from>t&&s.push(new n(i.from-t-1).updateHeight(e,t));a<=o&&i.more;){var c=e.doc.lineAt(a).length;s.length&&s.push(null);var u=i.heights[i.index++];-1==l?l=u:Math.abs(u-l)>=LT&&(l=-2);var h=new PT(c,u);h.outdated=!1,s.push(h),a+=c+1}a<=o&&s.push(null,new n(o-a).updateHeight(e,a));var p=MT.of(s);return(l<0||Math.abs(p.height-this.height)>=LT||Math.abs(l-this.heightMetrics(e,t).perLine)>=LT)&&(e.heightChanged=!0),p}return(r||this.outdated)&&(this.setHeight(e,e.heightForGap(t,t+this.length)),this.outdated=!1),this}},{key:"toString",value:function(){return"gap(".concat(this.length,")")}}]),n}(MT),FT=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e,r,i){var o;return(0,z.Z)(this,n),(o=t.call(this,e.length+r+i.length,e.height+i.height,r|(e.outdated||i.outdated?2:0))).left=e,o.right=i,o.size=e.size+i.size,o}return(0,Y.Z)(n,[{key:"break",get:function(){return 1&this.flags}},{key:"blockAt",value:function(e,t,n,r){var i=n+this.left.height;return e<i?this.left.blockAt(e,t,n,r):this.right.blockAt(e,t,i,r+this.left.length+this.break)}},{key:"lineAt",value:function(e,t,n,r,i){var o=r+this.left.height,s=i+this.left.length+this.break,a=t==NT.ByHeight?e<o:e<s,l=a?this.left.lineAt(e,t,n,r,i):this.right.lineAt(e,t,n,o,s);if(this.break||(a?l.to<s:l.from>s))return l;var c=t==NT.ByPosNoHeight?NT.ByPosNoHeight:NT.ByPos;return a?l.join(this.right.lineAt(s,c,n,o,s)):this.left.lineAt(s,c,n,r,i).join(l)}},{key:"forEachLine",value:function(e,t,n,r,i,o){var s=r+this.left.height,a=i+this.left.length+this.break;if(this.break)e<a&&this.left.forEachLine(e,t,n,r,i,o),t>=a&&this.right.forEachLine(e,t,n,s,a,o);else{var l=this.lineAt(a,NT.ByPos,n,r,i);e<l.from&&this.left.forEachLine(e,l.from-1,n,r,i,o),l.to>=e&&l.from<=t&&o(l),t>l.to&&this.right.forEachLine(l.to+1,t,n,s,a,o)}}},{key:"replace",value:function(e,t,n){var r=this.left.length+this.break;if(t<r)return this.balanced(this.left.replace(e,t,n),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-r,t-r,n));var i=[];e>0&&this.decomposeLeft(e,i);var o,s=i.length,a=(0,X.Z)(n);try{for(a.s();!(o=a.n()).done;){var l=o.value;i.push(l)}}catch(u){a.e(u)}finally{a.f()}if(e>0&&UT(i,s-1),t<this.length){var c=i.length;this.decomposeRight(t,i),UT(i,c)}return MT.of(i)}},{key:"decomposeLeft",value:function(e,t){var n=this.left.length;if(e<=n)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&e>=++n&&t.push(null),e>n&&this.right.decomposeLeft(e-n,t)}},{key:"decomposeRight",value:function(e,t){var n=this.left.length,r=n+this.break;if(e>=r)return this.right.decomposeRight(e-r,t);e<n&&this.left.decomposeRight(e,t),this.break&&e<r&&t.push(null),t.push(this.right)}},{key:"balanced",value:function(e,t){return e.size>2*t.size||t.size>2*e.size?MT.of(this.break?[e,null,t]:[e,t]):(this.left=e,this.right=t,this.height=e.height+t.height,this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}},{key:"updateHeight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=this.left,o=this.right,s=t+i.length+this.break,a=null;return r&&r.from<=t+i.length&&r.more?a=i=i.updateHeight(e,t,n,r):i.updateHeight(e,t,n),r&&r.from<=s+o.length&&r.more?a=o=o.updateHeight(e,s,n,r):o.updateHeight(e,s,n),a?this.balanced(i,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}},{key:"toString",value:function(){return this.left+(this.break?" ":"-")+this.right}}]),n}(MT);function UT(e,t){var n,r;null==e[t]&&(n=e[t-1])instanceof BT&&(r=e[t+1])instanceof BT&&e.splice(t-1,3,new BT(n.length+1+r.length))}var ZT=function(){function e(t,n){(0,z.Z)(this,e),this.pos=t,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=t}return(0,Y.Z)(e,[{key:"isCovered",get:function(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}},{key:"span",value:function(e,t){if(this.lineStart>-1){var n=Math.min(t,this.lineEnd),r=this.nodes[this.nodes.length-1];r instanceof PT?r.length+=n-this.pos:(n>this.pos||!this.isCovered)&&this.nodes.push(new PT(n-this.pos,-1)),this.writtenTo=n,t>n&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}},{key:"point",value:function(e,t,n){if(e<t||n.heightRelevant){var r=n.widget?n.widget.estimatedHeight:0,i=n.widget?n.widget.lineBreaks:0;r<0&&(r=this.oracle.lineHeight);var o=t-e;n.block?this.addBlock(new DT(o,r,n)):(o||i||r>=5)&&this.addLineDeco(r,i,o)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}},{key:"enterLine",value:function(){if(!(this.lineStart>-1)){var e=this.oracle.doc.lineAt(this.pos),t=e.from,n=e.to;this.lineStart=t,this.lineEnd=n,this.writtenTo<t&&((this.writtenTo<t-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,t-1)),this.nodes.push(null)),this.pos>t&&this.nodes.push(new PT(this.pos-t,-1)),this.writtenTo=this.pos}}},{key:"blankContent",value:function(e,t){var n=new BT(t-e);return this.oracle.doc.lineAt(e).to==t&&(n.flags|=4),n}},{key:"ensureLine",value:function(){this.enterLine();var e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof PT)return e;var t=new PT(0,-1);return this.nodes.push(t),t}},{key:"addBlock",value:function(e){this.enterLine();var t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}},{key:"addLineDeco",value:function(e,t,n){var r=this.ensureLine();r.length+=n,r.collapsed+=n,r.widgetHeight=Math.max(r.widgetHeight,e),r.breaks+=t,this.writtenTo=this.pos=this.pos+n}},{key:"finish",value:function(e){var t=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||t instanceof PT||this.isCovered?(this.writtenTo<this.pos||null==t)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new PT(0,-1));var n,r=e,i=(0,X.Z)(this.nodes);try{for(i.s();!(n=i.n()).done;){var o=n.value;o instanceof PT&&o.updateHeight(this.oracle,r),r+=o?o.length:1}}catch(s){i.e(s)}finally{i.f()}return this.nodes}}],[{key:"build",value:function(t,n,r,i){var o=new e(r,t);return ov.spans(n,r,i,o,0),o.finish(r)}}]),e}();var GT=function(){function e(){(0,z.Z)(this,e),this.changes=[]}return(0,Y.Z)(e,[{key:"compareRange",value:function(){}},{key:"comparePoint",value:function(e,t,n,r){(e<t||n&&n.heightRelevant||r&&r.heightRelevant)&&Dm(e,t,this.changes,5)}}]),e}();function HT(e,t){for(var n=e.getBoundingClientRect(),r=e.ownerDocument,i=r.defaultView||window,o=Math.max(0,n.left),s=Math.min(i.innerWidth,n.right),a=Math.max(0,n.top),l=Math.min(i.innerHeight,n.bottom),c=e.parentNode;c&&c!=r.body;)if(1==c.nodeType){var u=c,h=window.getComputedStyle(u);if((u.scrollHeight>u.clientHeight||u.scrollWidth>u.clientWidth)&&"visible"!=h.overflow){var p=u.getBoundingClientRect();o=Math.max(o,p.left),s=Math.min(s,p.right),a=Math.max(a,p.top),l=c==e.parentNode?p.bottom:Math.min(l,p.bottom)}c="absolute"==h.position||"fixed"==h.position?u.offsetParent:u.parentNode}else{if(11!=c.nodeType)break;c=c.host}return{left:o-n.left,right:Math.max(o,s)-n.left,top:a-(n.top+t),bottom:Math.max(a,l)-(n.top+t)}}function VT(e,t){var n=e.getBoundingClientRect();return{left:0,right:n.right-n.left,top:t,bottom:n.bottom-(n.top+t)}}var jT=function(){function e(t,n,r){(0,z.Z)(this,e),this.from=t,this.to=n,this.size=r}return(0,Y.Z)(e,[{key:"draw",value:function(e,t){return xm.replace({widget:new WT(this.size*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}],[{key:"same",value:function(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],i=t[n];if(r.from!=i.from||r.to!=i.to||r.size!=i.size)return!1}return!0}}]),e}(),WT=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e,r){var i;return(0,z.Z)(this,n),(i=t.call(this)).size=e,i.vertical=r,i}return(0,Y.Z)(n,[{key:"eq",value:function(e){return e.size==this.size&&e.vertical==this.vertical}},{key:"toDOM",value:function(){var e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}},{key:"estimatedHeight",get:function(){return this.vertical?this.size:-1}}]),n}(Cm),XT=function(){function e(t){var n=this;(0,z.Z)(this,e),this.state=t,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!0,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=QT,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=fy.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;var r=t.facet(ry).some((function(e){return"function"!=typeof e&&"cm-lineWrapping"==e.class}));this.heightOracle=new IT(r),this.stateDeco=t.facet(iy).filter((function(e){return"function"!=typeof e})),this.heightMap=MT.empty().applyChanges(this.stateDeco,xg.empty,this.heightOracle.setDoc(t.doc),[new hy(0,0,0,t.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=xm.set(this.lineGaps.map((function(e){return e.draw(n,!1)}))),this.computeVisibleRanges()}return(0,Y.Z)(e,[{key:"updateForViewport",value:function(){for(var e=this,t=[this.viewport],n=this.state.selection.main,r=function(){var r=i?n.head:n.anchor;if(!t.some((function(e){var t=e.from,n=e.to;return r>=t&&r<=n}))){var o=e.lineBlockAt(r),s=o.from,a=o.to;t.push(new zT(s,a))}},i=0;i<=1;i++)r();this.viewports=t.sort((function(e,t){return e.from-t.from})),this.scaler=this.heightMap.height<=7e6?QT:new JT(this.heightOracle,this.heightMap,this.viewports)}},{key:"updateViewportLines",value:function(){var e=this;this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,(function(t){e.viewportLines.push(1==e.scaler.scale?t:$T(t,e.scaler))}))}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.state=e.state;var n=this.stateDeco;this.stateDeco=this.state.facet(iy).filter((function(e){return"function"!=typeof e}));var r=e.changedRanges,i=hy.extendWithRanges(r,function(e,t,n){var r=new GT;return ov.compare(e,t,n,r,0),r.changes}(n,this.stateDeco,e?e.changes:t_.empty(this.state.doc.length))),o=this.heightMap.height,s=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),i),this.heightMap.height!=o&&(e.flags|=2),s?(this.scrollAnchorPos=e.changes.mapPos(s.from,-1),this.scrollAnchorHeight=s.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);var a=i.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<a.from||t.range.head>a.to)||!this.viewportIsAppropriate(a))&&(a=this.getViewport(0,t));var l=!e.changes.empty||2&e.flags||a.from!=this.viewport.from||a.to!=this.viewport.to;this.viewport=a,this.updateForViewport(),l&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(zm)&&(this.mustEnforceCursorAssoc=!0)}},{key:"measure",value:function(e){var t=e.contentDOM,n=window.getComputedStyle(t),r=this.heightOracle,i=n.whiteSpace;this.defaultTextDirection="rtl"==n.direction?fy.RTL:fy.LTR;var o=this.heightOracle.mustRefreshForWrapping(i),s=t.getBoundingClientRect(),a=o||this.mustMeasureContent||this.contentDOMHeight!=s.height;this.contentDOMHeight=s.height,this.mustMeasureContent=!1;var l=0,c=0;if(s.width&&s.height){var u=s.width/t.offsetWidth,h=s.height/t.offsetHeight;(u>.995&&u<1.005||!isFinite(u)||Math.abs(s.width-t.offsetWidth)<1)&&(u=1),(h>.995&&h<1.005||!isFinite(h)||Math.abs(s.height-t.offsetHeight)<1)&&(h=1),this.scaleX==u&&this.scaleY==h||(this.scaleX=u,this.scaleY=h,l|=8,o=a=!0)}var p=(parseInt(n.paddingTop)||0)*this.scaleY,f=(parseInt(n.paddingBottom)||0)*this.scaleY;this.paddingTop==p&&this.paddingBottom==f||(this.paddingTop=p,this.paddingBottom=f,l|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(r.lineWrapping&&(a=!0),this.editorWidth=e.scrollDOM.clientWidth,l|=8);var d=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=d&&(this.scrollAnchorHeight=-1,this.scrollTop=d),this.scrolledToBottom=Yv(e.scrollDOM);var g=(this.printing?VT:HT)(t,this.paddingTop),_=g.top-this.pixelViewport.top,v=g.bottom-this.pixelViewport.bottom;this.pixelViewport=g;var m=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(m!=this.inView&&(this.inView=m,m&&(a=!0)),!this.inView&&!this.scrollTarget)return 0;var y=s.width;if(this.contentDOMWidth==y&&this.editorHeight==e.scrollDOM.clientHeight||(this.contentDOMWidth=s.width,this.editorHeight=e.scrollDOM.clientHeight,l|=8),a){var T=e.docView.measureVisibleLineHeights(this.viewport);if(r.mustRefreshForHeights(T)&&(o=!0),o||r.lineWrapping&&Math.abs(y-this.contentDOMWidth)>r.charWidth){var E=e.docView.measureTextSize(),b=E.lineHeight,O=E.charWidth,S=E.textHeight;(o=b>0&&r.refresh(i,b,O,S,y/O,T))&&(e.docView.minWidth=0,l|=8)}_>0&&v>0?c=Math.max(_,v):_<0&&v<0&&(c=Math.min(_,v)),r.heightChanged=!1;var k,w=(0,X.Z)(this.viewports);try{for(w.s();!(k=w.n()).done;){var R=k.value,C=R.from==this.viewport.from?T:e.docView.measureVisibleLineHeights(R);this.heightMap=(o?MT.empty().applyChanges(this.stateDeco,xg.empty,this.heightOracle,[new hy(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(r,0,o,new xT(R.from,C))}}catch(x){w.e(x)}finally{w.f()}r.heightChanged&&(l|=2)}var I=!this.viewportIsAppropriate(this.viewport,c)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return I&&(this.viewport=this.getViewport(c,this.scrollTarget)),this.updateForViewport(),(2&l||I)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),l|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),l}},{key:"visibleTop",get:function(){return this.scaler.fromDOM(this.pixelViewport.top)}},{key:"visibleBottom",get:function(){return this.scaler.fromDOM(this.pixelViewport.bottom)}},{key:"getViewport",value:function(e,t){var n=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),r=this.heightMap,i=this.heightOracle,o=this.visibleTop,s=this.visibleBottom,a=new zT(r.lineAt(o-1e3*n,NT.ByHeight,i,0,0).from,r.lineAt(s+1e3*(1-n),NT.ByHeight,i,0,0).to);if(t){var l=t.range.head;if(l<a.from||l>a.to){var c,u=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),h=r.lineAt(l,NT.ByPos,i,0,0);c="center"==t.y?(h.top+h.bottom)/2-u/2:"start"==t.y||"nearest"==t.y&&l<a.from?h.top:h.bottom-u,a=new zT(r.lineAt(c-500,NT.ByHeight,i,0,0).from,r.lineAt(c+u+500,NT.ByHeight,i,0,0).to)}}return a}},{key:"mapViewport",value:function(e,t){var n=t.mapPos(e.from,-1),r=t.mapPos(e.to,1);return new zT(this.heightMap.lineAt(n,NT.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(r,NT.ByPos,this.heightOracle,0,0).to)}},{key:"viewportIsAppropriate",value:function(e){var t=e.from,n=e.to,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!this.inView)return!0;var i=this.heightMap.lineAt(t,NT.ByPos,this.heightOracle,0,0).top,o=this.heightMap.lineAt(n,NT.ByPos,this.heightOracle,0,0).bottom,s=this.visibleTop,a=this.visibleBottom;return(0==t||i<=s-Math.max(10,Math.min(-r,250)))&&(n==this.state.doc.length||o>=a+Math.max(10,Math.min(r,250)))&&i>s-2e3&&o<a+2e3}},{key:"mapLineGaps",value:function(e,t){if(!e.length||t.empty)return e;var n,r=[],i=(0,X.Z)(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;t.touchesRange(o.from,o.to)||r.push(new jT(t.mapPos(o.from),t.mapPos(o.to),o.size))}}catch(s){i.e(s)}finally{i.f()}return r}},{key:"ensureLineGaps",value:function(e,t){var n=this,r=this.heightOracle.lineWrapping,i=r?1e4:2e3,o=i>>1,s=i<<1;if(this.defaultTextDirection!=fy.LTR&&!r)return[];var a,l=[],c=function i(s,a,c,u){if(!(a-s<o)){var h=n.state.selection.main,p=[h.from];h.empty||p.push(h.to);for(var f=0,d=p;f<d.length;f++){var g=d[f];if(g>s&&g<a)return i(s,g-10,c,u),void i(g+10,a,c,u)}var _=function(e,t){var n,r=(0,X.Z)(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t(i))return i}}catch(o){r.e(o)}finally{r.f()}return}(e,(function(e){return e.from>=c.from&&e.to<=c.to&&Math.abs(e.from-s)<o&&Math.abs(e.to-a)<o&&!p.some((function(t){return e.from<t&&e.to>t}))}));if(!_){if(a<c.to&&t&&r&&t.visibleRanges.some((function(e){return e.from<=a&&e.to>=a}))){var v=t.moveToLineBoundary(c_.cursor(a),!1,!0).head;v>s&&(a=v)}_=new jT(s,a,n.gapSize(c,s,a,u))}l.push(_)}},u=(0,X.Z)(this.viewportLines);try{for(u.s();!(a=u.n()).done;){var h=a.value;if(!(h.length<s)){var p=YT(h.from,h.to,this.stateDeco);if(!(p.total<s)){var f=this.scrollTarget?this.scrollTarget.range.head:null,d=void 0,g=void 0;if(r){var _=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,v=void 0,m=void 0;if(null!=f){var y=KT(p,f),T=((this.visibleBottom-this.visibleTop)/2+_)/h.height;v=y-T,m=y+T}else v=(this.visibleTop-h.top-_)/h.height,m=(this.visibleBottom-h.top+_)/h.height;d=qT(p,v),g=qT(p,m)}else{var E=p.total*this.heightOracle.charWidth,b=i*this.heightOracle.charWidth,O=void 0,S=void 0;if(null!=f){var k=KT(p,f),w=((this.pixelViewport.right-this.pixelViewport.left)/2+b)/E;O=k-w,S=k+w}else O=(this.pixelViewport.left-b)/E,S=(this.pixelViewport.right+b)/E;d=qT(p,O),g=qT(p,S)}d>h.from&&c(h.from,d,h,p),g<h.to&&c(g,h.to,h,p)}}}}catch(R){u.e(R)}finally{u.f()}return l}},{key:"gapSize",value:function(e,t,n,r){var i=KT(r,n)-KT(r,t);return this.heightOracle.lineWrapping?e.height*i:r.total*this.heightOracle.charWidth*i}},{key:"updateLineGaps",value:function(e){var t=this;jT.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=xm.set(e.map((function(e){return e.draw(t,t.heightOracle.lineWrapping)}))))}},{key:"computeVisibleRanges",value:function(){var e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));var t=[];ov.spans(e,this.viewport.from,this.viewport.to,{span:function(e,n){t.push({from:e,to:n})},point:function(){}},20);var n=t.length!=this.visibleRanges.length||this.visibleRanges.some((function(e,n){return e.from!=t[n].from||e.to!=t[n].to}));return this.visibleRanges=t,n?4:0}},{key:"lineBlockAt",value:function(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find((function(t){return t.from<=e&&t.to>=e}))||$T(this.heightMap.lineAt(e,NT.ByPos,this.heightOracle,0,0),this.scaler)}},{key:"lineBlockAtHeight",value:function(e){return $T(this.heightMap.lineAt(this.scaler.fromDOM(e),NT.ByHeight,this.heightOracle,0,0),this.scaler)}},{key:"scrollAnchorAt",value:function(e){var t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}},{key:"elementAtHeight",value:function(e){return $T(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}},{key:"docHeight",get:function(){return this.scaler.toDOM(this.heightMap.height)}},{key:"contentHeight",get:function(){return this.docHeight+this.paddingTop+this.paddingBottom}}]),e}(),zT=(0,Y.Z)((function e(t,n){(0,z.Z)(this,e),this.from=t,this.to=n}));function YT(e,t,n){var r=[],i=e,o=0;return ov.spans(n,e,t,{span:function(){},point:function(e,t){e>i&&(r.push({from:i,to:e}),o+=e-i),i=t}},20),i<t&&(r.push({from:i,to:t}),o+=t-i),{total:o,ranges:r}}function qT(e,t){var n=e.total,r=e.ranges;if(t<=0)return r[0].from;if(t>=1)return r[r.length-1].to;for(var i=Math.floor(n*t),o=0;;o++){var s=r[o],a=s.from,l=s.to-a;if(i<=l)return a+i;i-=l}}function KT(e,t){var n,r=0,i=(0,X.Z)(e.ranges);try{for(i.s();!(n=i.n()).done;){var o=n.value,s=o.from,a=o.to;if(t<=a){r+=t-s;break}r+=a-s}}catch(l){i.e(l)}finally{i.f()}return r/e.total}var QT={toDOM:function(e){return e},fromDOM:function(e){return e},scale:1},JT=function(){function e(t,n,r){(0,z.Z)(this,e);var i=0,o=0,s=0;this.viewports=r.map((function(e){var r=e.from,o=e.to,s=n.lineAt(r,NT.ByPos,t,0,0).top,a=n.lineAt(o,NT.ByPos,t,0,0).bottom;return i+=a-s,{from:r,to:o,top:s,bottom:a,domTop:0,domBottom:0}})),this.scale=(7e6-i)/(n.height-i);var a,l=(0,X.Z)(this.viewports);try{for(l.s();!(a=l.n()).done;){var c=a.value;c.domTop=s+(c.top-o)*this.scale,s=c.domBottom=c.domTop+(c.bottom-c.top),o=c.bottom}}catch(u){l.e(u)}finally{l.f()}}return(0,Y.Z)(e,[{key:"toDOM",value:function(e){for(var t=0,n=0,r=0;;t++){var i=t<this.viewports.length?this.viewports[t]:null;if(!i||e<i.top)return r+(e-n)*this.scale;if(e<=i.bottom)return i.domTop+(e-i.top);n=i.bottom,r=i.domBottom}}},{key:"fromDOM",value:function(e){for(var t=0,n=0,r=0;;t++){var i=t<this.viewports.length?this.viewports[t]:null;if(!i||e<i.domTop)return n+(e-r)/this.scale;if(e<=i.domBottom)return i.top+(e-i.domTop);n=i.bottom,r=i.domBottom}}}]),e}();function $T(e,t){if(1==t.scale)return e;var n=t.toDOM(e.top),r=t.toDOM(e.bottom);return new AT(e.from,e.length,n,r-n,Array.isArray(e._content)?e._content.map((function(e){return $T(e,t)})):e._content)}var eE=p_.define({combine:function(e){return e.join(" ")}}),tE=p_.define({combine:function(e){return e.indexOf(!0)>-1}}),nE=bv.newName(),rE=bv.newName(),iE=bv.newName(),oE={"&light":"."+rE,"&dark":"."+iE};function sE(e,t,n){return new bv(t,{finish:function(t){return/&/.test(t)?t.replace(/&\w*/,(function(t){if("&"==t)return e;if(!n||!n[t])throw new RangeError("Unsupported selector: ".concat(t));return n[t]})):e+" "+t}})}var aE=sE("."+nE,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:'url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>\')',backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},oE),lE="\uffff",cE=function(){function e(t,n){(0,z.Z)(this,e),this.points=t,this.text="",this.lineSeparator=n.facet($_.lineSeparator)}return(0,Y.Z)(e,[{key:"append",value:function(e){this.text+=e}},{key:"lineBreak",value:function(){this.text+=lE}},{key:"readRange",value:function(e,t){if(!e)return this;for(var n=e.parentNode,r=e;;){this.findPointBefore(n,r);var i=this.text.length;this.readNode(r);var o=r.nextSibling;if(o==t)break;var s=Qv.get(r),a=Qv.get(o);(s&&a?s.breakAfter:(s?s.breakAfter:hE(r))||hE(o)&&("BR"!=r.nodeName||r.cmIgnore)&&this.text.length>i)&&this.lineBreak(),r=o}return this.findPointBefore(n,t),this}},{key:"readTextNode",value:function(e){var t,n=e.nodeValue,r=(0,X.Z)(this.points);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.node==e&&(i.pos=this.text.length+Math.min(i.offset,n.length))}}catch(f){r.e(f)}finally{r.f()}for(var o=0,s=this.lineSeparator?null:/\r\n?|\n/g;;){var a=-1,l=1,c=void 0;if(this.lineSeparator?(a=n.indexOf(this.lineSeparator,o),l=this.lineSeparator.length):(c=s.exec(n))&&(a=c.index,l=c[0].length),this.append(n.slice(o,a<0?n.length:a)),a<0)break;if(this.lineBreak(),l>1){var u,h=(0,X.Z)(this.points);try{for(h.s();!(u=h.n()).done;){var p=u.value;p.node==e&&p.pos>this.text.length&&(p.pos-=l-1)}}catch(f){h.e(f)}finally{h.f()}}o=a+l}}},{key:"readNode",value:function(e){if(!e.cmIgnore){var t=Qv.get(e),n=t&&t.overrideDOMText;if(null!=n){this.findPointInside(e,n.length);for(var r=n.iter();!r.next().done;)r.lineBreak?this.lineBreak():this.append(r.value)}else 3==e.nodeType?this.readTextNode(e):"BR"==e.nodeName?e.nextSibling&&this.lineBreak():1==e.nodeType&&this.readRange(e.firstChild,null)}}},{key:"findPointBefore",value:function(e,t){var n,r=(0,X.Z)(this.points);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.node==e&&e.childNodes[i.offset]==t&&(i.pos=this.text.length)}}catch(o){r.e(o)}finally{r.f()}}},{key:"findPointInside",value:function(e,t){var n,r=(0,X.Z)(this.points);try{for(r.s();!(n=r.n()).done;){var i=n.value;(3==e.nodeType?i.node==e:e.contains(i.node))&&(i.pos=this.text.length+(uE(e,i.node,i.offset)?t:0))}}catch(o){r.e(o)}finally{r.f()}}}]),e}();function uE(e,t,n){for(;;){if(!t||n<Fv(t))return!1;if(t==e)return!0;n=Pv(t)+1,t=t.parentNode}}function hE(e){return 1==e.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(e.nodeName)}var pE=(0,Y.Z)((function e(t,n){(0,z.Z)(this,e),this.node=t,this.offset=n,this.pos=-1})),fE=(0,Y.Z)((function e(t,n,r,i){(0,z.Z)(this,e),this.typeOver=i,this.bounds=null,this.text="";var o=t.docView,s=o.impreciseHead,a=o.impreciseAnchor;if(t.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=t.docView.domBoundsAround(n,r,0))){var l=s||a?[]:function(e){var t=[];if(e.root.activeElement!=e.contentDOM)return t;var n=e.observer.selectionRange,r=n.anchorNode,i=n.anchorOffset,o=n.focusNode,s=n.focusOffset;r&&(t.push(new pE(r,i)),o==r&&s==i||t.push(new pE(o,s)));return t}(t),c=new cE(l,t.state);c.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=c.text,this.newSel=function(e,t){if(0==e.length)return null;var n=e[0].pos,r=2==e.length?e[1].pos:n;return n>-1&&r>-1?c_.single(n+t,r+t):null}(l,this.bounds.from)}else{var u=t.observer.selectionRange,h=s&&s.node==u.focusNode&&s.offset==u.focusOffset||!Nv(t.contentDOM,u.focusNode)?t.state.selection.main.head:t.docView.posFromDOM(u.focusNode,u.focusOffset),p=a&&a.node==u.anchorNode&&a.offset==u.anchorOffset||!Nv(t.contentDOM,u.anchorNode)?t.state.selection.main.anchor:t.docView.posFromDOM(u.anchorNode,u.anchorOffset);this.newSel=c_.single(p,h)}}));function dE(e,t){var n,r=t.newSel,i=e.state.selection.main,o=e.inputState.lastKeyTime>Date.now()-100?e.inputState.lastKeyCode:-1;if(t.bounds){var s=t.bounds,a=s.from,l=s.to,c=i.from,u=null;(8===o||fm.android&&t.text.length<l-a)&&(c=i.to,u="end");var h=function(e,t,n,r){var i=Math.min(e.length,t.length),o=0;for(;o<i&&e.charCodeAt(o)==t.charCodeAt(o);)o++;if(o==i&&e.length==t.length)return null;var s=e.length,a=t.length;for(;s>0&&a>0&&e.charCodeAt(s-1)==t.charCodeAt(a-1);)s--,a--;if("end"==r){n-=s+Math.max(0,o-Math.min(s,a))-o}if(s<o&&e.length<t.length){a=(o-=n<=o&&n>=s?o-n:0)+(a-s),s=o}else if(a<o){s=(o-=n<=o&&n>=a?o-n:0)+(s-a),a=o}return{from:o,toA:s,toB:a}}(e.state.doc.sliceString(a,l,lE),t.text,c-a,u);h&&(fm.chrome&&13==o&&h.toB==h.from+2&&t.text.slice(h.from,h.toB)==lE+lE&&h.toB--,n={from:a+h.from,to:a+h.toA,insert:xg.of(t.text.slice(h.from,h.toB).split(lE))})}else r&&(!e.hasFocus&&e.state.facet(Qm)||r.main.eq(i))&&(r=null);if(!n&&!r)return!1;if(!n&&t.typeOver&&!i.empty&&r&&r.main.empty?n={from:i.from,to:i.to,insert:e.state.doc.slice(i.from,i.to)}:n&&n.from>=i.from&&n.to<=i.to&&(n.from!=i.from||n.to!=i.to)&&i.to-i.from-(n.to-n.from)<=4?n={from:i.from,to:i.to,insert:e.state.doc.slice(i.from,n.from).append(n.insert).append(e.state.doc.slice(n.to,i.to))}:(fm.mac||fm.android)&&n&&n.from==n.to&&n.from==i.head-1&&/^\. ?$/.test(n.insert.toString())&&"off"==e.contentDOM.getAttribute("autocorrect")?(r&&2==n.insert.length&&(r=c_.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:xg.of([" "])}):fm.chrome&&n&&n.from==n.to&&n.from==i.head&&"\n "==n.insert.toString()&&e.lineWrapping&&(r&&(r=c_.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:xg.of([" "])}),n){if(fm.ios&&e.inputState.flushIOSKey())return!0;if(fm.android&&(n.from==i.from&&n.to==i.to&&1==n.insert.length&&2==n.insert.lines&&Xv(e.contentDOM,"Enter",13)||(n.from==i.from-1&&n.to==i.to&&0==n.insert.length||8==o&&n.insert.length<n.to-n.from&&n.to>i.head)&&Xv(e.contentDOM,"Backspace",8)||n.from==i.from&&n.to==i.to+1&&0==n.insert.length&&Xv(e.contentDOM,"Delete",46)))return!0;var p,f=n.insert.toString();e.inputState.composing>=0&&e.inputState.composing++;var d=function(){return p||(p=function(e,t,n){var r,i=e.state,o=i.selection.main;if(t.from>=o.from&&t.to<=o.to&&t.to-t.from>=(o.to-o.from)/3&&(!n||n.main.empty&&n.main.from==t.from+t.insert.length)&&e.inputState.composing<0){var s=o.from<t.from?i.sliceDoc(o.from,t.from):"",a=o.to>t.to?i.sliceDoc(t.to,o.to):"";r=i.replaceSelection(e.state.toText(s+t.insert.sliceString(0,void 0,e.state.lineBreak)+a))}else{var l=i.changes(t),c=n&&n.main.to<=l.newLength?n.main:void 0;if(i.selection.ranges.length>1&&e.inputState.composing>=0&&t.to<=o.to&&t.to>=o.to-10){var u,h=e.state.sliceDoc(t.from,t.to),p=n&&Fy(e,n.main.head);if(p){var f=t.insert.length-(t.to-t.from);u={from:p.from,to:p.to-f}}else u=e.state.doc.lineAt(o.head);var d=o.to-t.to,g=o.to-o.from;r=i.changeByRange((function(n){if(n.from==o.from&&n.to==o.to)return{changes:l,range:c||n.map(l)};var r=n.to-d,s=r-h.length;if(n.to-n.from!=g||e.state.sliceDoc(s,r)!=h||n.to>=u.from&&n.from<=u.to)return{range:n};var a=i.changes({from:s,to:r,insert:t.insert}),p=n.to-o.to;return{changes:a,range:c?c_.range(Math.max(0,c.anchor+p),Math.max(0,c.head+p)):n.map(a)}}))}else r={changes:l,selection:c&&i.selection.replaceRange(c)}}var _="input.type";(e.composing||e.inputState.compositionPendingChange&&e.inputState.compositionEndedAt>Date.now()-50)&&(e.inputState.compositionPendingChange=!1,_+=".compose",e.inputState.compositionFirstChange&&(_+=".start",e.inputState.compositionFirstChange=!1));return i.update(r,{userEvent:_,scrollIntoView:!0})}(e,n,r))};return e.state.facet(jm).some((function(t){return t(e,n.from,n.to,f,d)}))||e.dispatch(d()),!0}if(r&&!r.main.eq(i)){var g=!1,_="select";return e.inputState.lastSelectionTime>Date.now()-50&&("select"==e.inputState.lastSelectionOrigin&&(g=!0),_=e.inputState.lastSelectionOrigin),e.dispatch({selection:r,scrollIntoView:g,userEvent:_}),!0}return!1}var gE={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},_E=fm.ie&&fm.ie_version<=11,vE=function(){function e(t){var n=this;(0,z.Z)(this,e),this.view=t,this.active=!1,this.selectionRange=new Hv,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=t.contentDOM,this.observer=new MutationObserver((function(e){var r,i=(0,X.Z)(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;n.queue.push(o)}}catch(s){i.e(s)}finally{i.f()}(fm.ie&&fm.ie_version<=11||fm.ios&&t.composing)&&e.some((function(e){return"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length}))?n.flushSoon():n.flush()})),_E&&(this.onCharData=function(e){n.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),n.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),"function"==typeof ResizeObserver&&(this.resizeScroll=new ResizeObserver((function(){var e;(null===(e=n.view.docView)||void 0===e?void 0:e.lastUpdate)<Date.now()-75&&n.onResize()})),this.resizeScroll.observe(t.scrollDOM)),this.addWindowListeners(this.win=t.win),this.start(),"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver((function(e){n.parentCheck<0&&(n.parentCheck=setTimeout(n.listenForScroll.bind(n),1e3)),e.length>0&&e[e.length-1].intersectionRatio>0!=n.intersecting&&(n.intersecting=!n.intersecting,n.intersecting!=n.view.inView&&n.onScrollChanged(document.createEvent("Event")))}),{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver((function(e){e.length>0&&e[e.length-1].intersectionRatio>0&&n.onScrollChanged(document.createEvent("Event"))}),{})),this.listenForScroll(),this.readSelectionRange()}return(0,Y.Z)(e,[{key:"onScrollChanged",value:function(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}},{key:"onScroll",value:function(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}},{key:"onResize",value:function(){var e=this;this.resizeTimeout<0&&(this.resizeTimeout=setTimeout((function(){e.resizeTimeout=-1,e.view.requestMeasure()}),50))}},{key:"onPrint",value:function(){var e=this;this.view.viewState.printing=!0,this.view.measure(),setTimeout((function(){e.view.viewState.printing=!1,e.view.requestMeasure()}),500)}},{key:"updateGaps",value:function(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((function(t,n){return t!=e[n]})))){this.gapIntersection.disconnect();var t,n=(0,X.Z)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.gapIntersection.observe(r)}}catch(i){n.e(i)}finally{n.f()}this.gaps=e}}},{key:"onSelectionChange",value:function(e){var t=this.selectionChanged;if(this.readSelectionRange()&&!this.delayedAndroidKey){var n=this.view,r=this.selectionRange;if(n.state.facet(Qm)?n.root.activeElement==this.dom:Lv(n.dom,r)){var i=r.anchorNode&&n.docView.nearest(r.anchorNode);i&&i.ignoreEvent(e)?t||(this.selectionChanged=!1):(fm.ie&&fm.ie_version<=11||fm.android&&fm.chrome)&&!n.state.selection.main.empty&&r.focusNode&&Dv(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)?this.flushSoon():this.flush(!1)}}}},{key:"readSelectionRange",value:function(){var e=this.view,t=fm.safari&&11==e.root.nodeType&&function(e){for(var t=e.activeElement;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}(this.dom.ownerDocument)==this.dom&&function(e){var t=null;function n(e){e.preventDefault(),e.stopImmediatePropagation(),t=e.getTargetRanges()[0]}if(e.contentDOM.addEventListener("beforeinput",n,!0),e.dom.ownerDocument.execCommand("indent"),e.contentDOM.removeEventListener("beforeinput",n,!0),!t)return null;var r=t.startContainer,i=t.startOffset,o=t.endContainer,s=t.endOffset,a=e.docView.domAtPos(e.state.selection.main.anchor);if(Dv(a.node,a.offset,o,s)){var l=[o,s,r,i];r=l[0],i=l[1],o=l[2],s=l[3]}return{anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:s}}(this.view)||Av(e.root);if(!t||this.selectionRange.eq(t))return!1;var n=Lv(this.dom,t);return n&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&function(e,t){var n=t.focusNode,r=t.focusOffset;if(!n||t.anchorNode!=n||t.anchorOffset!=r)return!1;for(r=Math.min(r,Fv(n));;)if(r){if(1!=n.nodeType)return!1;var i=n.childNodes[r-1];"false"==i.contentEditable?r--:r=Fv(n=i)}else{if(n==e)return!0;r=Pv(n),n=n.parentNode}}(this.dom,t)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(t),n&&(this.selectionChanged=!0),!0)}},{key:"setSelectionRange",value:function(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}},{key:"clearSelectionRange",value:function(){this.selectionRange.set(null,0,null,0)}},{key:"listenForScroll",value:function(){this.parentCheck=-1;for(var e=0,t=null,n=this.dom;n;)if(1==n.nodeType)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==n?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(n),n=n.assignedSlot||n.parentNode;else{if(11!=n.nodeType)break;n=n.host}if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){var r,i=(0,X.Z)(this.scrollTargets);try{for(i.s();!(r=i.n()).done;){r.value.removeEventListener("scroll",this.onScroll)}}catch(a){i.e(a)}finally{i.f()}var o,s=(0,X.Z)(this.scrollTargets=t);try{for(s.s();!(o=s.n()).done;){o.value.addEventListener("scroll",this.onScroll)}}catch(a){s.e(a)}finally{s.f()}}}},{key:"ignore",value:function(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}},{key:"start",value:function(){this.active||(this.observer.observe(this.dom,gE),_E&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}},{key:"stop",value:function(){this.active&&(this.active=!1,this.observer.disconnect(),_E&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}},{key:"clear",value:function(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}},{key:"delayAndroidKey",value:function(e,t){var n,r=this;if(!this.delayedAndroidKey){this.flushingAndroidKey=this.view.win.requestAnimationFrame((function(){var e=r.delayedAndroidKey;e&&(r.clearDelayedAndroidKey(),r.view.inputState.lastKeyCode=e.keyCode,r.view.inputState.lastKeyTime=Date.now(),!r.flush()&&e.force&&Xv(r.dom,e.key,e.keyCode))}))}this.delayedAndroidKey&&"Enter"!=e||(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(null===(n=this.delayedAndroidKey)||void 0===n?void 0:n.force)})}},{key:"clearDelayedAndroidKey",value:function(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}},{key:"flushSoon",value:function(){var e=this;this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame((function(){e.delayedFlush=-1,e.flush()})))}},{key:"forceFlush",value:function(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}},{key:"pendingRecords",value:function(){var e,t=(0,X.Z)(this.observer.takeRecords());try{for(t.s();!(e=t.n()).done;){var n=e.value;this.queue.push(n)}}catch(r){t.e(r)}finally{t.f()}return this.queue}},{key:"processRecords",value:function(){var e=this.pendingRecords();e.length&&(this.queue=[]);var t,n=-1,r=-1,i=!1,o=(0,X.Z)(e);try{for(o.s();!(t=o.n()).done;){var s=t.value,a=this.readMutation(s);a&&(a.typeOver&&(i=!0),-1==n?(n=a.from,r=a.to):(n=Math.min(a.from,n),r=Math.max(a.to,r)))}}catch(l){o.e(l)}finally{o.f()}return{from:n,to:r,typeOver:i}}},{key:"readChange",value:function(){var e=this.processRecords(),t=e.from,n=e.to,r=e.typeOver,i=this.selectionChanged&&Lv(this.dom,this.selectionRange);if(t<0&&!i)return null;t>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;var o=new fE(this.view,t,n,r);return this.view.docView.domChanged={newSel:o.newSel?o.newSel.main:null},o}},{key:"flush",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();var t=this.readChange();if(!t)return this.view.requestMeasure(),!1;var n=this.view.state,r=dE(this.view,t);return this.view.state==n&&this.view.update([]),r}},{key:"readMutation",value:function(e){var t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty("attributes"==e.type),"attributes"==e.type&&(t.flags|=4),"childList"==e.type){var n=mE(t,e.previousSibling||e.target.previousSibling,-1),r=mE(t,e.nextSibling||e.target.nextSibling,1);return{from:n?t.posAfter(n):t.posAtStart,to:r?t.posBefore(r):t.posAtEnd,typeOver:!1}}return"characterData"==e.type?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}},{key:"setWindow",value:function(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}},{key:"addWindowListeners",value:function(e){e.addEventListener("resize",this.onResize),e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}},{key:"removeWindowListeners",value:function(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}},{key:"destroy",value:function(){var e,t,n;this.stop(),null===(e=this.intersection)||void 0===e||e.disconnect(),null===(t=this.gapIntersection)||void 0===t||t.disconnect(),null===(n=this.resizeScroll)||void 0===n||n.disconnect();var r,i=(0,X.Z)(this.scrollTargets);try{for(i.s();!(r=i.n()).done;){r.value.removeEventListener("scroll",this.onScroll)}}catch(o){i.e(o)}finally{i.f()}this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}]),e}();function mE(e,t,n){for(;t;){var r=Qv.get(t);if(r&&r.parent==e)return r;var i=t.parentNode;t=i!=e.dom?i:n>0?t.nextSibling:t.previousSibling}return null}var yE=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,z.Z)(this,e),this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: fixed; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM);var r=n.dispatch;this.dispatchTransactions=n.dispatchTransactions||r&&function(e){return e.forEach((function(e){return r(e,t)}))}||function(e){return t.update(e)},this.dispatch=this.dispatch.bind(this),this._root=n.root||function(e){for(;e;){if(e&&(9==e.nodeType||11==e.nodeType&&e.host))return e;e=e.assignedSlot||e.parentNode}return null}(n.parent)||document,this.viewState=new XT(n.state||$_.create(n)),this.plugins=this.state.facet($m).map((function(e){return new ty(e)}));var i,o=(0,X.Z)(this.plugins);try{for(o.s();!(i=o.n()).done;){i.value.update(this)}}catch(s){o.e(s)}finally{o.f()}this.observer=new vE(this),this.inputState=new eT(this),this.inputState.ensureHandlers(this.plugins),this.docView=new Py(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),n.parent&&n.parent.appendChild(this.dom)}return(0,Y.Z)(e,[{key:"state",get:function(){return this.viewState.state}},{key:"viewport",get:function(){return this.viewState.viewport}},{key:"visibleRanges",get:function(){return this.viewState.visibleRanges}},{key:"inView",get:function(){return this.viewState.inView}},{key:"composing",get:function(){return this.inputState.composing>0}},{key:"compositionStarted",get:function(){return this.inputState.composing>=0}},{key:"root",get:function(){return this._root}},{key:"win",get:function(){return this.dom.ownerDocument.defaultView||window}},{key:"dispatch",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=1==n.length&&n[0]instanceof H_?n:1==n.length&&Array.isArray(n[0])?n[0]:[(e=this.state).update.apply(e,n)];this.dispatchTransactions(i,this)}},{key:"update",value:function(e){var t=this;if(0!=this.updateState)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");var n,r,i=!1,o=!1,s=this.state,a=(0,X.Z)(e);try{for(a.s();!(r=a.n()).done;){var l=r.value;if(l.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=l.state}}catch(S){a.e(S)}finally{a.f()}if(this.destroyed)this.viewState.state=s;else{var c=this.hasFocus,u=0,h=null;e.some((function(e){return e.annotation(ST)}))?(this.inputState.notifiedFocused=c,u=1):c!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=c,(h=kT(s,c))||(u=1));var p=this.observer.delayedAndroidKey,f=null;if(p?(this.observer.clearDelayedAndroidKey(),((f=this.observer.readChange())&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(f=null)):this.observer.clear(),s.facet($_.phrases)!=this.state.facet($_.phrases))return this.setState(s);n=py.create(this,s,e),n.flags|=u;var d=this.viewState.scrollTarget;try{this.updateState=2;var g,_=(0,X.Z)(e);try{for(_.s();!(g=_.n()).done;){var v=g.value;if(d&&(d=d.map(v.changes)),v.scrollIntoView){var m=v.state.selection.main;d=new Ym(m.empty?m:c_.cursor(m.head,m.head>m.anchor?-1:1))}var y,T=(0,X.Z)(v.effects);try{for(T.s();!(y=T.n()).done;){var E=y.value;E.is(qm)&&(d=E.value)}}catch(S){T.e(S)}finally{T.f()}}}catch(S){_.e(S)}finally{_.f()}this.viewState.update(n,d),this.bidiCache=bE.update(this.bidiCache,n.changes),n.empty||(this.updatePlugins(n),this.inputState.update(n)),i=this.docView.update(n),this.state.facet(uy)!=this.styleModules&&this.mountStyles(),o=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(i,e.some((function(e){return e.isUserEvent("select.pointer")})))}finally{this.updateState=0}if(n.startState.facet(eE)!=n.state.facet(eE)&&(this.viewState.mustMeasureContent=!0),(i||o||d||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!n.empty){var b,O=(0,X.Z)(this.state.facet(Vm));try{for(O.s();!(b=O.n()).done;){(0,b.value)(n)}}catch(S){O.e(S)}finally{O.f()}}(h||f)&&Promise.resolve().then((function(){h&&t.state==h.startState&&t.dispatch(h),f&&!dE(t,f)&&p.force&&Xv(t.contentDOM,p.key,p.keyCode)}))}}},{key:"setState",value:function(e){if(0!=this.updateState)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)this.viewState.state=e;else{this.updateState=2;var t=this.hasFocus;try{var n,r=(0,X.Z)(this.plugins);try{for(r.s();!(n=r.n()).done;){n.value.destroy(this)}}catch(s){r.e(s)}finally{r.f()}this.viewState=new XT(e),this.plugins=e.facet($m).map((function(e){return new ty(e)})),this.pluginMap.clear();var i,o=(0,X.Z)(this.plugins);try{for(o.s();!(i=o.n()).done;){i.value.update(this)}}catch(s){o.e(s)}finally{o.f()}this.docView=new Py(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}}},{key:"updatePlugins",value:function(e){var t=e.startState.facet($m),n=e.state.facet($m);if(t!=n){var r,i=[],o=(0,X.Z)(n);try{for(o.s();!(r=o.n()).done;){var s=r.value,a=t.indexOf(s);if(a<0)i.push(new ty(s));else{var l=this.plugins[a];l.mustUpdate=e,i.push(l)}}}catch(g){o.e(g)}finally{o.f()}var c,u=(0,X.Z)(this.plugins);try{for(u.s();!(c=u.n()).done;){var h=c.value;h.mustUpdate!=e&&h.destroy(this)}}catch(g){u.e(g)}finally{u.f()}this.plugins=i,this.pluginMap.clear()}else{var p,f=(0,X.Z)(this.plugins);try{for(f.s();!(p=f.n()).done;){p.value.mustUpdate=e}}catch(g){f.e(g)}finally{f.f()}}for(var d=0;d<this.plugins.length;d++)this.plugins[d].update(this);t!=n&&this.inputState.ensureHandlers(this.plugins)}},{key:"measure",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!this.destroyed){if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey)return this.measureScheduled=-1,void this.requestMeasure();this.measureScheduled=0,t&&this.observer.forceFlush();var n=null,r=this.scrollDOM,i=r.scrollTop*this.scaleY,o=this.viewState,s=o.scrollAnchorPos,a=o.scrollAnchorHeight;Math.abs(i-this.viewState.scrollTop)>1&&(a=-1),this.viewState.scrollAnchorHeight=-1;try{for(var l=0;;l++){if(a<0)if(Yv(r))s=-1,a=this.viewState.heightMap.height;else{var c=this.viewState.scrollAnchorAt(i);s=c.from,a=c.top}this.updateState=1;var u=this.viewState.measure(this);if(!u&&!this.measureRequests.length&&null==this.viewState.scrollTarget)break;if(l>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}var h=[];if(!(4&u)){var p=[h,this.measureRequests];this.measureRequests=p[0],h=p[1]}var f=h.map((function(t){try{return t.read(e)}catch(n){return Km(e.state,n),EE}})),d=py.create(this,this.state,[]),g=!1;d.flags|=u,n?n.flags|=u:n=d,this.updateState=2,d.empty||(this.updatePlugins(d),this.inputState.update(d),this.updateAttrs(),g=this.docView.update(d));for(var _=0;_<h.length;_++)if(f[_]!=EE)try{var v=h[_];v.write&&v.write(f[_],this)}catch(E){Km(this.state,E)}if(g&&this.docView.updateSelection(!0),!d.viewportChanged&&0==this.measureRequests.length){if(this.viewState.editorHeight){if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null;continue}var m=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-a;if(m>1||m<-1){i+=m,r.scrollTop=i/this.scaleY,a=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty){var y,T=(0,X.Z)(this.state.facet(Vm));try{for(T.s();!(y=T.n()).done;){(0,y.value)(n)}}catch(b){T.e(b)}finally{T.f()}}}}},{key:"themeClasses",get:function(){return nE+" "+(this.state.facet(tE)?iE:rE)+" "+this.state.facet(eE)}},{key:"updateAttrs",value:function(){var e=this,t=OE(this,ny,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(Qm)?"true":"false",class:"cm-content",style:"".concat(fm.tabSize,": ").concat(this.state.tabSize),role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),OE(this,ry,n);var r=this.observer.ignore((function(){var r=Sm(e.contentDOM,e.contentAttrs,n),i=Sm(e.dom,e.editorAttrs,t);return r||i}));return this.editorAttrs=t,this.contentAttrs=n,r}},{key:"showAnnouncements",value:function(t){var n,r=!0,i=(0,X.Z)(t);try{for(i.s();!(n=i.n()).done;){var o,s=n.value,a=(0,X.Z)(s.effects);try{for(a.s();!(o=a.n()).done;){var l=o.value;if(l.is(e.announce))r&&(this.announceDOM.textContent=""),r=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=l.value}}catch(c){a.e(c)}finally{a.f()}}}catch(c){i.e(c)}finally{i.f()}}},{key:"mountStyles",value:function(){this.styleModules=this.state.facet(uy);var t=this.state.facet(e.cspNonce);bv.mount(this.root,this.styleModules.concat(aE).reverse(),t?{nonce:t}:void 0)}},{key:"readMeasured",value:function(){if(2==this.updateState)throw new Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&this.measureScheduled>-1&&this.measure(!1)}},{key:"requestMeasure",value:function(e){var t=this;if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame((function(){return t.measure()}))),e){if(this.measureRequests.indexOf(e)>-1)return;if(null!=e.key)for(var n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===e.key)return void(this.measureRequests[n]=e);this.measureRequests.push(e)}}},{key:"plugin",value:function(e){var t=this.pluginMap.get(e);return(void 0===t||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find((function(t){return t.spec==e}))||null),t&&t.update(this).value}},{key:"documentTop",get:function(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}},{key:"documentPadding",get:function(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}},{key:"scaleX",get:function(){return this.viewState.scaleX}},{key:"scaleY",get:function(){return this.viewState.scaleY}},{key:"elementAtHeight",value:function(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}},{key:"lineBlockAtHeight",value:function(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}},{key:"viewportLineBlocks",get:function(){return this.viewState.viewportLines}},{key:"lineBlockAt",value:function(e){return this.viewState.lineBlockAt(e)}},{key:"contentHeight",get:function(){return this.viewState.contentHeight}},{key:"moveByChar",value:function(e,t,n){return $y(this,e,Qy(this,e,t,n))}},{key:"moveByGroup",value:function(e,t){var n=this;return $y(this,e,Qy(this,e,t,(function(t){return function(e,t,n){var r=e.state.charCategorizer(t),i=r(n);return function(e){var t=r(e);return i==K_.Space&&(i=t),i==t}}(n,e.head,t)})))}},{key:"moveToLineBoundary",value:function(e,t){return function(e,t,n,r){var i=Ky(e,t.head),o=r&&i.type==Im.Text&&(e.lineWrapping||i.widgetLineBreaks)?e.coordsAtPos(t.assoc<0&&t.head>i.from?t.head-1:t.head):null;if(o){var s=e.dom.getBoundingClientRect(),a=e.textDirectionAt(i.from),l=e.posAtCoords({x:n==(a==fy.LTR)?s.right-1:s.left+1,y:(o.top+o.bottom)/2});if(null!=l)return c_.cursor(l,n?-1:1)}return c_.cursor(n?i.to:i.from,n?-1:1)}(this,e,t,!(arguments.length>2&&void 0!==arguments[2])||arguments[2])}},{key:"moveVertically",value:function(e,t,n){return $y(this,e,function(e,t,n,r){var i=t.head,o=n?1:-1;if(i==(n?e.state.doc.length:0))return c_.cursor(i,t.assoc);var s,a=t.goalColumn,l=e.contentDOM.getBoundingClientRect(),c=e.coordsAtPos(i,t.assoc||-1),u=e.documentTop;if(c)null==a&&(a=c.left-l.left),s=o<0?c.top:c.bottom;else{var h=e.viewState.lineBlockAt(i);null==a&&(a=Math.min(l.right-l.left,e.defaultCharacterWidth*(i-h.from))),s=(o<0?h.top:h.bottom)+u}for(var p=l.left+a,f=null!==r&&void 0!==r?r:e.viewState.heightOracle.textHeight>>1,d=0;;d+=10){var g=s+(f+d)*o,_=Yy(e,{x:p,y:g},!1,o);if(g<l.top||g>l.bottom||(o<0?_<i:_>i)){var v=e.docView.coordsForChar(_),m=!v||g<v.top?-1:1;return c_.cursor(_,m,void 0,a)}}}(this,e,t,n))}},{key:"domAtPos",value:function(e){return this.docView.domAtPos(e)}},{key:"posAtDOM",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.docView.posFromDOM(e,t)}},{key:"posAtCoords",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.readMeasured(),Yy(this,e,t)}},{key:"coordsAtPos",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.readMeasured();var n=this.docView.coordsAt(e,t);if(!n||n.left==n.right)return n;var r=this.state.doc.lineAt(e),i=this.bidiSpans(r);return Uv(n,i[Ry.find(i,e-r.from,-1,t)].dir==fy.LTR==t>0)}},{key:"coordsForChar",value:function(e){return this.readMeasured(),this.docView.coordsForChar(e)}},{key:"defaultCharacterWidth",get:function(){return this.viewState.heightOracle.charWidth}},{key:"defaultLineHeight",get:function(){return this.viewState.heightOracle.lineHeight}},{key:"textDirection",get:function(){return this.viewState.defaultTextDirection}},{key:"textDirectionAt",value:function(e){return!this.state.facet(Xm)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}},{key:"lineWrapping",get:function(){return this.viewState.heightOracle.lineWrapping}},{key:"bidiSpans",value:function(e){if(e.length>TE)return Ly(e.length);var t,n,r=this.textDirectionAt(e.from),i=(0,X.Z)(this.bidiCache);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.from==e.from&&o.dir==r&&(o.fresh||Cy(o.isolates,t=ay(this,e.from,e.to))))return o.order}}catch(a){i.e(a)}finally{i.f()}t||(t=ay(this,e.from,e.to));var s=Ny(e.text,r,t);return this.bidiCache.push(new bE(e.from,e.to,r,t,!0,s)),s}},{key:"hasFocus",get:function(){var e;return(this.dom.ownerDocument.hasFocus()||fm.safari&&(null===(e=this.inputState)||void 0===e?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}},{key:"focus",value:function(){var e=this;this.observer.ignore((function(){jv(e.contentDOM),e.docView.updateSelection()}))}},{key:"setRoot",value:function(e){this._root!=e&&(this._root=e,this.observer.setWindow((9==e.nodeType?e:e.ownerDocument).defaultView||window),this.mountStyles())}},{key:"destroy",value:function(){var e,t=(0,X.Z)(this.plugins);try{for(t.s();!(e=t.n()).done;){e.value.destroy(this)}}catch(n){t.e(n)}finally{t.f()}this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}}],[{key:"scrollIntoView",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return qm.of(new Ym("number"==typeof e?c_.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}},{key:"domEventHandlers",value:function(e){return ey.define((function(){return{}}),{eventHandlers:e})}},{key:"domEventObservers",value:function(e){return ey.define((function(){return{}}),{eventObservers:e})}},{key:"theme",value:function(e,t){var n=bv.newName(),r=[eE.of(n),uy.of(sE(".".concat(n),e))];return t&&t.dark&&r.push(tE.of(!0)),r}},{key:"baseTheme",value:function(e){return S_.lowest(uy.of(sE("."+nE,e,oE)))}},{key:"findFromDOM",value:function(e){var t,n=e.querySelector(".cm-content"),r=n&&Qv.get(n)||Qv.get(e);return(null===(t=null===r||void 0===r?void 0:r.rootView)||void 0===t?void 0:t.view)||null}}]),e}();yE.styleModule=uy,yE.inputHandler=jm,yE.focusChangeEffect=Wm,yE.perLineTextDirection=Xm,yE.exceptionSink=Hm,yE.updateListener=Vm,yE.editable=Qm,yE.mouseSelectionStyle=Gm,yE.dragMovesSelection=Zm,yE.clickAddsSelectionRange=Um,yE.decorations=iy,yE.atomicRanges=oy,yE.bidiIsolatedRanges=sy,yE.scrollMargins=ly,yE.darkTheme=tE,yE.cspNonce=p_.define({combine:function(e){return e.length?e[0]:""}}),yE.contentAttributes=ry,yE.editorAttributes=ny,yE.lineWrapping=yE.contentAttributes.of({class:"cm-lineWrapping"}),yE.announce=G_.define();var TE=4096,EE={},bE=function(){function e(t,n,r,i,o,s){(0,z.Z)(this,e),this.from=t,this.to=n,this.dir=r,this.isolates=i,this.fresh=o,this.order=s}return(0,Y.Z)(e,null,[{key:"update",value:function(t,n){if(n.empty&&!t.some((function(e){return e.fresh})))return t;for(var r=[],i=t.length?t[t.length-1].dir:fy.LTR,o=Math.max(0,t.length-10);o<t.length;o++){var s=t[o];s.dir!=i||n.touchesRange(s.from,s.to)||r.push(new e(n.mapPos(s.from,1),n.mapPos(s.to,-1),s.dir,s.isolates,!1,s.order))}return r}}]),e}();function OE(e,t,n){for(var r=e.state.facet(t),i=r.length-1;i>=0;i--){var o=r[i],s="function"==typeof o?o(e):o;s&&Em(s,n)}return n}var SE=fm.mac?"mac":fm.windows?"win":fm.linux?"linux":"key";function kE(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),!1!==n&&t.shiftKey&&(e="Shift-"+e),e}var wE=S_.default(yE.domEventHandlers({keydown:function(e,t){return NE(IE(t.state),e,t,"editor")}})),RE=p_.define({enables:wE}),CE=new WeakMap;function IE(e){var t=e.facet(RE),n=CE.get(t);return n||CE.set(t,n=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:SE,r=Object.create(null),i=Object.create(null),o=function(e,t){var n=i[e];if(null==n)i[e]=t;else if(n!=t)throw new Error("Key binding "+e+" is used both as a regular binding and as a multi-stroke prefix")},s=function(e,t,i,s,a){for(var l,c,u=r[e]||(r[e]=Object.create(null)),h=t.split(/ (?!$)/).map((function(e){return function(e,t){var n,r,i,o,s=e.split(/-(?!$)/),a=s[s.length-1];"Space"==a&&(a=" ");for(var l=0;l<s.length-1;++l){var c=s[l];if(/^(cmd|meta|m)$/i.test(c))o=!0;else if(/^a(lt)?$/i.test(c))n=!0;else if(/^(c|ctrl|control)$/i.test(c))r=!0;else if(/^s(hift)?$/i.test(c))i=!0;else{if(!/^mod$/i.test(c))throw new Error("Unrecognized modifier name: "+c);"mac"==t?o=!0:r=!0}}return n&&(a="Alt-"+a),r&&(a="Ctrl-"+a),o&&(a="Meta-"+a),i&&(a="Shift-"+a),a}(e,n)})),p=function(){var t=h.slice(0,f).join(" ");o(t,!0),u[t]||(u[t]={preventDefault:!0,stopPropagation:!1,run:[function(n){var r=xE={view:n,prefix:t,scope:e};return setTimeout((function(){xE==r&&(xE=null)}),AE),!0}]})},f=1;f<h.length;f++)p();var d=h.join(" ");o(d,!1);var g=u[d]||(u[d]={preventDefault:!1,stopPropagation:!1,run:(null===(c=null===(l=u._any)||void 0===l?void 0:l.run)||void 0===c?void 0:c.slice())||[]});i&&g.run.push(i),s&&(g.preventDefault=!0),a&&(g.stopPropagation=!0)},a=(0,X.Z)(e);try{for(a.s();!(t=a.n()).done;){var l=t.value,c=l.scope?l.scope.split(" "):["editor"];if(l.any){var u,h=(0,X.Z)(c);try{for(h.s();!(u=h.n()).done;){var p=u.value,f=r[p]||(r[p]=Object.create(null));for(var d in f._any||(f._any={preventDefault:!1,stopPropagation:!1,run:[]}),f)f[d].run.push(l.any)}}catch(y){h.e(y)}finally{h.f()}}var g=l[n]||l.key;if(g){var _,v=(0,X.Z)(c);try{for(v.s();!(_=v.n()).done;){var m=_.value;s(m,g,l.run,l.preventDefault,l.stopPropagation),l.shift&&s(m,"Shift-"+g,l.shift,l.preventDefault,l.stopPropagation)}}catch(y){v.e(y)}finally{v.f()}}}}catch(y){a.e(y)}finally{a.f()}return r}(t.reduce((function(e,t){return e.concat(t)}),[]))),n}var xE=null,AE=4e3;function NE(e,t,n,r){var i=function(e){var t=!(Rv&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||Cv&&e.shiftKey&&e.key&&1==e.key.length||"Unidentified"==e.key)&&e.key||(e.shiftKey?wv:kv)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}(t),o=Qg(qg(i,0))==i.length&&" "!=i,s="",a=!1,l=!1,c=!1;xE&&xE.view==n&&xE.scope==r&&(s=xE.prefix+" ",oT.indexOf(t.keyCode)<0&&(l=!0,xE=null));var u,h,p=new Set,f=function(e){if(e){var r,i=(0,X.Z)(e.run);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(!p.has(o)&&(p.add(o),o(n,t)))return e.stopPropagation&&(c=!0),!0}}catch(s){i.e(s)}finally{i.f()}e.preventDefault&&(e.stopPropagation&&(c=!0),l=!0)}return!1},d=e[r];return d&&(f(d[s+kE(i,t,!o)])?a=!0:o&&(t.altKey||t.metaKey||t.ctrlKey)&&!(fm.windows&&t.ctrlKey&&t.altKey)&&(u=kv[t.keyCode])&&u!=i?(f(d[s+kE(u,t,!0)])||t.shiftKey&&(h=wv[t.keyCode])!=i&&h!=u&&f(d[s+kE(h,t,!1)]))&&(a=!0):o&&t.shiftKey&&f(d[s+kE(i,t,!0)])&&(a=!0),!a&&f(d._any)&&(a=!0)),l&&(a=!0),a&&c&&t.stopPropagation(),a}var LE=function(){function e(t,n,r,i,o){(0,z.Z)(this,e),this.className=t,this.left=n,this.top=r,this.width=i,this.height=o}return(0,Y.Z)(e,[{key:"draw",value:function(){var e=document.createElement("div");return e.className=this.className,this.adjust(e),e}},{key:"update",value:function(e,t){return t.className==this.className&&(this.adjust(e),!0)}},{key:"adjust",value:function(e){e.style.left=this.left+"px",e.style.top=this.top+"px",null!=this.width&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}},{key:"eq",value:function(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}}],[{key:"forRange",value:function(t,n,r){if(r.empty){var i=t.coordsAtPos(r.head,r.assoc||1);if(!i)return[];var o=ME(t);return[new e(n,i.left-o.left,i.top-o.top,null,i.bottom-i.top)]}return PE(t,n,r)}}]),e}();function ME(e){var t=e.scrollDOM.getBoundingClientRect();return{left:(e.textDirection==fy.LTR?t.left:t.right-e.scrollDOM.clientWidth*e.scaleX)-e.scrollDOM.scrollLeft*e.scaleX,top:t.top-e.scrollDOM.scrollTop*e.scaleY}}function DE(e,t,n){var r=c_.cursor(t);return{from:Math.max(n.from,e.moveToLineBoundary(r,!1,!0).from),to:Math.min(n.to,e.moveToLineBoundary(r,!0,!0).from),type:Im.Text}}function PE(e,t,n){if(n.to<=e.viewport.from||n.from>=e.viewport.to)return[];var r=Math.max(n.from,e.viewport.from),i=Math.min(n.to,e.viewport.to),o=e.textDirection==fy.LTR,s=e.contentDOM,a=s.getBoundingClientRect(),l=ME(e),c=s.querySelector(".cm-line"),u=c&&window.getComputedStyle(c),h=a.left+(u?parseInt(u.paddingLeft)+Math.min(0,parseInt(u.textIndent)):0),p=a.right-(u?parseInt(u.paddingRight):0),f=Ky(e,r),d=Ky(e,i),g=f.type==Im.Text?f:null,_=d.type==Im.Text?d:null;if(g&&(e.lineWrapping||f.widgetLineBreaks)&&(g=DE(e,r,g)),_&&(e.lineWrapping||d.widgetLineBreaks)&&(_=DE(e,i,_)),g&&_&&g.from==_.from)return E(b(n.from,n.to,g));var v=g?b(n.from,null,g):O(f,!1),m=_?b(null,n.to,_):O(d,!0),y=[];return(g||f).to<(_||d).from-(g&&_?1:0)||f.widgetLineBreaks>1&&v.bottom+e.defaultLineHeight/2<m.top?y.push(T(h,v.bottom,p,m.top)):v.bottom<m.top&&e.elementAtHeight((v.bottom+m.top)/2).type==Im.Text&&(v.bottom=m.top=(v.bottom+m.top)/2),E(v).concat(y).concat(E(m));function T(e,n,r,i){return new LE(t,e-l.left,n-l.top-.01,r-e,i-n+.01)}function E(e){for(var t=e.top,n=e.bottom,r=e.horizontal,i=[],o=0;o<r.length;o+=2)i.push(T(r[o],t,r[o+1],n));return i}function b(t,n,r){var i=1e9,s=-1e9,a=[];function l(t,n,l,c,u){var f=e.coordsAtPos(t,t==r.to?-2:2),d=e.coordsAtPos(l,l==r.from?2:-2);f&&d&&(i=Math.min(f.top,d.top,i),s=Math.max(f.bottom,d.bottom,s),u==fy.LTR?a.push(o&&n?h:f.left,o&&c?p:d.right):a.push(!o&&c?h:d.left,!o&&n?p:f.right))}var c,u=null!==t&&void 0!==t?t:r.from,f=null!==n&&void 0!==n?n:r.to,d=(0,X.Z)(e.visibleRanges);try{for(d.s();!(c=d.n()).done;){var g=c.value;if(g.to>u&&g.from<f)for(var _=Math.max(g.from,u),v=Math.min(g.to,f);;){var m,y=e.state.doc.lineAt(_),T=(0,X.Z)(e.bidiSpans(y));try{for(T.s();!(m=T.n()).done;){var E=m.value,b=E.from+y.from,O=E.to+y.from;if(b>=v)break;O>_&&l(Math.max(b,_),null==t&&b<=u,Math.min(O,v),null==n&&O>=f,E.dir)}}catch(S){T.e(S)}finally{T.f()}if((_=y.to+1)>=v)break}}}catch(S){d.e(S)}finally{d.f()}return 0==a.length&&l(u,null==t,f,null==n,e.textDirection),{top:i,bottom:s,horizontal:a}}function O(e,t){var n=a.top+(t?e.top:e.bottom);return{top:n,bottom:n,horizontal:[]}}}var BE=function(){function e(t,n){(0,z.Z)(this,e),this.view=t,this.layer=n,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=t.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),n.above&&this.dom.classList.add("cm-layer-above"),n.class&&this.dom.classList.add(n.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(t.state),t.requestMeasure(this.measureReq),n.mount&&n.mount(this.dom,t)}return(0,Y.Z)(e,[{key:"update",value:function(e){e.startState.facet(FE)!=e.state.facet(FE)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}},{key:"setOrder",value:function(e){for(var t=0,n=e.facet(FE);t<n.length&&n[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}},{key:"measure",value:function(){return this.layer.markers(this.view)}},{key:"scale",value:function(){var e=this.view,t=e.scaleX,n=e.scaleY;t==this.scaleX&&n==this.scaleY||(this.scaleX=t,this.scaleY=n,this.dom.style.transform="scale(".concat(1/t,", ").concat(1/n,")"))}},{key:"draw",value:function(e){var t=this;if(e.length!=this.drawn.length||e.some((function(e,n){return!function(e,t){return e.constructor==t.constructor&&e.eq(t)}(e,t.drawn[n])}))){var n,r=this.dom.firstChild,i=0,o=(0,X.Z)(e);try{for(o.s();!(n=o.n()).done;){var s=n.value;s.update&&r&&s.constructor&&this.drawn[i].constructor&&s.update(r,this.drawn[i])?(r=r.nextSibling,i++):this.dom.insertBefore(s.draw(),r)}}catch(l){o.e(l)}finally{o.f()}for(;r;){var a=r.nextSibling;r.remove(),r=a}this.drawn=e}}},{key:"destroy",value:function(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}]),e}(),FE=p_.define();function UE(e){return[ey.define((function(t){return new BE(t,e)})),FE.of(e)]}var ZE=!fm.ios,GE=p_.define({combine:function(e){return ev(e,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:function(e,t){return Math.min(e,t)},drawRangeCursor:function(e,t){return e||t}})}});function HE(e){return e.startState.facet(GE)!=e.state.facet(GE)}var VE=UE({above:!0,markers:function(e){var t,n=e.state,r=n.facet(GE),i=[],o=(0,X.Z)(n.selection.ranges);try{for(o.s();!(t=o.n()).done;){var s=t.value,a=s==n.selection.main;if(s.empty?!a||ZE:r.drawRangeCursor){var l,c=a?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",u=s.empty?s:c_.cursor(s.head,s.head>s.anchor?-1:1),h=(0,X.Z)(LE.forRange(e,c,u));try{for(h.s();!(l=h.n()).done;){var p=l.value;i.push(p)}}catch(f){h.e(f)}finally{h.f()}}}}catch(f){o.e(f)}finally{o.f()}return i},update:function(e,t){e.transactions.some((function(e){return e.selection}))&&(t.style.animationName="cm-blink"==t.style.animationName?"cm-blink2":"cm-blink");var n=HE(e);return n&&jE(e.state,t),e.docChanged||e.selectionSet||n},mount:function(e,t){jE(t.state,e)},class:"cm-cursorLayer"});function jE(e,t){t.style.animationDuration=e.facet(GE).cursorBlinkRate+"ms"}var WE=UE({above:!1,markers:function(e){return e.state.selection.ranges.map((function(t){return t.empty?[]:LE.forRange(e,"cm-selectionBackground",t)})).reduce((function(e,t){return e.concat(t)}))},update:function(e,t){return e.docChanged||e.selectionSet||e.viewportChanged||HE(e)},class:"cm-selectionLayer"}),XE={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};ZE&&(XE[".cm-line"].caretColor="transparent !important");var zE=S_.highest(yE.theme(XE)),YE=G_.define({map:function(e,t){return null==e?null:t.mapPos(e)}}),qE=m_.define({create:function(){return null},update:function(e,t){return null!=e&&(e=t.changes.mapPos(e)),t.effects.reduce((function(e,t){return t.is(YE)?t.value:e}),e)}}),KE=ey.fromClass(function(){function e(t){(0,z.Z)(this,e),this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}return(0,Y.Z)(e,[{key:"update",value:function(e){var t,n=e.state.field(qE);null==n?null!=this.cursor&&(null===(t=this.cursor)||void 0===t||t.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(e.startState.field(qE)!=n||e.docChanged||e.geometryChanged)&&this.view.requestMeasure(this.measureReq))}},{key:"readPos",value:function(){var e=this.view,t=e.state.field(qE),n=null!=t&&e.coordsAtPos(t);if(!n)return null;var r=e.scrollDOM.getBoundingClientRect();return{left:n.left-r.left+e.scrollDOM.scrollLeft*e.scaleX,top:n.top-r.top+e.scrollDOM.scrollTop*e.scaleY,height:n.bottom-n.top}}},{key:"drawCursor",value:function(e){if(this.cursor){var t=this.view,n=t.scaleX,r=t.scaleY;e?(this.cursor.style.left=e.left/n+"px",this.cursor.style.top=e.top/r+"px",this.cursor.style.height=e.height/r+"px"):this.cursor.style.left="-100000px"}}},{key:"destroy",value:function(){this.cursor&&this.cursor.remove()}},{key:"setDropPos",value:function(e){this.view.state.field(qE)!=e&&this.view.dispatch({effects:YE.of(e)})}}]),e}(),{eventObservers:{dragover:function(e){this.setDropPos(this.view.posAtCoords({x:e.clientX,y:e.clientY}))},dragleave:function(e){e.target!=this.view.contentDOM&&this.view.contentDOM.contains(e.relatedTarget)||this.setDropPos(null)},dragend:function(){this.setDropPos(null)},drop:function(){this.setDropPos(null)}}});function QE(e,t,n,r,i){t.lastIndex=0;for(var o,s=e.iterRange(n,r),a=n;!s.next().done;a+=s.value.length)if(!s.lineBreak)for(;o=t.exec(s.value);)i(a+o.index,o)}var JE=function(){function e(t){(0,z.Z)(this,e);var n=t.regexp,r=t.decoration,i=t.decorate,o=t.boundary,s=t.maxLength,a=void 0===s?1e3:s;if(!n.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=n,i)this.addMatch=function(e,t,n,r){return i(r,n,n+e[0].length,e,t)};else if("function"==typeof r)this.addMatch=function(e,t,n,i){var o=r(e,t,n);o&&i(n,n+e[0].length,o)};else{if(!r)throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.addMatch=function(e,t,n,i){return i(n,n+e[0].length,r)}}this.boundary=o,this.maxLength=a}return(0,Y.Z)(e,[{key:"createDeco",value:function(e){var t,n=this,r=new sv,i=r.add.bind(r),o=(0,X.Z)(function(e,t){var n=e.visibleRanges;if(1==n.length&&n[0].from==e.viewport.from&&n[0].to==e.viewport.to)return n;var r,i=[],o=(0,X.Z)(n);try{for(o.s();!(r=o.n()).done;){var s=r.value,a=s.from,l=s.to;a=Math.max(e.state.doc.lineAt(a).from,a-t),l=Math.min(e.state.doc.lineAt(l).to,l+t),i.length&&i[i.length-1].to>=a?i[i.length-1].to=l:i.push({from:a,to:l})}}catch(c){o.e(c)}finally{o.f()}return i}(e,this.maxLength));try{for(o.s();!(t=o.n()).done;){var s=t.value,a=s.from,l=s.to;QE(e.state.doc,this.regexp,a,l,(function(t,r){return n.addMatch(r,e,t,i)}))}}catch(c){o.e(c)}finally{o.f()}return r.finish()}},{key:"updateDeco",value:function(e,t){var n=1e9,r=-1;return e.docChanged&&e.changes.iterChanges((function(t,i,o,s){s>e.view.viewport.from&&o<e.view.viewport.to&&(n=Math.min(o,n),r=Math.max(s,r))})),e.viewportChanged||r-n>1e3?this.createDeco(e.view):r>-1?this.updateRange(e.view,t.map(e.changes),n,r):t}},{key:"updateRange",value:function(e,t,n,r){var i,o=this,s=(0,X.Z)(e.visibleRanges);try{var a=function(){var s=i.value,a=Math.max(s.from,n),l=Math.min(s.to,r);if(l>a){var c=e.state.doc.lineAt(a),u=c.to<l?e.state.doc.lineAt(l):c,h=Math.max(s.from,c.from),p=Math.min(s.to,u.to);if(o.boundary){for(;a>c.from;a--)if(o.boundary.test(c.text[a-1-c.from])){h=a;break}for(;l<u.to;l++)if(o.boundary.test(u.text[l-u.from])){p=l;break}}var f,d=[],g=function(e,t,n){return d.push(n.range(e,t))};if(c==u)for(o.regexp.lastIndex=h-c.from;(f=o.regexp.exec(c.text))&&f.index<p-c.from;)o.addMatch(f,e,f.index+c.from,g);else QE(e.state.doc,o.regexp,h,p,(function(t,n){return o.addMatch(n,e,t,g)}));t=t.update({filterFrom:h,filterTo:p,filter:function(e,t){return e<h||t>p},add:d})}};for(s.s();!(i=s.n()).done;)a()}catch(l){s.e(l)}finally{s.f()}return t}}]),e}(),$E=null!=/x/.unicode?"gu":"g",eb=new RegExp("[\0-\b\n-\x1f\x7f-\x9f\xad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]",$E),tb={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"},nb=null;var rb=p_.define({combine:function(e){var t=ev(e,{render:null,specialChars:eb,addSpecialChars:null});return(t.replaceTabs=!function(){var e;if(null==nb&&"undefined"!=typeof document&&document.body){var t=document.body.style;nb=null!=(null!==(e=t.tabSize)&&void 0!==e?e:t.MozTabSize)}return nb||!1}())&&(t.specialChars=new RegExp("\t|"+t.specialChars.source,$E)),t.addSpecialChars&&(t.specialChars=new RegExp(t.specialChars.source+"|"+t.addSpecialChars.source,$E)),t}});var ib=null;var ob=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e,r){var i;return(0,z.Z)(this,n),(i=t.call(this)).options=e,i.code=r,i}return(0,Y.Z)(n,[{key:"eq",value:function(e){return e.code==this.code}},{key:"toDOM",value:function(e){var t=function(e){return e>=32?"\u2022":10==e?"\u2424":String.fromCharCode(9216+e)}(this.code),n=e.state.phrase("Control character")+" "+(tb[this.code]||"0x"+this.code.toString(16)),r=this.options.render&&this.options.render(this.code,n,t);if(r)return r;var i=document.createElement("span");return i.textContent=t,i.title=n,i.setAttribute("aria-label",n),i.className="cm-specialChar",i}},{key:"ignoreEvent",value:function(){return!1}}]),n}(Cm),sb=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e){var r;return(0,z.Z)(this,n),(r=t.call(this)).width=e,r}return(0,Y.Z)(n,[{key:"eq",value:function(e){return e.width==this.width}},{key:"toDOM",value:function(){var e=document.createElement("span");return e.textContent="\t",e.className="cm-tab",e.style.width=this.width+"px",e}},{key:"ignoreEvent",value:function(){return!1}}]),n}(Cm);var ab=xm.line({class:"cm-activeLine"}),lb=ey.fromClass(function(){function e(t){(0,z.Z)(this,e),this.decorations=this.getDeco(t)}return(0,Y.Z)(e,[{key:"update",value:function(e){(e.docChanged||e.selectionSet)&&(this.decorations=this.getDeco(e.view))}},{key:"getDeco",value:function(e){var t,n=-1,r=[],i=(0,X.Z)(e.state.selection.ranges);try{for(i.s();!(t=i.n()).done;){var o=t.value,s=e.lineBlockAt(o.head);s.from>n&&(r.push(ab.range(s.from)),n=s.from)}}catch(a){i.e(a)}finally{i.f()}return xm.set(r)}}]),e}(),{decorations:function(e){return e.decorations}}),cb=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e){var r;return(0,z.Z)(this,n),(r=t.call(this)).content=e,r}return(0,Y.Z)(n,[{key:"toDOM",value:function(){var e=document.createElement("span");return e.className="cm-placeholder",e.style.pointerEvents="none",e.appendChild("string"==typeof this.content?document.createTextNode(this.content):this.content),"string"==typeof this.content?e.setAttribute("aria-label","placeholder "+this.content):e.setAttribute("aria-hidden","true"),e}},{key:"coordsAt",value:function(e){var t=e.firstChild?Mv(e.firstChild):[];if(!t.length)return null;var n=window.getComputedStyle(e.parentNode),r=Uv(t[0],"rtl"!=n.direction),i=parseInt(n.lineHeight);return r.bottom-r.top>1.5*i?{left:r.left,right:r.right,top:r.top,bottom:r.top+i}:r}},{key:"ignoreEvent",value:function(){return!1}}]),n}(Cm);var ub=2e3;function hb(e,t){var n=e.posAtCoords({x:t.clientX,y:t.clientY},!1),r=e.state.doc.lineAt(n),i=n-r.from,o=i>ub?-1:i==r.length?function(e,t){var n=e.coordsAtPos(e.viewport.from);return n?Math.round(Math.abs((n.left-t)/e.defaultCharacterWidth)):-1}(e,t.clientX):vv(r.text,e.state.tabSize,n-r.from);return{line:r.number,col:o,off:i}}function pb(e,t){var n=hb(e,t),r=e.state.selection;return n?{update:function(e){if(e.docChanged){var t=e.changes.mapPos(e.startState.doc.line(n.line).from),i=e.state.doc.lineAt(t);n={line:i.number,col:n.col,off:Math.min(n.off,i.length)},r=r.map(e.changes)}},get:function(t,i,o){var s=hb(e,t);if(!s)return r;var a=function(e,t,n){var r=Math.min(t.line,n.line),i=Math.max(t.line,n.line),o=[];if(t.off>ub||n.off>ub||t.col<0||n.col<0)for(var s=Math.min(t.off,n.off),a=Math.max(t.off,n.off),l=r;l<=i;l++){var c=e.doc.line(l);c.length<=a&&o.push(c_.range(c.from+s,c.to+a))}else for(var u=Math.min(t.col,n.col),h=Math.max(t.col,n.col),p=r;p<=i;p++){var f=e.doc.line(p),d=mv(f.text,u,e.tabSize,!0);if(d<0)o.push(c_.cursor(f.to));else{var g=mv(f.text,h,e.tabSize);o.push(c_.range(f.from+d,f.from+g))}}return o}(e.state,n,s);return a.length?o?c_.create(a.concat(r.ranges)):c_.create(a):r}}:null}var fb={Alt:[18,function(e){return!!e.altKey}],Control:[17,function(e){return!!e.ctrlKey}],Shift:[16,function(e){return!!e.shiftKey}],Meta:[91,function(e){return!!e.metaKey}]},db={style:"cursor: crosshair"};var gb="-10000px",_b=function(){function e(t,n,r){(0,z.Z)(this,e),this.facet=n,this.createTooltipView=r,this.input=t.state.facet(n),this.tooltips=this.input.filter((function(e){return e})),this.tooltipViews=this.tooltips.map(r)}return(0,Y.Z)(e,[{key:"update",value:function(e,t){var n,r=e.state.facet(this.facet),i=r.filter((function(e){return e}));if(r===this.input){var o,s=(0,X.Z)(this.tooltipViews);try{for(s.s();!(o=s.n()).done;){var a=o.value;a.update&&a.update(e)}}catch(y){s.e(y)}finally{s.f()}return!1}for(var l=[],c=t?[]:null,u=0;u<i.length;u++){var h=i[u],p=-1;if(h){for(var f=0;f<this.tooltips.length;f++){var d=this.tooltips[f];d&&d.create==h.create&&(p=f)}if(p<0)l[u]=this.createTooltipView(h),c&&(c[u]=!!h.above);else{var g=l[u]=this.tooltipViews[p];c&&(c[u]=t[p]),g.update&&g.update(e)}}}var _,v=(0,X.Z)(this.tooltipViews);try{for(v.s();!(_=v.n()).done;){var m=_.value;l.indexOf(m)<0&&(m.dom.remove(),null===(n=m.destroy)||void 0===n||n.call(m))}}catch(y){v.e(y)}finally{v.f()}return t&&(c.forEach((function(e,n){return t[n]=e})),t.length=c.length),this.input=r,this.tooltips=i,this.tooltipViews=l,!0}}]),e}();function vb(e){var t=e.win;return{top:0,left:0,bottom:t.innerHeight,right:t.innerWidth}}var mb=p_.define({combine:function(e){var t,n,r;return{position:fm.ios?"absolute":(null===(t=e.find((function(e){return e.position})))||void 0===t?void 0:t.position)||"fixed",parent:(null===(n=e.find((function(e){return e.parent})))||void 0===n?void 0:n.parent)||null,tooltipSpace:(null===(r=e.find((function(e){return e.tooltipSpace})))||void 0===r?void 0:r.tooltipSpace)||vb}}}),yb=new WeakMap,Tb=ey.fromClass(function(){function e(t){var n=this;(0,z.Z)(this,e),this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;var r=t.state.facet(mb);this.position=r.position,this.parent=r.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new _b(t,Ob,(function(e){return n.createTooltip(e)})),this.intersectionObserver="function"==typeof IntersectionObserver?new IntersectionObserver((function(e){Date.now()>n.lastTransaction-50&&e.length>0&&e[e.length-1].intersectionRatio<1&&n.measureSoon()}),{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}return(0,Y.Z)(e,[{key:"createContainer",value:function(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}},{key:"observeIntersection",value:function(){if(this.intersectionObserver){this.intersectionObserver.disconnect();var e,t=(0,X.Z)(this.manager.tooltipViews);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.intersectionObserver.observe(n.dom)}}catch(r){t.e(r)}finally{t.f()}}}},{key:"measureSoon",value:function(){var e=this;this.measureTimeout<0&&(this.measureTimeout=setTimeout((function(){e.measureTimeout=-1,e.maybeMeasure()}),50))}},{key:"update",value:function(e){e.transactions.length&&(this.lastTransaction=Date.now());var t=this.manager.update(e,this.above);t&&this.observeIntersection();var n=t||e.geometryChanged,r=e.state.facet(mb);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;var i,o=(0,X.Z)(this.manager.tooltipViews);try{for(o.s();!(i=o.n()).done;){i.value.dom.style.position=this.position}}catch(c){o.e(c)}finally{o.f()}n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();var s,a=(0,X.Z)(this.manager.tooltipViews);try{for(a.s();!(s=a.n()).done;){var l=s.value;this.container.appendChild(l.dom)}}catch(c){a.e(c)}finally{a.f()}n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}},{key:"createTooltip",value:function(e){var t=e.create(this.view);if(t.dom.classList.add("cm-tooltip"),e.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){var n=document.createElement("div");n.className="cm-tooltip-arrow",t.dom.appendChild(n)}return t.dom.style.position=this.position,t.dom.style.top=gb,t.dom.style.left="0px",this.container.appendChild(t.dom),t.mount&&t.mount(this.view),t}},{key:"destroy",value:function(){var e,t;this.view.win.removeEventListener("resize",this.measureSoon);var n,r=(0,X.Z)(this.manager.tooltipViews);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.dom.remove(),null===(e=i.destroy)||void 0===e||e.call(i)}}catch(o){r.e(o)}finally{r.f()}this.parent&&this.container.remove(),null===(t=this.intersectionObserver)||void 0===t||t.disconnect(),clearTimeout(this.measureTimeout)}},{key:"readMeasure",value:function(){var e=this,t=this.view.dom.getBoundingClientRect(),n=1,r=1,i=!1;if("fixed"==this.position&&this.manager.tooltipViews.length){var o=this.manager.tooltipViews[0].dom;if(fm.gecko)i=o.offsetParent!=this.container.ownerDocument.body;else if(1!=this.view.scaleX||1!=this.view.scaleY)i=!0;else if(o.style.top==gb&&"0px"==o.style.left){var s=o.getBoundingClientRect();i=Math.abs(s.top+1e4)>1||Math.abs(s.left)>1}}if(i||"absolute"==this.position)if(this.parent){var a=this.parent.getBoundingClientRect();a.width&&a.height&&(n=a.width/this.parent.offsetWidth,r=a.height/this.parent.offsetHeight)}else{var l=this.view.viewState;n=l.scaleX,r=l.scaleY}return{editor:t,parent:this.parent?this.container.getBoundingClientRect():t,pos:this.manager.tooltips.map((function(t,n){var r=e.manager.tooltipViews[n];return r.getCoords?r.getCoords(t.pos):e.view.coordsAtPos(t.pos)})),size:this.manager.tooltipViews.map((function(e){return e.dom.getBoundingClientRect()})),space:this.view.state.facet(mb).tooltipSpace(this.view),scaleX:n,scaleY:r,makeAbsolute:i}}},{key:"writeMeasure",value:function(e){var t;if(e.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";var n,r=(0,X.Z)(this.manager.tooltipViews);try{for(r.s();!(n=r.n()).done;){n.value.dom.style.position="absolute"}}catch(x){r.e(x)}finally{r.f()}}for(var i=e.editor,o=e.space,s=e.scaleX,a=e.scaleY,l=[],c=0;c<this.manager.tooltips.length;c++){var u=this.manager.tooltips[c],h=this.manager.tooltipViews[c],p=h.dom,f=e.pos[c],d=e.size[c];if(!f||f.bottom<=Math.max(i.top,o.top)||f.top>=Math.min(i.bottom,o.bottom)||f.right<Math.max(i.left,o.left)-.1||f.left>Math.min(i.right,o.right)+.1)p.style.top=gb;else{var g=u.arrow?h.dom.querySelector(".cm-tooltip-arrow"):null,_=g?7:0,v=d.right-d.left,m=null!==(t=yb.get(h))&&void 0!==t?t:d.bottom-d.top,y=h.offset||bb,T=this.view.textDirection==fy.LTR,E=d.width>o.right-o.left?T?o.left:o.right-d.width:T?Math.min(f.left-(g?14:0)+y.x,o.right-v):Math.max(o.left,f.left-v+(g?14:0)-y.x),b=this.above[c];!u.strictSide&&(b?f.top-(d.bottom-d.top)-y.y<o.top:f.bottom+(d.bottom-d.top)+y.y>o.bottom)&&b==o.bottom-f.bottom>f.top-o.top&&(b=this.above[c]=!b);var O=(b?f.top-o.top:o.bottom-f.bottom)-_;if(O<m&&!1!==h.resize){if(O<this.view.defaultLineHeight){p.style.top=gb;continue}yb.set(h,m),p.style.height=(m=O)/a+"px"}else p.style.height&&(p.style.height="");var S=b?f.top-m-_-y.y:f.bottom+_+y.y,k=E+v;if(!0!==h.overlap){var w,R=(0,X.Z)(l);try{for(R.s();!(w=R.n()).done;){var C=w.value;C.left<k&&C.right>E&&C.top<S+m&&C.bottom>S&&(S=b?C.top-m-2-_:C.bottom+_+2)}}catch(x){R.e(x)}finally{R.f()}}if("absolute"==this.position?(p.style.top=(S-e.parent.top)/a+"px",p.style.left=(E-e.parent.left)/s+"px"):(p.style.top=S/a+"px",p.style.left=E/s+"px"),g){var I=f.left+(T?y.x:-y.x)-(E+14-7);g.style.left=I/s+"px"}!0!==h.overlap&&l.push({left:E,top:S,right:k,bottom:S+m}),p.classList.toggle("cm-tooltip-above",b),p.classList.toggle("cm-tooltip-below",!b),h.positioned&&h.positioned(e.space)}}}},{key:"maybeMeasure",value:function(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView))){var e,t=(0,X.Z)(this.manager.tooltipViews);try{for(t.s();!(e=t.n()).done;){e.value.dom.style.top=gb}}catch(n){t.e(n)}finally{t.f()}}}}]),e}(),{eventObservers:{scroll:function(){this.maybeMeasure()}}}),Eb=yE.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"".concat(7,"px"),width:"".concat(14,"px"),position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"".concat(7,"px solid transparent"),borderRight:"".concat(7,"px solid transparent")},".cm-tooltip-above &":{bottom:"-".concat(7,"px"),"&:before":{borderTop:"".concat(7,"px solid #bbb")},"&:after":{borderTop:"".concat(7,"px solid #f5f5f5"),bottom:"1px"}},".cm-tooltip-below &":{top:"-".concat(7,"px"),"&:before":{borderBottom:"".concat(7,"px solid #bbb")},"&:after":{borderBottom:"".concat(7,"px solid #f5f5f5"),top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),bb={x:0,y:0},Ob=p_.define({enables:[Tb,Eb]}),Sb=p_.define(),kb=function(){function e(t){var n=this;(0,z.Z)(this,e),this.view=t,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new _b(t,Sb,(function(e){return n.createHostedView(e)}))}return(0,Y.Z)(e,[{key:"createHostedView",value:function(e){var t=e.create(this.view);return t.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(t.dom),this.mounted&&t.mount&&t.mount(this.view),t}},{key:"mount",value:function(e){var t,n=(0,X.Z)(this.manager.tooltipViews);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.mount&&r.mount(e)}}catch(i){n.e(i)}finally{n.f()}this.mounted=!0}},{key:"positioned",value:function(e){var t,n=(0,X.Z)(this.manager.tooltipViews);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.positioned&&r.positioned(e)}}catch(i){n.e(i)}finally{n.f()}}},{key:"update",value:function(e){this.manager.update(e)}},{key:"destroy",value:function(){var e,t,n=(0,X.Z)(this.manager.tooltipViews);try{for(n.s();!(t=n.n()).done;){var r=t.value;null===(e=r.destroy)||void 0===e||e.call(r)}}catch(i){n.e(i)}finally{n.f()}}},{key:"passProp",value:function(e){var t,n=void 0,r=(0,X.Z)(this.manager.tooltipViews);try{for(r.s();!(t=r.n()).done;){var i=t.value[e];if(void 0!==i)if(void 0===n)n=i;else if(n!==i)return}}catch(o){r.e(o)}finally{r.f()}return n}},{key:"offset",get:function(){return this.passProp("offset")}},{key:"getCoords",get:function(){return this.passProp("getCoords")}},{key:"overlap",get:function(){return this.passProp("overlap")}},{key:"resize",get:function(){return this.passProp("resize")}}],[{key:"create",value:function(t){return new e(t)}}]),e}(),wb=Ob.compute([Sb],(function(e){var t=e.facet(Sb).filter((function(e){return e}));return 0===t.length?null:{pos:Math.min.apply(Math,(0,W.Z)(t.map((function(e){return e.pos})))),end:Math.max.apply(Math,(0,W.Z)(t.filter((function(e){return null!=e.end})).map((function(e){return e.end})))),create:kb.create,above:t[0].above,arrow:t.some((function(e){return e.arrow}))}})),Rb=function(){function e(t,n,r,i,o){(0,z.Z)(this,e),this.view=t,this.source=n,this.field=r,this.setHover=i,this.hoverTime=o,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:t.dom,time:0},this.checkHover=this.checkHover.bind(this),t.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),t.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}return(0,Y.Z)(e,[{key:"update",value:function(){var e=this;this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout((function(){return e.startHover()}),20))}},{key:"active",get:function(){return this.view.state.field(this.field)}},{key:"checkHover",value:function(){if(this.hoverTimeout=-1,!this.active){var e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}}},{key:"startHover",value:function(){var e=this;clearTimeout(this.restartTimeout);var t=this.view,n=this.lastMove,r=t.docView.nearest(n.target);if(r){var i,o=1;if(r instanceof _m)i=r.posAtStart;else{if(null==(i=t.posAtCoords(n)))return;var s=t.coordsAtPos(i);if(!s||n.y<s.top||n.y>s.bottom||n.x<s.left-t.defaultCharacterWidth||n.x>s.right+t.defaultCharacterWidth)return;var a=t.bidiSpans(t.state.doc.lineAt(i)).find((function(e){return e.from<=i&&e.to>=i})),l=a&&a.dir==fy.RTL?-1:1;o=n.x<s.left?-l:l}var c=this.source(t,i,o);if(null===c||void 0===c?void 0:c.then){var u=this.pending={pos:i};c.then((function(n){e.pending==u&&(e.pending=null,n&&t.dispatch({effects:e.setHover.of(n)}))}),(function(e){return Km(t.state,e,"hover tooltip")}))}else c&&t.dispatch({effects:this.setHover.of(c)})}}},{key:"mousemove",value:function(e){var t;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));var n=this.active;if(n&&!Cb(this.lastMove.target)||this.pending){var r=(n||this.pending).pos,i=null!==(t=null===n||void 0===n?void 0:n.end)&&void 0!==t?t:r;(r==i?this.view.posAtCoords(this.lastMove)==r:function(e,t,n,r,i,o){var s=e.scrollDOM.getBoundingClientRect(),a=e.documentTop+e.documentPadding.top+e.contentHeight;if(s.left>r||s.right<r||s.top>i||Math.min(s.bottom,a)<i)return!1;var l=e.posAtCoords({x:r,y:i},!1);return l>=t&&l<=n}(this.view,r,i,e.clientX,e.clientY))||(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}},{key:"mouseleave",value:function(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&!Cb(e.relatedTarget)&&this.view.dispatch({effects:this.setHover.of(null)})}},{key:"destroy",value:function(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}]),e}();function Cb(e){for(var t=e;t;t=t.parentNode)if(1==t.nodeType&&t.classList.contains("cm-tooltip"))return!0;return!1}function Ib(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=G_.define(),r=m_.define({create:function(){return null},update:function(e,r){if(e&&(t.hideOnChange&&(r.docChanged||r.selection)||t.hideOn&&t.hideOn(r,e)))return null;if(e&&r.docChanged){var i=r.changes.mapPos(e.pos,-1,$g.TrackDel);if(null==i)return null;var o=Object.assign(Object.create(null),e);o.pos=i,null!=e.end&&(o.end=r.changes.mapPos(e.end)),e=o}var s,a=(0,X.Z)(r.effects);try{for(a.s();!(s=a.n()).done;){var l=s.value;l.is(n)&&(e=l.value),l.is(Ab)&&(e=null)}}catch(c){a.e(c)}finally{a.f()}return e},provide:function(e){return Sb.from(e)}});return[r,ey.define((function(i){return new Rb(i,e,r,n,t.hoverTime||300)})),wb]}function xb(e,t){var n=e.plugin(Tb);if(!n)return null;var r=n.manager.tooltips.indexOf(t);return r<0?null:n.manager.tooltipViews[r]}var Ab=G_.define();var Nb=p_.define({combine:function(e){var t,n,r,i=(0,X.Z)(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;t=t||o.topContainer,n=n||o.bottomContainer}}catch(s){i.e(s)}finally{i.f()}return{topContainer:t,bottomContainer:n}}});function Lb(e,t){var n=e.plugin(Mb),r=n?n.specs.indexOf(t):-1;return r>-1?n.panels[r]:null}var Mb=ey.fromClass(function(){function e(t){(0,z.Z)(this,e),this.input=t.state.facet(Bb),this.specs=this.input.filter((function(e){return e})),this.panels=this.specs.map((function(e){return e(t)}));var n=t.state.facet(Nb);this.top=new Db(t,!0,n.topContainer),this.bottom=new Db(t,!1,n.bottomContainer),this.top.sync(this.panels.filter((function(e){return e.top}))),this.bottom.sync(this.panels.filter((function(e){return!e.top})));var r,i=(0,X.Z)(this.panels);try{for(i.s();!(r=i.n()).done;){var o=r.value;o.dom.classList.add("cm-panel"),o.mount&&o.mount()}}catch(s){i.e(s)}finally{i.f()}}return(0,Y.Z)(e,[{key:"update",value:function(e){var t=e.state.facet(Nb);this.top.container!=t.topContainer&&(this.top.sync([]),this.top=new Db(e.view,!0,t.topContainer)),this.bottom.container!=t.bottomContainer&&(this.bottom.sync([]),this.bottom=new Db(e.view,!1,t.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();var n=e.state.facet(Bb);if(n!=this.input){var r,i=n.filter((function(e){return e})),o=[],s=[],a=[],l=[],c=(0,X.Z)(i);try{for(c.s();!(r=c.n()).done;){var u=r.value,h=this.specs.indexOf(u),p=void 0;h<0?(p=u(e.view),l.push(p)):(p=this.panels[h]).update&&p.update(e),o.push(p),(p.top?s:a).push(p)}}catch(y){c.e(y)}finally{c.f()}this.specs=i,this.panels=o,this.top.sync(s),this.bottom.sync(a);for(var f=0,d=l;f<d.length;f++){var g=d[f];g.dom.classList.add("cm-panel"),g.mount&&g.mount()}}else{var _,v=(0,X.Z)(this.panels);try{for(v.s();!(_=v.n()).done;){var m=_.value;m.update&&m.update(e)}}catch(y){v.e(y)}finally{v.f()}}}},{key:"destroy",value:function(){this.top.sync([]),this.bottom.sync([])}}]),e}(),{provide:function(e){return yE.scrollMargins.of((function(t){var n=t.plugin(e);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}}))}}),Db=function(){function e(t,n,r){(0,z.Z)(this,e),this.view=t,this.top=n,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}return(0,Y.Z)(e,[{key:"sync",value:function(e){var t,n=(0,X.Z)(this.panels);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.destroy&&e.indexOf(r)<0&&r.destroy()}}catch(i){n.e(i)}finally{n.f()}this.panels=e,this.syncDOM()}},{key:"syncDOM",value:function(){if(0!=this.panels.length){if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";var e=this.container||this.view.dom;e.insertBefore(this.dom,this.top?e.firstChild:null)}var t,n=this.dom.firstChild,r=(0,X.Z)(this.panels);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(i.dom.parentNode==this.dom){for(;n!=i.dom;)n=Pb(n);n=n.nextSibling}else this.dom.insertBefore(i.dom,n)}}catch(o){r.e(o)}finally{r.f()}for(;n;)n=Pb(n)}else this.dom&&(this.dom.remove(),this.dom=void 0)}},{key:"scrollMargin",value:function(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}},{key:"syncClasses",value:function(){if(this.container&&this.classes!=this.view.themeClasses){var e,t=(0,X.Z)(this.classes.split(" "));try{for(t.s();!(e=t.n()).done;){var n=e.value;n&&this.container.classList.remove(n)}}catch(s){t.e(s)}finally{t.f()}var r,i=(0,X.Z)((this.classes=this.view.themeClasses).split(" "));try{for(i.s();!(r=i.n()).done;){var o=r.value;o&&this.container.classList.add(o)}}catch(s){i.e(s)}finally{i.f()}}}}]),e}();function Pb(e){var t=e.nextSibling;return e.remove(),t}var Bb=p_.define({enables:Mb}),Fb=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(){return(0,z.Z)(this,n),t.apply(this,arguments)}return(0,Y.Z)(n,[{key:"compare",value:function(e){return this==e||this.constructor==e.constructor&&this.eq(e)}},{key:"eq",value:function(e){return!1}},{key:"destroy",value:function(e){}}]),n}(tv);Fb.prototype.elementClass="",Fb.prototype.toDOM=void 0,Fb.prototype.mapMode=$g.TrackBefore,Fb.prototype.startSide=Fb.prototype.endSide=-1,Fb.prototype.point=!0;var Ub=p_.define(),Zb={class:"",renderEmptyElements:!1,elementStyle:"",markers:function(){return ov.empty},lineMarker:function(){return null},widgetMarker:function(){return null},lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},Gb=p_.define();function Hb(e){return[jb(),Gb.of(Object.assign(Object.assign({},Zb),e))]}var Vb=p_.define({combine:function(e){return e.some((function(e){return e}))}});function jb(e){var t=[Wb];return e&&!1===e.fixed&&t.push(Vb.of(!0)),t}var Wb=ey.fromClass(function(){function e(t){(0,z.Z)(this,e),this.view=t,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(Gb).map((function(e){return new qb(t,e)}));var n,r=(0,X.Z)(this.gutters);try{for(r.s();!(n=r.n()).done;){var i=n.value;this.dom.appendChild(i.dom)}}catch(o){r.e(o)}finally{r.f()}this.fixed=!t.state.facet(Vb),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}return(0,Y.Z)(e,[{key:"update",value:function(e){if(this.updateGutters(e)){var t=this.prevViewport,n=e.view.viewport,r=Math.min(t.to,n.to)-Math.max(t.from,n.from);this.syncGutters(r<.8*(n.to-n.from))}e.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(Vb)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=e.view.viewport}},{key:"syncGutters",value:function(e){var t=this,n=this.dom.nextSibling;e&&this.dom.remove();var r,i=ov.iter(this.view.state.facet(Ub),this.view.viewport.from),o=[],s=this.gutters.map((function(e){return new Yb(e,t.view.viewport,-t.view.documentPadding.top)})),a=(0,X.Z)(this.view.viewportLineBlocks);try{for(a.s();!(r=a.n()).done;){var l=r.value;if(o.length&&(o=[]),Array.isArray(l.type)){var c,u=!0,h=(0,X.Z)(l.type);try{for(h.s();!(c=h.n()).done;){var p=c.value;if(p.type==Im.Text&&u){zb(i,o,p.from);var f,d=(0,X.Z)(s);try{for(d.s();!(f=d.n()).done;){f.value.line(this.view,p,o)}}catch(O){d.e(O)}finally{d.f()}u=!1}else if(p.widget){var g,_=(0,X.Z)(s);try{for(_.s();!(g=_.n()).done;){g.value.widget(this.view,p)}}catch(O){_.e(O)}finally{_.f()}}}}catch(O){h.e(O)}finally{h.f()}}else if(l.type==Im.Text){zb(i,o,l.from);var v,m=(0,X.Z)(s);try{for(m.s();!(v=m.n()).done;){v.value.line(this.view,l,o)}}catch(O){m.e(O)}finally{m.f()}}else if(l.widget){var y,T=(0,X.Z)(s);try{for(T.s();!(y=T.n()).done;){y.value.widget(this.view,l)}}catch(O){T.e(O)}finally{T.f()}}}}catch(O){a.e(O)}finally{a.f()}var E,b=(0,X.Z)(s);try{for(b.s();!(E=b.n()).done;){E.value.finish()}}catch(O){b.e(O)}finally{b.f()}e&&this.view.scrollDOM.insertBefore(this.dom,n)}},{key:"updateGutters",value:function(e){var t=e.startState.facet(Gb),n=e.state.facet(Gb),r=e.docChanged||e.heightChanged||e.viewportChanged||!ov.eq(e.startState.facet(Ub),e.state.facet(Ub),e.view.viewport.from,e.view.viewport.to);if(t==n){var i,o=(0,X.Z)(this.gutters);try{for(o.s();!(i=o.n()).done;){i.value.update(e)&&(r=!0)}}catch(v){o.e(v)}finally{o.f()}}else{r=!0;var s,a=[],l=(0,X.Z)(n);try{for(l.s();!(s=l.n()).done;){var c=s.value,u=t.indexOf(c);u<0?a.push(new qb(this.view,c)):(this.gutters[u].update(e),a.push(this.gutters[u]))}}catch(v){l.e(v)}finally{l.f()}var h,p=(0,X.Z)(this.gutters);try{for(p.s();!(h=p.n()).done;){var f=h.value;f.dom.remove(),a.indexOf(f)<0&&f.destroy()}}catch(v){p.e(v)}finally{p.f()}for(var d=0,g=a;d<g.length;d++){var _=g[d];this.dom.appendChild(_.dom)}this.gutters=a}return r}},{key:"destroy",value:function(){var e,t=(0,X.Z)(this.gutters);try{for(t.s();!(e=t.n()).done;){e.value.destroy()}}catch(n){t.e(n)}finally{t.f()}this.dom.remove()}}]),e}(),{provide:function(e){return yE.scrollMargins.of((function(t){var n=t.plugin(e);return n&&0!=n.gutters.length&&n.fixed?t.textDirection==fy.LTR?{left:n.dom.offsetWidth*t.scaleX}:{right:n.dom.offsetWidth*t.scaleX}:null}))}});function Xb(e){return Array.isArray(e)?e:[e]}function zb(e,t,n){for(;e.value&&e.from<=n;)e.from==n&&t.push(e.value),e.next()}var Yb=function(){function e(t,n,r){(0,z.Z)(this,e),this.gutter=t,this.height=r,this.i=0,this.cursor=ov.iter(t.markers,n.from)}return(0,Y.Z)(e,[{key:"addElement",value:function(e,t,n){var r=this.gutter,i=(t.top-this.height)/e.scaleY,o=t.height/e.scaleY;if(this.i==r.elements.length){var s=new Kb(e,o,i,n);r.elements.push(s),r.dom.appendChild(s.dom)}else r.elements[this.i].update(e,o,i,n);this.height=t.bottom,this.i++}},{key:"line",value:function(e,t,n){var r=[];zb(this.cursor,r,t.from),n.length&&(r=r.concat(n));var i=this.gutter.config.lineMarker(e,t,r);i&&r.unshift(i);var o=this.gutter;(0!=r.length||o.config.renderEmptyElements)&&this.addElement(e,t,r)}},{key:"widget",value:function(e,t){var n=this.gutter.config.widgetMarker(e,t.widget,t);n&&this.addElement(e,t,[n])}},{key:"finish",value:function(){for(var e=this.gutter;e.elements.length>this.i;){var t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}]),e}(),qb=function(){function e(t,n){var r=this;(0,z.Z)(this,e),this.view=t,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");var i=function(e){r.dom.addEventListener(e,(function(i){var o,s=i.target;if(s!=r.dom&&r.dom.contains(s)){for(;s.parentNode!=r.dom;)s=s.parentNode;var a=s.getBoundingClientRect();o=(a.top+a.bottom)/2}else o=i.clientY;var l=t.lineBlockAtHeight(o-t.documentTop);n.domEventHandlers[e](t,l,i)&&i.preventDefault()}))};for(var o in n.domEventHandlers)i(o);this.markers=Xb(n.markers(t)),n.initialSpacer&&(this.spacer=new Kb(t,0,0,[n.initialSpacer(t)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}return(0,Y.Z)(e,[{key:"update",value:function(e){var t=this.markers;if(this.markers=Xb(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){var n=this.config.updateSpacer(this.spacer.markers[0],e);n!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[n])}var r=e.view.viewport;return!ov.eq(this.markers,t,r.from,r.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(e)}},{key:"destroy",value:function(){var e,t=(0,X.Z)(this.elements);try{for(t.s();!(e=t.n()).done;){e.value.destroy()}}catch(n){t.e(n)}finally{t.f()}}}]),e}(),Kb=function(){function e(t,n,r,i){(0,z.Z)(this,e),this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(t,n,r,i)}return(0,Y.Z)(e,[{key:"update",value:function(e,t,n,r){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=n&&(this.dom.style.marginTop=(this.above=n)?n+"px":""),function(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].compare(t[n]))return!1;return!0}(this.markers,r)||this.setMarkers(e,r)}},{key:"setMarkers",value:function(e,t){for(var n="cm-gutterElement",r=this.dom.firstChild,i=0,o=0;;){var s=o,a=i<t.length?t[i++]:null,l=!1;if(a){var c=a.elementClass;c&&(n+=" "+c);for(var u=o;u<this.markers.length;u++)if(this.markers[u].compare(a)){s=u,l=!0;break}}else s=this.markers.length;for(;o<s;){var h=this.markers[o++];if(h.toDOM){h.destroy(r);var p=r.nextSibling;r.remove(),r=p}}if(!a)break;a.toDOM&&(l?r=r.nextSibling:this.dom.insertBefore(a.toDOM(e),r)),l&&o++}this.dom.className=n,this.markers=t}},{key:"destroy",value:function(){this.setMarkers(null,[])}}]),e}();var Qb=p_.define(),Jb=p_.define({combine:function(e){return ev(e,{formatNumber:String,domEventHandlers:{}},{domEventHandlers:function(e,t){var n=Object.assign({},e),r=function(){var e=n[i],r=t[i];n[i]=e?function(t,n,i){return e(t,n,i)||r(t,n,i)}:r};for(var i in t)r();return n}})}}),$b=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e){var r;return(0,z.Z)(this,n),(r=t.call(this)).number=e,r}return(0,Y.Z)(n,[{key:"eq",value:function(e){return this.number==e.number}},{key:"toDOM",value:function(){return document.createTextNode(this.number)}}]),n}(Fb);function eO(e,t){return e.state.facet(Jb).formatNumber(t,e.state)}var tO=Gb.compute([Jb],(function(e){return{class:"cm-lineNumbers",renderEmptyElements:!1,markers:function(e){return e.state.facet(Qb)},lineMarker:function(e,t,n){return n.some((function(e){return e.toDOM}))?null:new $b(eO(e,e.state.doc.lineAt(t.from).number))},widgetMarker:function(){return null},lineMarkerChange:function(e){return e.startState.facet(Jb)!=e.state.facet(Jb)},initialSpacer:function(e){return new $b(eO(e,nO(e.state.doc.lines)))},updateSpacer:function(e,t){var n=eO(t.view,nO(t.view.state.doc.lines));return n==e.number?e:new $b(n)},domEventHandlers:e.facet(Jb).domEventHandlers}}));function nO(e){for(var t=9;t<e;)t=10*t+9;return t}var rO=new(function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(){var e;return(0,z.Z)(this,n),(e=t.apply(this,arguments)).elementClass="cm-activeLineGutter",e}return(0,Y.Z)(n)}(Fb)),iO=Ub.compute(["selection"],(function(e){var t,n=[],r=-1,i=(0,X.Z)(e.selection.ranges);try{for(i.s();!(t=i.n()).done;){var o=t.value,s=e.doc.lineAt(o.head).from;s>r&&(r=s,n.push(rO.range(s)))}}catch(a){i.e(a)}finally{i.f()}return ov.of(n)}));var oO=1024,sO=0,aO=(0,Y.Z)((function e(t,n){(0,z.Z)(this,e),this.from=t,this.to=n})),lO=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,z.Z)(this,e),this.id=sO++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||function(){throw new Error("This node type doesn't define a deserialize function")}}return(0,Y.Z)(e,[{key:"add",value:function(e){var t=this;if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof e&&(e=hO.match(e)),function(n){var r=e(n);return void 0===r?null:[t,r]}}}]),e}();lO.closedBy=new lO({deserialize:function(e){return e.split(" ")}}),lO.openedBy=new lO({deserialize:function(e){return e.split(" ")}}),lO.group=new lO({deserialize:function(e){return e.split(" ")}}),lO.contextHash=new lO({perNode:!0}),lO.lookAhead=new lO({perNode:!0}),lO.mounted=new lO({perNode:!0});var cO=function(){function e(t,n,r){(0,z.Z)(this,e),this.tree=t,this.overlay=n,this.parser=r}return(0,Y.Z)(e,null,[{key:"get",value:function(e){return e&&e.props&&e.props[lO.mounted.id]}}]),e}(),uO=Object.create(null),hO=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;(0,z.Z)(this,e),this.name=t,this.props=n,this.id=r,this.flags=i}return(0,Y.Z)(e,[{key:"prop",value:function(e){return this.props[e.id]}},{key:"isTop",get:function(){return(1&this.flags)>0}},{key:"isSkipped",get:function(){return(2&this.flags)>0}},{key:"isError",get:function(){return(4&this.flags)>0}},{key:"isAnonymous",get:function(){return(8&this.flags)>0}},{key:"is",value:function(e){if("string"==typeof e){if(this.name==e)return!0;var t=this.prop(lO.group);return!!t&&t.indexOf(e)>-1}return this.id==e}}],[{key:"define",value:function(t){var n=t.props&&t.props.length?Object.create(null):uO,r=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(null==t.name?8:0),i=new e(t.name||"",n,t.id,r);if(t.props){var o,s=(0,X.Z)(t.props);try{for(s.s();!(o=s.n()).done;){var a=o.value;if(Array.isArray(a)||(a=a(i)),a){if(a[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[a[0].id]=a[1]}}}catch(l){s.e(l)}finally{s.f()}}return i}},{key:"match",value:function(e){var t=Object.create(null);for(var n in e){var r,i=(0,X.Z)(n.split(" "));try{for(i.s();!(r=i.n()).done;){var o=r.value;t[o]=e[n]}}catch(s){i.e(s)}finally{i.f()}}return function(e){for(var n=e.prop(lO.group),r=-1;r<(n?n.length:0);r++){var i=t[r<0?e.name:n[r]];if(i)return i}}}}]),e}();hO.none=new hO("",Object.create(null),0,8);var pO,fO=function(){function e(t){(0,z.Z)(this,e),this.types=t;for(var n=0;n<t.length;n++)if(t[n].id!=n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}return(0,Y.Z)(e,[{key:"extend",value:function(){for(var t=[],n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o,s=(0,X.Z)(this.types);try{for(s.s();!(o=s.n()).done;){var a,l=o.value,c=null,u=(0,X.Z)(r);try{for(u.s();!(a=u.n()).done;){var h=(0,a.value)(l);h&&(c||(c=Object.assign({},l.props)),c[h[0].id]=h[1])}}catch(p){u.e(p)}finally{u.f()}t.push(c?new hO(l.name,c,l.id,l.flags):l)}}catch(p){s.e(p)}finally{s.f()}return new e(t)}}]),e}(),dO=new WeakMap,gO=new WeakMap;!function(e){e[e.ExcludeBuffers=1]="ExcludeBuffers",e[e.IncludeAnonymous=2]="IncludeAnonymous",e[e.IgnoreMounts=4]="IgnoreMounts",e[e.IgnoreOverlays=8]="IgnoreOverlays"}(pO||(pO={}));var _O=function(){function e(t,n,r,i,o){if((0,z.Z)(this,e),this.type=t,this.children=n,this.positions=r,this.length=i,this.props=null,o&&o.length){this.props=Object.create(null);var s,l=(0,X.Z)(o);try{for(l.s();!(s=l.n()).done;){var c=a(s.value,2),u=c[0],h=c[1];this.props["number"==typeof u?u:u.id]=h}}catch(p){l.e(p)}finally{l.f()}}}return(0,Y.Z)(e,[{key:"toString",value:function(){var e=cO.get(this);if(e&&!e.overlay)return e.tree.toString();var t,n="",r=(0,X.Z)(this.children);try{for(r.s();!(t=r.n()).done;){var i=t.value.toString();i&&(n&&(n+=","),n+=i)}}catch(o){r.e(o)}finally{r.f()}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}},{key:"cursor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new IO(this.topNode,e)}},{key:"cursorAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=dO.get(this)||this.topNode,r=new IO(n);return r.moveTo(e,t),dO.set(this,r._tree),r}},{key:"topNode",get:function(){return new bO(this,0,0,null)}},{key:"resolve",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=TO(dO.get(this)||this.topNode,e,t,!1);return dO.set(this,n),n}},{key:"resolveInner",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=TO(gO.get(this)||this.topNode,e,t,!0);return gO.set(this,n),n}},{key:"resolveStack",value:function(e){return function(e,t,n){for(var r=e.resolveInner(t,n),i=null,o=r instanceof bO?r:r.context.parent;o;o=o.parent)if(o.index<0){var s=o.parent;(i||(i=[r])).push(s.resolve(t,n)),o=s}else{var a=cO.get(o.tree);if(a&&a.overlay&&a.overlay[0].from<=t&&a.overlay[a.overlay.length-1].to>=t){var l=new bO(a.tree,a.overlay[0].from+o.from,0,null);(i||(i=[r])).push(TO(l,t,n,!1))}}return i?RO(i):r}(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)}},{key:"iterate",value:function(e){for(var t=e.enter,n=e.leave,r=e.from,i=void 0===r?0:r,o=e.to,s=void 0===o?this.length:o,a=e.mode||0,l=(a&pO.IncludeAnonymous)>0,c=this.cursor(a|pO.IncludeAnonymous);;){var u=!1;if(c.from<=s&&c.to>=i&&(!l&&c.type.isAnonymous||!1!==t(c))){if(c.firstChild())continue;u=!0}for(;u&&n&&(l||!c.type.isAnonymous)&&n(c),!c.nextSibling();){if(!c.parent())return;u=!0}}}},{key:"prop",value:function(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}},{key:"propValues",get:function(){var e=[];if(this.props)for(var t in this.props)e.push([+t,this.props[t]]);return e}},{key:"balance",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.children.length<=8?this:LO(hO.none,this.children,this.positions,0,this.children.length,0,this.length,(function(n,r,i){return new e(t.type,n,r,i,t.propValues)}),n.makeTree||function(t,n,r){return new e(hO.none,t,n,r)})}}],[{key:"build",value:function(e){return function(e){var t,n=e.buffer,r=e.nodeSet,i=e.maxBufferLength,o=void 0===i?oO:i,s=e.reused,a=void 0===s?[]:s,l=e.minRepeatType,c=void 0===l?r.types.length:l,u=Array.isArray(n)?new vO(n,n.length):n,h=r.types,p=0,f=0;function d(e,t,n,i,s){for(var l=u.id,T=u.start,E=u.end,b=u.size,O=f;b<0;){if(u.next(),-1==b){var S=a[l];return n.push(S),void i.push(T-e)}if(-3==b)return void(p=l);if(-4==b)return void(f=l);throw new RangeError("Unrecognized record size: ".concat(b))}var k,w,R=h[l],C=T-e;if(E-T<=o&&(w=m(u.pos-t,s))){for(var I=new Uint16Array(w.size-w.skip),x=u.pos-w.size,A=I.length;u.pos>x;)A=y(w.start,I,A);k=new mO(I,E-w.start,r),C=w.start-e}else{var N=u.pos-b;u.next();for(var L=[],M=[],D=l>=c?l:-1,P=0,B=E;u.pos>N;)D>=0&&u.id==D&&u.size>=0?(u.end<=B-o&&(_(L,M,T,P,u.end,B,D,O),P=L.length,B=u.end),u.next()):d(T,N,L,M,D);if(D>=0&&P>0&&P<L.length&&_(L,M,T,P,T,B,D,O),L.reverse(),M.reverse(),D>-1&&P>0){var F=g(R);k=LO(R,L,M,0,L.length,0,E-T,F,F)}else k=v(R,L,M,E-T,O-E)}n.push(k),i.push(C)}function g(e){return function(t,n,r){var i,o,s=0,a=t.length-1;if(a>=0&&(i=t[a])instanceof _O){if(!a&&i.type==e&&i.length==r)return i;(o=i.prop(lO.lookAhead))&&(s=n[a]+i.length+o)}return v(e,t,n,r,s)}}function _(e,t,n,i,o,s,a,l){for(var c=[],u=[];e.length>i;)c.push(e.pop()),u.push(t.pop()+n-o);e.push(v(r.types[a],c,u,s-o,l-s)),t.push(o-n)}function v(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5?arguments[5]:void 0;if(p){var s=[lO.contextHash,p];o=o?[s].concat(o):[s]}if(i>25){var a=[lO.lookAhead,i];o=o?[a].concat(o):[a]}return new _O(e,t,n,r,o)}function m(e,t){var n=u.fork(),r=0,i=0,s=0,a=n.end-o,l={size:0,start:0,skip:0};e:for(var h=n.pos-e;n.pos>h;){var p=n.size;if(n.id==t&&p>=0)l.size=r,l.start=i,l.skip=s,s+=4,r+=4,n.next();else{var f=n.pos-p;if(p<0||f<h||n.start<a)break;var d=n.id>=c?4:0,g=n.start;for(n.next();n.pos>f;){if(n.size<0){if(-3!=n.size)break e;d+=4}else n.id>=c&&(d+=4);n.next()}i=g,r+=p,s+=d}}return(t<0||r==e)&&(l.size=r,l.start=i,l.skip=s),l.size>4?l:void 0}function y(e,t,n){var r=u.id,i=u.start,o=u.end,s=u.size;if(u.next(),s>=0&&r<c){var a=n;if(s>4)for(var l=u.pos-(s-4);u.pos>l;)n=y(e,t,n);t[--n]=a,t[--n]=o-e,t[--n]=i-e,t[--n]=r}else-3==s?p=r:-4==s&&(f=r);return n}var T=[],E=[];for(;u.pos>0;)d(e.start||0,e.bufferStart||0,T,E,-1);var b=null!==(t=e.length)&&void 0!==t?t:T.length?E[0]+T[0].length:0;return new _O(h[e.topID],T.reverse(),E.reverse(),b)}(e)}}]),e}();_O.empty=new _O(hO.none,[],[],0);var vO=function(){function e(t,n){(0,z.Z)(this,e),this.buffer=t,this.index=n}return(0,Y.Z)(e,[{key:"id",get:function(){return this.buffer[this.index-4]}},{key:"start",get:function(){return this.buffer[this.index-3]}},{key:"end",get:function(){return this.buffer[this.index-2]}},{key:"size",get:function(){return this.buffer[this.index-1]}},{key:"pos",get:function(){return this.index}},{key:"next",value:function(){this.index-=4}},{key:"fork",value:function(){return new e(this.buffer,this.index)}}]),e}(),mO=function(){function e(t,n,r){(0,z.Z)(this,e),this.buffer=t,this.length=n,this.set=r}return(0,Y.Z)(e,[{key:"type",get:function(){return hO.none}},{key:"toString",value:function(){for(var e=[],t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}},{key:"childString",value:function(e){var t=this.buffer[e],n=this.buffer[e+3],r=this.set.types[t],i=r.name;if(/\W/.test(i)&&!r.isError&&(i=JSON.stringify(i)),n==(e+=4))return i;for(var o=[];e<n;)o.push(this.childString(e)),e=this.buffer[e+3];return i+"("+o.join(",")+")"}},{key:"findChild",value:function(e,t,n,r,i){for(var o=this.buffer,s=-1,a=e;a!=t&&!(yO(i,r,o[a+1],o[a+2])&&(s=a,n>0));a=o[a+3]);return s}},{key:"slice",value:function(t,n,r){for(var i=this.buffer,o=new Uint16Array(n-t),s=0,a=t,l=0;a<n;){o[l++]=i[a++],o[l++]=i[a++]-r;var c=o[l++]=i[a++]-r;o[l++]=i[a++]-t,s=Math.max(s,c)}return new e(o,s,this.set)}}]),e}();function yO(e,t,n,r){switch(e){case-2:return n<t;case-1:return r>=t&&n<t;case 0:return n<t&&r>t;case 1:return n<=t&&r>t;case 2:return r>t;case 4:return!0}}function TO(e,t,n,r){for(var i;e.from==e.to||(n<1?e.from>=t:e.from>t)||(n>-1?e.to<=t:e.to<t);){var o=!r&&e instanceof bO&&e.index<0?null:e.parent;if(!o)return e;e=o}var s=r?0:pO.IgnoreOverlays;if(r)for(var a=e,l=a.parent;l;l=(a=l).parent)a instanceof bO&&a.index<0&&(null===(i=l.enter(t,n,s))||void 0===i?void 0:i.from)!=a.from&&(e=l);for(;;){var c=e.enter(t,n,s);if(!c)return e;e=c}}var EO=function(){function e(){(0,z.Z)(this,e)}return(0,Y.Z)(e,[{key:"cursor",value:function(){return new IO(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)}},{key:"getChild",value:function(e){var t=OO(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null);return t.length?t[0]:null}},{key:"getChildren",value:function(e){return OO(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"resolve",value:function(e){return TO(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,!1)}},{key:"resolveInner",value:function(e){return TO(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,!0)}},{key:"matchContext",value:function(e){return SO(this,e)}},{key:"enterUnfinishedNodesBefore",value:function(e){for(var t=this.childBefore(e),n=this;t;){var r=t.lastChild;if(!r||r.to!=t.to)break;r.type.isError&&r.from==r.to?(n=t,t=r.prevSibling):t=r}return n}},{key:"node",get:function(){return this}},{key:"next",get:function(){return this.parent}}]),e}(),bO=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e,r,i,o){var s;return(0,z.Z)(this,n),(s=t.call(this))._tree=e,s.from=r,s.index=i,s._parent=o,s}return(0,Y.Z)(n,[{key:"type",get:function(){return this._tree.type}},{key:"name",get:function(){return this._tree.type.name}},{key:"to",get:function(){return this.from+this._tree.length}},{key:"nextChild",value:function(e,t,r,i){for(var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=this;;){for(var a=s._tree,l=a.children,c=a.positions,u=t>0?l.length:-1;e!=u;e+=t){var h=l[e],p=c[e]+s.from;if(yO(i,r,p,p+h.length))if(h instanceof mO){if(o&pO.ExcludeBuffers)continue;var f=h.findChild(0,h.buffer.length,t,r-p,i);if(f>-1)return new wO(new kO(s,h,e,p),null,f)}else if(o&pO.IncludeAnonymous||!h.type.isAnonymous||xO(h)){var d=void 0;if(!(o&pO.IgnoreMounts)&&(d=cO.get(h))&&!d.overlay)return new n(d.tree,p,e,s);var g=new n(h,p,e,s);return o&pO.IncludeAnonymous||!g.type.isAnonymous?g:g.nextChild(t<0?h.children.length-1:0,t,r,i)}}if(o&pO.IncludeAnonymous||!s.type.isAnonymous)return null;if(e=s.index>=0?s.index+t:t<0?-1:s._parent._tree.children.length,!(s=s._parent))return null}}},{key:"firstChild",get:function(){return this.nextChild(0,1,0,4)}},{key:"lastChild",get:function(){return this.nextChild(this._tree.children.length-1,-1,0,4)}},{key:"childAfter",value:function(e){return this.nextChild(0,1,e,2)}},{key:"childBefore",value:function(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}},{key:"enter",value:function(e,t){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!(i&pO.IgnoreOverlays)&&(r=cO.get(this._tree))&&r.overlay){var o,s=e-this.from,a=(0,X.Z)(r.overlay);try{for(a.s();!(o=a.n()).done;){var l=o.value,c=l.from,u=l.to;if((t>0?c<=s:c<s)&&(t<0?u>=s:u>s))return new n(r.tree,r.overlay[0].from+this.from,-1,this)}}catch(h){a.e(h)}finally{a.f()}}return this.nextChild(0,1,e,t,i)}},{key:"nextSignificantParent",value:function(){for(var e=this;e.type.isAnonymous&&e._parent;)e=e._parent;return e}},{key:"parent",get:function(){return this._parent?this._parent.nextSignificantParent():null}},{key:"nextSibling",get:function(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}},{key:"prevSibling",get:function(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}},{key:"tree",get:function(){return this._tree}},{key:"toTree",value:function(){return this._tree}},{key:"toString",value:function(){return this._tree.toString()}}]),n}(EO);function OO(e,t,n,r){var i=e.cursor(),o=[];if(!i.firstChild())return o;if(null!=n)for(;!i.type.is(n);)if(!i.nextSibling())return o;for(;;){if(null!=r&&i.type.is(r))return o;if(i.type.is(t)&&o.push(i.node),!i.nextSibling())return null==r?o:[]}}function SO(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length-1,r=e.parent;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(t[n]&&t[n]!=r.name)return!1;n--}}return!0}var kO=(0,Y.Z)((function e(t,n,r,i){(0,z.Z)(this,e),this.parent=t,this.buffer=n,this.index=r,this.start=i})),wO=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e,r,i){var o;return(0,z.Z)(this,n),(o=t.call(this)).context=e,o._parent=r,o.index=i,o.type=e.buffer.set.types[e.buffer.buffer[i]],o}return(0,Y.Z)(n,[{key:"name",get:function(){return this.type.name}},{key:"from",get:function(){return this.context.start+this.context.buffer.buffer[this.index+1]}},{key:"to",get:function(){return this.context.start+this.context.buffer.buffer[this.index+2]}},{key:"child",value:function(e,t,r){var i=this.context.buffer,o=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,r);return o<0?null:new n(this.context,this,o)}},{key:"firstChild",get:function(){return this.child(1,0,4)}},{key:"lastChild",get:function(){return this.child(-1,0,4)}},{key:"childAfter",value:function(e){return this.child(1,e,2)}},{key:"childBefore",value:function(e){return this.child(-1,e,-2)}},{key:"enter",value:function(e,t){if((arguments.length>2&&void 0!==arguments[2]?arguments[2]:0)&pO.ExcludeBuffers)return null;var r=this.context.buffer,i=r.findChild(this.index+4,r.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return i<0?null:new n(this.context,this,i)}},{key:"parent",get:function(){return this._parent||this.context.parent.nextSignificantParent()}},{key:"externalSibling",value:function(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}},{key:"nextSibling",get:function(){var e=this.context.buffer,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new n(this.context,this._parent,t):this.externalSibling(1)}},{key:"prevSibling",get:function(){var e=this.context.buffer,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new n(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}},{key:"tree",get:function(){return null}},{key:"toTree",value:function(){var e=[],t=[],n=this.context.buffer,r=this.index+4,i=n.buffer[this.index+3];if(i>r){var o=n.buffer[this.index+1];e.push(n.slice(r,i,o)),t.push(0)}return new _O(this.type,e,t,this.to-this.from)}},{key:"toString",value:function(){return this.context.buffer.childString(this.index)}}]),n}(EO);function RO(e){if(!e.length)return null;if(1==e.length)return e[0];for(var t=0,n=e[0],r=1;r<e.length;r++){var i=e[r];(i.from>n.from||i.to<n.to)&&(n=i,t=r)}var o=n instanceof bO&&n.index<0?null:n.parent,s=e.slice();return o?s[t]=o:s.splice(t,1),new CO(s,n)}var CO=function(){function e(t,n){(0,z.Z)(this,e),this.heads=t,this.node=n}return(0,Y.Z)(e,[{key:"next",get:function(){return RO(this.heads)}}]),e}();var IO=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if((0,z.Z)(this,e),this.mode=n,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof bO)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(var r=t._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=t,this.yieldBuf(t.index)}}return(0,Y.Z)(e,[{key:"name",get:function(){return this.type.name}},{key:"yieldNode",value:function(e){return!!e&&(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0)}},{key:"yieldBuf",value:function(e,t){this.index=e;var n=this.buffer,r=n.start,i=n.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}},{key:"yield",value:function(e){return!!e&&(e instanceof bO?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)))}},{key:"toString",value:function(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}},{key:"enterChild",value:function(e,t,n){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,n,this.mode));var r=this.buffer.buffer,i=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.buffer.start,n);return!(i<0)&&(this.stack.push(this.index),this.yieldBuf(i))}},{key:"firstChild",value:function(){return this.enterChild(1,0,4)}},{key:"lastChild",value:function(){return this.enterChild(-1,0,4)}},{key:"childAfter",value:function(e){return this.enterChild(1,e,2)}},{key:"childBefore",value:function(e){return this.enterChild(-1,e,-2)}},{key:"enter",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.mode;return this.buffer?!(n&pO.ExcludeBuffers)&&this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,n))}},{key:"parent",value:function(){if(!this.buffer)return this.yieldNode(this.mode&pO.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());var e=this.mode&pO.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}},{key:"sibling",value:function(e){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode));var t=this.buffer.buffer,n=this.stack.length-1;if(e<0){var r=n<0?0:this.stack[n]+4;if(this.index!=r)return this.yieldBuf(t.findChild(r,this.index,-1,0,4))}else{var i=t.buffer[this.index+3];if(i<(n<0?t.buffer.length:t.buffer[this.stack[n]+3]))return this.yieldBuf(i)}return n<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode))}},{key:"nextSibling",value:function(){return this.sibling(1)}},{key:"prevSibling",value:function(){return this.sibling(-1)}},{key:"atLastNode",value:function(e){var t,n,r=this.buffer;if(r){if(e>0){if(this.index<r.buffer.buffer.length)return!1}else for(var i=0;i<this.index;i++)if(r.buffer.buffer[i+3]<this.index)return!1;t=r.index,n=r.parent}else{var o=this._tree;t=o.index,n=o._parent}for(;n;t=(s=n).index,n=s._parent,s){var s;if(t>-1)for(var a=t+e,l=e<0?-1:n._tree.children.length;a!=l;a+=e){var c=n._tree.children[a];if(this.mode&pO.IncludeAnonymous||c instanceof mO||!c.type.isAnonymous||xO(c))return!1}}return!0}},{key:"move",value:function(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}},{key:"next",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.move(1,e)}},{key:"prev",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.move(-1,e)}},{key:"moveTo",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}},{key:"node",get:function(){if(!this.buffer)return this._tree;var e=this.bufferNode,t=null,n=0;if(e&&e.context==this.buffer)e:for(var r=this.index,i=this.stack.length;i>=0;){for(var o=e;o;o=o._parent)if(o.index==r){if(r==this.index)return o;t=o,n=i+1;break e}r=this.stack[--i]}for(var s=n;s<this.stack.length;s++)t=new wO(this.buffer,t,this.stack[s]);return this.bufferNode=new wO(this.buffer,t,this.index)}},{key:"tree",get:function(){return this.buffer?null:this._tree._tree}},{key:"iterate",value:function(e,t){for(var n=0;;){var r=!1;if(this.type.isAnonymous||!1!==e(this)){if(this.firstChild()){n++;continue}this.type.isAnonymous||(r=!0)}for(;r&&t&&t(this),r=this.type.isAnonymous,!this.nextSibling();){if(!n)return;this.parent(),n--,r=!0}}}},{key:"matchContext",value:function(e){if(!this.buffer)return SO(this.node,e);for(var t=this.buffer.buffer,n=t.set.types,r=e.length-1,i=this.stack.length-1;r>=0;i--){if(i<0)return SO(this.node,e,r);var o=n[t.buffer[this.stack[i]]];if(!o.isAnonymous){if(e[r]&&e[r]!=o.name)return!1;r--}}return!0}}]),e}();function xO(e){return e.children.some((function(e){return e instanceof mO||!e.type.isAnonymous||xO(e)}))}var AO=new WeakMap;function NO(e,t){if(!e.isAnonymous||t instanceof mO||t.type!=e)return 1;var n=AO.get(t);if(null==n){n=1;var r,i=(0,X.Z)(t.children);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o.type!=e||!(o instanceof _O)){n=1;break}n+=NO(e,o)}}catch(s){i.e(s)}finally{i.f()}AO.set(t,n)}return n}function LO(e,t,n,r,i,o,s,a,l){for(var c=0,u=r;u<i;u++)c+=NO(e,t[u]);var h=Math.ceil(1.5*c/8),p=[],f=[];return function t(n,r,i,s,a){for(var c=i;c<s;){var u=c,d=r[c],g=NO(e,n[c]);for(c++;c<s;c++){var _=NO(e,n[c]);if(g+_>=h)break;g+=_}if(c==u+1){if(g>h){var v=n[u];t(v.children,v.positions,0,v.children.length,r[u]+a);continue}p.push(n[u])}else{var m=r[c-1]+n[c-1].length-d;p.push(LO(e,n,r,u,c,d,m,null,l))}f.push(d+a-o)}}(t,n,r,i,0),(a||l)(p,f,s)}var MO=function(){function e(){(0,z.Z)(this,e),this.map=new WeakMap}return(0,Y.Z)(e,[{key:"setBuffer",value:function(e,t,n){var r=this.map.get(e);r||this.map.set(e,r=new Map),r.set(t,n)}},{key:"getBuffer",value:function(e,t){var n=this.map.get(e);return n&&n.get(t)}},{key:"set",value:function(e,t){e instanceof wO?this.setBuffer(e.context.buffer,e.index,t):e instanceof bO&&this.map.set(e.tree,t)}},{key:"get",value:function(e){return e instanceof wO?this.getBuffer(e.context.buffer,e.index):e instanceof bO?this.map.get(e.tree):void 0}},{key:"cursorSet",value:function(e,t){e.buffer?this.setBuffer(e.buffer.buffer,e.index,t):this.map.set(e.tree,t)}},{key:"cursorGet",value:function(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}]),e}(),DO=function(){function e(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];(0,z.Z)(this,e),this.from=t,this.to=n,this.tree=r,this.offset=i,this.open=(o?1:0)|(s?2:0)}return(0,Y.Z)(e,[{key:"openStart",get:function(){return(1&this.open)>0}},{key:"openEnd",get:function(){return(2&this.open)>0}}],[{key:"addTree",value:function(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=[new e(0,t.length,t,0,!1,i)],s=(0,X.Z)(r);try{for(s.s();!(n=s.n()).done;){var a=n.value;a.to>t.length&&o.push(a)}}catch(l){s.e(l)}finally{s.f()}return o}},{key:"applyChanges",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:128;if(!n.length)return t;for(var i=[],o=1,s=t.length?t[0]:null,a=0,l=0,c=0;;a++){var u=a<n.length?n[a]:null,h=u?u.fromA:1e9;if(h-l>=r)for(;s&&s.from<h;){var p=s;if(l>=p.from||h<=p.to||c){var f=Math.max(p.from,l)-c,d=Math.min(p.to,h)-c;p=f>=d?null:new e(f,d,p.tree,p.offset+c,a>0,!!u)}if(p&&i.push(p),s.to>h)break;s=o<t.length?t[o++]:null}if(!u)break;l=u.toA,c=u.toA-u.toB}return i}}]),e}(),PO=function(){function e(){(0,z.Z)(this,e)}return(0,Y.Z)(e,[{key:"startParse",value:function(e,t,n){return"string"==typeof e&&(e=new BO(e)),n=n?n.length?n.map((function(e){return new aO(e.from,e.to)})):[new aO(0,0)]:[new aO(0,e.length)],this.createParse(e,t||[],n)}},{key:"parse",value:function(e,t,n){for(var r=this.startParse(e,t,n);;){var i=r.advance();if(i)return i}}}]),e}(),BO=function(){function e(t){(0,z.Z)(this,e),this.string=t}return(0,Y.Z)(e,[{key:"length",get:function(){return this.string.length}},{key:"chunk",value:function(e){return this.string.slice(e)}},{key:"lineChunks",get:function(){return!1}},{key:"read",value:function(e,t){return this.string.slice(e,t)}}]),e}();new lO({perNode:!0});var FO=0,UO=function(){function e(t,n,r){(0,z.Z)(this,e),this.set=t,this.base=n,this.modified=r,this.id=FO++}return(0,Y.Z)(e,null,[{key:"define",value:function(t){if(null===t||void 0===t?void 0:t.base)throw new Error("Can not derive from a modified tag");var n=new e([],null,[]);if(n.set.push(n),t){var r,i=(0,X.Z)(t.set);try{for(i.s();!(r=i.n()).done;){var o=r.value;n.set.push(o)}}catch(s){i.e(s)}finally{i.f()}}return n}},{key:"defineModifier",value:function(){var e=new GO;return function(t){return t.modified.indexOf(e)>-1?t:GO.get(t.base||t,t.modified.concat(e).sort((function(e,t){return e.id-t.id})))}}}]),e}(),ZO=0,GO=function(){function e(){(0,z.Z)(this,e),this.instances=[],this.id=ZO++}return(0,Y.Z)(e,null,[{key:"get",value:function(t,n){if(!n.length)return t;var r=n[0].instances.find((function(e){return e.base==t&&function(e,t){return e.length==t.length&&e.every((function(e,n){return e==t[n]}))}(n,e.modified)}));if(r)return r;var i,o=[],s=new UO(o,t,n),a=(0,X.Z)(n);try{for(a.s();!(i=a.n()).done;){i.value.instances.push(s)}}catch(g){a.e(g)}finally{a.f()}var l,c=function(e){for(var t=[[]],n=0;n<e.length;n++)for(var r=0,i=t.length;r<i;r++)t.push(t[r].concat(e[n]));return t.sort((function(e,t){return t.length-e.length}))}(n),u=(0,X.Z)(t.set);try{for(u.s();!(l=u.n()).done;){var h=l.value;if(!h.modified.length){var p,f=(0,X.Z)(c);try{for(f.s();!(p=f.n()).done;){var d=p.value;o.push(e.get(h,d))}}catch(g){f.e(g)}finally{f.f()}}}}catch(g){u.e(g)}finally{u.f()}return s}}]),e}();function HO(e){var t=Object.create(null);for(var n in e){var r=e[n];Array.isArray(r)||(r=[r]);var i,o=(0,X.Z)(n.split(" "));try{for(o.s();!(i=o.n()).done;){var s=i.value;if(s){for(var a=[],l=2,c=s,u=0;;){if("..."==c&&u>0&&u+3==s.length){l=1;break}var h=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(c);if(!h)throw new RangeError("Invalid path: "+s);if(a.push("*"==h[0]?"":'"'==h[0][0]?JSON.parse(h[0]):h[0]),(u+=h[0].length)==s.length)break;var p=s[u++];if(u==s.length&&"!"==p){l=0;break}if("/"!=p)throw new RangeError("Invalid path: "+s);c=s.slice(u)}var f=a.length-1,d=a[f];if(!d)throw new RangeError("Invalid path: "+s);var g=new jO(r,l,f>0?a.slice(0,f):null);t[d]=g.sort(t[d])}}}catch(_){o.e(_)}finally{o.f()}}return VO.add(t)}var VO=new lO,jO=function(){function e(t,n,r,i){(0,z.Z)(this,e),this.tags=t,this.mode=n,this.context=r,this.next=i}return(0,Y.Z)(e,[{key:"opaque",get:function(){return 0==this.mode}},{key:"inherit",get:function(){return 1==this.mode}},{key:"sort",value:function(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}},{key:"depth",get:function(){return this.context?this.context.length:0}}]),e}();function WO(e,t){var n,r=Object.create(null),i=(0,X.Z)(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(Array.isArray(o.tag)){var s,a=(0,X.Z)(o.tag);try{for(a.s();!(s=a.n()).done;){var l=s.value;r[l.id]=o.class}}catch(f){a.e(f)}finally{a.f()}}else r[o.tag.id]=o.class}}catch(f){i.e(f)}finally{i.f()}var c=t||{},u=c.scope,h=c.all,p=void 0===h?null:h;return{style:function(e){var t,n=p,i=(0,X.Z)(e);try{for(i.s();!(t=i.n()).done;){var o,s=t.value,a=(0,X.Z)(s.set);try{for(a.s();!(o=a.n()).done;){var l=o.value,c=r[l.id];if(c){n=n?n+" "+c:c;break}}}catch(f){a.e(f)}finally{a.f()}}}catch(f){i.e(f)}finally{i.f()}return n},scope:u}}function XO(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.length,o=new zO(r,Array.isArray(t)?t:[t],n);o.highlightRange(e.cursor(),r,i,"",o.highlighters),o.flush(i)}jO.empty=new jO([],2,null);var zO=function(){function e(t,n,r){(0,z.Z)(this,e),this.at=t,this.highlighters=n,this.span=r,this.class=""}return(0,Y.Z)(e,[{key:"startSpan",value:function(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}},{key:"flush",value:function(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}},{key:"highlightRange",value:function(e,t,n,r,i){var o=e.type,s=e.from,a=e.to;if(!(s>=n||a<=t)){o.isTop&&(i=this.highlighters.filter((function(e){return!e.scope||e.scope(o)})));var l=r,c=function(e){var t=e.type.prop(VO);for(;t&&t.context&&!e.matchContext(t.context);)t=t.next;return t||null}(e)||jO.empty,u=function(e,t){var n,r=null,i=(0,X.Z)(e);try{for(i.s();!(n=i.n()).done;){var o=n.value.style(t);o&&(r=r?r+" "+o:o)}}catch(s){i.e(s)}finally{i.f()}return r}(i,c.tags);if(u&&(l&&(l+=" "),l+=u,1==c.mode&&(r+=(r?" ":"")+u)),this.startSpan(Math.max(t,s),l),!c.opaque){var h=e.tree&&e.tree.prop(lO.mounted);if(h&&h.overlay){for(var p=e.node.enter(h.overlay[0].from+s,1),f=this.highlighters.filter((function(e){return!e.scope||e.scope(h.tree.type)})),d=e.firstChild(),g=0,_=s;;g++){var v=g<h.overlay.length?h.overlay[g]:null,m=v?v.from+s:a,y=Math.max(t,_),T=Math.min(n,m);if(y<T&&d)for(;e.from<T&&(this.highlightRange(e,y,T,r,i),this.startSpan(Math.min(T,e.to),l),!(e.to>=m)&&e.nextSibling()););if(!v||m>n)break;(_=v.to+s)>t&&(this.highlightRange(p.cursor(),Math.max(t,v.from+s),Math.min(n,_),"",f),this.startSpan(Math.min(n,_),l))}d&&e.parent()}else if(e.firstChild()){h&&(r="");do{if(!(e.to<=t)){if(e.from>=n)break;this.highlightRange(e,t,n,r,i),this.startSpan(Math.min(n,e.to),l)}}while(e.nextSibling());e.parent()}}}}}]),e}();var YO,qO=UO.define,KO=qO(),QO=qO(),JO=qO(QO),$O=qO(QO),eS=qO(),tS=qO(eS),nS=qO(eS),rS=qO(),iS=qO(rS),oS=qO(),sS=qO(),aS=qO(),lS=qO(aS),cS=qO(),uS={comment:KO,lineComment:qO(KO),blockComment:qO(KO),docComment:qO(KO),name:QO,variableName:qO(QO),typeName:JO,tagName:qO(JO),propertyName:$O,attributeName:qO($O),className:qO(QO),labelName:qO(QO),namespace:qO(QO),macroName:qO(QO),literal:eS,string:tS,docString:qO(tS),character:qO(tS),attributeValue:qO(tS),number:nS,integer:qO(nS),float:qO(nS),bool:qO(eS),regexp:qO(eS),escape:qO(eS),color:qO(eS),url:qO(eS),keyword:oS,self:qO(oS),null:qO(oS),atom:qO(oS),unit:qO(oS),modifier:qO(oS),operatorKeyword:qO(oS),controlKeyword:qO(oS),definitionKeyword:qO(oS),moduleKeyword:qO(oS),operator:sS,derefOperator:qO(sS),arithmeticOperator:qO(sS),logicOperator:qO(sS),bitwiseOperator:qO(sS),compareOperator:qO(sS),updateOperator:qO(sS),definitionOperator:qO(sS),typeOperator:qO(sS),controlOperator:qO(sS),punctuation:aS,separator:qO(aS),bracket:lS,angleBracket:qO(lS),squareBracket:qO(lS),paren:qO(lS),brace:qO(lS),content:rS,heading:iS,heading1:qO(iS),heading2:qO(iS),heading3:qO(iS),heading4:qO(iS),heading5:qO(iS),heading6:qO(iS),contentSeparator:qO(rS),list:qO(rS),quote:qO(rS),emphasis:qO(rS),strong:qO(rS),link:qO(rS),monospace:qO(rS),strikethrough:qO(rS),inserted:qO(),deleted:qO(),changed:qO(),invalid:qO(),meta:cS,documentMeta:qO(cS),annotation:qO(cS),processingInstruction:qO(cS),definition:UO.defineModifier(),constant:UO.defineModifier(),function:UO.defineModifier(),standard:UO.defineModifier(),local:UO.defineModifier(),special:UO.defineModifier()},hS=(WO([{tag:uS.link,class:"tok-link"},{tag:uS.heading,class:"tok-heading"},{tag:uS.emphasis,class:"tok-emphasis"},{tag:uS.strong,class:"tok-strong"},{tag:uS.keyword,class:"tok-keyword"},{tag:uS.atom,class:"tok-atom"},{tag:uS.bool,class:"tok-bool"},{tag:uS.url,class:"tok-url"},{tag:uS.labelName,class:"tok-labelName"},{tag:uS.inserted,class:"tok-inserted"},{tag:uS.deleted,class:"tok-deleted"},{tag:uS.literal,class:"tok-literal"},{tag:uS.string,class:"tok-string"},{tag:uS.number,class:"tok-number"},{tag:[uS.regexp,uS.escape,uS.special(uS.string)],class:"tok-string2"},{tag:uS.variableName,class:"tok-variableName"},{tag:uS.local(uS.variableName),class:"tok-variableName tok-local"},{tag:uS.definition(uS.variableName),class:"tok-variableName tok-definition"},{tag:uS.special(uS.variableName),class:"tok-variableName2"},{tag:uS.definition(uS.propertyName),class:"tok-propertyName tok-definition"},{tag:uS.typeName,class:"tok-typeName"},{tag:uS.namespace,class:"tok-namespace"},{tag:uS.className,class:"tok-className"},{tag:uS.macroName,class:"tok-macroName"},{tag:uS.propertyName,class:"tok-propertyName"},{tag:uS.operator,class:"tok-operator"},{tag:uS.comment,class:"tok-comment"},{tag:uS.meta,class:"tok-meta"},{tag:uS.invalid,class:"tok-invalid"},{tag:uS.punctuation,class:"tok-punctuation"}]),new lO);function pS(e){return p_.define({combine:e?function(t){return t.concat(e)}:void 0})}var fS=new lO,dS=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";(0,z.Z)(this,e),this.data=t,this.name=i,$_.prototype.hasOwnProperty("tree")||Object.defineProperty($_.prototype,"tree",{get:function(){return vS(this)}}),this.parser=n,this.extension=[wS.of(this),$_.languageData.of((function(e,t,n){var r=gS(e,t,n),i=r.type.prop(hS);if(!i)return[];var o=e.facet(i),s=r.type.prop(fS);if(s){var a,l=r.resolve(t-r.from,n),c=(0,X.Z)(s);try{for(c.s();!(a=c.n()).done;){var u=a.value;if(u.test(l,e)){var h=e.facet(u.facet);return"replace"==u.type?h:h.concat(o)}}}catch(p){c.e(p)}finally{c.f()}}return o}))].concat(r)}return(0,Y.Z)(e,[{key:"isActiveAt",value:function(e,t){return gS(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1).type.prop(hS)==this.data}},{key:"findRegions",value:function(e){var t=this,n=e.facet(wS);if((null===n||void 0===n?void 0:n.data)==this.data)return[{from:0,to:e.doc.length}];if(!n||!n.allowsNesting)return[];var r=[];return function e(n,i){if(n.prop(hS)!=t.data){var o=n.prop(lO.mounted);if(o){if(o.tree.prop(hS)==t.data){if(o.overlay){var s,a=(0,X.Z)(o.overlay);try{for(a.s();!(s=a.n()).done;){var l=s.value;r.push({from:l.from+i,to:l.to+i})}}catch(p){a.e(p)}finally{a.f()}}else r.push({from:i,to:i+n.length});return}if(o.overlay){var c=r.length;if(e(o.tree,o.overlay[0].from+i),r.length>c)return}}for(var u=0;u<n.children.length;u++){var h=n.children[u];h instanceof _O&&e(h,n.positions[u]+i)}}else r.push({from:i,to:i+n.length})}(vS(e),0),r}},{key:"allowsNesting",get:function(){return!0}}]),e}();function gS(e,t,n){var r=e.facet(wS),i=vS(e).topNode;if(!r||r.allowsNesting)for(var o=i;o;o=o.enter(t,n,pO.ExcludeBuffers))o.type.isTop&&(i=o);return i}dS.setState=G_.define();var _S=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e,r,i){var o;return(0,z.Z)(this,n),(o=t.call(this,e,r,[],i)).parser=r,o}return(0,Y.Z)(n,[{key:"configure",value:function(e,t){return new n(this.data,this.parser.configure(e),t||this.name)}},{key:"allowsNesting",get:function(){return this.parser.hasWrappers()}}],[{key:"define",value:function(e){var t=pS(e.languageData);return new n(t,e.parser.configure({props:[hS.add((function(e){return e.isTop?t:void 0}))]}),e.name)}}]),n}(dS);function vS(e){var t=e.field(dS.state,!1);return t?t.tree:_O.empty}var mS=function(){function e(t){(0,z.Z)(this,e),this.doc=t,this.cursorPos=0,this.string="",this.cursor=t.iter()}return(0,Y.Z)(e,[{key:"length",get:function(){return this.doc.length}},{key:"syncTo",value:function(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}},{key:"chunk",value:function(e){return this.syncTo(e),this.string}},{key:"lineChunks",get:function(){return!0}},{key:"read",value:function(e,t){var n=this.cursorPos-this.string.length;return e<n||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-n,t-n)}}]),e}(),yS=null,TS=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0,a=arguments.length>6?arguments[6]:void 0,l=arguments.length>7?arguments[7]:void 0;(0,z.Z)(this,e),this.parser=t,this.state=n,this.fragments=r,this.tree=i,this.treeLen=o,this.viewport=s,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}return(0,Y.Z)(e,[{key:"startParse",value:function(){return this.parser.startParse(new mS(this.state.doc),this.fragments)}},{key:"work",value:function(e,t){var n=this;return null!=t&&t>=this.state.doc.length&&(t=void 0),this.tree!=_O.empty&&this.isDone(null!==t&&void 0!==t?t:this.state.doc.length)?(this.takeTree(),!0):this.withContext((function(){var r;if("number"==typeof e){var i=Date.now()+e;e=function(){return Date.now()>i}}for(n.parse||(n.parse=n.startParse()),null!=t&&(null==n.parse.stoppedAt||n.parse.stoppedAt>t)&&t<n.state.doc.length&&n.parse.stopAt(t);;){var o=n.parse.advance();if(o){if(n.fragments=n.withoutTempSkipped(DO.addTree(o,n.fragments,null!=n.parse.stoppedAt)),n.treeLen=null!==(r=n.parse.stoppedAt)&&void 0!==r?r:n.state.doc.length,n.tree=o,n.parse=null,!(n.treeLen<(null!==t&&void 0!==t?t:n.state.doc.length)))return!0;n.parse=n.startParse()}if(e())return!1}}))}},{key:"takeTree",value:function(){var e,t,n=this;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext((function(){for(;!(t=n.parse.advance()););})),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(DO.addTree(this.tree,this.fragments,!0)),this.parse=null)}},{key:"withContext",value:function(e){var t=yS;yS=this;try{return e()}finally{yS=t}}},{key:"withoutTempSkipped",value:function(e){for(var t;t=this.tempSkipped.pop();)e=ES(e,t.from,t.to);return e}},{key:"changes",value:function(t,n){var r=this.fragments,i=this.tree,o=this.treeLen,s=this.viewport,a=this.skipped;if(this.takeTree(),!t.empty){var l=[];if(t.iterChangedRanges((function(e,t,n,r){return l.push({fromA:e,toA:t,fromB:n,toB:r})})),r=DO.applyChanges(r,l),i=_O.empty,o=0,s={from:t.mapPos(s.from,-1),to:t.mapPos(s.to,1)},this.skipped.length){a=[];var c,u=(0,X.Z)(this.skipped);try{for(u.s();!(c=u.n()).done;){var h=c.value,p=t.mapPos(h.from,1),f=t.mapPos(h.to,-1);p<f&&a.push({from:p,to:f})}}catch(d){u.e(d)}finally{u.f()}}}return new e(this.parser,n,r,i,o,s,a,this.scheduleOn)}},{key:"updateViewport",value:function(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;for(var t=this.skipped.length,n=0;n<this.skipped.length;n++){var r=this.skipped[n],i=r.from,o=r.to;i<e.to&&o>e.from&&(this.fragments=ES(this.fragments,i,o),this.skipped.splice(n--,1))}return!(this.skipped.length>=t)&&(this.reset(),!0)}},{key:"reset",value:function(){this.parse&&(this.takeTree(),this.parse=null)}},{key:"skipUntilInView",value:function(e,t){this.skipped.push({from:e,to:t})}},{key:"isDone",value:function(e){e=Math.min(e,this.state.doc.length);var t=this.fragments;return this.treeLen>=e&&t.length&&0==t[0].from&&t[0].to>=e}}],[{key:"create",value:function(t,n,r){return new e(t,n,[],_O.empty,0,r,[],null)}},{key:"getSkippingParser",value:function(e){return new(function(t){(0,K.Z)(r,t);var n=(0,Q.Z)(r);function r(){return(0,z.Z)(this,r),n.apply(this,arguments)}return(0,Y.Z)(r,[{key:"createParse",value:function(t,n,r){var i=r[0].from,o=r[r.length-1].to,s={parsedPos:i,advance:function(){var t=yS;if(t){var n,s=(0,X.Z)(r);try{for(s.s();!(n=s.n()).done;){var a=n.value;t.tempSkipped.push(a)}}catch(l){s.e(l)}finally{s.f()}e&&(t.scheduleOn=t.scheduleOn?Promise.all([t.scheduleOn,e]):e)}return this.parsedPos=o,new _O(hO.none,[],[],o-i)},stoppedAt:null,stopAt:function(){}};return s}}]),r}(PO))}},{key:"get",value:function(){return yS}}]),e}();function ES(e,t,n){return DO.applyChanges(e,[{fromA:t,toA:n,fromB:t,toB:n}])}var bS=function(){function e(t){(0,z.Z)(this,e),this.context=t,this.tree=t.tree}return(0,Y.Z)(e,[{key:"apply",value:function(t){if(!t.docChanged&&this.tree==this.context.tree)return this;var n=this.context.changes(t.changes,t.state),r=this.context.treeLen==t.startState.doc.length?void 0:Math.max(t.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,r)||n.takeTree(),new e(n)}}],[{key:"init",value:function(t){var n=Math.min(3e3,t.doc.length),r=TS.create(t.facet(wS).parser,t,{from:0,to:n});return r.work(20,n)||r.takeTree(),new e(r)}}]),e}();dS.state=m_.define({create:bS.init,update:function(e,t){var n,r=(0,X.Z)(t.effects);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.is(dS.setState))return i.value}}catch(o){r.e(o)}finally{r.f()}return t.startState.facet(wS)!=t.state.facet(wS)?bS.init(t.state):e.apply(t)}});var OS=function(e){var t=setTimeout((function(){return e()}),500);return function(){return clearTimeout(t)}};"undefined"!=typeof requestIdleCallback&&(OS=function(e){var t=-1,n=setTimeout((function(){t=requestIdleCallback(e,{timeout:400})}),100);return function(){return t<0?clearTimeout(n):cancelIdleCallback(t)}});var SS="undefined"!=typeof navigator&&(null===(YO=navigator.scheduling)||void 0===YO?void 0:YO.isInputPending)?function(){return navigator.scheduling.isInputPending()}:null,kS=ey.fromClass(function(){function e(t){(0,z.Z)(this,e),this.view=t,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}return(0,Y.Z)(e,[{key:"update",value:function(e){var t=this.view.state.field(dS.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}},{key:"scheduleWork",value:function(){if(!this.working){var e=this.view.state,t=e.field(dS.state);t.tree==t.context.tree&&t.context.isDone(e.doc.length)||(this.working=OS(this.work))}}},{key:"work",value:function(e){this.working=null;var t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),!(this.chunkBudget<=0)){var n=this.view,r=n.state,i=n.viewport.to,o=r.field(dS.state);if(o.tree!=o.context.tree||!o.context.isDone(i+1e5)){var s=Date.now()+Math.min(this.chunkBudget,100,e&&!SS?Math.max(25,e.timeRemaining()-5):1e9),a=o.context.treeLen<i&&r.doc.length>i+1e3,l=o.context.work((function(){return SS&&SS()||Date.now()>s}),i+(a?0:1e5));this.chunkBudget-=Date.now()-t,(l||this.chunkBudget<=0)&&(o.context.takeTree(),this.view.dispatch({effects:dS.setState.of(new bS(o.context))})),this.chunkBudget>0&&(!l||a)&&this.scheduleWork(),this.checkAsyncSchedule(o.context)}}}},{key:"checkAsyncSchedule",value:function(e){var t=this;e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then((function(){return t.scheduleWork()})).catch((function(e){return Km(t.view.state,e)})).then((function(){return t.workScheduled--})),e.scheduleOn=null)}},{key:"destroy",value:function(){this.working&&this.working()}},{key:"isWorking",value:function(){return!!(this.working||this.workScheduled>0)}}]),e}(),{eventHandlers:{focus:function(){this.scheduleWork()}}}),wS=p_.define({combine:function(e){return e.length?e[0]:null},enables:function(e){return[dS.state,kS,yE.contentAttributes.compute([e],(function(t){var n=t.facet(e);return n&&n.name?{"data-language":n.name}:{}}))]}}),RS=(0,Y.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];(0,z.Z)(this,e),this.language=t,this.support=n,this.extension=[t,n]})),CS=p_.define(),IS=p_.define({combine:function(e){if(!e.length)return"  ";var t=e[0];if(!t||/\S/.test(t)||Array.from(t).some((function(e){return e!=t[0]})))throw new Error("Invalid indent unit: "+JSON.stringify(e[0]));return t}});function xS(e){var t=e.facet(IS);return 9==t.charCodeAt(0)?e.tabSize*t.length:t.length}function AS(e,t){var n="",r=e.tabSize,i=e.facet(IS)[0];if("\t"==i){for(;t>=r;)n+="\t",t-=r;i=" "}for(var o=0;o<t;o++)n+=i;return n}function NS(e,t){e instanceof $_&&(e=new LS(e));var n,r=(0,X.Z)(e.state.facet(CS));try{for(r.s();!(n=r.n()).done;){var i=(0,n.value)(e,t);if(void 0!==i)return i}}catch(s){r.e(s)}finally{r.f()}var o=vS(e.state);return o.length>=t?function(e,t,n){var r=t.resolveStack(n),i=r.node.enterUnfinishedNodesBefore(n);if(i!=r.node){for(var o=[],s=i;s!=r.node;s=s.parent)o.push(s);for(var a=o.length-1;a>=0;a--)r={node:o[a],next:r}}return DS(r,e,n)}(e,o,t):null}var LS=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,z.Z)(this,e),this.state=t,this.options=n,this.unit=xS(t)}return(0,Y.Z)(e,[{key:"lineAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.state.doc.lineAt(e),r=this.options,i=r.simulateBreak,o=r.simulateDoubleBreak;return null!=i&&i>=n.from&&i<=n.to?o&&i==e?{text:"",from:e}:(t<0?i<e:i<=e)?{text:n.text.slice(i-n.from),from:i}:{text:n.text.slice(0,i-n.from),from:n.from}:n}},{key:"textAfterPos",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";var n=this.lineAt(e,t),r=n.text,i=n.from;return r.slice(e-i,Math.min(r.length,e+100-i))}},{key:"column",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.lineAt(e,t),r=n.text,i=n.from,o=this.countColumn(r,e-i),s=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return s>-1&&(o+=s-this.countColumn(r,r.search(/\S|$/))),o}},{key:"countColumn",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;return vv(e,this.state.tabSize,t)}},{key:"lineIndent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.lineAt(e,t),r=n.text,i=n.from,o=this.options.overrideIndentation;if(o){var s=o(i);if(s>-1)return s}return this.countColumn(r,r.search(/\S|$/))}},{key:"simulatedBreak",get:function(){return this.options.simulateBreak||null}}]),e}(),MS=new lO;function DS(e,t,n){for(var r=e;r;r=r.next){var i=PS(r.node);if(i)return i(FS.create(t,n,r))}return 0}function PS(e){var t=e.type.prop(MS);if(t)return t;var n,r=e.firstChild;if(r&&(n=r.type.prop(lO.closedBy))){var i=e.lastChild,o=i&&n.indexOf(i.name)>-1;return function(e){return GS(e,!0,1,void 0,o&&!function(e){return e.pos==e.options.simulateBreak&&e.options.simulateDoubleBreak}(e)?i.from:void 0)}}return null==e.parent?BS:null}function BS(){return 0}var FS=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e,r,i){var o;return(0,z.Z)(this,n),(o=t.call(this,e.state,e.options)).base=e,o.pos=r,o.context=i,o}return(0,Y.Z)(n,[{key:"node",get:function(){return this.context.node}},{key:"textAfter",get:function(){return this.textAfterPos(this.pos)}},{key:"baseIndent",get:function(){return this.baseIndentFor(this.node)}},{key:"baseIndentFor",value:function(e){for(var t=this.state.doc.lineAt(e.from);;){for(var n=e.resolve(t.from);n.parent&&n.parent.from==n.from;)n=n.parent;if(US(n,e))break;t=this.state.doc.lineAt(n.from)}return this.lineIndent(t.from)}},{key:"continue",value:function(){return DS(this.context.next,this.base,this.pos)}}],[{key:"create",value:function(e,t,r){return new n(e,t,r)}}]),n}(LS);function US(e,t){for(var n=t;n;n=n.parent)if(e==n)return!0;return!1}function ZS(e){var t=e.closing,n=e.align,r=void 0===n||n,i=e.units,o=void 0===i?1:i;return function(e){return GS(e,r,o,t)}}function GS(e,t,n,r,i){var o=e.textAfter,s=o.match(/^\s*/)[0].length,a=r&&o.slice(s,s+r.length)==r||i==e.pos+s,l=t?function(e){var t=e.node,n=t.childAfter(t.from),r=t.lastChild;if(!n)return null;for(var i=e.options.simulateBreak,o=e.state.doc.lineAt(n.from),s=null==i||i<=o.from?o.to:Math.min(o.to,i),a=n.to;;){var l=t.childAfter(a);if(!l||l==r)return null;if(!l.type.isSkipped)return l.from<s?n:null;a=l.to}}(e):null;return l?a?e.column(l.from):e.column(l.to):e.baseIndent+(a?0:e.unit*n)}var HS=p_.define(),VS=new lO;function jS(e){var t=e.lastChild;return t&&t.to==e.to&&t.type.isError}function WS(e,t,n){var r,i=(0,X.Z)(e.facet(HS));try{for(i.s();!(r=i.n()).done;){var o=(0,r.value)(e,t,n);if(o)return o}}catch(s){i.e(s)}finally{i.f()}return function(e,t,n){var r=vS(e);if(r.length<n)return null;for(var i=null,o=r.resolveStack(n,1);o;o=o.next){var s=o.node;if(!(s.to<=n||s.from>n)){if(i&&s.from<t)break;var a=s.type.prop(VS);if(a&&(s.to<r.length-50||r.length==e.doc.length||!jS(s))){var l=a(s,e);l&&l.from<=n&&l.from>=t&&l.to>n&&(i=l)}}}return i}(e,t,n)}function XS(e,t){var n=t.mapPos(e.from,1),r=t.mapPos(e.to,-1);return n>=r?void 0:{from:n,to:r}}var zS=G_.define({map:XS}),YS=G_.define({map:XS});function qS(e){var t,n=[],r=(0,X.Z)(e.state.selection.ranges);try{var i=function(){var r=t.value.head;if(n.some((function(e){return e.from<=r&&e.to>=r})))return 1;n.push(e.lineBlockAt(r))};for(r.s();!(t=r.n()).done;)i()}catch(o){r.e(o)}finally{r.f()}return n}var KS=m_.define({create:function(){return xm.none},update:function(e,t){e=e.map(t.changes);var n,r=(0,X.Z)(t.effects);try{var i=function(){var r=n.value;if(r.is(zS)&&!function(e,t,n){var r=!1;return e.between(t,t,(function(e,i){e==t&&i==n&&(r=!0)})),r}(e,r.value.from,r.value.to)){var i=t.state.facet(nk).preparePlaceholder,o=i?xm.replace({widget:new sk(i(t.state,r.value))}):ok;e=e.update({add:[o.range(r.value.from,r.value.to)]})}else r.is(YS)&&(e=e.update({filter:function(e,t){return r.value.from!=e||r.value.to!=t},filterFrom:r.value.from,filterTo:r.value.to}))};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}if(t.selection){var o=!1,s=t.selection.main.head;e.between(s,s,(function(e,t){e<s&&t>s&&(o=!0)})),o&&(e=e.update({filterFrom:s,filterTo:s,filter:function(e,t){return t<=s||e>=s}}))}return e},provide:function(e){return yE.decorations.from(e)},toJSON:function(e,t){var n=[];return e.between(0,t.doc.length,(function(e,t){n.push(e,t)})),n},fromJSON:function(e){if(!Array.isArray(e)||e.length%2)throw new RangeError("Invalid JSON for fold state");for(var t=[],n=0;n<e.length;){var r=e[n++],i=e[n++];if("number"!=typeof r||"number"!=typeof i)throw new RangeError("Invalid JSON for fold state");t.push(ok.range(r,i))}return xm.set(t,!0)}});function QS(e,t,n){var r,i=null;return null===(r=e.field(KS,!1))||void 0===r||r.between(t,n,(function(e,t){(!i||i.from>e)&&(i={from:e,to:t})})),i}function JS(e,t){return e.field(KS,!1)?t:t.concat(G_.appendConfig.of(rk()))}function $S(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.state.doc.lineAt(t.from).number,i=e.state.doc.lineAt(t.to).number;return yE.announce.of("".concat(e.state.phrase(n?"Folded lines":"Unfolded lines")," ").concat(r," ").concat(e.state.phrase("to")," ").concat(i,"."))}var ek=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:function(e){var t,n=(0,X.Z)(qS(e));try{for(n.s();!(t=n.n()).done;){var r=t.value,i=WS(e.state,r.from,r.to);if(i)return e.dispatch({effects:JS(e.state,[zS.of(i),$S(e,i)])}),!0}}catch(o){n.e(o)}finally{n.f()}return!1}},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:function(e){if(!e.state.field(KS,!1))return!1;var t,n=[],r=(0,X.Z)(qS(e));try{for(r.s();!(t=r.n()).done;){var i=t.value,o=QS(e.state,i.from,i.to);o&&n.push(YS.of(o),$S(e,o,!1))}}catch(s){r.e(s)}finally{r.f()}return n.length&&e.dispatch({effects:n}),n.length>0}},{key:"Ctrl-Alt-[",run:function(e){for(var t=e.state,n=[],r=0;r<t.doc.length;){var i=e.lineBlockAt(r),o=WS(t,i.from,i.to);o&&n.push(zS.of(o)),r=(o?e.lineBlockAt(o.to):i).to+1}return n.length&&e.dispatch({effects:JS(e.state,n)}),!!n.length}},{key:"Ctrl-Alt-]",run:function(e){var t=e.state.field(KS,!1);if(!t||!t.size)return!1;var n=[];return t.between(0,e.state.doc.length,(function(e,t){n.push(YS.of({from:e,to:t}))})),e.dispatch({effects:n}),!0}}],tk={placeholderDOM:null,preparePlaceholder:null,placeholderText:"\u2026"},nk=p_.define({combine:function(e){return ev(e,tk)}});function rk(e){var t=[KS,ck];return e&&t.push(nk.of(e)),t}function ik(e,t){var n=e.state,r=n.facet(nk),i=function(t){var n=e.lineBlockAt(e.posAtDOM(t.target)),r=QS(e.state,n.from,n.to);r&&e.dispatch({effects:YS.of(r)}),t.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(e,i,t);var o=document.createElement("span");return o.textContent=r.placeholderText,o.setAttribute("aria-label",n.phrase("folded code")),o.title=n.phrase("unfold"),o.className="cm-foldPlaceholder",o.onclick=i,o}var ok=xm.replace({widget:new(function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(){return(0,z.Z)(this,n),t.apply(this,arguments)}return(0,Y.Z)(n,[{key:"toDOM",value:function(e){return ik(e,null)}}]),n}(Cm))}),sk=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e){var r;return(0,z.Z)(this,n),(r=t.call(this)).value=e,r}return(0,Y.Z)(n,[{key:"eq",value:function(e){return this.value==e.value}},{key:"toDOM",value:function(e){return ik(e,this.value)}}]),n}(Cm),ak={openText:"\u2304",closedText:"\u203a",markerDOM:null,domEventHandlers:{},foldingChanged:function(){return!1}},lk=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e,r){var i;return(0,z.Z)(this,n),(i=t.call(this)).config=e,i.open=r,i}return(0,Y.Z)(n,[{key:"eq",value:function(e){return this.config==e.config&&this.open==e.open}},{key:"toDOM",value:function(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);var t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}]),n}(Fb);var ck=yE.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}}),uk=function(){function e(t,n){var r;function i(e){var t=bv.newName();return(r||(r=Object.create(null)))["."+t]=e,t}(0,z.Z)(this,e),this.specs=t;var o="string"==typeof n.all?n.all:n.all?i(n.all):void 0,s=n.scope;this.scope=s instanceof dS?function(e){return e.prop(hS)==s.data}:s?function(e){return e==s}:void 0,this.style=WO(t.map((function(e){return{tag:e.tag,class:e.class||i(Object.assign({},e,{tag:null}))}})),{all:o}).style,this.module=r?new bv(r):null,this.themeType=n.themeType}return(0,Y.Z)(e,null,[{key:"define",value:function(t,n){return new e(t,n||{})}}]),e}(),hk=p_.define(),pk=p_.define({combine:function(e){return e.length?[e[0]]:null}});function fk(e){var t=e.facet(hk);return t.length?t:e.facet(pk)}function dk(e,t){var n,r=[_k];return e instanceof uk&&(e.module&&r.push(yE.styleModule.of(e.module)),n=e.themeType),(null===t||void 0===t?void 0:t.fallback)?r.push(pk.of(e)):n?r.push(hk.computeN([yE.darkTheme],(function(t){return t.facet(yE.darkTheme)==("dark"==n)?[e]:[]}))):r.push(hk.of(e)),r}var gk=function(){function e(t){(0,z.Z)(this,e),this.markCache=Object.create(null),this.tree=vS(t.state),this.decorations=this.buildDeco(t,fk(t.state))}return(0,Y.Z)(e,[{key:"update",value:function(e){var t=vS(e.state),n=fk(e.state),r=n!=fk(e.startState);t.length<e.view.viewport.to&&!r&&t.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(t!=this.tree||e.viewportChanged||r)&&(this.tree=t,this.decorations=this.buildDeco(e.view,n))}},{key:"buildDeco",value:function(e,t){var n=this;if(!t||!this.tree.length)return xm.none;var r,i=new sv,o=(0,X.Z)(e.visibleRanges);try{for(o.s();!(r=o.n()).done;){var s=r.value,a=s.from,l=s.to;XO(this.tree,t,(function(e,t,r){i.add(e,t,n.markCache[r]||(n.markCache[r]=xm.mark({class:r})))}),a,l)}}catch(c){o.e(c)}finally{o.f()}return i.finish()}}]),e}(),_k=S_.high(ey.fromClass(gk,{decorations:function(e){return e.decorations}})),vk=uk.define([{tag:uS.meta,color:"#404740"},{tag:uS.link,textDecoration:"underline"},{tag:uS.heading,textDecoration:"underline",fontWeight:"bold"},{tag:uS.emphasis,fontStyle:"italic"},{tag:uS.strong,fontWeight:"bold"},{tag:uS.strikethrough,textDecoration:"line-through"},{tag:uS.keyword,color:"#708"},{tag:[uS.atom,uS.bool,uS.url,uS.contentSeparator,uS.labelName],color:"#219"},{tag:[uS.literal,uS.inserted],color:"#164"},{tag:[uS.string,uS.deleted],color:"#a11"},{tag:[uS.regexp,uS.escape,uS.special(uS.string)],color:"#e40"},{tag:uS.definition(uS.variableName),color:"#00f"},{tag:uS.local(uS.variableName),color:"#30a"},{tag:[uS.typeName,uS.namespace],color:"#085"},{tag:uS.className,color:"#167"},{tag:[uS.special(uS.variableName),uS.macroName],color:"#256"},{tag:uS.definition(uS.propertyName),color:"#00c"},{tag:uS.comment,color:"#940"},{tag:uS.invalid,color:"#f00"}]),mk=yE.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),yk=1e4,Tk="()[]{}",Ek=p_.define({combine:function(e){return ev(e,{afterCursor:!0,brackets:Tk,maxScanDistance:yk,renderMatch:Sk})}}),bk=xm.mark({class:"cm-matchingBracket"}),Ok=xm.mark({class:"cm-nonmatchingBracket"});function Sk(e){var t=[],n=e.matched?bk:Ok;return t.push(n.range(e.start.from,e.start.to)),e.end&&t.push(n.range(e.end.from,e.end.to)),t}var kk=m_.define({create:function(){return xm.none},update:function(e,t){if(!t.docChanged&&!t.selection)return e;var n,r=[],i=t.state.facet(Ek),o=(0,X.Z)(t.state.selection.ranges);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(s.empty){var a=xk(t.state,s.head,-1,i)||s.head>0&&xk(t.state,s.head-1,1,i)||i.afterCursor&&(xk(t.state,s.head,1,i)||s.head<t.state.doc.length&&xk(t.state,s.head+1,-1,i));a&&(r=r.concat(i.renderMatch(a,t.state)))}}}catch(l){o.e(l)}finally{o.f()}return xm.set(r,!0)},provide:function(e){return yE.decorations.from(e)}}),wk=[kk,mk];var Rk=new lO;function Ck(e,t,n){var r=e.prop(t<0?lO.openedBy:lO.closedBy);if(r)return r;if(1==e.name.length){var i=n.indexOf(e.name);if(i>-1&&i%2==(t<0?1:0))return[n[i+t]]}return null}function Ik(e){var t=e.type.prop(Rk);return t?t(e.node):e}function xk(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.maxScanDistance||yk,o=r.brackets||Tk,s=vS(e),a=s.resolveInner(t,n),l=a;l;l=l.parent){var c=Ck(l.type,n,o);if(c&&l.from<l.to){var u=Ik(l);if(u&&(n>0?t>=u.from&&t<u.to:t>u.from&&t<=u.to))return Ak(e,t,n,l,u,c,o)}}return function(e,t,n,r,i,o,s){var a=n<0?e.sliceDoc(t-1,t):e.sliceDoc(t,t+1),l=s.indexOf(a);if(l<0||l%2==0!=n>0)return null;for(var c={from:n<0?t-1:t,to:n>0?t+1:t},u=e.doc.iterRange(t,n>0?e.doc.length:0),h=0,p=0;!u.next().done&&p<=o;){var f=u.value;n<0&&(p+=f.length);for(var d=t+p*n,g=n>0?0:f.length-1,_=n>0?f.length:-1;g!=_;g+=n){var v=s.indexOf(f[g]);if(!(v<0||r.resolveInner(d+g,1).type!=i))if(v%2==0==n>0)h++;else{if(1==h)return{start:c,end:{from:d+g,to:d+g+1},matched:v>>1==l>>1};h--}}n>0&&(p+=f.length)}return u.done?{start:c,matched:!1}:null}(e,t,n,s,a.type,i,o)}function Ak(e,t,n,r,i,o,s){var a=r.parent,l={from:i.from,to:i.to},c=0,u=null===a||void 0===a?void 0:a.cursor();if(u&&(n<0?u.childBefore(r.from):u.childAfter(r.to)))do{if(n<0?u.to<=r.from:u.from>=r.to){if(0==c&&o.indexOf(u.type.name)>-1&&u.from<u.to){var h=Ik(u);return{start:l,end:h?{from:h.from,to:h.to}:void 0,matched:!0}}if(Ck(u.type,n,s))c++;else if(Ck(u.type,-n,s)){if(0==c){var p=Ik(u);return{start:l,end:p&&p.from<p.to?{from:p.from,to:p.to}:void 0,matched:!1}}c--}}}while(n<0?u.prevSibling():u.nextSibling());return{start:l,matched:!1}}for(var Nk=Object.create(null),Lk=[hO.none],Mk=[],Dk=Object.create(null),Pk=0,Bk=[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]];Pk<Bk.length;Pk++){var Fk=a(Bk[Pk],2),Uk=Fk[0],Zk=Fk[1];Dk[Uk]=Hk(Nk,Zk)}function Gk(e,t){Mk.indexOf(e)>-1||(Mk.push(e),console.warn(t))}function Hk(e,t){var n,r=[],i=(0,X.Z)(t.split(" "));try{for(i.s();!(n=i.n()).done;){var o,s=n.value,a=[],l=(0,X.Z)(s.split("."));try{for(l.s();!(o=l.n()).done;){var c=o.value,u=e[c]||uS[c];u?"function"==typeof u?a.length?a=a.map(u):Gk(c,"Modifier ".concat(c," used at start of tag")):a.length?Gk(c,"Tag ".concat(c," used as modifier")):a=Array.isArray(u)?u:[u]:Gk(c,"Unknown highlighting tag ".concat(c))}}catch(v){l.e(v)}finally{l.f()}var h,f=(0,X.Z)(a);try{for(f.s();!(h=f.n()).done;){var d=h.value;r.push(d)}}catch(v){f.e(v)}finally{f.f()}}}catch(v){i.e(v)}finally{i.f()}if(!r.length)return 0;var g=t.replace(/ /g,"_"),_=hO.define({id:Lk.length,name:g,props:[HO((0,p.Z)({},g,r))]});return Lk.push(_),_.id}function Vk(e,t){return function(n){var r=n.state,i=n.dispatch;if(r.readOnly)return!1;var o=e(t,r);return!!o&&(i(r.update(o)),!0)}}var jk=Vk(Kk,0),Wk=Vk(qk,0),Xk=Vk((function(e,t){return qk(e,t,function(e){var t,n=[],r=(0,X.Z)(e.selection.ranges);try{for(r.s();!(t=r.n()).done;){var i=t.value,o=e.doc.lineAt(i.from),s=i.to<=o.to?o:e.doc.lineAt(i.to),a=n.length-1;a>=0&&n[a].to>o.from?n[a].to=s.to:n.push({from:o.from+/^\s*/.exec(o.text)[0].length,to:s.to})}}catch(l){r.e(l)}finally{r.f()}return n}(t))}),0);function zk(e,t){var n=e.languageDataAt("commentTokens",t);return n.length?n[0]:{}}var Yk=50;function qk(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.selection.ranges,r=n.map((function(e){return zk(t,e.from).block}));if(!r.every((function(e){return e})))return null;var i=n.map((function(e,n){return function(e,t,n,r){var i,o,s=t.open,a=t.close,l=e.sliceDoc(n-Yk,n),c=e.sliceDoc(r,r+Yk),u=/\s*$/.exec(l)[0].length,h=/^\s*/.exec(c)[0].length,p=l.length-u;if(l.slice(p-s.length,p)==s&&c.slice(h,h+a.length)==a)return{open:{pos:n-u,margin:u&&1},close:{pos:r+h,margin:h&&1}};r-n<=2*Yk?i=o=e.sliceDoc(n,r):(i=e.sliceDoc(n,n+Yk),o=e.sliceDoc(r-Yk,r));var f=/^\s*/.exec(i)[0].length,d=/\s*$/.exec(o)[0].length,g=o.length-d-a.length;return i.slice(f,f+s.length)==s&&o.slice(g,g+a.length)==a?{open:{pos:n+f+s.length,margin:/\s/.test(i.charAt(f+s.length))?1:0},close:{pos:r-d-a.length,margin:/\s/.test(o.charAt(g-1))?1:0}}:null}(t,r[n],e.from,e.to)}));if(2!=e&&!i.every((function(e){return e})))return{changes:t.changes(n.map((function(e,t){return i[t]?[]:[{from:e.from,insert:r[t].open+" "},{from:e.to,insert:" "+r[t].close}]})))};if(1!=e&&i.some((function(e){return e}))){for(var o,s=[],a=0;a<i.length;a++)if(o=i[a]){var l=r[a],c=o,u=c.open,h=c.close;s.push({from:u.pos-l.open.length,to:u.pos+u.margin},{from:h.pos-h.margin,to:h.pos+l.close.length})}return{changes:s}}return null}function Kk(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.selection.ranges,i=[],o=-1,s=(0,X.Z)(r);try{for(s.s();!(n=s.n()).done;){var a=n.value,l=a.from,c=a.to,u=i.length,h=1e9,p=zk(t,l).line;if(p){for(var f=l;f<=c;){var d=t.doc.lineAt(f);if(d.from>o&&(l==c||c>d.from)){o=d.from;var g=/^\s*/.exec(d.text)[0].length,_=g==d.length,v=d.text.slice(g,g+p.length)==p?g:-1;g<d.text.length&&g<h&&(h=g),i.push({line:d,comment:v,token:p,indent:g,empty:_,single:!1})}f=d.to+1}if(h<1e9)for(var m=u;m<i.length;m++)i[m].indent<i[m].line.text.length&&(i[m].indent=h);i.length==u+1&&(i[u].single=!0)}}}catch(B){s.e(B)}finally{s.f()}if(2!=e&&i.some((function(e){return e.comment<0&&(!e.empty||e.single)}))){var y,T=[],E=(0,X.Z)(i);try{for(E.s();!(y=E.n()).done;){var b=y.value,O=b.line,S=b.token,k=b.indent,w=b.empty;!b.single&&w||T.push({from:O.from+k,insert:S+" "})}}catch(B){E.e(B)}finally{E.f()}var R=t.changes(T);return{changes:R,selection:t.selection.map(R,1)}}if(1!=e&&i.some((function(e){return e.comment>=0}))){var C,I=[],x=(0,X.Z)(i);try{for(x.s();!(C=x.n()).done;){var A=C.value,N=A.line,L=A.comment,M=A.token;if(L>=0){var D=N.from+L,P=D+M.length;" "==N.text[P-N.from]&&P++,I.push({from:D,to:P})}}}catch(B){x.e(B)}finally{x.f()}return{changes:I}}return null}var Qk=F_.define(),Jk=F_.define(),$k=p_.define(),ew=p_.define({combine:function(e){return ev(e,{minDepth:100,newGroupDelay:500,joinToEvent:function(e,t){return t}},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:function(e,t){return function(n,r){return e(n,r)||t(n,r)}}})}});var tw=m_.define({create:function(){return vw.empty},update:function(e,t){var n=t.state.facet(ew),r=t.annotation(Qk);if(r){var i=t.docChanged?c_.single(function(e){var t=0;return e.iterChangedRanges((function(e,n){return t=n})),t}(t.changes)):void 0,o=aw.fromTransaction(t,i),s=r.side,a=0==s?e.undone:e.done;return a=o?lw(a,a.length,n.minDepth,o):pw(a,t.startState.selection),new vw(0==s?r.rest:a,0==s?a:r.rest)}var l=t.annotation(Jk);if("full"!=l&&"before"!=l||(e=e.isolate()),!1===t.annotation(H_.addToHistory))return t.changes.empty?e:e.addMapping(t.changes.desc);var c=aw.fromTransaction(t),u=t.annotation(H_.time),h=t.annotation(H_.userEvent);return c?e=e.addChanges(c,u,h,n,t):t.selection&&(e=e.addSelection(t.startState.selection,u,h,n.newGroupDelay)),"full"!=l&&"after"!=l||(e=e.isolate()),e},toJSON:function(e){return{done:e.done.map((function(e){return e.toJSON()})),undone:e.undone.map((function(e){return e.toJSON()}))}},fromJSON:function(e){return new vw(e.done.map(aw.fromJSON),e.undone.map(aw.fromJSON))}});function nw(e,t){return function(n){var r=n.state,i=n.dispatch;if(!t&&r.readOnly)return!1;var o=r.field(tw,!1);if(!o)return!1;var s=o.pop(e,r,t);return!!s&&(i(s),!0)}}var rw=nw(0,!1),iw=nw(1,!1),ow=nw(0,!0),sw=nw(1,!0);var aw=function(){function e(t,n,r,i,o){(0,z.Z)(this,e),this.changes=t,this.effects=n,this.mapped=r,this.startSelection=i,this.selectionsAfter=o}return(0,Y.Z)(e,[{key:"setSelAfter",value:function(t){return new e(this.changes,this.effects,this.mapped,this.startSelection,t)}},{key:"toJSON",value:function(){var e,t,n;return{changes:null===(e=this.changes)||void 0===e?void 0:e.toJSON(),mapped:null===(t=this.mapped)||void 0===t?void 0:t.toJSON(),startSelection:null===(n=this.startSelection)||void 0===n?void 0:n.toJSON(),selectionsAfter:this.selectionsAfter.map((function(e){return e.toJSON()}))}}}],[{key:"fromJSON",value:function(t){return new e(t.changes&&t_.fromJSON(t.changes),[],t.mapped&&e_.fromJSON(t.mapped),t.startSelection&&c_.fromJSON(t.startSelection),t.selectionsAfter.map(c_.fromJSON))}},{key:"fromTransaction",value:function(t,n){var r,i=uw,o=(0,X.Z)(t.startState.facet($k));try{for(o.s();!(r=o.n()).done;){var s=(0,r.value)(t);s.length&&(i=i.concat(s))}}catch(a){o.e(a)}finally{o.f()}return!i.length&&t.changes.empty?null:new e(t.changes.invert(t.startState.doc),i,void 0,n||t.startState.selection,uw)}},{key:"selection",value:function(t){return new e(void 0,uw,void 0,void 0,t)}}]),e}();function lw(e,t,n,r){var i=t+1>n+20?t-n-1:0,o=e.slice(i,t);return o.push(r),o}function cw(e,t){return e.length?t.length?e.concat(t):e:t}var uw=[],hw=200;function pw(e,t){if(e.length){var n=e[e.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-hw));return r.length&&r[r.length-1].eq(t)?e:(r.push(t),lw(e,e.length-1,1e9,n.setSelAfter(r)))}return[aw.selection([t])]}function fw(e){var t=e[e.length-1],n=e.slice();return n[e.length-1]=t.setSelAfter(t.selectionsAfter.slice(0,t.selectionsAfter.length-1)),n}function dw(e,t){if(!e.length)return e;for(var n=e.length,r=uw;n;){var i=gw(e[n-1],t,r);if(i.changes&&!i.changes.empty||i.effects.length){var o=e.slice(0,n);return o[n-1]=i,o}t=i.mapped,n--,r=i.selectionsAfter}return r.length?[aw.selection(r)]:uw}function gw(e,t,n){var r=cw(e.selectionsAfter.length?e.selectionsAfter.map((function(e){return e.map(t)})):uw,n);if(!e.changes)return aw.selection(r);var i=e.changes.map(t),o=t.mapDesc(e.changes,!0),s=e.mapped?e.mapped.composeDesc(o):o;return new aw(i,G_.mapEffects(e.effects,t),s,e.startSelection.map(o),r)}var _w=/^(input\.type|delete)($|\.)/,vw=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;(0,z.Z)(this,e),this.done=t,this.undone=n,this.prevTime=r,this.prevUserEvent=i}return(0,Y.Z)(e,[{key:"isolate",value:function(){return this.prevTime?new e(this.done,this.undone):this}},{key:"addChanges",value:function(t,n,r,i,o){var s=this.done,a=s[s.length-1];return s=a&&a.changes&&!a.changes.empty&&t.changes&&(!r||_w.test(r))&&(!a.selectionsAfter.length&&n-this.prevTime<i.newGroupDelay&&i.joinToEvent(o,function(e,t){var n=[],r=!1;return e.iterChangedRanges((function(e,t){return n.push(e,t)})),t.iterChangedRanges((function(e,t,i,o){for(var s=0;s<n.length;){var a=n[s++],l=n[s++];o>=a&&i<=l&&(r=!0)}})),r}(a.changes,t.changes))||"input.type.compose"==r)?lw(s,s.length-1,i.minDepth,new aw(t.changes.compose(a.changes),cw(t.effects,a.effects),a.mapped,a.startSelection,uw)):lw(s,s.length,i.minDepth,t),new e(s,uw,n,r)}},{key:"addSelection",value:function(t,n,r,i){var o=this.done.length?this.done[this.done.length-1].selectionsAfter:uw;return o.length>0&&n-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&function(e,t){return e.ranges.length==t.ranges.length&&0===e.ranges.filter((function(e,n){return e.empty!=t.ranges[n].empty})).length}(o[o.length-1],t)?this:new e(pw(this.done,t),this.undone,n,r)}},{key:"addMapping",value:function(t){return new e(dw(this.done,t),dw(this.undone,t),this.prevTime,this.prevUserEvent)}},{key:"pop",value:function(e,t,n){var r=0==e?this.done:this.undone;if(0==r.length)return null;var i=r[r.length-1];if(n&&i.selectionsAfter.length)return t.update({selection:i.selectionsAfter[i.selectionsAfter.length-1],annotations:Qk.of({side:e,rest:fw(r)}),userEvent:0==e?"select.undo":"select.redo",scrollIntoView:!0});if(i.changes){var o=1==r.length?uw:r.slice(0,r.length-1);return i.mapped&&(o=dw(o,i.mapped)),t.update({changes:i.changes,selection:i.startSelection,effects:i.effects,annotations:Qk.of({side:e,rest:o}),filter:!1,userEvent:0==e?"undo":"redo",scrollIntoView:!0})}return null}}]),e}();vw.empty=new vw(uw,uw);var mw=[{key:"Mod-z",run:rw,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:iw,preventDefault:!0},{linux:"Ctrl-Shift-z",run:iw,preventDefault:!0},{key:"Mod-u",run:ow,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:sw,preventDefault:!0}];function yw(e,t){return c_.create(e.ranges.map(t),e.mainIndex)}function Tw(e,t){return e.update({selection:t,scrollIntoView:!0,userEvent:"select"})}function Ew(e,t){var n=e.state,r=e.dispatch,i=yw(n.selection,t);return!i.eq(n.selection)&&(r(Tw(n,i)),!0)}function bw(e,t){return c_.cursor(t?e.to:e.from)}function Ow(e,t){return Ew(e,(function(n){return n.empty?e.moveByChar(n,t):bw(n,t)}))}function Sw(e){return e.textDirectionAt(e.state.selection.main.head)==fy.LTR}var kw=function(e){return Ow(e,!Sw(e))},ww=function(e){return Ow(e,Sw(e))};function Rw(e,t){return Ew(e,(function(n){return n.empty?e.moveByGroup(n,t):bw(n,t)}))}"undefined"!=typeof Intl&&Intl.Segmenter;function Cw(e,t,n){if(t.type.prop(n))return!0;var r=t.to-t.from;return r&&(r>2||/[^\s,.;:]/.test(e.sliceDoc(t.from,t.to)))||t.firstChild}function Iw(e,t,n){for(var r=vS(e).resolveInner(t.head),i=n?lO.closedBy:lO.openedBy,o=t.head;;){var s=n?r.childAfter(o):r.childBefore(o);if(!s)break;Cw(e,s,i)?r=s:o=n?s.to:s.from}var a,l;return l=r.type.prop(i)&&(a=n?xk(e,r.from,1):xk(e,r.to,-1))&&a.matched?n?a.end.to:a.end.from:n?r.to:r.from,c_.cursor(l,n?-1:1)}function xw(e,t){return Ew(e,(function(n){if(!n.empty)return bw(n,t);var r=e.moveVertically(n,t);return r.head!=n.head?r:e.moveToLineBoundary(n,t)}))}var Aw=function(e){return xw(e,!1)},Nw=function(e){return xw(e,!0)};function Lw(e){var t,n=e.scrollDOM.clientHeight<e.scrollDOM.scrollHeight-2,r=0,i=0;if(n){var o,s=(0,X.Z)(e.state.facet(yE.scrollMargins));try{for(s.s();!(o=s.n()).done;){var a=(0,o.value)(e);(null===a||void 0===a?void 0:a.top)&&(r=Math.max(null===a||void 0===a?void 0:a.top,r)),(null===a||void 0===a?void 0:a.bottom)&&(i=Math.max(null===a||void 0===a?void 0:a.bottom,i))}}catch(l){s.e(l)}finally{s.f()}t=e.scrollDOM.clientHeight-r-i}else t=(e.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:r,marginBottom:i,selfScroll:n,height:Math.max(e.defaultLineHeight,t-5)}}function Mw(e,t){var n,r=Lw(e),i=e.state,o=yw(i.selection,(function(n){return n.empty?e.moveVertically(n,t,r.height):bw(n,t)}));if(o.eq(i.selection))return!1;if(r.selfScroll){var s=e.coordsAtPos(i.selection.main.head),a=e.scrollDOM.getBoundingClientRect(),l=a.top+r.marginTop,c=a.bottom-r.marginBottom;s&&s.top>l&&s.bottom<c&&(n=yE.scrollIntoView(o.main.head,{y:"start",yMargin:s.top-l}))}return e.dispatch(Tw(i,o),{effects:n}),!0}var Dw=function(e){return Mw(e,!1)},Pw=function(e){return Mw(e,!0)};function Bw(e,t,n){var r=e.lineBlockAt(t.head),i=e.moveToLineBoundary(t,n);if(i.head==t.head&&i.head!=(n?r.to:r.from)&&(i=e.moveToLineBoundary(t,n,!1)),!n&&i.head==r.from&&r.length){var o=/^\s*/.exec(e.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;o&&t.head!=r.from+o&&(i=c_.cursor(r.from+o))}return i}function Fw(e,t,n){var r=!1,i=yw(e.selection,(function(t){var i=xk(e,t.head,-1)||xk(e,t.head,1)||t.head>0&&xk(e,t.head-1,1)||t.head<e.doc.length&&xk(e,t.head+1,-1);if(!i||!i.end)return t;r=!0;var o=i.start.from==t.head?i.end.to:i.end.from;return n?c_.range(t.anchor,o):c_.cursor(o)}));return!!r&&(t(Tw(e,i)),!0)}function Uw(e,t){var n=yw(e.state.selection,(function(e){var n=t(e);return c_.range(e.anchor,n.head,n.goalColumn,n.bidiLevel||void 0)}));return!n.eq(e.state.selection)&&(e.dispatch(Tw(e.state,n)),!0)}function Zw(e,t){return Uw(e,(function(n){return e.moveByChar(n,t)}))}var Gw=function(e){return Zw(e,!Sw(e))},Hw=function(e){return Zw(e,Sw(e))};function Vw(e,t){return Uw(e,(function(n){return e.moveByGroup(n,t)}))}function jw(e,t){return Uw(e,(function(n){return e.moveVertically(n,t)}))}var Ww=function(e){return jw(e,!1)},Xw=function(e){return jw(e,!0)};function zw(e,t){return Uw(e,(function(n){return e.moveVertically(n,t,Lw(e).height)}))}var Yw=function(e){return zw(e,!1)},qw=function(e){return zw(e,!0)},Kw=function(e){var t=e.state;return(0,e.dispatch)(Tw(t,{anchor:0})),!0},Qw=function(e){var t=e.state;return(0,e.dispatch)(Tw(t,{anchor:t.doc.length})),!0},Jw=function(e){var t=e.state;return(0,e.dispatch)(Tw(t,{anchor:t.selection.main.anchor,head:0})),!0},$w=function(e){var t=e.state;return(0,e.dispatch)(Tw(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0};function eR(e,t){if(e.state.readOnly)return!1;var n="delete.selection",r=e.state,i=r.changeByRange((function(r){var i=r.from,o=r.to;if(i==o){var s=t(r);s<i?(n="delete.backward",s=tR(e,s,!1)):s>i&&(n="delete.forward",s=tR(e,s,!0)),i=Math.min(i,s),o=Math.max(o,s)}else i=tR(e,i,!1),o=tR(e,o,!0);return i==o?{range:r}:{changes:{from:i,to:o},range:c_.cursor(i,i<r.head?-1:1)}}));return!i.changes.empty&&(e.dispatch(r.update(i,{scrollIntoView:!0,userEvent:n,effects:"delete.selection"==n?yE.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function tR(e,t,n){if(e instanceof yE){var r,i=(0,X.Z)(e.state.facet(yE.atomicRanges).map((function(t){return t(e)})));try{for(i.s();!(r=i.n()).done;){r.value.between(t,t,(function(e,r){e<t&&r>t&&(t=n?r:e)}))}}catch(o){i.e(o)}finally{i.f()}}return t}var nR=function(e,t){return eR(e,(function(n){var r,i,o=n.from,s=e.state,a=s.doc.lineAt(o);if(!t&&o>a.from&&o<a.from+200&&!/[^ \t]/.test(r=a.text.slice(0,o-a.from))){if("\t"==r[r.length-1])return o-1;for(var l=vv(r,s.tabSize)%xS(s)||xS(s),c=0;c<l&&" "==r[r.length-1-c];c++)o--;i=o}else(i=jg(a.text,o-a.from,t,t)+a.from)==o&&a.number!=(t?s.doc.lines:1)&&(i+=t?1:-1);return i}))},rR=function(e){return nR(e,!1)},iR=function(e){return nR(e,!0)},oR=function(e,t){return eR(e,(function(n){for(var r=n.head,i=e.state,o=i.doc.lineAt(r),s=i.charCategorizer(r),a=null;;){if(r==(t?o.to:o.from)){r==n.head&&o.number!=(t?i.doc.lines:1)&&(r+=t?1:-1);break}var l=jg(o.text,r-o.from,t)+o.from,c=o.text.slice(Math.min(r,l)-o.from,Math.max(r,l)-o.from),u=s(c);if(null!=a&&u!=a)break;" "==c&&r==n.head||(a=u),r=l}return r}))},sR=function(e){return oR(e,!1)};function aR(e){var t,n=[],r=-1,i=(0,X.Z)(e.selection.ranges);try{for(i.s();!(t=i.n()).done;){var o=t.value,s=e.doc.lineAt(o.from),a=e.doc.lineAt(o.to);if(o.empty||o.to!=a.from||(a=e.doc.lineAt(o.to-1)),r>=s.number){var l=n[n.length-1];l.to=a.to,l.ranges.push(o)}else n.push({from:s.from,to:a.to,ranges:[o]});r=a.number+1}}catch(c){i.e(c)}finally{i.f()}return n}function lR(e,t,n){if(e.readOnly)return!1;var r,i=[],o=[],s=(0,X.Z)(aR(e));try{for(s.s();!(r=s.n()).done;){var a=r.value;if(n?a.to!=e.doc.length:0!=a.from){var l=e.doc.lineAt(n?a.to+1:a.from-1),c=l.length+1;if(n){i.push({from:a.to,to:l.to},{from:a.from,insert:l.text+e.lineBreak});var u,h=(0,X.Z)(a.ranges);try{for(h.s();!(u=h.n()).done;){var p=u.value;o.push(c_.range(Math.min(e.doc.length,p.anchor+c),Math.min(e.doc.length,p.head+c)))}}catch(_){h.e(_)}finally{h.f()}}else{i.push({from:l.from,to:a.from},{from:a.to,insert:e.lineBreak+l.text});var f,d=(0,X.Z)(a.ranges);try{for(d.s();!(f=d.n()).done;){var g=f.value;o.push(c_.range(g.anchor-c,g.head-c))}}catch(_){d.e(_)}finally{d.f()}}}}}catch(_){s.e(_)}finally{s.f()}return!!i.length&&(t(e.update({changes:i,scrollIntoView:!0,selection:c_.create(o,e.selection.mainIndex),userEvent:"move.line"})),!0)}function cR(e,t,n){if(e.readOnly)return!1;var r,i=[],o=(0,X.Z)(aR(e));try{for(o.s();!(r=o.n()).done;){var s=r.value;n?i.push({from:s.from,insert:e.doc.slice(s.from,s.to)+e.lineBreak}):i.push({from:s.to,insert:e.lineBreak+e.doc.slice(s.from,s.to)})}}catch(a){o.e(a)}finally{o.f()}return t(e.update({changes:i,scrollIntoView:!0,userEvent:"input.copyline"})),!0}var uR=pR(!1),hR=pR(!0);function pR(e){return function(t){var n=t.state,r=t.dispatch;if(n.readOnly)return!1;var i=n.changeByRange((function(t){var r=t.from,i=t.to,o=n.doc.lineAt(r),s=!e&&r==i&&function(e,t){if(/\(\)|\[\]|\{\}/.test(e.sliceDoc(t-1,t+1)))return{from:t,to:t};var n,r=vS(e).resolveInner(t),i=r.childBefore(t),o=r.childAfter(t);return i&&o&&i.to<=t&&o.from>=t&&(n=i.type.prop(lO.closedBy))&&n.indexOf(o.name)>-1&&e.doc.lineAt(i.to).from==e.doc.lineAt(o.from).from&&!/\S/.test(e.sliceDoc(i.to,o.from))?{from:i.to,to:o.from}:null}(n,r);e&&(r=i=(i<=o.to?o:n.doc.lineAt(i)).to);var a=new LS(n,{simulateBreak:r,simulateDoubleBreak:!!s}),l=NS(a,r);for(null==l&&(l=vv(/^\s*/.exec(n.doc.lineAt(r).text)[0],n.tabSize));i<o.to&&/\s/.test(o.text[i-o.from]);)i++;s?(r=s.from,i=s.to):r>o.from&&r<o.from+100&&!/\S/.test(o.text.slice(0,r))&&(r=o.from);var c=["",AS(n,l)];return s&&c.push(AS(n,a.lineIndent(o.from,-1))),{changes:{from:r,to:i,insert:xg.of(c)},range:c_.cursor(r+1+c[1].length)}}));return r(n.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}}function fR(e,t){var n=-1;return e.changeByRange((function(r){for(var i=[],o=r.from;o<=r.to;){var s=e.doc.lineAt(o);s.number>n&&(r.empty||r.to>s.from)&&(t(s,i,r),n=s.number),o=s.to+1}var a=e.changes(i);return{changes:i,range:c_.range(a.mapPos(r.anchor,1),a.mapPos(r.head,1))}}))}var dR=function(e){var t=e.state,n=e.dispatch;return!t.readOnly&&(n(t.update(fR(t,(function(e,n){n.push({from:e.from,insert:t.facet(IS)})})),{userEvent:"input.indent"})),!0)},gR=function(e){var t=e.state,n=e.dispatch;return!t.readOnly&&(n(t.update(fR(t,(function(e,n){var r=/^\s*/.exec(e.text)[0];if(r){for(var i=vv(r,t.tabSize),o=0,s=AS(t,Math.max(0,i-xS(t)));o<r.length&&o<s.length&&r.charCodeAt(o)==s.charCodeAt(o);)o++;n.push({from:e.from+o,to:e.from+r.length,insert:s.slice(o)})}})),{userEvent:"delete.dedent"})),!0)},_R=[{key:"ArrowLeft",run:kw,shift:Gw,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:function(e){return Rw(e,!Sw(e))},shift:function(e){return Vw(e,!Sw(e))},preventDefault:!0},{mac:"Cmd-ArrowLeft",run:function(e){return Ew(e,(function(t){return Bw(e,t,!Sw(e))}))},shift:function(e){return Uw(e,(function(t){return Bw(e,t,!Sw(e))}))},preventDefault:!0},{key:"ArrowRight",run:ww,shift:Hw,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:function(e){return Rw(e,Sw(e))},shift:function(e){return Vw(e,Sw(e))},preventDefault:!0},{mac:"Cmd-ArrowRight",run:function(e){return Ew(e,(function(t){return Bw(e,t,Sw(e))}))},shift:function(e){return Uw(e,(function(t){return Bw(e,t,Sw(e))}))},preventDefault:!0},{key:"ArrowUp",run:Aw,shift:Ww,preventDefault:!0},{mac:"Cmd-ArrowUp",run:Kw,shift:Jw},{mac:"Ctrl-ArrowUp",run:Dw,shift:Yw},{key:"ArrowDown",run:Nw,shift:Xw,preventDefault:!0},{mac:"Cmd-ArrowDown",run:Qw,shift:$w},{mac:"Ctrl-ArrowDown",run:Pw,shift:qw},{key:"PageUp",run:Dw,shift:Yw},{key:"PageDown",run:Pw,shift:qw},{key:"Home",run:function(e){return Ew(e,(function(t){return Bw(e,t,!1)}))},shift:function(e){return Uw(e,(function(t){return Bw(e,t,!1)}))},preventDefault:!0},{key:"Mod-Home",run:Kw,shift:Jw},{key:"End",run:function(e){return Ew(e,(function(t){return Bw(e,t,!0)}))},shift:function(e){return Uw(e,(function(t){return Bw(e,t,!0)}))},preventDefault:!0},{key:"Mod-End",run:Qw,shift:$w},{key:"Enter",run:uR},{key:"Mod-a",run:function(e){var t=e.state;return(0,e.dispatch)(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0}},{key:"Backspace",run:rR,shift:rR},{key:"Delete",run:iR},{key:"Mod-Backspace",mac:"Alt-Backspace",run:sR},{key:"Mod-Delete",mac:"Alt-Delete",run:function(e){return oR(e,!0)}},{mac:"Mod-Backspace",run:function(e){return eR(e,(function(t){var n=e.moveToLineBoundary(t,!1).head;return t.head>n?n:Math.max(0,t.head-1)}))}},{mac:"Mod-Delete",run:function(e){return eR(e,(function(t){var n=e.moveToLineBoundary(t,!0).head;return t.head<n?n:Math.min(e.state.doc.length,t.head+1)}))}}].concat([{key:"Ctrl-b",run:kw,shift:Gw,preventDefault:!0},{key:"Ctrl-f",run:ww,shift:Hw},{key:"Ctrl-p",run:Aw,shift:Ww},{key:"Ctrl-n",run:Nw,shift:Xw},{key:"Ctrl-a",run:function(e){return Ew(e,(function(t){return c_.cursor(e.lineBlockAt(t.head).from,1)}))},shift:function(e){return Uw(e,(function(t){return c_.cursor(e.lineBlockAt(t.head).from)}))}},{key:"Ctrl-e",run:function(e){return Ew(e,(function(t){return c_.cursor(e.lineBlockAt(t.head).to,-1)}))},shift:function(e){return Uw(e,(function(t){return c_.cursor(e.lineBlockAt(t.head).to)}))}},{key:"Ctrl-d",run:iR},{key:"Ctrl-h",run:rR},{key:"Ctrl-k",run:function(e){return eR(e,(function(t){var n=e.lineBlockAt(t.head).to;return t.head<n?n:Math.min(e.state.doc.length,t.head+1)}))}},{key:"Ctrl-Alt-h",run:sR},{key:"Ctrl-o",run:function(e){var t=e.state,n=e.dispatch;if(t.readOnly)return!1;var r=t.changeByRange((function(e){return{changes:{from:e.from,to:e.to,insert:xg.of(["",""])},range:c_.cursor(e.from)}}));return n(t.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}},{key:"Ctrl-t",run:function(e){var t=e.state,n=e.dispatch;if(t.readOnly)return!1;var r=t.changeByRange((function(e){if(!e.empty||0==e.from||e.from==t.doc.length)return{range:e};var n=e.from,r=t.doc.lineAt(n),i=n==r.from?n-1:jg(r.text,n-r.from,!1)+r.from,o=n==r.to?n+1:jg(r.text,n-r.from,!0)+r.from;return{changes:{from:i,to:o,insert:t.doc.slice(n,o).append(t.doc.slice(i,n))},range:c_.cursor(o)}}));return!r.changes.empty&&(n(t.update(r,{scrollIntoView:!0,userEvent:"move.character"})),!0)}},{key:"Ctrl-v",run:Pw}].map((function(e){return{mac:e.key,run:e.run,shift:e.shift}}))),vR=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:function(e){return Ew(e,(function(t){return Iw(e.state,t,!Sw(e))}))},shift:function(e){return Uw(e,(function(t){return Iw(e.state,t,!Sw(e))}))}},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:function(e){return Ew(e,(function(t){return Iw(e.state,t,Sw(e))}))},shift:function(e){return Uw(e,(function(t){return Iw(e.state,t,Sw(e))}))}},{key:"Alt-ArrowUp",run:function(e){return lR(e.state,e.dispatch,!1)}},{key:"Shift-Alt-ArrowUp",run:function(e){return cR(e.state,e.dispatch,!1)}},{key:"Alt-ArrowDown",run:function(e){return lR(e.state,e.dispatch,!0)}},{key:"Shift-Alt-ArrowDown",run:function(e){return cR(e.state,e.dispatch,!0)}},{key:"Escape",run:function(e){var t=e.state,n=e.dispatch,r=t.selection,i=null;return r.ranges.length>1?i=c_.create([r.main]):r.main.empty||(i=c_.create([c_.cursor(r.main.head)])),!!i&&(n(Tw(t,i)),!0)}},{key:"Mod-Enter",run:hR},{key:"Alt-l",mac:"Ctrl-l",run:function(e){var t=e.state,n=e.dispatch,r=aR(t).map((function(e){var n=e.from,r=e.to;return c_.range(n,Math.min(r+1,t.doc.length))}));return n(t.update({selection:c_.create(r),userEvent:"select"})),!0}},{key:"Mod-i",run:function(e){var t=e.state,n=e.dispatch,r=yw(t.selection,(function(e){for(var n,r=vS(t).resolveStack(e.from,1);r;r=r.next){var i=r.node;if((i.from<e.from&&i.to>=e.to||i.to>e.to&&i.from<=e.from)&&(null===(n=i.parent)||void 0===n?void 0:n.parent))return c_.range(i.to,i.from)}return e}));return n(Tw(t,r)),!0},preventDefault:!0},{key:"Mod-[",run:gR},{key:"Mod-]",run:dR},{key:"Mod-Alt-\\",run:function(e){var t=e.state,n=e.dispatch;if(t.readOnly)return!1;var r=Object.create(null),i=new LS(t,{overrideIndentation:function(e){var t=r[e];return null==t?-1:t}}),o=fR(t,(function(e,n,o){var s=NS(i,e.from);if(null!=s){/\S/.test(e.text)||(s=0);var a=/^\s*/.exec(e.text)[0],l=AS(t,s);(a!=l||o.from<e.from+a.length)&&(r[e.from]=s,n.push({from:e.from,to:e.from+a.length,insert:l}))}}));return o.changes.empty||n(t.update(o,{userEvent:"indent"})),!0}},{key:"Shift-Mod-k",run:function(e){if(e.state.readOnly)return!1;var t=e.state,n=t.changes(aR(t).map((function(e){var n=e.from,r=e.to;return n>0?n--:r<t.doc.length&&r++,{from:n,to:r}}))),r=yw(t.selection,(function(t){return e.moveVertically(t,!0)})).map(n);return e.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0}},{key:"Shift-Mod-\\",run:function(e){return Fw(e.state,e.dispatch,!1)}},{key:"Mod-/",run:function(e){var t=e.state,n=t.doc.lineAt(t.selection.main.from),r=zk(e.state,n.from);return r.line?jk(e):!!r.block&&Xk(e)}},{key:"Alt-A",run:Wk}].concat(_R),mR={key:"Tab",run:dR,shift:gR};function yR(){var e=arguments[0];"string"==typeof e&&(e=document.createElement(e));var t=1,n=arguments[1];if(n&&"object"==typeof n&&null==n.nodeType&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var i=n[r];"string"==typeof i?e.setAttribute(r,i):null!=i&&(e[r]=i)}t++}for(;t<arguments.length;t++)TR(e,arguments[t]);return e}function TR(e,t){if("string"==typeof t)e.appendChild(document.createTextNode(t));else if(null==t);else if(null!=t.nodeType)e.appendChild(t);else{if(!Array.isArray(t))throw new RangeError("Unsupported child node: "+t);for(var n=0;n<t.length;n++)TR(e,t[n])}}var ER="function"==typeof String.prototype.normalize?function(e){return e.normalize("NFKD")}:function(e){return e},bR=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length,o=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0;(0,z.Z)(this,e),this.test=s,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=t.iterRange(r,i),this.bufferStart=r,this.normalize=o?function(e){return o(ER(e))}:ER,this.query=this.normalize(n)}return(0,Y.Z)(e,[{key:"peek",value:function(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return qg(this.buffer,this.bufferPos)}},{key:"next",value:function(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}},{key:"nextOverlapping",value:function(){for(;;){var e=this.peek();if(e<0)return this.done=!0,this;var t=Kg(e),n=this.bufferStart+this.bufferPos;this.bufferPos+=Qg(e);for(var r=this.normalize(t),i=0,o=n;;i++){var s=r.charCodeAt(i),a=this.match(s,o);if(i==r.length-1){if(a)return this.value=a,this;break}o==n&&i<t.length&&t.charCodeAt(i)==s&&o++}}}},{key:"match",value:function(e,t){for(var n=null,r=0;r<this.matches.length;r+=2){var i=this.matches[r],o=!1;this.query.charCodeAt(i)==e&&(i==this.query.length-1?n={from:this.matches[r+1],to:t+1}:(this.matches[r]++,o=!0)),o||(this.matches.splice(r,2),r-=2)}return this.query.charCodeAt(0)==e&&(1==this.query.length?n={from:t,to:t+1}:this.matches.push(1,t)),n&&this.test&&!this.test(n.from,n.to,this.buffer,this.bufferStart)&&(n=null),n}}]),e}();"undefined"!=typeof Symbol&&(bR.prototype[Symbol.iterator]=function(){return this});var OR={from:-1,to:-1,match:/.*/.exec("")},SR="gm"+(null==/x/.unicode?"":"u"),kR=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:t.length;if((0,z.Z)(this,e),this.text=t,this.to=o,this.curLine="",this.done=!1,this.value=OR,/\\[sWDnr]|\n|\r|\[\^/.test(n))return new CR(t,n,r,i,o);this.re=new RegExp(n,SR+((null===r||void 0===r?void 0:r.ignoreCase)?"i":"")),this.test=null===r||void 0===r?void 0:r.test,this.iter=t.iter();var s=t.lineAt(i);this.curLineStart=s.from,this.matchPos=IR(t,i),this.getLine(this.curLineStart)}return(0,Y.Z)(e,[{key:"getLine",value:function(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}},{key:"nextLine",value:function(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}},{key:"next",value:function(){for(var e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;var t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){var n=this.curLineStart+t.index,r=n+t[0].length;if(this.matchPos=IR(this.text,r+(n==r?1:0)),n==this.curLineStart+this.curLine.length&&this.nextLine(),(n<r||n>this.value.to)&&(!this.test||this.test(n,r,t)))return this.value={from:n,to:r,match:t},this;e=this.matchPos-this.curLineStart}else{if(!(this.curLineStart+this.curLine.length<this.to))return this.done=!0,this;this.nextLine(),e=0}}}}]),e}(),wR=new WeakMap,RR=function(){function e(t,n){(0,z.Z)(this,e),this.from=t,this.text=n}return(0,Y.Z)(e,[{key:"to",get:function(){return this.from+this.text.length}}],[{key:"get",value:function(t,n,r){var i=wR.get(t);if(!i||i.from>=r||i.to<=n){var o=new e(n,t.sliceString(n,r));return wR.set(t,o),o}if(i.from==n&&i.to==r)return i;var s=i.text,a=i.from;return a>n&&(s=t.sliceString(n,a)+s,a=n),i.to<r&&(s+=t.sliceString(i.to,r)),wR.set(t,new e(a,s)),new e(n,s.slice(n-a,r-a))}}]),e}(),CR=function(){function e(t,n,r,i,o){(0,z.Z)(this,e),this.text=t,this.to=o,this.done=!1,this.value=OR,this.matchPos=IR(t,i),this.re=new RegExp(n,SR+((null===r||void 0===r?void 0:r.ignoreCase)?"i":"")),this.test=null===r||void 0===r?void 0:r.test,this.flat=RR.get(t,i,this.chunkEnd(i+5e3))}return(0,Y.Z)(e,[{key:"chunkEnd",value:function(e){return e>=this.to?this.to:this.text.lineAt(e).to}},{key:"next",value:function(){for(;;){var e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){var n=this.flat.from+t.index,r=n+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(n,r,t)))return this.value={from:n,to:r,match:t},this.matchPos=IR(this.text,r+(n==r?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=RR.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+2*this.flat.text.length))}}}]),e}();function IR(e,t){if(t>=e.length)return t;for(var n,r=e.lineAt(t);t<r.to&&(n=r.text.charCodeAt(t-r.from))>=56320&&n<57344;)t++;return t}function xR(e){var t=yR("input",{class:"cm-textfield",name:"line",value:String(e.state.doc.lineAt(e.state.selection.main.head).number)});function n(){var n=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(n){var r=e.state,i=r.doc.lineAt(r.selection.main.head),o=a(n,5),s=o[1],l=o[2],c=o[3],u=o[4],h=c?+c.slice(1):0,p=l?+l:i.number;if(l&&u){var f=p/100;s&&(f=f*("-"==s?-1:1)+i.number/r.doc.lines),p=Math.round(r.doc.lines*f)}else l&&s&&(p=p*("-"==s?-1:1)+i.number);var d=r.doc.line(Math.max(1,Math.min(r.doc.lines,p))),g=c_.cursor(d.from+Math.max(0,Math.min(h,d.length)));e.dispatch({effects:[AR.of(!1),yE.scrollIntoView(g.from,{y:"center"})],selection:g}),e.focus()}}return{dom:yR("form",{class:"cm-gotoLine",onkeydown:function(t){27==t.keyCode?(t.preventDefault(),e.dispatch({effects:AR.of(!1)}),e.focus()):13==t.keyCode&&(t.preventDefault(),n())},onsubmit:function(e){e.preventDefault(),n()}},yR("label",e.state.phrase("Go to line"),": ",t)," ",yR("button",{class:"cm-button",type:"submit"},e.state.phrase("go")))}}"undefined"!=typeof Symbol&&(kR.prototype[Symbol.iterator]=CR.prototype[Symbol.iterator]=function(){return this});var AR=G_.define(),NR=m_.define({create:function(){return!0},update:function(e,t){var n,r=(0,X.Z)(t.effects);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.is(AR)&&(e=i.value)}}catch(o){r.e(o)}finally{r.f()}return e},provide:function(e){return Bb.from(e,(function(e){return e?xR:null}))}}),LR=yE.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),MR={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},DR=p_.define({combine:function(e){return ev(e,MR,{highlightWordAroundCursor:function(e,t){return e||t},minSelectionLength:Math.min,maxMatches:Math.min})}});var BR=xm.mark({class:"cm-selectionMatch"}),FR=xm.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function UR(e,t,n,r){return(0==n||e(t.sliceDoc(n-1,n))!=K_.Word)&&(r==t.doc.length||e(t.sliceDoc(r,r+1))!=K_.Word)}var ZR=ey.fromClass(function(){function e(t){(0,z.Z)(this,e),this.decorations=this.getDeco(t)}return(0,Y.Z)(e,[{key:"update",value:function(e){(e.selectionSet||e.docChanged||e.viewportChanged)&&(this.decorations=this.getDeco(e.view))}},{key:"getDeco",value:function(e){var t=e.state.facet(DR),n=e.state,r=n.selection;if(r.ranges.length>1)return xm.none;var i,o=r.main,s=null;if(o.empty){if(!t.highlightWordAroundCursor)return xm.none;var a=n.wordAt(o.head);if(!a)return xm.none;s=n.charCategorizer(o.head),i=n.sliceDoc(a.from,a.to)}else{var l=o.to-o.from;if(l<t.minSelectionLength||l>200)return xm.none;if(t.wholeWords){if(i=n.sliceDoc(o.from,o.to),!UR(s=n.charCategorizer(o.head),n,o.from,o.to)||!function(e,t,n,r){return e(t.sliceDoc(n,n+1))==K_.Word&&e(t.sliceDoc(r-1,r))==K_.Word}(s,n,o.from,o.to))return xm.none}else if(!(i=n.sliceDoc(o.from,o.to).trim()))return xm.none}var c,u=[],h=(0,X.Z)(e.visibleRanges);try{for(h.s();!(c=h.n()).done;)for(var p=c.value,f=new bR(n.doc,i,p.from,p.to);!f.next().done;){var d=f.value,g=d.from,_=d.to;if((!s||UR(s,n,g,_))&&(o.empty&&g<=o.from&&_>=o.to?u.push(FR.range(g,_)):(g>=o.to||_<=o.from)&&u.push(BR.range(g,_)),u.length>t.maxMatches))return xm.none}}catch(v){h.e(v)}finally{h.f()}return xm.set(u)}}]),e}(),{decorations:function(e){return e.decorations}}),GR=yE.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}});var HR=p_.define({combine:function(e){return ev(e,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:function(e){return new vC(e)},scrollToMatch:function(e){return yE.scrollIntoView(e)}})}});var VR=function(){function e(t){(0,z.Z)(this,e),this.search=t.search,this.caseSensitive=!!t.caseSensitive,this.literal=!!t.literal,this.regexp=!!t.regexp,this.replace=t.replace||"",this.valid=!!this.search&&(!this.regexp||function(e){try{return new RegExp(e,SR),!0}catch(YO){return!1}}(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!t.wholeWord}return(0,Y.Z)(e,[{key:"unquote",value:function(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(function(e,t){return"n"==t?"\n":"r"==t?"\r":"t"==t?"\t":"\\"}))}},{key:"eq",value:function(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}},{key:"create",value:function(){return this.regexp?new KR(this):new XR(this)}},{key:"getCursor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=e.doc?e:$_.create({doc:e});return null==n&&(n=r.doc.length),this.regexp?zR(this,r,t,n):WR(this,r,t,n)}}]),e}(),jR=(0,Y.Z)((function e(t){(0,z.Z)(this,e),this.spec=t}));function WR(e,t,n,r){return new bR(t.doc,e.unquoted,n,r,e.caseSensitive?void 0:function(e){return e.toLowerCase()},e.wholeWord?function(e,t){return function(n,r,i,o){return(o>n||o+i.length<r)&&(o=Math.max(0,n-2),i=e.sliceString(o,Math.min(e.length,r+2))),(t(YR(i,n-o))!=K_.Word||t(qR(i,n-o))!=K_.Word)&&(t(qR(i,r-o))!=K_.Word||t(YR(i,r-o))!=K_.Word)}}(t.doc,t.charCategorizer(t.selection.main.head)):void 0)}var XR=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e){return(0,z.Z)(this,n),t.call(this,e)}return(0,Y.Z)(n,[{key:"nextMatch",value:function(e,t,n){var r=WR(this.spec,e,n,e.doc.length).nextOverlapping();return r.done&&(r=WR(this.spec,e,0,t).nextOverlapping()),r.done?null:r.value}},{key:"prevMatchInRange",value:function(e,t,n){for(var r=n;;){for(var i=Math.max(t,r-1e4-this.spec.unquoted.length),o=WR(this.spec,e,i,r),s=null;!o.nextOverlapping().done;)s=o.value;if(s)return s;if(i==t)return null;r-=1e4}}},{key:"prevMatch",value:function(e,t,n){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,n,e.doc.length)}},{key:"getReplacement",value:function(e){return this.spec.unquote(this.spec.replace)}},{key:"matchAll",value:function(e,t){for(var n=WR(this.spec,e,0,e.doc.length),r=[];!n.next().done;){if(r.length>=t)return null;r.push(n.value)}return r}},{key:"highlight",value:function(e,t,n,r){for(var i=WR(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(n+this.spec.unquoted.length,e.doc.length));!i.next().done;)r(i.value.from,i.value.to)}}]),n}(jR);function zR(e,t,n,r){return new kR(t.doc,e.search,{ignoreCase:!e.caseSensitive,test:e.wholeWord?(i=t.charCategorizer(t.selection.main.head),function(e,t,n){return!n[0].length||(i(YR(n.input,n.index))!=K_.Word||i(qR(n.input,n.index))!=K_.Word)&&(i(qR(n.input,n.index+n[0].length))!=K_.Word||i(YR(n.input,n.index+n[0].length))!=K_.Word)}):void 0},n,r);var i}function YR(e,t){return e.slice(jg(e,t,!1),t)}function qR(e,t){return e.slice(t,jg(e,t))}var KR=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(){return(0,z.Z)(this,n),t.apply(this,arguments)}return(0,Y.Z)(n,[{key:"nextMatch",value:function(e,t,n){var r=zR(this.spec,e,n,e.doc.length).next();return r.done&&(r=zR(this.spec,e,0,t).next()),r.done?null:r.value}},{key:"prevMatchInRange",value:function(e,t,n){for(var r=1;;r++){for(var i=Math.max(t,n-1e4*r),o=zR(this.spec,e,i,n),s=null;!o.next().done;)s=o.value;if(s&&(i==t||s.from>i+10))return s;if(i==t)return null}}},{key:"prevMatch",value:function(e,t,n){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,n,e.doc.length)}},{key:"getReplacement",value:function(e){return this.spec.unquote(this.spec.replace.replace(/\$([$&\d+])/g,(function(t,n){return"$"==n?"$":"&"==n?e.match[0]:"0"!=n&&+n<e.match.length?e.match[n]:t})))}},{key:"matchAll",value:function(e,t){for(var n=zR(this.spec,e,0,e.doc.length),r=[];!n.next().done;){if(r.length>=t)return null;r.push(n.value)}return r}},{key:"highlight",value:function(e,t,n,r){for(var i=zR(this.spec,e,Math.max(0,t-250),Math.min(n+250,e.doc.length));!i.next().done;)r(i.value.from,i.value.to)}}]),n}(jR),QR=G_.define(),JR=G_.define(),$R=m_.define({create:function(e){return new eC(hC(e).create(),null)},update:function(e,t){var n,r=(0,X.Z)(t.effects);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.is(QR)?e=new eC(i.value.create(),e.panel):i.is(JR)&&(e=new eC(e.query,i.value?uC:null))}}catch(o){r.e(o)}finally{r.f()}return e},provide:function(e){return Bb.from(e,(function(e){return e.panel}))}});var eC=(0,Y.Z)((function e(t,n){(0,z.Z)(this,e),this.query=t,this.panel=n})),tC=xm.mark({class:"cm-searchMatch"}),nC=xm.mark({class:"cm-searchMatch cm-searchMatch-selected"}),rC=ey.fromClass(function(){function e(t){(0,z.Z)(this,e),this.view=t,this.decorations=this.highlight(t.state.field($R))}return(0,Y.Z)(e,[{key:"update",value:function(e){var t=e.state.field($R);(t!=e.startState.field($R)||e.docChanged||e.selectionSet||e.viewportChanged)&&(this.decorations=this.highlight(t))}},{key:"highlight",value:function(e){var t=e.query;if(!e.panel||!t.spec.valid)return xm.none;for(var n=this.view,r=new sv,i=0,o=n.visibleRanges,s=o.length;i<s;i++){for(var a=o[i],l=a.from,c=a.to;i<s-1&&c>o[i+1].from-500;)c=o[++i].to;t.highlight(n.state,l,c,(function(e,t){var i=n.state.selection.ranges.some((function(n){return n.from==e&&n.to==t}));r.add(e,t,i?nC:tC)}))}return r.finish()}}]),e}(),{decorations:function(e){return e.decorations}});function iC(e){return function(t){var n=t.state.field($R,!1);return n&&n.query.spec.valid?e(t,n):dC(t)}}var oC=iC((function(e,t){var n=t.query,r=e.state.selection.main.to,i=n.nextMatch(e.state,r,r);if(!i)return!1;var o=c_.single(i.from,i.to),s=e.state.facet(HR);return e.dispatch({selection:o,effects:[EC(e,i),s.scrollToMatch(o.main,e)],userEvent:"select.search"}),fC(e),!0})),sC=iC((function(e,t){var n=t.query,r=e.state,i=r.selection.main.from,o=n.prevMatch(r,i,i);if(!o)return!1;var s=c_.single(o.from,o.to),a=e.state.facet(HR);return e.dispatch({selection:s,effects:[EC(e,o),a.scrollToMatch(s.main,e)],userEvent:"select.search"}),fC(e),!0})),aC=iC((function(e,t){var n=t.query.matchAll(e.state,1e3);return!(!n||!n.length)&&(e.dispatch({selection:c_.create(n.map((function(e){return c_.range(e.from,e.to)}))),userEvent:"select.search.matches"}),!0)})),lC=iC((function(e,t){var n=t.query,r=e.state,i=r.selection.main,o=i.from,s=i.to;if(r.readOnly)return!1;var a=n.nextMatch(r,o,o);if(!a)return!1;var l,c,u=[],h=[];if(a.from==o&&a.to==s&&(c=r.toText(n.getReplacement(a)),u.push({from:a.from,to:a.to,insert:c}),a=n.nextMatch(r,a.from,a.to),h.push(yE.announce.of(r.phrase("replaced match on line $",r.doc.lineAt(o).number)+"."))),a){var p=0==u.length||u[0].from>=a.to?0:a.to-a.from-c.length;l=c_.single(a.from-p,a.to-p),h.push(EC(e,a)),h.push(r.facet(HR).scrollToMatch(l.main,e))}return e.dispatch({changes:u,selection:l,effects:h,userEvent:"input.replace"}),!0})),cC=iC((function(e,t){var n=t.query;if(e.state.readOnly)return!1;var r=n.matchAll(e.state,1e9).map((function(e){return{from:e.from,to:e.to,insert:n.getReplacement(e)}}));if(!r.length)return!1;var i=e.state.phrase("replaced $ matches",r.length)+".";return e.dispatch({changes:r,effects:yE.announce.of(i),userEvent:"input.replace.all"}),!0}));function uC(e){return e.state.facet(HR).createPanel(e)}function hC(e,t){var n,r,i,o,s,a=e.selection.main,l=a.empty||a.to>a.from+100?"":e.sliceDoc(a.from,a.to);if(t&&!l)return t;var c=e.facet(HR);return new VR({search:(null!==(n=null===t||void 0===t?void 0:t.literal)&&void 0!==n?n:c.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:null!==(r=null===t||void 0===t?void 0:t.caseSensitive)&&void 0!==r?r:c.caseSensitive,literal:null!==(i=null===t||void 0===t?void 0:t.literal)&&void 0!==i?i:c.literal,regexp:null!==(o=null===t||void 0===t?void 0:t.regexp)&&void 0!==o?o:c.regexp,wholeWord:null!==(s=null===t||void 0===t?void 0:t.wholeWord)&&void 0!==s?s:c.wholeWord})}function pC(e){var t=Lb(e,uC);return t&&t.dom.querySelector("[main-field]")}function fC(e){var t=pC(e);t&&t==e.root.activeElement&&t.select()}var dC=function(e){var t=e.state.field($R,!1);if(t&&t.panel){var n=pC(e);if(n&&n!=e.root.activeElement){var r=hC(e.state,t.query.spec);r.valid&&e.dispatch({effects:QR.of(r)}),n.focus(),n.select()}}else e.dispatch({effects:[JR.of(!0),t?QR.of(hC(e.state,t.query.spec)):G_.appendConfig.of(OC)]});return!0},gC=function(e){var t=e.state.field($R,!1);if(!t||!t.panel)return!1;var n=Lb(e,uC);return n&&n.dom.contains(e.root.activeElement)&&e.focus(),e.dispatch({effects:JR.of(!1)}),!0},_C=[{key:"Mod-f",run:dC,scope:"editor search-panel"},{key:"F3",run:oC,shift:sC,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:oC,shift:sC,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:gC,scope:"editor search-panel"},{key:"Mod-Shift-l",run:function(e){var t=e.state,n=e.dispatch,r=t.selection;if(r.ranges.length>1||r.main.empty)return!1;for(var i=r.main,o=i.from,s=i.to,a=[],l=0,c=new bR(t.doc,t.sliceDoc(o,s));!c.next().done;){if(a.length>1e3)return!1;c.value.from==o&&(l=a.length),a.push(c_.range(c.value.from,c.value.to))}return n(t.update({selection:c_.create(a,l),userEvent:"select.search.matches"})),!0}},{key:"Alt-g",run:function(e){var t=Lb(e,xR);if(!t){var n=[AR.of(!0)];null==e.state.field(NR,!1)&&n.push(G_.appendConfig.of([NR,LR])),e.dispatch({effects:n}),t=Lb(e,xR)}return t&&t.dom.querySelector("input").select(),!0}},{key:"Mod-d",run:function(e){var t=e.state,n=e.dispatch,r=t.selection.ranges;if(r.some((function(e){return e.from===e.to})))return function(e){var t=e.state,n=e.dispatch,r=t.selection,i=c_.create(r.ranges.map((function(e){return t.wordAt(e.head)||c_.cursor(e.head)})),r.mainIndex);return!i.eq(r)&&(n(t.update({selection:i})),!0)}({state:t,dispatch:n});var i=t.sliceDoc(r[0].from,r[0].to);if(t.selection.ranges.some((function(e){return t.sliceDoc(e.from,e.to)!=i})))return!1;var o=function(e,t){for(var n,r=e.selection,i=r.main,o=r.ranges,s=e.wordAt(i.head),a=s&&s.from==i.from&&s.to==i.to,l=function(n,r){if(r.next(),!r.done){if(n&&o.some((function(e){return e.from==r.value.from})))return c=n,u=r,0;if(a){var i=e.wordAt(r.value.from);if(!i||i.from!=r.value.from||i.to!=r.value.to)return c=n,u=r,0}return{v:r.value}}if(n)return{v:null};r=new bR(e.doc,t,0,Math.max(0,o[o.length-1].from-1)),c=n=!0,u=r},c=!1,u=new bR(e.doc,t,o[o.length-1].to);;)if(0!==(n=l(c,u))&&n)return n.v}(t,i);return!!o&&(n(t.update({selection:t.selection.addRange(c_.range(o.from,o.to),!1),effects:yE.scrollIntoView(o.to)})),!0)},preventDefault:!0}],vC=function(){function e(t){var n=this;(0,z.Z)(this,e),this.view=t;var r=this.query=t.state.field($R).query.spec;function i(e,t,n){return yR("button",{class:"cm-button",name:e,onclick:t,type:"button"},n)}this.commit=this.commit.bind(this),this.searchField=yR("input",{value:r.search,placeholder:mC(t,"Find"),"aria-label":mC(t,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=yR("input",{value:r.replace,placeholder:mC(t,"Replace"),"aria-label":mC(t,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=yR("input",{type:"checkbox",name:"case",form:"",checked:r.caseSensitive,onchange:this.commit}),this.reField=yR("input",{type:"checkbox",name:"re",form:"",checked:r.regexp,onchange:this.commit}),this.wordField=yR("input",{type:"checkbox",name:"word",form:"",checked:r.wholeWord,onchange:this.commit}),this.dom=yR("div",{onkeydown:function(e){return n.keydown(e)},class:"cm-search"},[this.searchField,i("next",(function(){return oC(t)}),[mC(t,"next")]),i("prev",(function(){return sC(t)}),[mC(t,"previous")]),i("select",(function(){return aC(t)}),[mC(t,"all")]),yR("label",null,[this.caseField,mC(t,"match case")]),yR("label",null,[this.reField,mC(t,"regexp")]),yR("label",null,[this.wordField,mC(t,"by word")])].concat((0,W.Z)(t.state.readOnly?[]:[yR("br"),this.replaceField,i("replace",(function(){return lC(t)}),[mC(t,"replace")]),i("replaceAll",(function(){return cC(t)}),[mC(t,"replace all")])]),[yR("button",{name:"close",onclick:function(){return gC(t)},"aria-label":mC(t,"close"),type:"button"},["\xd7"])]))}return(0,Y.Z)(e,[{key:"commit",value:function(){var e=new VR({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:QR.of(e)}))}},{key:"keydown",value:function(e){var t,n,r;t=this.view,n=e,r="search-panel",NE(IE(t.state),n,t,r)?e.preventDefault():13==e.keyCode&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?sC:oC)(this.view)):13==e.keyCode&&e.target==this.replaceField&&(e.preventDefault(),lC(this.view))}},{key:"update",value:function(e){var t,n=(0,X.Z)(e.transactions);try{for(n.s();!(t=n.n()).done;){var r,i=t.value,o=(0,X.Z)(i.effects);try{for(o.s();!(r=o.n()).done;){var s=r.value;s.is(QR)&&!s.value.eq(this.query)&&this.setQuery(s.value)}}catch(a){o.e(a)}finally{o.f()}}}catch(a){n.e(a)}finally{n.f()}}},{key:"setQuery",value:function(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}},{key:"mount",value:function(){this.searchField.select()}},{key:"pos",get:function(){return 80}},{key:"top",get:function(){return this.view.state.facet(HR).top}}]),e}();function mC(e,t){return e.state.phrase(t)}var yC=30,TC=/[\s\.,:;?!]/;function EC(e,t){var n=t.from,r=t.to,i=e.state.doc.lineAt(n),o=e.state.doc.lineAt(r).to,s=Math.max(i.from,n-yC),a=Math.min(o,r+yC),l=e.state.sliceDoc(s,a);if(s!=i.from)for(var c=0;c<yC;c++)if(!TC.test(l[c+1])&&TC.test(l[c])){l=l.slice(c);break}if(a!=o)for(var u=l.length-1;u>l.length-yC;u--)if(!TC.test(l[u-1])&&TC.test(l[u])){l=l.slice(0,u);break}return yE.announce.of("".concat(e.state.phrase("current match"),". ").concat(l," ").concat(e.state.phrase("on line")," ").concat(i.number,"."))}var bC=yE.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),OC=[$R,S_.low(rC),bC],SC=function(){function e(t,n,r){(0,z.Z)(this,e),this.state=t,this.pos=n,this.explicit=r,this.abortListeners=[]}return(0,Y.Z)(e,[{key:"tokenBefore",value:function(e){for(var t=vS(this.state).resolveInner(this.pos,-1);t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}},{key:"matchBefore",value:function(e){var t=this.state.doc.lineAt(this.pos),n=Math.max(t.from,this.pos-250),r=t.text.slice(n-t.from,this.pos-t.from),i=r.search(xC(e,!1));return i<0?null:{from:n+i,to:this.pos,text:r.slice(i)}}},{key:"aborted",get:function(){return null==this.abortListeners}},{key:"addEventListener",value:function(e,t){"abort"==e&&this.abortListeners&&this.abortListeners.push(t)}}]),e}();function kC(e){var t=Object.keys(e).join(""),n=/\w/.test(t);return n&&(t=t.replace(/\w/g,"")),"[".concat(n?"\\w":"").concat(t.replace(/[^\w\s]/g,"\\$&"),"]")}function wC(e){var t=e.map((function(e){return"string"==typeof e?{label:e}:e})),n=t.every((function(e){return/^\w+$/.test(e.label)}))?[/\w*$/,/\w+$/]:function(e){var t,n=Object.create(null),r=Object.create(null),i=(0,X.Z)(e);try{for(i.s();!(t=i.n()).done;){var o=t.value.label;n[o[0]]=!0;for(var s=1;s<o.length;s++)r[o[s]]=!0}}catch(l){i.e(l)}finally{i.f()}var a=kC(n)+kC(r)+"*$";return[new RegExp("^"+a),new RegExp(a)]}(t),r=a(n,2),i=r[0],o=r[1];return function(e){var n=e.matchBefore(o);return n||e.explicit?{from:n?n.from:e.pos,options:t,validFor:i}:null}}function RC(e,t){return function(n){for(var r=vS(n.state).resolveInner(n.pos,-1);r;r=r.parent){if(e.indexOf(r.name)>-1)return null;if(r.type.isTop)break}return t(n)}}var CC=(0,Y.Z)((function e(t,n,r,i){(0,z.Z)(this,e),this.completion=t,this.source=n,this.match=r,this.score=i}));function IC(e){return e.selection.main.from}function xC(e,t){var n,r=e.source,i=t&&"^"!=r[0],o="$"!=r[r.length-1];return i||o?new RegExp("".concat(i?"^":"","(?:").concat(r,")").concat(o?"$":""),null!==(n=e.flags)&&void 0!==n?n:e.ignoreCase?"i":""):e}var AC=F_.define();var NC=new WeakMap;function LC(e){if(!Array.isArray(e))return e;var t=NC.get(e);return t||NC.set(e,t=wC(e)),t}var MC=G_.define(),DC=G_.define(),PC=function(){function e(t){(0,z.Z)(this,e),this.pattern=t,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(var n=0;n<t.length;){var r=qg(t,n),i=Qg(r);this.chars.push(r);var o=t.slice(n,n+i),s=o.toUpperCase();this.folded.push(qg(s==o?o.toLowerCase():s,0)),n+=i}this.astral=t.length!=this.chars.length}return(0,Y.Z)(e,[{key:"ret",value:function(e,t){return this.score=e,this.matched=t,!0}},{key:"match",value:function(e){if(0==this.pattern.length)return this.ret(-100,[]);if(e.length<this.pattern.length)return!1;var t=this.chars,n=this.folded,r=this.any,i=this.precise,o=this.byWord;if(1==t.length){var s=qg(e,0),a=Qg(s),l=a==e.length?0:-100;if(s==t[0]);else{if(s!=n[0])return!1;l+=-200}return this.ret(l,[0,a])}var c=e.indexOf(this.pattern);if(0==c)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);var u=t.length,h=0;if(c<0){for(var p=0,f=Math.min(e.length,200);p<f&&h<u;){var d=qg(e,p);d!=t[h]&&d!=n[h]||(r[h++]=p),p+=Qg(d)}if(h<u)return!1}for(var g=0,_=0,v=!1,m=0,y=-1,T=-1,E=/[a-z]/.test(e),b=!0,O=0,S=Math.min(e.length,200),k=0;O<S&&_<u;){var w=qg(e,O);c<0&&(g<u&&w==t[g]&&(i[g++]=O),m<u&&(w==t[m]||w==n[m]?(0==m&&(y=O),T=O+1,m++):m=0));var R=void 0,C=w<255?w>=48&&w<=57||w>=97&&w<=122?2:w>=65&&w<=90?1:0:(R=Kg(w))!=R.toLowerCase()?1:R!=R.toUpperCase()?2:0;(!O||1==C&&E||0==k&&0!=C)&&(t[_]==w||n[_]==w&&(v=!0)?o[_++]=O:o.length&&(b=!1)),k=C,O+=Qg(w)}return _==u&&0==o[0]&&b?this.result((v?-200:0)-100,o,e):m==u&&0==y?this.ret(-200-e.length+(T==e.length?0:-100),[0,T]):c>-1?this.ret(-700-e.length,[c,c+this.pattern.length]):m==u?this.ret(-900-e.length,[y,T]):_==u?this.result((v?-200:0)-100-700+(b?0:-1100),o,e):2!=t.length&&this.result((r[0]?-700:0)-200-1100,r,e)}},{key:"result",value:function(e,t,n){var r,i=[],o=0,s=(0,X.Z)(t);try{for(s.s();!(r=s.n()).done;){var a=r.value,l=a+(this.astral?Qg(qg(n,a)):1);o&&i[o-1]==a?i[o-1]=l:(i[o++]=a,i[o++]=l)}}catch(c){s.e(c)}finally{s.f()}return this.ret(e-n.length,i)}}]),e}(),BC=p_.define({combine:function(e){return ev(e,{activateOnTyping:!0,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:function(){return""},optionClass:function(){return""},aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:UC,compareCompletions:function(e,t){return e.label.localeCompare(t.label)},interactionDelay:75,updateSyncTime:100},{defaultKeymap:function(e,t){return e&&t},closeOnBlur:function(e,t){return e&&t},icons:function(e,t){return e&&t},tooltipClass:function(e,t){return function(n){return FC(e(n),t(n))}},optionClass:function(e,t){return function(n){return FC(e(n),t(n))}},addToOptions:function(e,t){return e.concat(t)}})}});function FC(e,t){return e?t?e+" "+t:e:t}function UC(e,t,n,r,i,o){var s,a,l=e.textDirection==fy.RTL,c=l,u=!1,h="top",p=t.left-i.left,f=i.right-t.right,d=r.right-r.left,g=r.bottom-r.top;if(c&&p<Math.min(d,f)?c=!1:!c&&f<Math.min(d,p)&&(c=!0),d<=(c?p:f))s=Math.max(i.top,Math.min(n.top,i.bottom-g))-t.top,a=Math.min(400,c?p:f);else{u=!0,a=Math.min(400,(l?t.right:i.right-t.left)-30);var _=i.bottom-t.bottom;_>=g||_>t.top?s=n.bottom-t.top:(h="bottom",s=t.bottom-n.top)}var v=(t.bottom-t.top)/o.offsetHeight,m=(t.right-t.left)/o.offsetWidth;return{style:"".concat(h,": ").concat(s/v,"px; max-width: ").concat(a/m,"px"),class:"cm-completionInfo-"+(u?l?"left-narrow":"right-narrow":c?"left":"right")}}function ZC(e,t,n){if(e<=n)return{from:0,to:e};if(t<0&&(t=0),t<=e>>1){var r=Math.floor(t/n);return{from:r*n,to:(r+1)*n}}var i=Math.floor((e-t)/n);return{from:e-(i+1)*n,to:e-i*n}}var GC=function(){function e(t,n,r){var i=this;(0,z.Z)(this,e),this.view=t,this.stateField=n,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:function(){return i.measureInfo()},write:function(e){return i.placeInfo(e)},key:this},this.space=null,this.currentClass="";var o=t.state.field(n),s=o.open,a=s.options,l=s.selected,c=t.state.facet(BC);this.optionContent=function(e){var t=e.addToOptions.slice();return e.icons&&t.push({render:function(e){var t,n=document.createElement("div");return n.classList.add("cm-completionIcon"),e.type&&(t=n.classList).add.apply(t,(0,W.Z)(e.type.split(/\s+/g).map((function(e){return"cm-completionIcon-"+e})))),n.setAttribute("aria-hidden","true"),n},position:20}),t.push({render:function(e,t,n){var r=document.createElement("span");r.className="cm-completionLabel";for(var i=e.displayLabel||e.label,o=0,s=0;s<n.length;){var a=n[s++],l=n[s++];a>o&&r.appendChild(document.createTextNode(i.slice(o,a)));var c=r.appendChild(document.createElement("span"));c.appendChild(document.createTextNode(i.slice(a,l))),c.className="cm-completionMatchedText",o=l}return o<i.length&&r.appendChild(document.createTextNode(i.slice(o))),r},position:50},{render:function(e){if(!e.detail)return null;var t=document.createElement("span");return t.className="cm-completionDetail",t.textContent=e.detail,t},position:80}),t.sort((function(e,t){return e.position-t.position})).map((function(e){return e.render}))}(c),this.optionClass=c.optionClass,this.tooltipClass=c.tooltipClass,this.range=ZC(a.length,l,c.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(t.state),this.dom.addEventListener("mousedown",(function(e){for(var r,o=t.state.field(n).open.options,s=e.target;s&&s!=i.dom;s=s.parentNode)if("LI"==s.nodeName&&(r=/-(\d+)$/.exec(s.id))&&+r[1]<o.length)return i.applyCompletion(t,o[+r[1]]),void e.preventDefault()})),this.dom.addEventListener("focusout",(function(e){var n=t.state.field(i.stateField,!1);n&&n.tooltip&&t.state.facet(BC).closeOnBlur&&e.relatedTarget!=t.contentDOM&&t.dispatch({effects:DC.of(null)})})),this.showOptions(a,o.id)}return(0,Y.Z)(e,[{key:"mount",value:function(){this.updateSel()}},{key:"showOptions",value:function(e,t){var n=this;this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,t,this.range)),this.list.addEventListener("scroll",(function(){n.info&&n.view.requestMeasure(n.placeInfoReq)}))}},{key:"update",value:function(e){var t,n=e.state.field(this.stateField),r=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),n!=r){var i=n.open,o=i.options,s=i.selected,a=i.disabled;r.open&&r.open.options==o||(this.range=ZC(o.length,s,e.state.facet(BC).maxRenderedOptions),this.showOptions(o,n.id)),this.updateSel(),a!=(null===(t=r.open)||void 0===t?void 0:t.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!a)}}},{key:"updateTooltipClass",value:function(e){var t=this.tooltipClass(e);if(t!=this.currentClass){var n,r=(0,X.Z)(this.currentClass.split(" "));try{for(r.s();!(n=r.n()).done;){var i=n.value;i&&this.dom.classList.remove(i)}}catch(l){r.e(l)}finally{r.f()}var o,s=(0,X.Z)(t.split(" "));try{for(s.s();!(o=s.n()).done;){var a=o.value;a&&this.dom.classList.add(a)}}catch(l){s.e(l)}finally{s.f()}this.currentClass=t}}},{key:"positioned",value:function(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}},{key:"updateSel",value:function(){var e=this,t=this.view.state.field(this.stateField),n=t.open;if((n.selected>-1&&n.selected<this.range.from||n.selected>=this.range.to)&&(this.range=ZC(n.options.length,n.selected,this.view.state.facet(BC).maxRenderedOptions),this.showOptions(n.options,t.id)),this.updateSelectedOption(n.selected)){this.destroyInfo();var r=n.options[n.selected].completion,i=r.info;if(!i)return;var o="string"===typeof i?document.createTextNode(i):i(r);if(!o)return;"then"in o?o.then((function(n){n&&e.view.state.field(e.stateField,!1)==t&&e.addInfoPane(n,r)})).catch((function(t){return Km(e.view.state,t,"completion info")})):this.addInfoPane(o,r)}}},{key:"addInfoPane",value:function(e,t){this.destroyInfo();var n=this.info=document.createElement("div");if(n.className="cm-tooltip cm-completionInfo",null!=e.nodeType)n.appendChild(e),this.infoDestroy=null;else{var r=e.dom,i=e.destroy;n.appendChild(r),this.infoDestroy=i||null}this.dom.appendChild(n),this.view.requestMeasure(this.placeInfoReq)}},{key:"updateSelectedOption",value:function(e){for(var t=null,n=this.list.firstChild,r=this.range.from;n;n=n.nextSibling,r++)"LI"==n.nodeName&&n.id?r==e?n.hasAttribute("aria-selected")||(n.setAttribute("aria-selected","true"),t=n):n.hasAttribute("aria-selected")&&n.removeAttribute("aria-selected"):r--;return t&&function(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i=n.height/e.offsetHeight;r.top<n.top?e.scrollTop-=(n.top-r.top)/i:r.bottom>n.bottom&&(e.scrollTop+=(r.bottom-n.bottom)/i)}(this.list,t),t}},{key:"measureInfo",value:function(){var e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;var t=this.dom.getBoundingClientRect(),n=this.info.getBoundingClientRect(),r=e.getBoundingClientRect(),i=this.space;if(!i){var o=this.dom.ownerDocument.defaultView||window;i={left:0,top:0,right:o.innerWidth,bottom:o.innerHeight}}return r.top>Math.min(i.bottom,t.bottom)-10||r.bottom<Math.max(i.top,t.top)+10?null:this.view.state.facet(BC).positionInfo(this.view,t,r,n,i,this.dom)}},{key:"placeInfo",value:function(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}},{key:"createListBox",value:function(e,t,n){var r=document.createElement("ul");r.id=t,r.setAttribute("role","listbox"),r.setAttribute("aria-expanded","true"),r.setAttribute("aria-label",this.view.state.phrase("Completions"));for(var i=null,o=n.from;o<n.to;o++){var s=e[o],a=s.completion,l=s.match,c=a.section;if(c){var u="string"==typeof c?c:c.name;if(u!=i&&(o>n.from||0==n.from))if(i=u,"string"!=typeof c&&c.header)r.appendChild(c.header(c));else r.appendChild(document.createElement("completion-section")).textContent=u}var h=r.appendChild(document.createElement("li"));h.id=t+"-"+o,h.setAttribute("role","option");var p=this.optionClass(a);p&&(h.className=p);var f,d=(0,X.Z)(this.optionContent);try{for(d.s();!(f=d.n()).done;){var g=(0,f.value)(a,this.view.state,l);g&&h.appendChild(g)}}catch(_){d.e(_)}finally{d.f()}}return n.from&&r.classList.add("cm-completionListIncompleteTop"),n.to<e.length&&r.classList.add("cm-completionListIncompleteBottom"),r}},{key:"destroyInfo",value:function(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}},{key:"destroy",value:function(){this.destroyInfo()}}]),e}();function HC(e,t){return function(n){return new GC(n,e,t)}}function VC(e){return 100*(e.boost||0)+(e.apply?10:0)+(e.info?5:0)+(e.type?1:0)}var jC=function(){function e(t,n,r,i,o,s){(0,z.Z)(this,e),this.options=t,this.attrs=n,this.tooltip=r,this.timestamp=i,this.selected=o,this.disabled=s}return(0,Y.Z)(e,[{key:"setSelected",value:function(t,n){return t==this.selected||t>=this.options.length?this:new e(this.options,zC(n,t),this.tooltip,this.timestamp,t,this.disabled)}},{key:"map",value:function(t){return new e(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:t.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}],[{key:"build",value:function(t,n,r,i,o){var s=function(e,t){var n,r=[],i=null,o=function(e){r.push(e);var t=e.completion.section;if(t){i||(i=[]);var n="string"==typeof t?t:t.name;i.some((function(e){return e.name==n}))||i.push("string"==typeof t?{name:n}:t)}},s=(0,X.Z)(e);try{for(s.s();!(n=s.n()).done;){var a=n.value;if(a.hasResult()){var l=a.result.getMatch;if(!1===a.result.filter){var c,u=(0,X.Z)(a.result.options);try{for(u.s();!(c=u.n()).done;){var h=c.value;o(new CC(h,a.source,l?l(h):[],1e9-r.length))}}catch(L){u.e(L)}finally{u.f()}}else{var p,f=new PC(t.sliceDoc(a.from,a.to)),d=(0,X.Z)(a.result.options);try{for(d.s();!(p=d.n()).done;){var g=p.value;if(f.match(g.label)){var _=g.displayLabel?l?l(g,f.matched):[]:f.matched;o(new CC(g,a.source,_,f.score+(g.boost||0)))}}}catch(L){d.e(L)}finally{d.f()}}}}}catch(L){s.e(L)}finally{s.f()}if(i){var v,m=Object.create(null),y=0,T=(0,X.Z)(i.sort((function(e,t){var n,r;return(null!==(n=e.rank)&&void 0!==n?n:1e9)-(null!==(r=t.rank)&&void 0!==r?r:1e9)||(e.name<t.name?-1:1)})));try{for(T.s();!(v=T.n()).done;){var E=v.value;y-=1e5,m[E.name]=y}}catch(L){T.e(L)}finally{T.f()}var b,O=(0,X.Z)(r);try{for(O.s();!(b=O.n()).done;){var S=b.value,k=S.completion.section;k&&(S.score+=m["string"==typeof k?k:k.name])}}catch(L){O.e(L)}finally{O.f()}}var w,R=[],C=null,I=t.facet(BC).compareCompletions,x=(0,X.Z)(r.sort((function(e,t){return t.score-e.score||I(e.completion,t.completion)})));try{for(x.s();!(w=x.n()).done;){var A=w.value,N=A.completion;!C||C.label!=N.label||C.detail!=N.detail||null!=C.type&&null!=N.type&&C.type!=N.type||C.apply!=N.apply||C.boost!=N.boost?R.push(A):VC(A.completion)>VC(C)&&(R[R.length-1]=A),C=A.completion}}catch(L){x.e(L)}finally{x.f()}return R}(t,n);if(!s.length)return i&&t.some((function(e){return 1==e.state}))?new e(i.options,i.attrs,i.tooltip,i.timestamp,i.selected,!0):null;var a=n.facet(BC).selectOnOpen?0:-1;if(i&&i.selected!=a&&-1!=i.selected)for(var l=i.options[i.selected].completion,c=0;c<s.length;c++)if(s[c].completion==l){a=c;break}return new e(s,zC(r,a),{pos:t.reduce((function(e,t){return t.hasResult()?Math.min(e,t.from):e}),1e8),create:nI,above:o.aboveCursor},i?i.timestamp:Date.now(),a,!1)}}]),e}(),WC=function(){function e(t,n,r){(0,z.Z)(this,e),this.active=t,this.id=n,this.open=r}return(0,Y.Z)(e,[{key:"update",value:function(t){var n=this,r=t.state,i=r.facet(BC),o=(i.override||r.languageDataAt("autocomplete",IC(r)).map(LC)).map((function(e){var r=n.active.find((function(t){return t.source==e}))||new KC(e,n.active.some((function(e){return 0!=e.state}))?1:0);return r.update(t,i)}));o.length==this.active.length&&o.every((function(e,t){return e==n.active[t]}))&&(o=this.active);var s=this.open;s&&t.docChanged&&(s=s.map(t.changes)),t.selection||o.some((function(e){return e.hasResult()&&t.changes.touchesRange(e.from,e.to)}))||!function(e,t){if(e==t)return!0;for(var n=0,r=0;;){for(;n<e.length&&!e[n].hasResult;)n++;for(;r<t.length&&!t[r].hasResult;)r++;var i=n==e.length,o=r==t.length;if(i||o)return i==o;if(e[n++].result!=t[r++].result)return!1}}(o,this.active)?s=jC.build(o,r,this.id,s,i):s&&s.disabled&&!o.some((function(e){return 1==e.state}))&&(s=null),!s&&o.every((function(e){return 1!=e.state}))&&o.some((function(e){return e.hasResult()}))&&(o=o.map((function(e){return e.hasResult()?new KC(e.source,0):e})));var a,l=(0,X.Z)(t.effects);try{for(l.s();!(a=l.n()).done;){var c=a.value;c.is($C)&&(s=s&&s.setSelected(c.value,this.id))}}catch(u){l.e(u)}finally{l.f()}return o==this.active&&s==this.open?this:new e(o,this.id,s)}},{key:"tooltip",get:function(){return this.open?this.open.tooltip:null}},{key:"attrs",get:function(){return this.open?this.open.attrs:XC}}],[{key:"start",value:function(){return new e(YC,"cm-ac-"+Math.floor(2e6*Math.random()).toString(36),null)}}]),e}();var XC={"aria-autocomplete":"list"};function zC(e,t){var n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":e};return t>-1&&(n["aria-activedescendant"]=e+"-"+t),n}var YC=[];function qC(e){return e.isUserEvent("input.type")?"input":e.isUserEvent("delete.backward")?"delete":null}var KC=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;(0,z.Z)(this,e),this.source=t,this.state=n,this.explicitPos=r}return(0,Y.Z)(e,[{key:"hasResult",value:function(){return!1}},{key:"update",value:function(t,n){var r=qC(t),i=this;r?i=i.handleUserEvent(t,r,n):t.docChanged?i=i.handleChange(t):t.selection&&0!=i.state&&(i=new e(i.source,0));var o,s=(0,X.Z)(t.effects);try{for(s.s();!(o=s.n()).done;){var a=o.value;if(a.is(MC))i=new e(i.source,1,a.value?IC(t.state):-1);else if(a.is(DC))i=new e(i.source,0);else if(a.is(JC)){var l,c=(0,X.Z)(a.value);try{for(c.s();!(l=c.n()).done;){var u=l.value;u.source==i.source&&(i=u)}}catch(h){c.e(h)}finally{c.f()}}}}catch(h){s.e(h)}finally{s.f()}return i}},{key:"handleUserEvent",value:function(t,n,r){return"delete"!=n&&r.activateOnTyping?new e(this.source,1):this.map(t.changes)}},{key:"handleChange",value:function(t){return t.changes.touchesRange(IC(t.startState))?new e(this.source,0):this.map(t.changes)}},{key:"map",value:function(t){return t.empty||this.explicitPos<0?this:new e(this.source,this.state,t.mapPos(this.explicitPos))}}]),e}(),QC=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e,r,i,o,s){var a;return(0,z.Z)(this,n),(a=t.call(this,e,2,r)).result=i,a.from=o,a.to=s,a}return(0,Y.Z)(n,[{key:"hasResult",value:function(){return!0}},{key:"handleUserEvent",value:function(e,t,r){var i,o=e.changes.mapPos(this.from),s=e.changes.mapPos(this.to,1),a=IC(e.state);if((this.explicitPos<0?a<=o:a<this.from)||a>s||"delete"==t&&IC(e.startState)==this.from)return new KC(this.source,"input"==t&&r.activateOnTyping?1:0);var l,c=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos);return function(e,t,n,r){if(!e)return!1;var i=t.sliceDoc(n,r);return"function"==typeof e?e(i,n,r,t):xC(e,!0).test(i)}(this.result.validFor,e.state,o,s)?new n(this.source,c,this.result,o,s):this.result.update&&(l=this.result.update(this.result,o,s,new SC(e.state,a,c>=0)))?new n(this.source,c,l,l.from,null!==(i=l.to)&&void 0!==i?i:IC(e.state)):new KC(this.source,1,c)}},{key:"handleChange",value:function(e){return e.changes.touchesRange(this.from,this.to)?new KC(this.source,0):this.map(e.changes)}},{key:"map",value:function(e){return e.empty?this:new n(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1))}}]),n}(KC);var JC=G_.define({map:function(e,t){return e.map((function(e){return e.map(t)}))}}),$C=G_.define(),eI=m_.define({create:function(){return WC.start()},update:function(e,t){return e.update(t)},provide:function(e){return[Ob.from(e,(function(e){return e.tooltip})),yE.contentAttributes.from(e,(function(e){return e.attrs}))]}});function tI(e,t){var n=t.completion.apply||t.completion.label,r=e.state.field(eI).active.find((function(e){return e.source==t.source}));return r instanceof QC&&("string"==typeof n?e.dispatch(Object.assign(Object.assign({},function(e,t,n,r){var i=e.selection.main,o=n-i.from,s=r-i.from;return Object.assign(Object.assign({},e.changeByRange((function(a){return a!=i&&n!=r&&e.sliceDoc(a.from+o,a.from+s)!=e.sliceDoc(n,r)?{range:a}:{changes:{from:a.from+o,to:r==i.from?a.to:a.from+s,insert:t},range:c_.cursor(a.from+o+t.length)}}))),{scrollIntoView:!0,userEvent:"input.complete"})}(e.state,n,r.from,r.to)),{annotations:AC.of(t.completion)})):n(e,t.completion,r.from,r.to),!0)}var nI=HC(eI,tI);function rI(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"option";return function(n){var r=n.state.field(eI,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<n.state.facet(BC).interactionDelay)return!1;var i,o=1;"page"==t&&(i=xb(n,r.open.tooltip))&&(o=Math.max(2,Math.floor(i.dom.offsetHeight/i.dom.querySelector("li").offsetHeight)-1));var s=r.open.options.length,a=r.open.selected>-1?r.open.selected+o*(e?1:-1):e?0:s-1;return a<0?a="page"==t?0:s-1:a>=s&&(a="page"==t?s-1:0),n.dispatch({effects:$C.of(a)}),!0}}var iI=(0,Y.Z)((function e(t,n){(0,z.Z)(this,e),this.active=t,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0})),oI=ey.fromClass(function(){function e(t){(0,z.Z)(this,e),this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;var n,r=(0,X.Z)(t.state.field(eI).active);try{for(r.s();!(n=r.n()).done;){var i=n.value;1==i.state&&this.startQuery(i)}}catch(o){r.e(o)}finally{r.f()}}return(0,Y.Z)(e,[{key:"update",value:function(e){var t=this,n=e.state.field(eI);if(e.selectionSet||e.docChanged||e.startState.field(eI)!=n){for(var r=e.transactions.some((function(e){return(e.selection||e.docChanged)&&!qC(e)})),i=0;i<this.running.length;i++){var o=this.running[i];if(r||o.updates.length+e.transactions.length>50&&Date.now()-o.time>1e3){var s,a=(0,X.Z)(o.context.abortListeners);try{for(a.s();!(s=a.n()).done;){var l=s.value;try{l()}catch(f){Km(this.view.state,f)}}}catch(d){a.e(d)}finally{a.f()}o.context.abortListeners=null,this.running.splice(i--,1)}else{var c;(c=o.updates).push.apply(c,(0,W.Z)(e.transactions))}}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=n.active.some((function(e){return 1==e.state&&!t.running.some((function(t){return t.active.source==e.source}))}))?setTimeout((function(){return t.startUpdate()}),50):-1,0!=this.composing){var u,h=(0,X.Z)(e.transactions);try{for(h.s();!(u=h.n()).done;){var p=u.value;"input"==qC(p)?this.composing=2:2==this.composing&&p.selection&&(this.composing=3)}}catch(d){h.e(d)}finally{h.f()}}}}},{key:"startUpdate",value:function(){var e=this;this.debounceUpdate=-1;var t,n=this.view.state.field(eI),r=(0,X.Z)(n.active);try{var i=function(){var n=t.value;1!=n.state||e.running.some((function(e){return e.active.source==n.source}))||e.startQuery(n)};for(r.s();!(t=r.n()).done;)i()}catch(o){r.e(o)}finally{r.f()}}},{key:"startQuery",value:function(e){var t=this,n=this.view.state,r=IC(n),i=new SC(n,r,e.explicitPos==r),o=new iI(e,i);this.running.push(o),Promise.resolve(e.source(i)).then((function(e){o.context.aborted||(o.done=e||null,t.scheduleAccept())}),(function(e){t.view.dispatch({effects:DC.of(null)}),Km(t.view.state,e)}))}},{key:"scheduleAccept",value:function(){var e=this;this.running.every((function(e){return void 0!==e.done}))?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout((function(){return e.accept()}),this.view.state.facet(BC).updateSyncTime))}},{key:"accept",value:function(){var e,t=this;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;for(var n=[],r=this.view.state.facet(BC),i=function(i){var s=t.running[i];if(void 0===s.done)return o=i,0;if(t.running.splice(i--,1),s.done){var a,l=new QC(s.active.source,s.active.explicitPos,s.done,s.done.from,null!==(e=s.done.to)&&void 0!==e?e:IC(s.updates.length?s.updates[0].startState:t.view.state)),c=(0,X.Z)(s.updates);try{for(c.s();!(a=c.n()).done;){var u=a.value;l=l.update(u,r)}}catch(_){c.e(_)}finally{c.f()}if(l.hasResult())return n.push(l),o=i,0}var h=t.view.state.field(eI).active.find((function(e){return e.source==s.active.source}));if(h&&1==h.state)if(null==s.done){var p,f=new KC(s.active.source,0),d=(0,X.Z)(s.updates);try{for(d.s();!(p=d.n()).done;){var g=p.value;f=f.update(g,r)}}catch(_){d.e(_)}finally{d.f()}1!=f.state&&n.push(f)}else t.startQuery(h);o=i},o=0;o<this.running.length;o++)i(o);n.length&&this.view.dispatch({effects:JC.of(n)})}}]),e}(),{eventHandlers:{blur:function(e){var t=this.view.state.field(eI,!1);if(t&&t.tooltip&&this.view.state.facet(BC).closeOnBlur){var n=t.open&&xb(this.view,t.open.tooltip);n&&n.dom.contains(e.relatedTarget)||this.view.dispatch({effects:DC.of(null)})}},compositionstart:function(){this.composing=1},compositionend:function(){var e=this;3==this.composing&&setTimeout((function(){return e.view.dispatch({effects:MC.of(!1)})}),20),this.composing=0}}}),sI=yE.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"\xb7\xb7\xb7"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"".concat(400,"px"),boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"".concat(30,"px")},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"".concat(30,"px")},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'\u0192'"}},".cm-completionIcon-class":{"&:after":{content:"'\u25cb'"}},".cm-completionIcon-interface":{"&:after":{content:"'\u25cc'"}},".cm-completionIcon-variable":{"&:after":{content:"'\ud835\udc65'"}},".cm-completionIcon-constant":{"&:after":{content:"'\ud835\udc36'"}},".cm-completionIcon-type":{"&:after":{content:"'\ud835\udc61'"}},".cm-completionIcon-enum":{"&:after":{content:"'\u222a'"}},".cm-completionIcon-property":{"&:after":{content:"'\u25a1'"}},".cm-completionIcon-keyword":{"&:after":{content:"'\ud83d\udd11\ufe0e'"}},".cm-completionIcon-namespace":{"&:after":{content:"'\u25a2'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),aI=(0,Y.Z)((function e(t,n,r,i){(0,z.Z)(this,e),this.field=t,this.line=n,this.from=r,this.to=i})),lI=function(){function e(t,n,r){(0,z.Z)(this,e),this.field=t,this.from=n,this.to=r}return(0,Y.Z)(e,[{key:"map",value:function(t){var n=t.mapPos(this.from,-1,$g.TrackDel),r=t.mapPos(this.to,1,$g.TrackDel);return null==n||null==r?null:new e(this.field,n,r)}}]),e}(),cI=function(){function e(t,n){(0,z.Z)(this,e),this.lines=t,this.fieldPositions=n}return(0,Y.Z)(e,[{key:"instantiate",value:function(e,t){var n,r=[],i=[t],o=e.doc.lineAt(t),s=/^\s*/.exec(o.text)[0],a=(0,X.Z)(this.lines);try{for(a.s();!(n=a.n()).done;){var l=n.value;if(r.length){for(var c=s,u=/^\t*/.exec(l)[0].length,h=0;h<u;h++)c+=e.facet(IS);i.push(t+c.length-u),l=c+l.slice(u)}r.push(l),t+=l.length+1}}catch(f){a.e(f)}finally{a.f()}var p=this.fieldPositions.map((function(e){return new lI(e.field,i[e.line]+e.from,i[e.line]+e.to)}));return{text:r,ranges:p}}}],[{key:"parse",value:function(t){var n,r,i=[],o=[],s=[],a=(0,X.Z)(t.split(/\r\n?|\n/));try{for(a.s();!(r=a.n()).done;){for(var l,c=r.value;n=/[#$]\{(?:(\d+)(?::([^}]*))?|([^}]*))\}/.exec(c);){for(var u=n[1]?+n[1]:null,h=n[2]||n[3]||"",p=-1,f=0;f<i.length;f++)(null!=u?i[f].seq==u:h&&i[f].name==h)&&(p=f);if(p<0){for(var d=0;d<i.length&&(null==u||null!=i[d].seq&&i[d].seq<u);)d++;i.splice(d,0,{seq:u,name:h}),p=d;var g,_=(0,X.Z)(s);try{for(_.s();!(g=_.n()).done;){var v=g.value;v.field>=p&&v.field++}}catch(E){_.e(E)}finally{_.f()}}s.push(new aI(p,o.length,n.index,n.index+h.length)),c=c.slice(0,n.index)+h+c.slice(n.index+n[0].length)}for(;l=/\\([{}])/.exec(c);){c=c.slice(0,l.index)+l[1]+c.slice(l.index+l[0].length);var m,y=(0,X.Z)(s);try{for(y.s();!(m=y.n()).done;){var T=m.value;T.line==o.length&&T.from>l.index&&(T.from--,T.to--)}}catch(E){y.e(E)}finally{y.f()}}o.push(c)}}catch(E){a.e(E)}finally{a.f()}return new e(o,s)}}]),e}(),uI=xm.widget({widget:new(function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(){return(0,z.Z)(this,n),t.apply(this,arguments)}return(0,Y.Z)(n,[{key:"toDOM",value:function(){var e=document.createElement("span");return e.className="cm-snippetFieldPosition",e}},{key:"ignoreEvent",value:function(){return!1}}]),n}(Cm))}),hI=xm.mark({class:"cm-snippetField"}),pI=function(){function e(t,n){(0,z.Z)(this,e),this.ranges=t,this.active=n,this.deco=xm.set(t.map((function(e){return(e.from==e.to?uI:hI).range(e.from,e.to)})))}return(0,Y.Z)(e,[{key:"map",value:function(t){var n,r=[],i=(0,X.Z)(this.ranges);try{for(i.s();!(n=i.n()).done;){var o=n.value.map(t);if(!o)return null;r.push(o)}}catch(s){i.e(s)}finally{i.f()}return new e(r,this.active)}},{key:"selectionInsideField",value:function(e){var t=this;return e.ranges.every((function(e){return t.ranges.some((function(n){return n.field==t.active&&n.from<=e.from&&n.to>=e.to}))}))}}]),e}(),fI=G_.define({map:function(e,t){return e&&e.map(t)}}),dI=G_.define(),gI=m_.define({create:function(){return null},update:function(e,t){var n,r=(0,X.Z)(t.effects);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.is(fI))return i.value;if(i.is(dI)&&e)return new pI(e.ranges,i.value)}}catch(o){r.e(o)}finally{r.f()}return e&&t.docChanged&&(e=e.map(t.changes)),e&&t.selection&&!e.selectionInsideField(t.selection)&&(e=null),e},provide:function(e){return yE.decorations.from(e,(function(e){return e?e.deco:xm.none}))}});function _I(e,t){return c_.create(e.filter((function(e){return e.field==t})).map((function(e){return c_.range(e.from,e.to)})))}function vI(e){var t=cI.parse(e);return function(e,n,r,i){var o=t.instantiate(e.state,r),s=o.text,a=o.ranges,l={changes:{from:r,to:i,insert:xg.of(s)},scrollIntoView:!0,annotations:n?AC.of(n):void 0};if(a.length&&(l.selection=_I(a,0)),a.length>1){var c=new pI(a,0),u=l.effects=[fI.of(c)];void 0===e.state.field(gI,!1)&&u.push(G_.appendConfig.of([gI,EI,OI,sI]))}e.dispatch(e.state.update(l))}}function mI(e){return function(t){var n=t.state,r=t.dispatch,i=n.field(gI,!1);if(!i||e<0&&0==i.active)return!1;var o=i.active+e,s=e>0&&!i.ranges.some((function(t){return t.field==o+e}));return r(n.update({selection:_I(i.ranges,o),effects:fI.of(s?null:new pI(i.ranges,o)),scrollIntoView:!0})),!0}}var yI=[{key:"Tab",run:mI(1),shift:mI(-1)},{key:"Escape",run:function(e){var t=e.state,n=e.dispatch;return!!t.field(gI,!1)&&(n(t.update({effects:fI.of(null)})),!0)}}],TI=p_.define({combine:function(e){return e.length?e[0]:yI}}),EI=S_.highest(RE.compute([TI],(function(e){return e.facet(TI)})));function bI(e,t){return Object.assign(Object.assign({},t),{apply:vI(e)})}var OI=yE.domEventHandlers({mousedown:function(e,t){var n,r=t.state.field(gI,!1);if(!r||null==(n=t.posAtCoords({x:e.clientX,y:e.clientY})))return!1;var i=r.ranges.find((function(e){return e.from<=n&&e.to>=n}));return!(!i||i.field==r.active)&&(t.dispatch({selection:_I(r.ranges,i.field),effects:fI.of(r.ranges.some((function(e){return e.field>i.field}))?new pI(r.ranges,i.field):null),scrollIntoView:!0}),!0)}});var SI={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},kI=G_.define({map:function(e,t){var n=t.mapPos(e,-1,$g.TrackAfter);return null==n?void 0:n}}),wI=new(function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(){return(0,z.Z)(this,n),t.apply(this,arguments)}return(0,Y.Z)(n)}(tv));wI.startSide=1,wI.endSide=-1;var RI=m_.define({create:function(){return ov.empty},update:function(e,t){if(t.selection){var n=t.state.doc.lineAt(t.selection.main.head).from,r=t.startState.doc.lineAt(t.startState.selection.main.head).from;n!=t.changes.mapPos(r,-1)&&(e=ov.empty)}e=e.map(t.changes);var i,o=(0,X.Z)(t.effects);try{for(o.s();!(i=o.n()).done;){var s=i.value;s.is(kI)&&(e=e.update({add:[wI.range(s.value,s.value+1)]}))}}catch(a){o.e(a)}finally{o.f()}return e}});var CI="()[]{}<>";function II(e){for(var t=0;t<CI.length;t+=2)if(CI.charCodeAt(t)==e)return CI.charAt(t+1);return Kg(e<128?e:e+1)}function xI(e,t){return e.languageDataAt("closeBrackets",t)[0]||SI}var AI="object"==typeof navigator&&/Android\b/.test(navigator.userAgent),NI=yE.inputHandler.of((function(e,t,n,r){if((AI?e.composing:e.compositionStarted)||e.state.readOnly)return!1;var i=e.state.selection.main;if(r.length>2||2==r.length&&1==Qg(qg(r,0))||t!=i.from||n!=i.to)return!1;var o=function(e,t){var n,r=xI(e,e.selection.main.head),i=r.brackets||SI.brackets,o=(0,X.Z)(i);try{for(o.s();!(n=o.n()).done;){var s=n.value,a=II(qg(s,0));if(t==s)return a==s?FI(e,s,i.indexOf(s+s+s)>-1,r):PI(e,s,a,r.before||SI.before);if(t==a&&MI(e,e.selection.main.from))return BI(e,s,a)}}catch(l){o.e(l)}finally{o.f()}return null}(e.state,r);return!!o&&(e.dispatch(o),!0)})),LI=[{key:"Backspace",run:function(e){var t=e.state,n=e.dispatch;if(t.readOnly)return!1;var r=xI(t,t.selection.main.head).brackets||SI.brackets,i=null,o=t.changeByRange((function(e){if(e.empty){var n,o=function(e,t){var n=e.sliceString(t-2,t);return Qg(qg(n,0))==n.length?n:n.slice(1)}(t.doc,e.head),s=(0,X.Z)(r);try{for(s.s();!(n=s.n()).done;){var a=n.value;if(a==o&&DI(t.doc,e.head)==II(qg(a,0)))return{changes:{from:e.head-a.length,to:e.head+a.length},range:c_.cursor(e.head-a.length)}}}catch(l){s.e(l)}finally{s.f()}}return{range:i=e}}));return i||n(t.update(o,{scrollIntoView:!0,userEvent:"delete.backward"})),!i}}];function MI(e,t){var n=!1;return e.field(RI).between(0,e.doc.length,(function(e){e==t&&(n=!0)})),n}function DI(e,t){var n=e.sliceString(t,t+2);return n.slice(0,Qg(qg(n,0)))}function PI(e,t,n,r){var i=null,o=e.changeByRange((function(o){if(!o.empty)return{changes:[{insert:t,from:o.from},{insert:n,from:o.to}],effects:kI.of(o.to+t.length),range:c_.range(o.anchor+t.length,o.head+t.length)};var s=DI(e.doc,o.head);return!s||/\s/.test(s)||r.indexOf(s)>-1?{changes:{insert:t+n,from:o.head},effects:kI.of(o.head+t.length),range:c_.cursor(o.head+t.length)}:{range:i=o}}));return i?null:e.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function BI(e,t,n){var r=null,i=e.changeByRange((function(t){return t.empty&&DI(e.doc,t.head)==n?{changes:{from:t.head,to:t.head+n.length,insert:n},range:c_.cursor(t.head+n.length)}:r={range:t}}));return r?null:e.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function FI(e,t,n,r){var i=r.stringPrefixes||SI.stringPrefixes,o=null,s=e.changeByRange((function(r){if(!r.empty)return{changes:[{insert:t,from:r.from},{insert:t,from:r.to}],effects:kI.of(r.to+t.length),range:c_.range(r.anchor+t.length,r.head+t.length)};var s,a=r.head,l=DI(e.doc,a);if(l==t){if(UI(e,a))return{changes:{insert:t+t,from:a},effects:kI.of(a+t.length),range:c_.cursor(a+t.length)};if(MI(e,a)){var c=n&&e.sliceDoc(a,a+3*t.length)==t+t+t?t+t+t:t;return{changes:{from:a,to:a+c.length,insert:c},range:c_.cursor(a+c.length)}}}else{if(n&&e.sliceDoc(a-2*t.length,a)==t+t&&(s=ZI(e,a-2*t.length,i))>-1&&UI(e,s))return{changes:{insert:t+t+t+t,from:a},effects:kI.of(a+t.length),range:c_.cursor(a+t.length)};if(e.charCategorizer(a)(l)!=K_.Word&&ZI(e,a,i)>-1&&!function(e,t,n,r){for(var i=vS(e).resolveInner(t,-1),o=r.reduce((function(e,t){return Math.max(e,t.length)}),0),s=0;s<5;s++){var a=e.sliceDoc(i.from,Math.min(i.to,i.from+n.length+o)),l=a.indexOf(n);if(!l||l>-1&&r.indexOf(a.slice(0,l))>-1){for(var c=i.firstChild;c&&c.from==i.from&&c.to-c.from>n.length+l;){if(e.sliceDoc(c.to-n.length,c.to)==n)return!1;c=c.firstChild}return!0}var u=i.to==t&&i.parent;if(!u)break;i=u}return!1}(e,a,t,i))return{changes:{insert:t+t,from:a},effects:kI.of(a+t.length),range:c_.cursor(a+t.length)}}return{range:o=r}}));return o?null:e.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function UI(e,t){var n=vS(e).resolveInner(t+1);return n.parent&&n.from==t}function ZI(e,t,n){var r=e.charCategorizer(t);if(r(e.sliceDoc(t-1,t))!=K_.Word)return t;var i,o=(0,X.Z)(n);try{for(o.s();!(i=o.n()).done;){var s=i.value,a=t-s.length;if(e.sliceDoc(a,t)==s&&r(e.sliceDoc(a-1,a))!=K_.Word)return a}}catch(l){o.e(l)}finally{o.f()}return-1}var GI=[{key:"Ctrl-Space",run:function(e){return!!e.state.field(eI,!1)&&(e.dispatch({effects:MC.of(!0)}),!0)}},{key:"Escape",run:function(e){var t=e.state.field(eI,!1);return!(!t||!t.active.some((function(e){return 0!=e.state})))&&(e.dispatch({effects:DC.of(null)}),!0)}},{key:"ArrowDown",run:rI(!0)},{key:"ArrowUp",run:rI(!1)},{key:"PageDown",run:rI(!0,"page")},{key:"PageUp",run:rI(!1,"page")},{key:"Enter",run:function(e){var t=e.state.field(eI,!1);return!(e.state.readOnly||!t||!t.open||t.open.selected<0||t.open.disabled||Date.now()-t.open.timestamp<e.state.facet(BC).interactionDelay)&&tI(e,t.open.options[t.open.selected])}}],HI=S_.highest(RE.computeN([BC],(function(e){return e.facet(BC).defaultKeymap?[GI]:[]})));var VI=(0,Y.Z)((function e(t,n,r){(0,z.Z)(this,e),this.from=t,this.to=n,this.diagnostic=r})),jI=function(){function e(t,n,r){(0,z.Z)(this,e),this.diagnostics=t,this.panel=n,this.selected=r}return(0,Y.Z)(e,null,[{key:"init",value:function(t,n,r){var i=t,o=r.facet(rx).markerFilter;o&&(i=o(i));var s=xm.set(i.map((function(e){return e.from==e.to||e.from==e.to-1&&r.doc.lineAt(e.from).to==e.from?xm.widget({widget:new sx(e),diagnostic:e}).range(e.from):xm.mark({attributes:{class:"cm-lintRange cm-lintRange-"+e.severity+(e.markClass?" "+e.markClass:"")},diagnostic:e}).range(e.from,e.to)})),!0);return new e(s,n,WI(s))}}]),e}();function WI(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=null;return e.between(n,1e9,(function(e,n,i){var o=i.spec;if(!t||o.diagnostic==t)return r=new VI(e,n,o.diagnostic),!1})),r}function XI(e,t){var n=e.startState.doc.lineAt(t.pos);return!(!e.effects.some((function(e){return e.is(YI)}))&&!e.changes.touchesRange(n.from,n.to))}function zI(e,t){return e.field(QI,!1)?t:t.concat(G_.appendConfig.of(px))}var YI=G_.define(),qI=G_.define(),KI=G_.define(),QI=m_.define({create:function(){return new jI(xm.none,null,null)},update:function(e,t){if(t.docChanged){var n=e.diagnostics.map(t.changes),r=null;if(e.selected){var i=t.changes.mapPos(e.selected.from,1);r=WI(n,e.selected.diagnostic,i)||WI(n,null,i)}e=new jI(n,e.panel,r)}var o,s=(0,X.Z)(t.effects);try{for(s.s();!(o=s.n()).done;){var a=o.value;a.is(YI)?e=jI.init(a.value,e.panel,t.state):a.is(qI)?e=new jI(e.diagnostics,a.value?lx.open:null,e.selected):a.is(KI)&&(e=new jI(e.diagnostics,e.panel,a.value))}}catch(l){s.e(l)}finally{s.f()}return e},provide:function(e){return[Bb.from(e,(function(e){return e.panel})),yE.decorations.from(e,(function(e){return e.diagnostics}))]}});var JI=xm.mark({class:"cm-lintRange cm-lintRange-active"});function $I(e,t,n){var r=e.state.field(QI).diagnostics,i=[],o=2e8,s=0;r.between(t-(n<0?1:0),t+(n>0?1:0),(function(e,r,a){var l=a.spec;t>=e&&t<=r&&(e==r||(t>e||n>0)&&(t<r||n<0))&&(i.push(l.diagnostic),o=Math.min(e,o),s=Math.max(r,s))}));var a=e.state.facet(rx).tooltipFilter;return a&&(i=a(i)),i.length?{pos:o,end:s,above:e.state.doc.lineAt(o).to<s,create:function(){return{dom:ex(e,i)}}}:null}function ex(e,t){return yR("ul",{class:"cm-tooltip-lint"},t.map((function(t){return ox(e,t,!1)})))}var tx=function(e){var t=e.state.field(QI,!1);return!(!t||!t.panel)&&(e.dispatch({effects:qI.of(!1)}),!0)},nx=[{key:"Mod-Shift-m",run:function(e){var t=e.state.field(QI,!1);t&&t.panel||e.dispatch({effects:zI(e.state,[qI.of(!0)])});var n=Lb(e,lx.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0},preventDefault:!0},{key:"F8",run:function(e){var t=e.state.field(QI,!1);if(!t)return!1;var n=e.state.selection.main,r=t.diagnostics.iter(n.to+1);return!(!r.value&&(!(r=t.diagnostics.iter(0)).value||r.from==n.from&&r.to==n.to))&&(e.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)}}],rx=p_.define({combine:function(e){return Object.assign({sources:e.map((function(e){return e.source}))},ev(e.map((function(e){return e.config})),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null},{needsRefresh:function(e,t){return e?t?function(n){return e(n)||t(n)}:e:t}}))}});function ix(e){var t=[];if(e){var n,r=(0,X.Z)(e);try{e:for(r.s();!(n=r.n()).done;){for(var i=n.value.name,o=function(){var e=i[s];if(/[a-zA-Z]/.test(e)&&!t.some((function(t){return t.toLowerCase()==e.toLowerCase()})))return t.push(e),1},s=0;s<i.length;s++)if(o())continue e;t.push("")}}catch(a){r.e(a)}finally{r.f()}}return t}function ox(e,t,n){var r,i=n?ix(t.actions):[];return yR("li",{class:"cm-diagnostic cm-diagnostic-"+t.severity},yR("span",{class:"cm-diagnosticText"},t.renderMessage?t.renderMessage():t.message),null===(r=t.actions)||void 0===r?void 0:r.map((function(n,r){var o=!1,s=function(r){if(r.preventDefault(),!o){o=!0;var i=WI(e.state.field(QI).diagnostics,t);i&&n.apply(e,i.from,i.to)}},a=n.name,l=i[r]?a.indexOf(i[r]):-1,c=l<0?a:[a.slice(0,l),yR("u",a.slice(l,l+1)),a.slice(l+1)];return yR("button",{type:"button",class:"cm-diagnosticAction",onclick:s,onmousedown:s,"aria-label":" Action: ".concat(a).concat(l<0?"":' (access key "'.concat(i[r],')"'),".")},c)})),t.source&&yR("div",{class:"cm-diagnosticSource"},t.source))}var sx=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e){var r;return(0,z.Z)(this,n),(r=t.call(this)).diagnostic=e,r}return(0,Y.Z)(n,[{key:"eq",value:function(e){return e.diagnostic==this.diagnostic}},{key:"toDOM",value:function(){return yR("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}]),n}(Cm),ax=(0,Y.Z)((function e(t,n){(0,z.Z)(this,e),this.diagnostic=n,this.id="item_"+Math.floor(4294967295*Math.random()).toString(16),this.dom=ox(t,n,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")})),lx=function(){function e(t){var n=this;(0,z.Z)(this,e),this.view=t,this.items=[];this.list=yR("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:function(e){if(27==e.keyCode)tx(n.view),n.view.focus();else if(38==e.keyCode||33==e.keyCode)n.moveSelection((n.selectedIndex-1+n.items.length)%n.items.length);else if(40==e.keyCode||34==e.keyCode)n.moveSelection((n.selectedIndex+1)%n.items.length);else if(36==e.keyCode)n.moveSelection(0);else if(35==e.keyCode)n.moveSelection(n.items.length-1);else if(13==e.keyCode)n.view.focus();else{if(!(e.keyCode>=65&&e.keyCode<=90&&n.selectedIndex>=0))return;for(var r=n.items[n.selectedIndex].diagnostic,i=ix(r.actions),o=0;o<i.length;o++)if(i[o].toUpperCase().charCodeAt(0)==e.keyCode){var s=WI(n.view.state.field(QI).diagnostics,r);s&&r.actions[o].apply(t,s.from,s.to)}}e.preventDefault()},onclick:function(e){for(var t=0;t<n.items.length;t++)n.items[t].dom.contains(e.target)&&n.moveSelection(t)}}),this.dom=yR("div",{class:"cm-panel-lint"},this.list,yR("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:function(){return tx(n.view)}},"\xd7")),this.update()}return(0,Y.Z)(e,[{key:"selectedIndex",get:function(){var e=this.view.state.field(QI).selected;if(!e)return-1;for(var t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}},{key:"update",value:function(){var e=this,t=this.view.state.field(QI),n=t.diagnostics,r=t.selected,i=0,o=!1,s=null;for(n.between(0,this.view.state.doc.length,(function(t,n,a){for(var l,c=a.spec,u=-1,h=i;h<e.items.length;h++)if(e.items[h].diagnostic==c.diagnostic){u=h;break}u<0?(l=new ax(e.view,c.diagnostic),e.items.splice(i,0,l),o=!0):(l=e.items[u],u>i&&(e.items.splice(i,u-i),o=!0)),r&&l.diagnostic==r.diagnostic?l.dom.hasAttribute("aria-selected")||(l.dom.setAttribute("aria-selected","true"),s=l):l.dom.hasAttribute("aria-selected")&&l.dom.removeAttribute("aria-selected"),i++}));i<this.items.length&&!(1==this.items.length&&this.items[0].diagnostic.from<0);)o=!0,this.items.pop();0==this.items.length&&(this.items.push(new ax(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),o=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:function(){return{sel:s.dom.getBoundingClientRect(),panel:e.list.getBoundingClientRect()}},write:function(t){var n=t.sel,r=t.panel,i=r.height/e.list.offsetHeight;n.top<r.top?e.list.scrollTop-=(r.top-n.top)/i:n.bottom>r.bottom&&(e.list.scrollTop+=(n.bottom-r.bottom)/i)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),o&&this.sync()}},{key:"sync",value:function(){var e=this.list.firstChild;function t(){var t=e;e=t.nextSibling,t.remove()}var n,r=(0,X.Z)(this.items);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.dom.parentNode==this.list){for(;e!=i.dom;)t();e=i.dom.nextSibling}else this.list.insertBefore(i.dom,e)}}catch(o){r.e(o)}finally{r.f()}for(;e;)t()}},{key:"moveSelection",value:function(e){if(!(this.selectedIndex<0)){var t=WI(this.view.state.field(QI).diagnostics,this.items[e].diagnostic);t&&this.view.dispatch({selection:{anchor:t.from,head:t.to},scrollIntoView:!0,effects:KI.of(t)})}}}],[{key:"open",value:function(t){return new e(t)}}]),e}();function cx(e){return'url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" '.concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:'viewBox="0 0 40 40"',">").concat(encodeURIComponent(e),"</svg>')")}function ux(e){return cx('<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="'.concat(e,'" fill="none" stroke-width=".7"/>'),'width="6" height="3"')}var hx=yE.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:ux("#d11")},".cm-lintRange-warning":{backgroundImage:ux("orange")},".cm-lintRange-info":{backgroundImage:ux("#999")},".cm-lintRange-hint":{backgroundImage:ux("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});var px=[QI,yE.decorations.compute([QI],(function(e){var t=e.field(QI),n=t.selected,r=t.panel;return n&&r&&n.from!=n.to?xm.set([JI.range(n.from,n.to)]):xm.none})),Ib($I,{hideOn:XI}),hx];var fx=function(e){void 0===e&&(e={});var t=e.crosshairCursor,n=void 0!==t&&t,r=[];!1!==e.closeBracketsKeymap&&(r=r.concat(LI)),!1!==e.defaultKeymap&&(r=r.concat(vR)),!1!==e.searchKeymap&&(r=r.concat(_C)),!1!==e.historyKeymap&&(r=r.concat(mw)),!1!==e.foldKeymap&&(r=r.concat(ek)),!1!==e.completionKeymap&&(r=r.concat(GI)),!1!==e.lintKeymap&&(r=r.concat(nx));var i=[];return!1!==e.lineNumbers&&i.push(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[Jb.of(e),jb(),tO]}()),!1!==e.highlightActiveLineGutter&&i.push(iO),!1!==e.highlightSpecialChars&&i.push(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[rb.of(e),ib||(ib=ey.fromClass(function(){function e(t){(0,z.Z)(this,e),this.view=t,this.decorations=xm.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(rb)),this.decorations=this.decorator.createDeco(t)}return(0,Y.Z)(e,[{key:"makeDecorator",value:function(e){var t=this;return new JE({regexp:e.specialChars,decoration:function(n,r,i){var o=r.state.doc,s=qg(n[0],0);if(9==s){var a=o.lineAt(i),l=r.state.tabSize,c=vv(a.text,l,i-a.from);return xm.replace({widget:new sb((l-c%l)*t.view.defaultCharacterWidth/t.view.scaleX)})}return t.decorationCache[s]||(t.decorationCache[s]=xm.replace({widget:new ob(e,s)}))},boundary:e.replaceTabs?void 0:/[^]/})}},{key:"update",value:function(e){var t=e.state.facet(rb);e.startState.facet(rb)!=t?(this.decorator=this.makeDecorator(t),this.decorations=this.decorator.createDeco(e.view)):this.decorations=this.decorator.updateDeco(e,this.decorations)}}]),e}(),{decorations:function(e){return e.decorations}}))]}()),!1!==e.history&&i.push(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[tw,ew.of(e),yE.domEventHandlers({beforeinput:function(e,t){var n="historyUndo"==e.inputType?rw:"historyRedo"==e.inputType?iw:null;return!!n&&(e.preventDefault(),n(t))}})]}()),!1!==e.foldGutter&&i.push(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign(Object.assign({},ak),e),n=new lk(t,!0),r=new lk(t,!1),i=ey.fromClass(function(){function e(t){(0,z.Z)(this,e),this.from=t.viewport.from,this.markers=this.buildMarkers(t)}return(0,Y.Z)(e,[{key:"update",value:function(e){(e.docChanged||e.viewportChanged||e.startState.facet(wS)!=e.state.facet(wS)||e.startState.field(KS,!1)!=e.state.field(KS,!1)||vS(e.startState)!=vS(e.state)||t.foldingChanged(e))&&(this.markers=this.buildMarkers(e.view))}},{key:"buildMarkers",value:function(e){var t,i=new sv,o=(0,X.Z)(e.viewportLineBlocks);try{for(o.s();!(t=o.n()).done;){var s=t.value,a=QS(e.state,s.from,s.to)?r:WS(e.state,s.from,s.to)?n:null;a&&i.add(s.from,s.from,a)}}catch(l){o.e(l)}finally{o.f()}return i.finish()}}]),e}()),o=t.domEventHandlers;return[i,Hb({class:"cm-foldGutter",markers:function(e){var t;return(null===(t=e.plugin(i))||void 0===t?void 0:t.markers)||ov.empty},initialSpacer:function(){return new lk(t,!1)},domEventHandlers:Object.assign(Object.assign({},o),{click:function(e,t,n){if(o.click&&o.click(e,t,n))return!0;var r=QS(e.state,t.from,t.to);if(r)return e.dispatch({effects:YS.of(r)}),!0;var i=WS(e.state,t.from,t.to);return!!i&&(e.dispatch({effects:zS.of(i)}),!0)}})}),rk()]}()),!1!==e.drawSelection&&i.push(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[GE.of(e),VE,WE,zE,zm.of(!0)]}()),!1!==e.dropCursor&&i.push([qE,KE]),!1!==e.allowMultipleSelections&&i.push($_.allowMultipleSelections.of(!0)),!1!==e.indentOnInput&&i.push($_.transactionFilter.of((function(e){if(!e.docChanged||!e.isUserEvent("input.type")&&!e.isUserEvent("input.complete"))return e;var t=e.startState.languageDataAt("indentOnInput",e.startState.selection.main.head);if(!t.length)return e;var n=e.newDoc,r=e.newSelection.main.head,i=n.lineAt(r);if(r>i.from+200)return e;var o=n.sliceString(i.from,r);if(!t.some((function(e){return e.test(o)})))return e;var s,a=e.state,l=-1,c=[],u=(0,X.Z)(a.selection.ranges);try{for(u.s();!(s=u.n()).done;){var h=s.value.head,p=a.doc.lineAt(h);if(p.from!=l){l=p.from;var f=NS(a,p.from);if(null!=f){var d=/^\s*/.exec(p.text)[0],g=AS(a,f);d!=g&&c.push({from:p.from,to:p.from+d.length,insert:g})}}}}catch(_){u.e(_)}finally{u.f()}return c.length?[e,{changes:c,sequential:!0}]:e}))),!1!==e.syntaxHighlighting&&i.push(dk(vk,{fallback:!0})),!1!==e.bracketMatching&&i.push(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[Ek.of(e),wk]}()),!1!==e.closeBrackets&&i.push([NI,RI]),!1!==e.autocompletion&&i.push(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[eI,BC.of(e),oI,HI,sI]}()),!1!==e.rectangularSelection&&i.push(function(e){var t=(null===e||void 0===e?void 0:e.eventFilter)||function(e){return e.altKey&&0==e.button};return yE.mouseSelectionStyle.of((function(e,n){return t(n)?pb(e,n):null}))}()),!1!==n&&i.push(function(){var e=a(fb[(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).key||"Alt"],2),t=e[0],n=e[1],r=ey.fromClass(function(){function e(t){(0,z.Z)(this,e),this.view=t,this.isDown=!1}return(0,Y.Z)(e,[{key:"set",value:function(e){this.isDown!=e&&(this.isDown=e,this.view.update([]))}}]),e}(),{eventObservers:{keydown:function(e){this.set(e.keyCode==t||n(e))},keyup:function(e){e.keyCode!=t&&n(e)||this.set(!1)},mousemove:function(e){this.set(n(e))}}});return[r,yE.contentAttributes.of((function(e){var t;return(null===(t=e.plugin(r))||void 0===t?void 0:t.isDown)?db:null}))]}()),!1!==e.highlightActiveLine&&i.push(lb),!1!==e.highlightSelectionMatches&&i.push(function(e){var t=[GR,ZR];return e&&t.push(DR.of(e)),t}()),e.tabSize&&"number"===typeof e.tabSize&&i.push(IS.of(" ".repeat(e.tabSize))),i.concat([RE.of(r.flat())]).filter(Boolean)},dx="#e5c07b",gx="#e06c75",_x="#56b6c2",vx="#ffffff",mx="#abb2bf",yx="#7d8799",Tx="#61afef",Ex="#98c379",bx="#d19a66",Ox="#c678dd",Sx="#21252b",kx="#2c313a",wx="#282c34",Rx="#353a42",Cx="#3E4451",Ix="#528bff",xx=[yE.theme({"&":{color:mx,backgroundColor:wx},".cm-content":{caretColor:Ix},".cm-cursor, .cm-dropCursor":{borderLeftColor:Ix},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:Cx},".cm-panels":{backgroundColor:Sx,color:mx},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:wx,color:yx,border:"none"},".cm-activeLineGutter":{backgroundColor:kx},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:Rx},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:Rx,borderBottomColor:Rx},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:kx,color:mx}}},{dark:!0}),dk(uk.define([{tag:uS.keyword,color:Ox},{tag:[uS.name,uS.deleted,uS.character,uS.propertyName,uS.macroName],color:gx},{tag:[uS.function(uS.variableName),uS.labelName],color:Tx},{tag:[uS.color,uS.constant(uS.name),uS.standard(uS.name)],color:bx},{tag:[uS.definition(uS.name),uS.separator],color:mx},{tag:[uS.typeName,uS.className,uS.number,uS.changed,uS.annotation,uS.modifier,uS.self,uS.namespace],color:dx},{tag:[uS.operator,uS.operatorKeyword,uS.url,uS.escape,uS.regexp,uS.link,uS.special(uS.string)],color:_x},{tag:[uS.meta,uS.comment],color:yx},{tag:uS.strong,fontWeight:"bold"},{tag:uS.emphasis,fontStyle:"italic"},{tag:uS.strikethrough,textDecoration:"line-through"},{tag:uS.link,color:yx,textDecoration:"underline"},{tag:uS.heading,fontWeight:"bold",color:gx},{tag:[uS.atom,uS.bool,uS.special(uS.variableName)],color:bx},{tag:[uS.processingInstruction,uS.string,uS.inserted],color:Ex},{tag:uS.invalid,color:vx}]))],Ax=yE.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),Nx=function(e){void 0===e&&(e={});var t=e,n=t.indentWithTab,r=void 0===n||n,i=t.editable,o=void 0===i||i,s=t.readOnly,a=void 0!==s&&s,l=t.theme,c=void 0===l?"light":l,u=t.placeholder,h=void 0===u?"":u,p=t.basicSetup,f=void 0===p||p,d=[];switch(r&&d.unshift(RE.of([mR])),f&&("boolean"===typeof f?d.unshift(fx()):d.unshift(fx(f))),h&&d.unshift(function(e){return ey.fromClass(function(){function t(n){(0,z.Z)(this,t),this.view=n,this.placeholder=e?xm.set([xm.widget({widget:new cb(e),side:1}).range(0)]):xm.none}return(0,Y.Z)(t,[{key:"decorations",get:function(){return this.view.state.doc.length?xm.none:this.placeholder}}]),t}(),{decorations:function(e){return e.decorations}})}(h)),c){case"light":d.push(Ax);break;case"dark":d.push(xx);break;case"none":break;default:d.push(c)}return!1===o&&d.push(yE.editable.of(!1)),a&&d.push($_.readOnly.of(!0)),[].concat(d)},Lx=F_.define(),Mx=[];var Dx=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],Px=(0,n.forwardRef)((function(e,t){var r=e.className,i=e.value,o=void 0===i?"":i,s=e.selection,l=e.extensions,c=void 0===l?[]:l,u=e.onChange,h=e.onStatistics,p=e.onCreateEditor,f=e.onUpdate,d=e.autoFocus,g=e.theme,_=void 0===g?"light":g,v=e.height,m=e.minHeight,y=e.maxHeight,T=e.width,E=e.minWidth,b=e.maxWidth,O=e.basicSetup,S=e.placeholder,k=e.indentWithTab,w=e.editable,R=e.readOnly,C=e.root,I=e.initialState,x=(0,Ig.Z)(e,Dx),A=(0,n.useRef)(null),N=function(e){var t=e.value,r=e.selection,i=e.onChange,o=e.onStatistics,s=e.onCreateEditor,l=e.onUpdate,c=e.extensions,u=void 0===c?Mx:c,h=e.autoFocus,p=e.theme,f=void 0===p?"light":p,d=e.height,g=void 0===d?null:d,_=e.minHeight,v=void 0===_?null:_,m=e.maxHeight,y=void 0===m?null:m,T=e.width,E=void 0===T?null:T,b=e.minWidth,O=void 0===b?null:b,S=e.maxWidth,k=void 0===S?null:S,w=e.placeholder,R=void 0===w?"":w,C=e.editable,I=void 0===C||C,x=e.readOnly,A=void 0!==x&&x,N=e.indentWithTab,L=void 0===N||N,M=e.basicSetup,D=void 0===M||M,P=e.root,B=e.initialState,F=a((0,n.useState)(),2),U=F[0],Z=F[1],G=a((0,n.useState)(),2),H=G[0],V=G[1],j=a((0,n.useState)(),2),X=j[0],z=j[1],Y=yE.theme({"&":{height:g,minHeight:v,maxHeight:y,width:E,minWidth:O,maxWidth:k},"& .cm-scroller":{height:"100% !important"}}),q=yE.updateListener.of((function(e){if(e.docChanged&&"function"===typeof i&&!e.transactions.some((function(e){return e.annotation(Lx)}))){var t=e.state.doc.toString();i(t,e)}o&&o(function(e){return{line:e.state.doc.lineAt(e.state.selection.main.from),lineCount:e.state.doc.lines,lineBreak:e.state.lineBreak,length:e.state.doc.length,readOnly:e.state.readOnly,tabSize:e.state.tabSize,selection:e.state.selection,selectionAsSingle:e.state.selection.asSingle().main,ranges:e.state.selection.ranges,selectionCode:e.state.sliceDoc(e.state.selection.main.from,e.state.selection.main.to),selections:e.state.selection.ranges.map((function(t){return e.state.sliceDoc(t.from,t.to)})),selectedText:e.state.selection.ranges.some((function(e){return!e.empty}))}}(e))})),K=Nx({theme:f,editable:I,readOnly:A,placeholder:R,indentWithTab:L,basicSetup:D}),Q=[q,Y].concat((0,W.Z)(K));return l&&"function"===typeof l&&Q.push(yE.updateListener.of(l)),Q=Q.concat(u),(0,n.useEffect)((function(){if(U&&!X){var e={doc:t,selection:r,extensions:Q},n=B?$_.fromJSON(B.json,e,B.fields):$_.create(e);if(z(n),!H){var i=new yE({state:n,parent:U,root:P});V(i),s&&s(i,n)}}return function(){H&&(z(void 0),V(void 0))}}),[U,X]),(0,n.useEffect)((function(){return Z(e.container)}),[e.container]),(0,n.useEffect)((function(){return function(){H&&(H.destroy(),V(void 0))}}),[H]),(0,n.useEffect)((function(){h&&H&&H.focus()}),[h,H]),(0,n.useEffect)((function(){H&&H.dispatch({effects:G_.reconfigure.of(Q)})}),[f,u,g,v,y,E,O,k,R,I,A,L,D,i,l]),(0,n.useEffect)((function(){if(void 0!==t){var e=H?H.state.doc.toString():"";H&&t!==e&&H.dispatch({changes:{from:0,to:e.length,insert:t||""},annotations:[Lx.of(!0)]})}}),[t,H]),{state:X,setState:z,view:H,setView:V,container:U,setContainer:Z}}({container:A.current,root:C,value:o,autoFocus:d,theme:_,height:v,minHeight:m,maxHeight:y,width:T,minWidth:E,maxWidth:b,basicSetup:O,placeholder:S,indentWithTab:k,editable:w,readOnly:R,selection:s,onChange:u,onStatistics:h,onCreateEditor:p,onUpdate:f,extensions:c,initialState:I}),L=N.state,M=N.view,D=N.container;if((0,n.useImperativeHandle)(t,(function(){return{editor:A.current,state:L,view:M}}),[A,D,L,M]),"string"!==typeof o)throw new Error("value must be typeof string but got "+typeof o);var B="string"===typeof _?"cm-theme-"+_:"cm-theme";return(0,P.jsx)("div",(0,Cg.Z)({ref:A,className:B+(r?" "+r:"")},x))}));Px.displayName="CodeMirror";var Bx=Px,Fx=function(){function e(t,n,r,i,o,s,a,l,c){var u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,h=arguments.length>10?arguments[10]:void 0;(0,z.Z)(this,e),this.p=t,this.stack=n,this.state=r,this.reducePos=i,this.pos=o,this.score=s,this.buffer=a,this.bufferBase=l,this.curContext=c,this.lookAhead=u,this.parent=h}return(0,Y.Z)(e,[{key:"toString",value:function(){return"[".concat(this.stack.filter((function(e,t){return t%3==0})).concat(this.state),"]@").concat(this.pos).concat(this.score?"!"+this.score:"")}},{key:"context",get:function(){return this.curContext?this.curContext.context:null}},{key:"pushState",value:function(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}},{key:"reduce",value:function(e){var t,n=e>>19,r=65535&e,i=this.p.parser,o=i.dynamicPrecedence(r);if(o&&(this.score+=o),0==n)return this.pushState(i.getGoto(this.state,r,!0),this.reducePos),r<i.minRepeatTerm&&this.storeNode(r,this.reducePos,this.reducePos,4,!0),void this.reduceContext(r,this.reducePos);var s=this.stack.length-3*(n-1)-(262144&e?6:0),a=s?this.stack[s-2]:this.p.ranges[0].from,l=this.reducePos-a;l>=2e3&&!(null===(t=this.p.parser.nodeSet.types[r])||void 0===t?void 0:t.isAnonymous)&&(a==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=l):this.p.lastBigReductionSize<l&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=a,this.p.lastBigReductionSize=l));var c=s?this.stack[s-1]:0,u=this.bufferBase+this.buffer.length-c;if(r<i.minRepeatTerm||131072&e){var h=i.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(r,a,h,u+4,!0)}if(262144&e)this.state=this.stack[s];else{var p=this.stack[s-3];this.state=i.getGoto(p,r,!0)}for(;this.stack.length>s;)this.stack.pop();this.reduceContext(r,a)}},{key:"storeNode",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(0==e&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){var o=this,s=this.buffer.length;if(0==s&&o.parent&&(s=o.bufferBase-o.parent.bufferBase,o=o.parent),s>0&&0==o.buffer[s-4]&&o.buffer[s-1]>-1){if(t==n)return;if(o.buffer[s-2]>=t)return void(o.buffer[s-2]=n)}}if(i&&this.pos!=n){var a=this.buffer.length;if(a>0&&0!=this.buffer[a-4])for(;a>0&&this.buffer[a-2]>n;)this.buffer[a]=this.buffer[a-4],this.buffer[a+1]=this.buffer[a-3],this.buffer[a+2]=this.buffer[a-2],this.buffer[a+3]=this.buffer[a-1],a-=4,r>4&&(r-=4);this.buffer[a]=e,this.buffer[a+1]=t,this.buffer[a+2]=n,this.buffer[a+3]=r}else this.buffer.push(e,t,n,r)}},{key:"shift",value:function(e,t,n,r){if(131072&e)this.pushState(65535&e,this.pos);else if(0==(262144&e)){var i=e,o=this.p.parser;(r>this.pos||t<=o.maxNode)&&(this.pos=r,o.stateFlag(i,1)||(this.reducePos=r)),this.pushState(i,n),this.shiftContext(t,n),t<=o.maxNode&&this.buffer.push(t,n,r,4)}else this.pos=r,this.shiftContext(t,n),t<=this.p.parser.maxNode&&this.buffer.push(t,n,r,4)}},{key:"apply",value:function(e,t,n,r){65536&e?this.reduce(e):this.shift(e,t,n,r)}},{key:"useNode",value:function(e,t){var n=this.p.reused.length-1;(n<0||this.p.reused[n]!=e)&&(this.p.reused.push(e),n++);var r=this.pos;this.reducePos=this.pos=r+e.length,this.pushState(t,r),this.buffer.push(n,r,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}},{key:"split",value:function(){for(var t=this,n=t.buffer.length;n>0&&t.buffer[n-2]>t.reducePos;)n-=4;for(var r=t.buffer.slice(n),i=t.bufferBase+n;t&&i==t.bufferBase;)t=t.parent;return new e(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,i,this.curContext,this.lookAhead,t)}},{key:"recoverByDelete",value:function(e,t){var n=e<=this.p.parser.maxNode;n&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,n?8:4),this.pos=this.reducePos=t,this.score-=190}},{key:"canShift",value:function(e){for(var t=new Zx(this);;){var n=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(0==n)return!1;if(0==(65536&n))return!0;t.reduce(n)}}},{key:"recoverByInsert",value:function(e){if(this.stack.length>=300)return[];var t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){for(var n,r=[],i=0;i<t.length;i+=2)(n=t[i+1])!=this.state&&this.p.parser.hasAction(n,e)&&r.push(t[i],n);if(this.stack.length<120)for(var o=function(){var e=t[s+1];r.some((function(t,n){return 1&n&&t==e}))||r.push(t[s],e)},s=0;r.length<8&&s<t.length;s+=2)o();t=r}for(var a=[],l=0;l<t.length&&a.length<4;l+=2){var c=t[l+1];if(c!=this.state){var u=this.split();u.pushState(c,this.pos),u.storeNode(0,u.pos,u.pos,4,!0),u.shiftContext(t[l],this.pos),u.reducePos=this.pos,u.score-=200,a.push(u)}}return a}},{key:"forceReduce",value:function(){var e=this.p.parser,t=e.stateSlot(this.state,5);if(0==(65536&t))return!1;if(!e.validAction(this.state,t)){var n=t>>19,r=65535&t,i=this.stack.length-3*n;if(i<0||e.getGoto(this.stack[i],r,!1)<0){var o=this.findForcedReduction();if(null==o)return!1;t=o}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}},{key:"findForcedReduction",value:function(){var e=this,t=this.p.parser,n=[];return function r(i,o){if(!n.includes(i))return n.push(i),t.allActions(i,(function(n){if(393216&n);else if(65536&n){var i=(n>>19)-o;if(i>1){var s=65535&n,a=e.stack.length-3*i;if(a>=0&&t.getGoto(e.stack[a],s,!1)>=0)return i<<19|65536|s}}else{var l=r(n,o+1);if(null!=l)return l}}))}(this.state,0)}},{key:"forceAll",value:function(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}},{key:"deadEnd",get:function(){if(3!=this.stack.length)return!1;var e=this.p.parser;return 65535==e.data[e.stateSlot(this.state,1)]&&!e.stateSlot(this.state,4)}},{key:"restart",value:function(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}},{key:"sameState",value:function(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(var t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}},{key:"parser",get:function(){return this.p.parser}},{key:"dialectEnabled",value:function(e){return this.p.parser.dialect.flags[e]}},{key:"shiftContext",value:function(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}},{key:"reduceContext",value:function(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}},{key:"emitContext",value:function(){var e=this.buffer.length-1;(e<0||-3!=this.buffer[e])&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}},{key:"emitLookAhead",value:function(){var e=this.buffer.length-1;(e<0||-4!=this.buffer[e])&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}},{key:"updateContext",value:function(e){if(e!=this.curContext.context){var t=new Ux(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}},{key:"setLookAhead",value:function(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}},{key:"close",value:function(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}],[{key:"start",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=t.parser.context;return new e(t,[],n,r,r,0,[],0,i?new Ux(i,i.start):null,0,null)}}]),e}(),Ux=(0,Y.Z)((function e(t,n){(0,z.Z)(this,e),this.tracker=t,this.context=n,this.hash=t.strict?t.hash(n):0})),Zx=function(){function e(t){(0,z.Z)(this,e),this.start=t,this.state=t.state,this.stack=t.stack,this.base=this.stack.length}return(0,Y.Z)(e,[{key:"reduce",value:function(e){var t=65535&e,n=e>>19;0==n?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=3*(n-1);var r=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=r}}]),e}(),Gx=function(){function e(t,n,r){(0,z.Z)(this,e),this.stack=t,this.pos=n,this.index=r,this.buffer=t.buffer,0==this.index&&this.maybeNext()}return(0,Y.Z)(e,[{key:"maybeNext",value:function(){var e=this.stack.parent;null!=e&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}},{key:"id",get:function(){return this.buffer[this.index-4]}},{key:"start",get:function(){return this.buffer[this.index-3]}},{key:"end",get:function(){return this.buffer[this.index-2]}},{key:"size",get:function(){return this.buffer[this.index-1]}},{key:"next",value:function(){this.index-=4,this.pos-=4,0==this.index&&this.maybeNext()}},{key:"fork",value:function(){return new e(this.stack,this.pos,this.index)}}],[{key:"create",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.bufferBase+t.buffer.length;return new e(t,n,n-t.bufferBase)}}]),e}();function Hx(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Uint16Array;if("string"!=typeof e)return e;for(var n=null,r=0,i=0;r<e.length;){for(var o=0;;){var s=e.charCodeAt(r++),a=!1;if(126==s){o=65535;break}s>=92&&s--,s>=34&&s--;var l=s-32;if(l>=46&&(l-=46,a=!0),o+=l,a)break;o*=46}n?n[i++]=o:n=new t(o)}return n}var Vx=(0,Y.Z)((function e(){(0,z.Z)(this,e),this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0})),jx=new Vx,Wx=function(){function e(t,n){(0,z.Z)(this,e),this.input=t,this.ranges=n,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=jx,this.rangeIndex=0,this.pos=this.chunkPos=n[0].from,this.range=n[0],this.end=n[n.length-1].to,this.readNext()}return(0,Y.Z)(e,[{key:"resolveOffset",value:function(e,t){for(var n=this.range,r=this.rangeIndex,i=this.pos+e;i<n.from;){if(!r)return null;var o=this.ranges[--r];i-=n.from-o.to,n=o}for(;t<0?i>n.to:i>=n.to;){if(r==this.ranges.length-1)return null;var s=this.ranges[++r];i+=s.from-n.to,n=s}return i}},{key:"clipPos",value:function(e){if(e>=this.range.from&&e<this.range.to)return e;var t,n=(0,X.Z)(this.ranges);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.to>e)return Math.max(e,r.from)}}catch(i){n.e(i)}finally{n.f()}return this.end}},{key:"peek",value:function(e){var t,n,r=this.chunkOff+e;if(r>=0&&r<this.chunk.length)t=this.pos+e,n=this.chunk.charCodeAt(r);else{var i=this.resolveOffset(e,1);if(null==i)return-1;if((t=i)>=this.chunk2Pos&&t<this.chunk2Pos+this.chunk2.length)n=this.chunk2.charCodeAt(t-this.chunk2Pos);else{for(var o=this.rangeIndex,s=this.range;s.to<=t;)s=this.ranges[++o];this.chunk2=this.input.chunk(this.chunk2Pos=t),t+this.chunk2.length>s.to&&(this.chunk2=this.chunk2.slice(0,s.to-t)),n=this.chunk2.charCodeAt(0)}}return t>=this.token.lookAhead&&(this.token.lookAhead=t+1),n}},{key:"acceptToken",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=t?this.resolveOffset(t,-1):this.pos;if(null==n||n<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=n}},{key:"getChunk",value:function(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){var e=this.chunk,t=this.chunkPos;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;var n=this.input.chunk(this.pos),r=this.pos+n.length;this.chunk=r>this.range.to?n.slice(0,this.range.to-this.pos):n,this.chunkPos=this.pos,this.chunkOff=0}}},{key:"readNext",value:function(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}},{key:"advance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}},{key:"setDone",value:function(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}},{key:"reset",value:function(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=jx,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}},{key:"read",value:function(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);var n,r="",i=(0,X.Z)(this.ranges);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.from>=t)break;o.to>e&&(r+=this.input.read(Math.max(o.from,e),Math.min(o.to,t)))}}catch(s){i.e(s)}finally{i.f()}return r}}]),e}(),Xx=function(){function e(t,n){(0,z.Z)(this,e),this.data=t,this.id=n}return(0,Y.Z)(e,[{key:"token",value:function(e,t){var n=t.p.parser;Yx(this.data,e,t,this.id,n.data,n.tokenPrecTable)}}]),e}();Xx.prototype.contextual=Xx.prototype.fallback=Xx.prototype.extend=!1,function(){function e(t,n,r){(0,z.Z)(this,e),this.precTable=n,this.elseToken=r,this.data="string"==typeof t?Hx(t):t}return(0,Y.Z)(e,[{key:"token",value:function(e,t){for(var n=e.pos,r=0;;){var i=e.next<0,o=e.resolveOffset(1,1);if(Yx(this.data,e,t,0,this.data,this.precTable),e.token.value>-1)break;if(null==this.elseToken)return;if(i||r++,null==o)break;e.reset(o,e.token)}r&&(e.reset(n,e.token),e.acceptToken(this.elseToken,r))}}]),e}().prototype.contextual=Xx.prototype.fallback=Xx.prototype.extend=!1;var zx=(0,Y.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,z.Z)(this,e),this.token=t,this.contextual=!!n.contextual,this.fallback=!!n.fallback,this.extend=!!n.extend}));function Yx(e,t,n,r,i,o){var s=0,a=1<<r,l=n.p.parser.dialect;e:for(;0!=(a&e[s]);){for(var c=e[s+1],u=s+3;u<c;u+=2)if((e[u+1]&a)>0){var h=e[u];if(l.allows(h)&&(-1==t.token.value||t.token.value==h||Kx(h,t.token.value,i,o))){t.acceptToken(h);break}}var p=t.next,f=0,d=e[s+2];if(!(t.next<0&&d>f&&65535==e[c+3*d-3]&&65535==e[c+3*d-3])){for(;f<d;){var g=f+d>>1,_=c+g+(g<<1),v=e[_],m=e[_+1]||65536;if(p<v)d=g;else{if(!(p>=m)){s=e[_+2],t.advance();continue e}f=g+1}}break}s=e[c+3*d-1]}}function qx(e,t,n){for(var r,i=t;65535!=(r=e[i]);i++)if(r==n)return i-t;return-1}function Kx(e,t,n,r){var i=qx(n,r,t);return i<0||qx(n,r,e)<i}var Qx="undefined"!=typeof process&&{NODE_ENV:"production",PUBLIC_URL:"/edu/blockly-sprint",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:'"AIzaSyCRe7jfIs-nwkbnJ0Q6rozxjrnBEpr52Sw",',REACT_APP_FIREBASE_AUTO_DOMAIN:'"web-python-logs.firebaseapp.com",',REACT_APP_FIREBASE_PROJECT_ID:'"web-python-logs",',REACT_APP_FIREBASE_STORAGE_BUCKET:'"web-python-logs.appspot.com",',REACT_APP_FIREBASE_MESSAGING_SENDER_ID:'"991477648249",',REACT_APP_FIREBASE_APP_ID:"1:991477648249:web:825e878fd8259bb8073da8"}&&/\bparse\b/.test({NODE_ENV:"production",PUBLIC_URL:"/edu/blockly-sprint",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:'"AIzaSyCRe7jfIs-nwkbnJ0Q6rozxjrnBEpr52Sw",',REACT_APP_FIREBASE_AUTO_DOMAIN:'"web-python-logs.firebaseapp.com",',REACT_APP_FIREBASE_PROJECT_ID:'"web-python-logs",',REACT_APP_FIREBASE_STORAGE_BUCKET:'"web-python-logs.appspot.com",',REACT_APP_FIREBASE_MESSAGING_SENDER_ID:'"991477648249",',REACT_APP_FIREBASE_APP_ID:"1:991477648249:web:825e878fd8259bb8073da8"}.LOG),Jx=null;function $x(e,t,n){var r=e.cursor(pO.IncludeAnonymous);for(r.moveTo(t);;)if(!(n<0?r.childBefore(t):r.childAfter(t)))for(;;){if((n<0?r.to<t:r.from>t)&&!r.type.isError)return n<0?Math.max(0,Math.min(r.to-1,t-25)):Math.min(e.length,Math.max(r.from+1,t+25));if(n<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return n<0?0:e.length}}var eA=function(){function e(t,n){(0,z.Z)(this,e),this.fragments=t,this.nodeSet=n,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}return(0,Y.Z)(e,[{key:"nextFragment",value:function(){var e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?$x(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?$x(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}},{key:"nodeAt",value:function(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){var t=this.trees.length-1;if(t<0)return this.nextFragment(),null;var n=this.trees[t],r=this.index[t];if(r!=n.children.length){var i=n.children[r],o=this.start[t]+n.positions[r];if(o>e)return this.nextStart=o,null;if(i instanceof _O){if(o==e){if(o<this.safeFrom)return null;var s=o+i.length;if(s<=this.safeTo){var a=i.prop(lO.lookAhead);if(!a||s+a<this.fragment.to)return i}}this.index[t]++,o+i.length>=Math.max(this.safeFrom,e)&&(this.trees.push(i),this.start.push(o),this.index.push(0))}else this.index[t]++,this.nextStart=o+i.length}else this.trees.pop(),this.start.pop(),this.index.pop()}}}]),e}(),tA=function(){function e(t,n){(0,z.Z)(this,e),this.stream=n,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=t.tokenizers.map((function(e){return new Vx}))}return(0,Y.Z)(e,[{key:"getActions",value:function(e){for(var t=0,n=null,r=e.p.parser,i=r.tokenizers,o=r.stateSlot(e.state,3),s=e.curContext?e.curContext.hash:0,a=0,l=0;l<i.length;l++)if(0!=(1<<l&o)){var c=i[l],u=this.tokens[l];if((!n||c.fallback)&&((c.contextual||u.start!=e.pos||u.mask!=o||u.context!=s)&&(this.updateCachedToken(u,c,e),u.mask=o,u.context=s),u.lookAhead>u.end+25&&(a=Math.max(u.lookAhead,a)),0!=u.value)){var h=t;if(u.extended>-1&&(t=this.addActions(e,u.extended,u.end,t)),t=this.addActions(e,u.value,u.end,t),!c.extend&&(n=u,t>h))break}}for(;this.actions.length>t;)this.actions.pop();return a&&e.setLookAhead(a),n||e.pos!=this.stream.end||((n=new Vx).value=e.p.parser.eofTerm,n.start=n.end=e.pos,t=this.addActions(e,n.value,n.end,t)),this.mainToken=n,this.actions}},{key:"getMainToken",value:function(e){if(this.mainToken)return this.mainToken;var t=new Vx,n=e.pos,r=e.p;return t.start=n,t.end=Math.min(n+1,r.stream.end),t.value=n==r.stream.end?r.parser.eofTerm:0,t}},{key:"updateCachedToken",value:function(e,t,n){var r=this.stream.clipPos(n.pos);if(t.token(this.stream.reset(r,e),n),e.value>-1){for(var i=n.p.parser,o=0;o<i.specialized.length;o++)if(i.specialized[o]==e.value){var s=i.specializers[o](this.stream.read(e.start,e.end),n);if(s>=0&&n.p.parser.dialect.allows(s>>1)){0==(1&s)?e.value=s>>1:e.extended=s>>1;break}}}else e.value=0,e.end=this.stream.clipPos(r+1)}},{key:"putAction",value:function(e,t,n,r){for(var i=0;i<r;i+=3)if(this.actions[i]==e)return r;return this.actions[r++]=e,this.actions[r++]=t,this.actions[r++]=n,r}},{key:"addActions",value:function(e,t,n,r){for(var i=e.state,o=e.p.parser,s=o.data,a=0;a<2;a++)for(var l=o.stateSlot(i,a?2:1);;l+=3){if(65535==s[l]){if(1!=s[l+1]){0==r&&2==s[l+1]&&(r=this.putAction(lA(s,l+2),t,n,r));break}l=lA(s,l+2)}s[l]==t&&(r=this.putAction(lA(s,l+1),t,n,r))}return r}}]),e}(),nA=function(){function e(t,n,r,i){(0,z.Z)(this,e),this.parser=t,this.input=n,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new Wx(n,i),this.tokens=new tA(t,this.stream),this.topTerm=t.top[1];var o=i[0].from;this.stacks=[Fx.start(this,t.top[0],o)],this.fragments=r.length&&this.stream.end-o>4*t.bufferLength?new eA(r,t.nodeSet):null}return(0,Y.Z)(e,[{key:"parsedPos",get:function(){return this.minStackPos}},{key:"advance",value:function(){var e,t,n=this.stacks,r=this.minStackPos,i=this.stacks=[];if(this.bigReductionCount>300&&1==n.length){for(var o=a(n,1)[0];o.forceReduce()&&o.stack.length&&o.stack[o.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(var s=0;s<n.length;s++)for(var l=n[s];;){if(this.tokens.mainToken=null,l.pos>r)i.push(l);else{if(this.advanceStack(l,i,n))continue;e||(e=[],t=[]),e.push(l);var c=this.tokens.getMainToken(l);t.push(c.value,c.end)}break}if(!i.length){var u=e&&function(e){var t,n=null,r=(0,X.Z)(e);try{for(r.s();!(t=r.n()).done;){var i=t.value,o=i.p.stoppedAt;(i.pos==i.p.stream.end||null!=o&&i.pos>o)&&i.p.parser.stateFlag(i.state,2)&&(!n||n.score<i.score)&&(n=i)}}catch(s){r.e(s)}finally{r.f()}return n}(e);if(u)return Qx&&console.log("Finish with "+this.stackID(u)),this.stackToTree(u);if(this.parser.strict)throw Qx&&e&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+r);this.recovering||(this.recovering=5)}if(this.recovering&&e){var h=null!=this.stoppedAt&&e[0].pos>this.stoppedAt?e[0]:this.runRecovery(e,t,i);if(h)return Qx&&console.log("Force-finish "+this.stackID(h)),this.stackToTree(h.forceAll())}if(this.recovering){var p=1==this.recovering?1:3*this.recovering;if(i.length>p)for(i.sort((function(e,t){return t.score-e.score}));i.length>p;)i.pop();i.some((function(e){return e.reducePos>r}))&&this.recovering--}else if(i.length>1){e:for(var f=0;f<i.length-1;f++)for(var d=i[f],g=f+1;g<i.length;g++){var _=i[g];if(d.sameState(_)||d.buffer.length>500&&_.buffer.length>500){if(!((d.score-_.score||d.buffer.length-_.buffer.length)>0)){i.splice(f--,1);continue e}i.splice(g--,1)}}i.length>12&&i.splice(12,i.length-12)}this.minStackPos=i[0].pos;for(var v=1;v<i.length;v++)i[v].pos<this.minStackPos&&(this.minStackPos=i[v].pos);return null}},{key:"stopAt",value:function(e){if(null!=this.stoppedAt&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}},{key:"advanceStack",value:function(e,t,n){var r=e.pos,i=this.parser,o=Qx?this.stackID(e)+" -> ":"";if(null!=this.stoppedAt&&r>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments)for(var s=e.curContext&&e.curContext.tracker.strict,a=s?e.curContext.hash:0,l=this.fragments.nodeAt(r);l;){var c=this.parser.nodeSet.types[l.type.id]==l.type?i.getGoto(e.state,l.type.id):-1;if(c>-1&&l.length&&(!s||(l.prop(lO.contextHash)||0)==a))return e.useNode(l,c),Qx&&console.log(o+this.stackID(e)+" (via reuse of ".concat(i.getName(l.type.id),")")),!0;if(!(l instanceof _O)||0==l.children.length||l.positions[0]>0)break;var u=l.children[0];if(!(u instanceof _O&&0==l.positions[0]))break;l=u}var h=i.stateSlot(e.state,4);if(h>0)return e.reduce(h),Qx&&console.log(o+this.stackID(e)+" (via always-reduce ".concat(i.getName(65535&h),")")),!0;if(e.stack.length>=9e3)for(;e.stack.length>6e3&&e.forceReduce(););for(var p=this.tokens.getActions(e),f=0;f<p.length;){var d=p[f++],g=p[f++],_=p[f++],v=f==p.length||!n,m=v?e:e.split(),y=this.tokens.mainToken;if(m.apply(d,g,y?y.start:m.pos,_),Qx&&console.log(o+this.stackID(m)+" (via ".concat(0==(65536&d)?"shift":"reduce of ".concat(i.getName(65535&d))," for ").concat(i.getName(g)," @ ").concat(r).concat(m==e?"":", split",")")),v)return!0;m.pos>r?t.push(m):n.push(m)}return!1}},{key:"advanceFully",value:function(e,t){for(var n=e.pos;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>n)return rA(e,t),!0}}},{key:"runRecovery",value:function(e,t,n){for(var r=null,i=!1,o=0;o<e.length;o++){var s=e[o],a=t[o<<1],l=t[1+(o<<1)],c=Qx?this.stackID(s)+" -> ":"";if(s.deadEnd){if(i)continue;if(i=!0,s.restart(),Qx&&console.log(c+this.stackID(s)+" (restarted)"),this.advanceFully(s,n))continue}for(var u=s.split(),h=c,p=0;u.forceReduce()&&p<10;p++){if(Qx&&console.log(h+this.stackID(u)+" (via force-reduce)"),this.advanceFully(u,n))break;Qx&&(h=this.stackID(u)+" -> ")}var f,d=(0,X.Z)(s.recoverByInsert(a));try{for(d.s();!(f=d.n()).done;){var g=f.value;Qx&&console.log(c+this.stackID(g)+" (via recover-insert)"),this.advanceFully(g,n)}}catch(_){d.e(_)}finally{d.f()}this.stream.end>s.pos?(l==s.pos&&(l++,a=0),s.recoverByDelete(a,l),Qx&&console.log(c+this.stackID(s)+" (via recover-delete ".concat(this.parser.getName(a),")")),rA(s,n)):(!r||r.score<s.score)&&(r=s)}return r}},{key:"stackToTree",value:function(e){return e.close(),_O.build({buffer:Gx.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}},{key:"stackID",value:function(e){var t=(Jx||(Jx=new WeakMap)).get(e);return t||Jx.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}]),e}();function rA(e,t){for(var n=0;n<t.length;n++){var r=t[n];if(r.pos==e.pos&&r.sameState(e))return void(t[n].score<e.score&&(t[n]=e))}t.push(e)}var iA=function(){function e(t,n,r){(0,z.Z)(this,e),this.source=t,this.flags=n,this.disabled=r}return(0,Y.Z)(e,[{key:"allows",value:function(e){return!this.disabled||0==this.disabled[e]}}]),e}(),oA=function(e){return e},sA=(0,Y.Z)((function e(t){(0,z.Z)(this,e),this.start=t.start,this.shift=t.shift||oA,this.reduce=t.reduce||oA,this.reuse=t.reuse||oA,this.hash=t.hash||function(){return 0},this.strict=!1!==t.strict})),aA=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e){var r,i;if((0,z.Z)(this,n),(i=t.call(this)).wrappers=[],14!=e.version)throw new RangeError("Parser version (".concat(e.version,") doesn't match runtime version (",14,")"));var o=e.nodeNames.split(" ");i.minRepeatTerm=o.length;for(var s=0;s<e.repeatNodeCount;s++)o.push("");for(var a=Object.keys(e.topRules).map((function(t){return e.topRules[t][1]})),l=[],c=0;c<o.length;c++)l.push([]);function u(e,t,n){l[e].push([t,t.deserialize(String(n))])}if(e.nodeProps){var h,p=(0,X.Z)(e.nodeProps);try{for(p.s();!(h=p.n()).done;){var f=h.value,d=f[0];"string"==typeof d&&(d=lO[d]);for(var g=1;g<f.length;){var _=f[g++];if(_>=0)u(_,d,f[g++]);else{for(var v=f[g+-_],m=-_;m>0;m--)u(f[g++],d,v);g++}}}}catch(E){p.e(E)}finally{p.f()}}i.nodeSet=new fO(o.map((function(t,n){return hO.define({name:n>=i.minRepeatTerm?void 0:t,id:n,props:l[n],top:a.indexOf(n)>-1,error:0==n,skipped:e.skippedNodes&&e.skippedNodes.indexOf(n)>-1})}))),e.propSources&&(i.nodeSet=(r=i.nodeSet).extend.apply(r,(0,W.Z)(e.propSources))),i.strict=!1,i.bufferLength=oO;var y=Hx(e.tokenData);i.context=e.context,i.specializerSpecs=e.specialized||[],i.specialized=new Uint16Array(i.specializerSpecs.length);for(var T=0;T<i.specializerSpecs.length;T++)i.specialized[T]=i.specializerSpecs[T].term;return i.specializers=i.specializerSpecs.map(cA),i.states=Hx(e.states,Uint32Array),i.data=Hx(e.stateData),i.goto=Hx(e.goto),i.maxTerm=e.maxTerm,i.tokenizers=e.tokenizers.map((function(e){return"number"==typeof e?new Xx(y,e):e})),i.topRules=e.topRules,i.dialects=e.dialects||{},i.dynamicPrecedences=e.dynamicPrecedences||null,i.tokenPrecTable=e.tokenPrec,i.termNames=e.termNames||null,i.maxNode=i.nodeSet.types.length-1,i.dialect=i.parseDialect(),i.top=i.topRules[Object.keys(i.topRules)[0]],i}return(0,Y.Z)(n,[{key:"createParse",value:function(e,t,n){var r,i=new nA(this,e,t,n),o=(0,X.Z)(this.wrappers);try{for(o.s();!(r=o.n()).done;){i=(0,r.value)(i,e,t,n)}}catch(s){o.e(s)}finally{o.f()}return i}},{key:"getGoto",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.goto;if(t>=r[0])return-1;for(var i=r[t+1];;){var o=r[i++],s=1&o,a=r[i++];if(s&&n)return a;for(var l=i+(o>>1);i<l;i++)if(r[i]==e)return a;if(s)return-1}}},{key:"hasAction",value:function(e,t){for(var n=this.data,r=0;r<2;r++)for(var i,o=this.stateSlot(e,r?2:1);;o+=3){if(65535==(i=n[o])){if(1!=n[o+1]){if(2==n[o+1])return lA(n,o+2);break}i=n[o=lA(n,o+2)]}if(i==t||0==i)return lA(n,o+1)}return 0}},{key:"stateSlot",value:function(e,t){return this.states[6*e+t]}},{key:"stateFlag",value:function(e,t){return(this.stateSlot(e,0)&t)>0}},{key:"validAction",value:function(e,t){return!!this.allActions(e,(function(e){return e==t||null}))}},{key:"allActions",value:function(e,t){for(var n=this.stateSlot(e,4),r=n?t(n):void 0,i=this.stateSlot(e,1);null==r;i+=3){if(65535==this.data[i]){if(1!=this.data[i+1])break;i=lA(this.data,i+2)}r=t(lA(this.data,i+1))}return r}},{key:"nextStates",value:function(e){for(var t=this,n=[],r=function(e){if(65535==t.data[e]){if(1!=t.data[e+1])return i=e,1;e=lA(t.data,e+2)}if(0==(1&t.data[e+2])){var r=t.data[e+1];n.some((function(e,t){return 1&t&&e==r}))||n.push(t.data[e],r)}i=e},i=this.stateSlot(e,1);!r(i);i+=3);return n}},{key:"configure",value:function(e){var t,r=Object.assign(Object.create(n.prototype),this);if(e.props&&(r.nodeSet=(t=this.nodeSet).extend.apply(t,(0,W.Z)(e.props))),e.top){var i=this.topRules[e.top];if(!i)throw new RangeError("Invalid top rule name ".concat(e.top));r.top=i}return e.tokenizers&&(r.tokenizers=this.tokenizers.map((function(t){var n=e.tokenizers.find((function(e){return e.from==t}));return n?n.to:t}))),e.specializers&&(r.specializers=this.specializers.slice(),r.specializerSpecs=this.specializerSpecs.map((function(t,n){var i=e.specializers.find((function(e){return e.from==t.external}));if(!i)return t;var o=Object.assign(Object.assign({},t),{external:i.to});return r.specializers[n]=cA(o),o}))),e.contextTracker&&(r.context=e.contextTracker),e.dialect&&(r.dialect=this.parseDialect(e.dialect)),null!=e.strict&&(r.strict=e.strict),e.wrap&&(r.wrappers=r.wrappers.concat(e.wrap)),null!=e.bufferLength&&(r.bufferLength=e.bufferLength),r}},{key:"hasWrappers",value:function(){return this.wrappers.length>0}},{key:"getName",value:function(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}},{key:"eofTerm",get:function(){return this.maxNode+1}},{key:"topNode",get:function(){return this.nodeSet.types[this.top[1]]}},{key:"dynamicPrecedence",value:function(e){var t=this.dynamicPrecedences;return null==t?0:t[e]||0}},{key:"parseDialect",value:function(e){var t=Object.keys(this.dialects),n=t.map((function(){return!1}));if(e){var r,i=(0,X.Z)(e.split(" "));try{for(i.s();!(r=i.n()).done;){var o=r.value,s=t.indexOf(o);s>=0&&(n[s]=!0)}}catch(h){i.e(h)}finally{i.f()}}for(var a=null,l=0;l<t.length;l++)if(!n[l])for(var c,u=this.dialects[t[l]];65535!=(c=this.data[u++]);)(a||(a=new Uint8Array(this.maxTerm+1)))[c]=1;return new iA(e,n,a)}}],[{key:"deserialize",value:function(e){return new n(e)}}]),n}(PO);function lA(e,t){return e[t]|e[t+1]<<16}function cA(e){if(e.external){var t=e.extend?1:0;return function(n,r){return e.external(n,r)<<1|t}}return e.get}var uA=new Set([27,51,52,270,67,133,58,59,251,64,65,74,62,63,154,155,158,115]);function hA(e){return 10==e||13==e}var pA=new zx((function(e,t){var n;if(e.next<0)e.acceptToken(206);else if(t.context.depth<0)hA(e.next)&&e.acceptToken(205,1);else if(((n=e.peek(-1))<0||hA(n))&&t.canShift(204)){for(var r=0;32==e.next||9==e.next;)e.advance(),r++;10!=e.next&&13!=e.next&&35!=e.next||e.acceptToken(204,-r)}else hA(e.next)&&e.acceptToken(203,1)}),{contextual:!0}),fA=new zx((function(e,t){var n=t.context.depth;if(!(n<0)){var r=e.peek(-1);if(10==r||13==r){for(var i=0,o=0;;){if(32==e.next)i++;else{if(9!=e.next)break;i+=8-i%8}e.advance(),o++}i!=n&&10!=e.next&&13!=e.next&&35!=e.next&&(i<n?e.acceptToken(202,-o):e.acceptToken(201))}}}));function dA(e,t){this.parent=e,this.depth=t,this.hash=(e?e.hash+e.hash<<8:0)+t+(t<<4)}var gA=new sA({start:new dA(null,0),reduce:function(e,t){return e.depth<0&&uA.has(t)?e.parent:e},shift:function(e,t,n,r){return 201==t?new dA(e,function(e){for(var t=0,n=0;n<e.length;n++)t+=9==e.charCodeAt(n)?8-t%8:1;return t}(r.read(r.pos,n.pos))):202==t?e.parent:26==t||57==t||61==t?new dA(e,-1):e},hash:function(e){return e.hash}}),_A=new zx((function(e){for(var t=0;t<5;t++){if(e.next!="print".charCodeAt(t))return;e.advance()}if(!/\w/.test(String.fromCharCode(e.next)))for(var n=0;;n++){var r=e.peek(n);if(32!=r&&9!=r)return void(40!=r&&46!=r&&10!=r&&13!=r&&35!=r&&e.acceptToken(1))}}));function vA(e,t,n,r,i){return new zx((function(o){for(var s=o.pos;!(o.next<0);)if(123==o.next){if(123!=o.peek(1)){if(o.pos==s)return void o.acceptToken(r,1);break}o.advance(2)}else if(92==o.next)o.advance(),o.next>=0&&o.advance();else{if(o.next==e&&(1==t||o.peek(1)==e&&o.peek(2)==e)){if(o.pos==s)return void o.acceptToken(i,t);break}o.advance()}o.pos>s&&o.acceptToken(n)}))}var mA=vA(39,1,207,2,208),yA=vA(34,1,209,3,210),TA=vA(39,3,211,4,212),EA=vA(34,3,213,5,214),bA=HO({'async "*" "**" FormatConversion FormatSpec':uS.modifier,"for while if elif else try except finally return raise break continue with pass assert await yield match case":uS.controlKeyword,"in not and or is del":uS.operatorKeyword,"from def class global nonlocal lambda":uS.definitionKeyword,import:uS.moduleKeyword,"with as print":uS.keyword,Boolean:uS.bool,None:uS.null,VariableName:uS.variableName,"CallExpression/VariableName":uS.function(uS.variableName),"FunctionDefinition/VariableName":uS.function(uS.definition(uS.variableName)),"ClassDefinition/VariableName":uS.definition(uS.className),PropertyName:uS.propertyName,"CallExpression/MemberExpression/PropertyName":uS.function(uS.propertyName),Comment:uS.lineComment,Number:uS.number,String:uS.string,FormatString:uS.special(uS.string),UpdateOp:uS.updateOperator,"ArithOp!":uS.arithmeticOperator,BitOp:uS.bitwiseOperator,CompareOp:uS.compareOperator,AssignOp:uS.definitionOperator,Ellipsis:uS.punctuation,At:uS.meta,"( )":uS.paren,"[ ]":uS.squareBracket,"{ }":uS.brace,".":uS.derefOperator,", ;":uS.separator}),OA={__proto__:null,await:48,or:58,and:60,in:64,not:66,is:68,if:74,else:76,lambda:80,yield:98,from:100,async:106,for:108,None:168,True:170,False:170,del:184,pass:188,break:192,continue:196,return:200,raise:208,import:212,as:214,global:218,nonlocal:220,assert:224,type:229,elif:242,while:246,try:252,except:254,finally:256,with:260,def:264,class:274,match:285,case:291},SA=aA.deserialize({version:14,states:"#&jO`Q#yOOP$bOSOOO%kQ&nO'#HcOOQS'#Cq'#CqOOQS'#Cr'#CrO'ZQ#xO'#CpO(|Q&nO'#HbOOQS'#Hc'#HcOOQS'#DW'#DWOOQS'#Hb'#HbO)jQ#xO'#DaO)}Q#xO'#DhO*_Q#xO'#DlOOQS'#Dw'#DwO*rO,UO'#DwO*zO7[O'#DwO+SOWO'#DxO+_O`O'#DxO+jOpO'#DxO+uO!bO'#DxO-wQ&nO'#HSOOQS'#HS'#HSO'ZQ#xO'#HRO/ZQ&nO'#HROOQS'#Ee'#EeO/rQ#xO'#EfOOQS'#HQ'#HQO/|Q#xO'#HPOOQV'#HP'#HPO0XQ#xO'#F]OOQS'#Ge'#GeO0^Q#xO'#F[OOQV'#IY'#IYOOQV'#HO'#HOOOQV'#Ft'#FtQ`Q#yOOO'ZQ#xO'#CsO0lQ#xO'#DPO0sQ#xO'#DTO1RQ#xO'#HgO1cQ&nO'#EYO'ZQ#xO'#EZOOQS'#E]'#E]OOQS'#E_'#E_OOQS'#Ea'#EaO1wQ#xO'#EcO2_Q#xO'#EgO0XQ#xO'#EiO2rQ&nO'#EiO0XQ#xO'#ElO/rQ#xO'#EoO0XQ#xO'#EqO/rQ#xO'#EwO/rQ#xO'#EzO2}Q#xO'#E|O3UQ#xO'#FRO3aQ#xO'#E}O/rQ#xO'#FRO0XQ#xO'#FTO0XQ#xO'#FYO3fQ#xO'#F_P3mO#xO'#G}POOO)CBq)CBqOOQS'#Cg'#CgOOQS'#Ch'#ChOOQS'#Ci'#CiOOQS'#Cj'#CjOOQS'#Ck'#CkOOQS'#Cl'#ClOOQS'#Cn'#CnO'ZQ#xO,59QO'ZQ#xO,59QO'ZQ#xO,59QO'ZQ#xO,59QO'ZQ#xO,59QO'ZQ#xO,59QO3xQ#xO'#DqOOQS,5:[,5:[O4]Q#xO'#HqOOQS,5:_,5:_O4jQMlO,5:_O4oQ&nO,59[O0lQ#xO,59dO0lQ#xO,59dO0lQ#xO,59dO7_Q#xO,59dO7dQ#xO,59dO7kQ#xO,59lO7rQ#xO'#HbO8xQ#xO'#HaOOQS'#Ha'#HaOOQS'#D^'#D^O9aQ#xO,59cO'ZQ#xO,59cO9oQ#xO,59cOOQS,59{,59{O9tQ#xO,5:TO'ZQ#xO,5:TOOQS,5:S,5:SO:SQ#xO,5:SO:XQ#xO,5:ZO'ZQ#xO,5:ZO'ZQ#xO,5:XOOQS,5:W,5:WO:jQ#xO,5:WO:oQ#xO,5:YOOOO'#F|'#F|O:tO,UO,5:cOOQS,5:c,5:cOOOO'#F}'#F}O:|O7[O,5:cO;UQ#xO'#DyOOOW'#GO'#GOO;fOWO,5:dOOQS,5:d,5:dO;UQ#xO'#D}OOO`'#GR'#GRO;qO`O,5:dO;UQ#xO'#EOOOOp'#GS'#GSO;|OpO,5:dO;UQ#xO'#EPOOO!b'#GT'#GTO<XO!bO,5:dOOQS'#GU'#GUO<dQ&nO,5:lO?UQ&nO,5=mO?oQ!LUO,5=mO@`Q&nO,5=mOOQS,5;Q,5;QO@wQ#yO'#G_OBZQ#xO,5;aOOQV,5=k,5=kOBfQ&nO'#ITOB}Q#xO,5;wOOQS-E:c-E:cOOQV,5;v,5;vO3[Q#xO'#FTOOQV-E9r-E9rOCVQ&nO,59_OE^Q&nO,59kOEwQ#xO'#HdOFSQ#xO'#HdO0XQ#xO'#HdOF_Q#xO'#DVOFgQ#xO,59oOFlQ#xO'#HhO'ZQ#xO'#HhO/rQ#xO,5>ROOQS,5>R,5>RO/rQ#xO'#EUOOQS'#EV'#EVOGZQ#xO'#GWOGkQ#xO,59OOGkQ#xO,59OO)pQ#xO,5:rOGyQ&nO'#HjOOQS,5:u,5:uOOQS,5:},5:}OH^Q#xO,5;ROHoQ#xO,5;TOOQS'#GZ'#GZOH}Q&nO,5;TOI]Q#xO,5;TOIbQ#xO'#IWOOQS,5;W,5;WOIpQ#xO'#ISOOQS,5;Z,5;ZOJRQ#xO,5;]O3aQ#xO,5;cO3aQ#xO,5;fOJZQ&nO'#IZO'ZQ#xO'#IZOJeQ#xO,5;hO2}Q#xO,5;hO/rQ#xO,5;mO0XQ#xO,5;oOJjQ#yO'#ExOKvQ#{O,5;iO! [Q#xO'#I[O3aQ#xO,5;mO! gQ#xO,5;oO! oQ#xO,5;tO! zQ&nO,5;yO'ZQ#xO,5;yPOOO,5=i,5=iP!!ROSO,5=iP!!WO#xO,5=iO!${Q&nO1G.lO!%SQ&nO1G.lO!'sQ&nO1G.lO!'}Q&nO1G.lO!*hQ&nO1G.lO!*{Q&nO1G.lO!+`Q#xO'#HpO!+nQ&nO'#HSO/rQ#xO'#HpO!+xQ#xO'#HoOOQS,5:],5:]O!,QQ#xO,5:]O!,VQ#xO'#HrO!,bQ#xO'#HrO!,uQ#xO,5>]OOQS'#Du'#DuOOQS1G/y1G/yOOQS1G/O1G/OO!-uQ&nO1G/OO!-|Q&nO1G/OO0lQ#xO1G/OO!.iQ#xO1G/WOOQS'#D]'#D]O/rQ#xO,59vOOQS1G.}1G.}O!.pQ#xO1G/gO!/QQ#xO1G/gO!/YQ#xO1G/hO'ZQ#xO'#HiO!/_Q#xO'#HiO!/dQ&nO1G.}O!/tQ#xO,59kO!0zQ#xO,5>XO!1[Q#xO,5>XO!1dQ#xO1G/oO!1iQ&nO1G/oOOQS1G/n1G/nO!1yQ#xO,5>SO!2pQ#xO,5>SO/rQ#xO1G/sO!3_Q#xO1G/uO!3dQ&nO1G/uO!3tQ&nO1G/sOOQS1G/r1G/rOOQS1G/t1G/tOOOO-E9z-E9zOOQS1G/}1G/}OOOO-E9{-E9{O!4UQ#xO'#H|O/rQ#xO'#H|O!4dQ#xO,5:eOOOW-E9|-E9|OOQS1G0O1G0OO!4oQ#xO,5:iOOO`-E:P-E:PO!4zQ#xO,5:jOOOp-E:Q-E:QO!5VQ#xO,5:kOOO!b-E:R-E:ROOQS-E:S-E:SO!5bQ!LUO1G3XO!6RQ&nO1G3XO'ZQ#xO,5<qOOQS,5<q,5<qOOQS-E:T-E:TOOQS,5<y,5<yOOQS-E:]-E:]OOQV1G0{1G0{O0XQ#xO'#GYO!6jQ&nO,5>oOOQS1G1c1G1cO!7RQ#xO1G1cOOQS'#DX'#DXO/rQ#xO,5>OOOQS,5>O,5>OO!7WQ#xO'#FuO!7cQ#xO,59qO!7kQ#xO1G/ZO!7uQ&nO,5>SOOQS1G3m1G3mOOQS,5:p,5:pO!8fQ#xO'#HROOQS,5<r,5<rOOQS-E:U-E:UO!8wQ#xO1G.jOOQS1G0^1G0^O!9VQ#xO,5>UO!9gQ#xO,5>UO/rQ#xO1G0mO/rQ#xO1G0mO0XQ#xO1G0oOOQS-E:X-E:XO!9xQ#xO1G0oO!:TQ#xO1G0oO!:YQ#xO,5>rO!:hQ#xO,5>rO!:vQ#xO,5>nO!;^Q#xO,5>nO!;oQ#xO'#EsO/rQ#xO1G0wO!;zQ#xO1G0wO!<PQ#{O1G0}O!?bQ#{O1G1QO!BpQ#xO,5>uO!BzQ#xO,5>uO!CSQ&nO,5>uO/rQ#xO1G1SO!C^Q#xO1G1SO3aQ#xO1G1XO! gQ#xO1G1ZOOQV,5;d,5;dO!CcQ#zO,5;dO!ChQ#{O1G1TO!F|Q#xO'#GbO3aQ#xO1G1TO3aQ#xO1G1TO!G^Q#xO,5>vO!GkQ#xO,5>vO0XQ#xO,5>vOOQV1G1X1G1XO!GsQ#xO'#FVO!HUQMlO1G1ZO!H^Q#xO1G1ZOOQV1G1`1G1`O3aQ#xO1G1`O!HcQ#xO1G1`O!HkQ#xO'#FaOOQV1G1e1G1eO! zQ&nO1G1ePOOO1G3T1G3TP!HpOSO1G3TOOQS,5>[,5>[OOQS'#Dr'#DrO/rQ#xO,5>[O!HuQ#xO,5>ZO!IYQ#xO,5>ZOOQS1G/w1G/wO!IbQ#xO,5>^O!IrQ#xO,5>^O!IzQ#xO,5>^O!J_Q#xO,5>^O!JoQ#xO,5>^OOQS1G3w1G3wOOQS7+$j7+$jO!7kQ#xO7+$rO!LbQ#xO1G/OO!LiQ#xO1G/OOOQS1G/b1G/bOOQS,5<c,5<cO'ZQ#xO,5<cOOQS7+%R7+%RO!LpQ#xO7+%ROOQS-E9u-E9uOOQS7+%S7+%SO!MQQ#xO,5>TO'ZQ#xO,5>TOOQS7+$i7+$iO!MVQ#xO7+%RO!M_Q#xO7+%SO!MdQ#xO1G3sOOQS7+%Z7+%ZO!MtQ#xO1G3sO!M|Q#xO7+%ZOOQS,5<b,5<bO'ZQ#xO,5<bO!NRQ#xO1G3nOOQS-E9t-E9tO!NxQ#xO7+%_OOQS7+%a7+%aO# WQ#xO1G3nO# uQ#xO7+%aO# zQ#xO1G3tO#![Q#xO1G3tO#!dQ#xO7+%_O#!iQ#xO,5>hO##PQ#xO,5>hO##PQ#xO,5>hO##_O$ISO'#D{O##jO#tO'#H}OOOW1G0P1G0PO##oQ#xO1G0POOO`1G0T1G0TO##wQ#xO1G0TOOOp1G0U1G0UO#$PQ#xO1G0UOOO!b1G0V1G0VO#$XQ#xO1G0VO#$aQ!LUO7+(sO#%QQ&nO1G2]P#%kQ#xO'#GVOOQS,5<t,5<tOOQS-E:W-E:WOOQS7+&}7+&}OOQS1G3j1G3jOOQS,5<a,5<aOOQS-E9s-E9sOOQS7+$u7+$uO#%xQ#xO,5=mO#&cQ#xO,5=mO#&tQ&nO,5<dO#'XQ#xO1G3pOOQS-E9v-E9vOOQS7+&X7+&XO#'iQ#xO7+&XOOQS7+&Z7+&ZO#'wQ#xO'#IVO0XQ#xO'#IUO#(]Q#xO7+&ZOOQS,5<w,5<wO#(hQ#xO1G4^OOQS-E:Z-E:ZOOQS,5<s,5<sO#(vQ#xO1G4YOOQS-E:V-E:VO0XQ#xO'#EtO#)^Q#xO'#EtO#)iQ#xO'#IXO#)qQ#xO,5;_OOQS7+&c7+&cO/rQ#xO7+&cO#)vQ#{O7+&iO!GPQ#xO'#G`O3aQ#xO7+&iO3aQ#xO7+&lO#-XQ&nO,5<{O'ZQ#xO,5<{O#-cQ#xO1G4aOOQS-E:_-E:_O#-mQ#xO1G4aO3aQ#xO7+&nO/rQ#xO7+&nOOQV7+&s7+&sO!HUQMlO7+&uO!H^Q#xO7+&uO`Q#yO1G1OOOQV-E:`-E:`O3aQ#xO7+&oO3aQ#xO7+&oOOQV,5<|,5<|O#-uQ#xO,5<|O!GPQ#xO,5<|OOQV7+&o7+&oO#.QQ#{O7+&oO#1`Q#xO,5<}O#1kQ#xO1G4bOOQS-E:a-E:aO#1xQ#xO1G4bO#2QQ#xO'#I^O#2`Q#xO'#I^O0XQ#xO'#I^OOQS'#I^'#I^O#2kQ#xO'#I]OOQS,5;q,5;qO#2sQ#xO,5;qO/rQ#xO'#FXOOQV7+&u7+&uO3aQ#xO7+&uOOQV7+&z7+&zO3aQ#xO7+&zO#2xQ#zO,5;{OOQV7+'P7+'PPOOO7+(o7+(oO#2}Q#xO1G3vOOQS,5<f,5<fO#3]Q#xO1G3uOOQS-E9x-E9xO#3pQ#xO,5<gO#3{Q#xO,5<gO#4`Q#xO1G3xOOQS-E9y-E9yO#4pQ#xO1G3xO#4xQ#xO1G3xO#5YQ#xO1G3xO#4pQ#xO1G3xOOQS<<H^<<H^O#5eQ&nO1G1}OOQS<<Hm<<HmP#5rQ#xO'#FwO7kQ#xO1G3oO#6PQ#xO1G3oO#6UQ#xO<<HmOOQS<<Hn<<HnO#6fQ#xO7+)_OOQS<<Hu<<HuO#6vQ&nO1G1|P#7gQ#xO'#FvO#7tQ#xO7+)`O#8UQ#xO7+)`O#8^Q#xO<<HyO#8cQ#xO7+)YOOQS<<H{<<H{O#9YQ#xO,5<eO'ZQ#xO,5<eOOQS-E9w-E9wOOQS<<Hy<<HyOOQS,5<k,5<kO/rQ#xO,5<kO#9_Q#xO1G4SOOQS-E9}-E9}O#9uQ#xO1G4SO;UQ#xO'#D|OOOO'#GQ'#GQO#:TO$ISO,5:gOOO#l,5>i,5>iOOOW7+%k7+%kOOO`7+%o7+%oOOOp7+%p7+%pOOO!b7+%q7+%qO#:`Q#xO1G3XO#:yQ#xO1G3XP'ZQ#xO'#FxO/rQ#xO<<IsO#;[Q#xO,5>qO#;mQ#xO,5>qO0XQ#xO,5>qO#<OQ#xO,5>pOOQS<<Iu<<IuP0XQ#xO'#G]P/rQ#xO'#GXOOQS,5;`,5;`O#<TQ#xO,5>sO#<cQ#xO,5>sOOQS1G0y1G0yOOQS<<I}<<I}OOQV-E:^-E:^O3aQ#xO<<JTOOQV,5<z,5<zO3aQ#xO,5<zOOQV<<JT<<JTOOQV<<JW<<JWO#<kQ&nO1G2gP#<uQ#xO'#GaO#<|Q#xO7+){O#=WQ#{O<<JYO3aQ#xO<<JYOOQV<<Ja<<JaO3aQ#xO<<JaO!HUQMlO<<JaO#@fQ#{O7+&jOOQV<<JZ<<JZO#@pQ#{O<<JZOOQV1G2h1G2hO0XQ#xO1G2hO#DOQ#xO1G2hO3aQ#xO<<JZO0XQ#xO1G2iP/rQ#xO'#GcO#DZQ#xO7+)|O#DhQ#xO7+)|OOQS'#FW'#FWO/rQ#xO,5>xO#DpQ#xO,5>xOOQS,5>x,5>xO#D{Q#xO,5>wO#E^Q#xO,5>wOOQS1G1]1G1]OOQS,5;s,5;sOOQV<<Jf<<JfO#EfQ#xO1G1gOOQS7+)b7+)bP#EkQ#xO'#FzO#E{Q#xO1G2RO#F`Q#xO1G2RO#FpQ#xO1G2RP#F{Q#xO'#F{O#GYQ#xO7+)dO#GjQ#xO7+)dO#GjQ#xO7+)dO#GrQ#xO7+)dO#HSQ#xO7+)ZO7kQ#xO7+)ZOOQSAN>XAN>XO#HmQ#xO<<LzOOQSAN>eAN>eO/rQ#xO1G2PO#H}Q&nO1G2PP#IXQ#xO'#FyOOQS1G2V1G2VP#IfQ#xO'#GPO#IsQ#xO7+)nO#JZQ#xO,5:hOOOO-E:O-E:OO#JfQ#xO7+(sOOQSAN?_AN?_O#KPQ#xO,5<vO#KeQ#xO1G4]OOQS-E:Y-E:YO#KvQ#xO1G4]OOQS1G4[1G4[OOQS,5<x,5<xO#LXQ#xO1G4_OOQS-E:[-E:[OOQVAN?oAN?oOOQV1G2f1G2fO3aQ#xOAN?tO#LgQ#{OAN?tOOQVAN?{AN?{O3aQ#xOAN?{OOQV<<JU<<JUO3aQ#xOAN?uO3aQ#xO7+(SOOQV7+(S7+(SO0XQ#xO7+(SOOQVAN?uAN?uOOQS7+(T7+(TO$ uQ#xO<<MhOOQS1G4d1G4dO/rQ#xO1G4dOOQS,5=O,5=OO$!SQ#xO1G4cOOQS-E:b-E:bOOQU'#Gf'#GfO$!eQ#zO7+'RO$!pQ#xO'#FbO$#hQ#xO7+'mO$#xQ#xO7+'mOOQS7+'m7+'mO$$TQ#xO<<MOO$$eQ#xO<<MOO$$eQ#xO<<MOO$$mQ#xO'#HkOOQS<<Lu<<LuO$$wQ#xO<<LuOOQS7+'k7+'kOOOO1G0S1G0SO$%bQ#xO1G0SO0XQ#xO1G2bP0XQ#xO'#G[O$%jQ#xO7+)wO$%{Q#xO7+)wP!;oQ#xO'#G^OOQVG25`G25`O3aQ#xOG25`OOQVG25gG25gOOQVG25aG25aOOQV<<Kn<<KnO3aQ#xO<<KnOOQS7+*O7+*OP$&^Q#xO'#GdOOQU-E:d-E:dOOQV<<Jm<<JmO$'QQ&nO'#FdOOQS'#Ff'#FfO$'bQ#xO'#FeO$(SQ#xO'#FeOOQS'#Fe'#FeO$(XQ#xO'#I`O$!pQ#xO'#FlO$!pQ#xO'#FlO$(pQ#xO'#FmO$!pQ#xO'#FnO$(wQ#xO'#IaOOQS'#Ia'#IaO$)fQ#xO,5;|OOQS<<KX<<KXO$)nQ#xO<<KXO$*OQ#xOANBjO$*`Q#xOANBjO$*hQ#xO'#HlOOQS'#Hl'#HlO0sQ#xO'#DeO$+RQ#xO,5>VOOQSANBaANBaOOOO7+%n7+%nOOQS7+'|7+'|O$+jQ#xO<<McOOQVLD*zLD*zOOQVANAYANAYO4jQMlO'#GhO$+{Q&nO,5<VO$!pQ#xO'#FpOOQS,5<Z,5<ZOOQS'#Fg'#FgO$,mQ#xO,5<PO$,rQ#xO,5<POOQS'#Fj'#FjO$!pQ#xO'#GgO$-dQ#xO,5<TO$.OQ#xO,5>zO$.`Q#xO,5>zO0XQ#xO,5<SO$.qQ#xO,5<WO$.vQ#xO,5<WO$!pQ#xO'#IbO$.{Q#xO'#IbO$/QQ#xO,5<XOOQS,5<Y,5<YO'ZQ#xO'#FsOOQU1G1h1G1hO3aQ#xO1G1hOOQSAN@sAN@sO$/VQ#xOG28UO$/gQ#xO,5:POOQS1G3q1G3qOOQS,5=S,5=SOOQS-E:f-E:fO$/lQ&nO'#FdO$/sQ#xO'#IcO$0RQ#xO'#IcO$0ZQ#xO,5<[OOQS1G1k1G1kO$0`Q#xO1G1kO$0eQ#xO,5=ROOQS-E:e-E:eO$1PQ#xO,5=VO$1hQ#xO1G4fOOQS-E:i-E:iOOQS1G1n1G1nOOQS1G1r1G1rO$1xQ#xO,5>|O$!pQ#xO,5>|OOQS1G1s1G1sO$2WQ&nO,5<_OOQU7+'S7+'SO$$mQ#xO1G/kO$!pQ#xO,5<]O$2_Q#xO,5>}O$2fQ#xO,5>}OOQS1G1v1G1vOOQS7+'V7+'VP$!pQ#xO'#GkO$2nQ#xO1G4hO$2xQ#xO1G4hO$3QQ#xO1G4hOOQS7+%V7+%VO$3`Q#xO1G1wO$3nQ&nO'#FdO$3uQ#xO,5=UOOQS,5=U,5=UO$4TQ#xO1G4iOOQS-E:h-E:hO$!pQ#xO,5=TO$4[Q#xO,5=TO$4aQ#xO7+*SOOQS-E:g-E:gO$4kQ#xO7+*SO$!pQ#xO,5<^P$!pQ#xO'#GjO$4sQ#xO1G2oO$!pQ#xO1G2oP$5RQ#xO'#GiO$5YQ#xO<<MnO$5dQ#xO1G1xO$5rQ#xO7+(ZO7kQ#xO'#DPO7kQ#xO,59dO7kQ#xO,59dO7kQ#xO,59dO$6QQ&nO,5=mO7kQ#xO1G/OO/rQ#xO1G/ZO/rQ#xO7+$rP$6eQ#xO'#GVO'ZQ#xO'#HRO$6rQ#xO,59dO$6wQ#xO,59dO$7OQ#xO,59oO$7TQ#xO1G/WO0sQ#xO'#DTO7kQ#xO,59l",stateData:"$7f~O%pOS%eOSUOS%dPQ~OPiOXfOhtOjYOquOu!UOxvO!RwO!S!QO!V!XO!W!WO!ZZO!_[O!jeO!ueO!veO!weO#OyO#QzO#S{O#U|O#W}O#[!OO#^!PO#a!RO#b!RO#d!SO#f!TO#o!VO#r!YO#v!ZO#x![O#}!]O$QmO$S!^O%|RO%}RO&RSO&SWO&h]O&i^O&l_O&o`O&saO&tbO&ucO~O%d!_O~OX!fOa!fOc!gOj!nO!Z!pO!h!rO%w!aO%x!bO%y!cO%z!dO%{!dO%|!eO%}!eO&O!fO&P!fO&Q!fO~Om&VXn&VXo&VXp&VXq&VXr&VXu&VX|&VX}&VX!{&VX#j&VX%c&VX%f&VX&X&VXi&VX!V&VX!W&VX&Y&VX!Y&VX!^&VX!S&VX#_&VXv&VX!n&VX~P$gOhtOjYO!ZZO!_[O!jeO!ueO!veO!weO%|RO%}RO&RSO&SWO&h]O&i^O&l_O&o`O&saO&tbO&ucO~O|&UX}&UX#j&UX%c&UX%f&UX&X&UX~Om!uOn!vOo!tOp!tOq!wOr!xOu!yO!{&UX~P(hOX#POi#ROq0zOx1YO!RwO~P'ZOX#TOq0zOx1YO!Y#UO~P'ZOX#XOc#YOq0zOx1YO!^#ZO~P'ZO&j#^O&k#`O~O&m#aO&n#`O~OQ#cO%g#dO%h#fO~OR#gO%i#hO%j#fO~OS#jO%k#kO%l#fO~OT#mO%m#nO%n#fO~OX%vXa%vXc%vXj%vXm%vXn%vXo%vXp%vXq%vXr%vXu%vX|%vX!Z%vX!h%vX%w%vX%x%vX%y%vX%z%vX%{%vX%|%vX%}%vX&O%vX&P%vX&Q%vXi%vX!V%vX!W%vX~O&h]O&i^O&l_O&o`O&saO&tbO&ucO}%vX!{%vX#j%vX%c%vX%f%vX&X%vX&Y%vX!Y%vX!^%vX!S%vX#_%vXv%vX!n%vX~P,QO|#sO}%uX!{%uX#j%uX%c%uX%f%uX&X%uX~Oq0zOx1YO~P'ZO#j#vO%c#xO%f#xO~O&SWO~O!V#}O#x![O#}!]O$QmO~OquO~P'ZOX$SOc$TO&SWO}yP~OX$XOq0zOx1YO!S$YO~P'ZO}$[O!{$aO&X$]O#j!|X%c!|X%f!|X~OX$XOq0zOx1YO#j#VX%c#VX%f#VX~P'ZOq0zOx1YO#j#ZX%c#ZX%f#ZX~P'ZO!h$gO!u$gO&SWO~OX$rO~P'ZO!W$tO#v$uO#x$vO~O}$wO~OX%OO~P'ZOU%QO%c%PO%p%RO~OX%[Oc%[Oi%^Oq0zOx1YO~P'ZOq0zOx1YO}%aO~P'ZO&g%cO~Oc!gOj!nO!Z!pO!h!rOXdaadamdandaodapdaqdardauda|da}da!{da#jda%cda%fda%wda%xda%yda%zda%{da%|da%}da&Oda&Pda&Qda&Xdaida!Vda!Wda&Yda!Yda!^da!Sda#_davda!nda~Op%hO~Oq%hO~P'ZOq0zO~P'ZOm0|On0}Oo0{Op0{Oq1UOr1VOu1ZOi&UX!V&UX!W&UX&Y&UX!Y&UX!^&UX!S&UX#_&UX!n&UX~P(hO&Y%jOi&TX|&TX!V&TX!W&TX!Y&TX}&TX~Oi%lO|%mO!V%qO!W%pO~Oi%lO~O|%tO!V%qO!W%pO!Y&aX~O!Y%xO~O|%yO}%{O!V%qO!W%pO!^&[X~O!^&PO~O!^&QO~O&j#^O&k&SO~O&m#aO&n&SO~OX&VOq0zOx1YO!RwO~P'ZOQ#cO%g#dO%h&YO~OR#gO%i#hO%j&YO~OS#jO%k#kO%l&YO~OT#mO%m#nO%n&YO~OX!taa!tac!taj!tam!tan!tao!tap!taq!tar!tau!ta|!ta}!ta!Z!ta!h!ta!{!ta#j!ta%c!ta%f!ta%w!ta%x!ta%y!ta%z!ta%{!ta%|!ta%}!ta&O!ta&P!ta&Q!ta&X!tai!ta!V!ta!W!ta&Y!ta!Y!ta!^!ta!S!ta#_!tav!ta!n!ta~P#yO|&bO}%ua!{%ua#j%ua%c%ua%f%ua&X%ua~P$gOX&dOquOxvO}%ua!{%ua#j%ua%c%ua%f%ua&X%ua~P'ZO|&bO}%ua!{%ua#j%ua%c%ua%f%ua&X%ua~OPiOXfOquOxvO!RwO!S!QO#OyO#QzO#S{O#U|O#W}O#[!OO#^!PO#a!RO#b!RO#d!SO#f!TO#j%RX%c%RX%f%RX~P'ZO#j#vO%c&iO%f&iO~O!h&jOj&wX%c&wX#_&wX#j&wX%f&wX#^&wX~Oj!nO%c&lO~Omgangaogapgaqgargauga|ga}ga!{ga#jga%cga%fga&Xgaiga!Vga!Wga&Yga!Yga!^ga!Sga#_gavga!nga~P$gOusa|sa}sa#jsa%csa%fsa&Xsa~Om!uOn!vOo!tOp!tOq!wOr!xO!{sa~PDuO&X&nO|&WX}&WX~O&SWO|&WX}&WX~O|&qO}yX~O}&sO~O|%yO#j&[X%c&[X%f&[Xi&[X}&[X!^&[X!n&[X&X&[X~OX1TOq0zOx1YO!RwO~P'ZO&X$]O#jWa%cWa%fWa~O|&|O#j&^X%c&^X%f&^Xp&^X~P$gO|'PO!S'OO#j#Za%c#Za%f#Za~O#_'QO#j#]a%c#]a%f#]a~O!h$gO!u$gO#^'SO&SWO~O#^'SO~O|'UO#j&zX%c&zX%f&zX~O|'WO#j&vX%c&vX%f&vX}&vX~O!Z'YO&X'ZO~O|'_Op&}X~P$gOp'bO~OPiOXfOquOxvO!RwO!S!QO#OyO#QzO#S{O#U|O#W}O#[!OO#^!PO#a!RO#b!RO#d!SO#f!TO%c'gO~P'ZOv'kO#s'iO#t'jOP#qaX#qah#qaj#qaq#qau#qax#qa!R#qa!S#qa!V#qa!W#qa!Z#qa!_#qa!j#qa!u#qa!v#qa!w#qa#O#qa#Q#qa#S#qa#U#qa#W#qa#[#qa#^#qa#a#qa#b#qa#d#qa#f#qa#o#qa#r#qa#v#qa#x#qa#}#qa$Q#qa$S#qa%`#qa%|#qa%}#qa&R#qa&S#qa&h#qa&i#qa&l#qa&o#qa&s#qa&t#qa&u#qa%b#qa%f#qa~O|'lO#_'nO}'OX~Oj'pO!Z'YO~Oj!nO}$wO!Z'YO~O}'vO~P$gO%c'yO~OU'zO%c'yO~OX!fOa!fOc!gOj!nO!Z!pO!h!rO%y!cO%z!dO%{!dO%|!eO%}!eO&O!fO&P!fO&Q!fOmYinYioYipYiqYirYiuYi|Yi}Yi!{Yi#jYi%cYi%fYi%wYi&XYiiYi!VYi!WYi&YYi!YYi!^Yi!SYi#_YivYi!nYi~O%x!bO~P!!`O%xYi~P!!`OX!fOa!fOc!gOj!nO!Z!pO!h!rO%|!eO%}!eO&O!fO&P!fO&Q!fOmYinYioYipYiqYirYiuYi|Yi}Yi!{Yi#jYi%cYi%fYi%wYi%xYi%yYi&XYiiYi!VYi!WYi&YYi!YYi!^Yi!SYi#_YivYi!nYi~O%z!dO%{!dO~P!%ZO%zYi%{Yi~P!%ZOc!gOj!nO!Z!pO!h!rOmYinYioYipYiqYirYiuYi|Yi}Yi!{Yi#jYi%cYi%fYi%wYi%xYi%yYi%zYi%{Yi%|Yi%}Yi&XYiiYi!VYi!WYi&YYi!YYi!^Yi!SYi#_YivYi!nYi~OX!fOa!fO&O!fO&P!fO&Q!fO~P!(XOXYiaYi&OYi&PYi&QYi~P!(XO!V%qO!W%pOi&dX|&dX~O&X'|O&Y'|O~P,QO|(OOi&cX~Oi(QO~O|(RO}(TO!Y&fX~Oq0zOx1YO|(RO}(UO!Y&fX~P'ZO!Y(WO~Oo!tOp!tOq!wOr!xOmliuli|li}li!{li#jli%cli%fli&Xli~On!vO~P!,zOnli~P!,zOm0|On0}Oo0{Op0{Oq1UOr1VO~Ov(YO~P!.TOX(_Oi(`Oq0zOx1YO~P'ZOi(`O|(aO~Oi(cO~O!W(eO~Oi(fO|(aO!V%qO!W%pO~P$gOm0|On0}Oo0{Op0{Oq1UOr1VOisa!Vsa!Wsa&Ysa!Ysa!^sa!Ssa#_savsa!nsa~PDuOX(_Oq0zOx1YO!Y&aa~P'ZO|(iO!Y&aa~O!Y(jO~O|(iO!V%qO!W%pO!Y&aa~P$gOX(nOq0zOx1YO!^&[a#j&[a%c&[a%f&[ai&[a}&[a!n&[a&X&[a~P'ZO|(oO!^&[a#j&[a%c&[a%f&[ai&[a}&[a!n&[a&X&[a~O!^(rO~O|(oO!V%qO!W%pO!^&[a~P$gO|(uO!V%qO!W%pO!^&ba~P$gO|(xO}&pX!^&pX!n&pX~O}({O!^(}O!n)OO~O}({O!^)PO!n)QO~O}({O!^)RO!n)SO~O}({O!^)TO!n)UO~OX&dOquOxvO}%ui!{%ui#j%ui%c%ui%f%ui&X%ui~P'ZO|)VO}%ui!{%ui#j%ui%c%ui%f%ui&X%ui~O!h&jOj&wa%c&wa#_&wa#j&wa%f&wa#^&wa~O%c)[O~OX$SOc$TO&SWO~O|&qO}ya~OquOxvO~P'ZO|(oO#j&[a%c&[a%f&[ai&[a}&[a!^&[a!n&[a&X&[a~P$gO|)aO#j%uX%c%uX%f%uX&X%uX~O&X$]O#jWi%cWi%fWi~O#j&^a%c&^a%f&^ap&^a~P'ZO|)dO#j&^a%c&^a%f&^ap&^a~OX)hOj)jO&SWO~O#^)kO~O&SWO#j&za%c&za%f&za~O|)mO#j&za%c&za%f&za~Oq0zOx1YO#j&va%c&va%f&va}&va~P'ZO|)pO#j&va%c&va%f&va}&va~OX)rOc)rO&SWO~O&X)wO~Ov)zO#m)yOP#kiX#kih#kij#kiq#kiu#kix#ki!R#ki!S#ki!V#ki!W#ki!Z#ki!_#ki!j#ki!u#ki!v#ki!w#ki#O#ki#Q#ki#S#ki#U#ki#W#ki#[#ki#^#ki#a#ki#b#ki#d#ki#f#ki#o#ki#r#ki#v#ki#x#ki#}#ki$Q#ki$S#ki%`#ki%|#ki%}#ki&R#ki&S#ki&h#ki&i#ki&l#ki&o#ki&s#ki&t#ki&u#ki%b#ki%f#ki~Ov){OP#niX#nih#nij#niq#niu#nix#ni!R#ni!S#ni!V#ni!W#ni!Z#ni!_#ni!j#ni!u#ni!v#ni!w#ni#O#ni#Q#ni#S#ni#U#ni#W#ni#[#ni#^#ni#a#ni#b#ni#d#ni#f#ni#o#ni#r#ni#v#ni#x#ni#}#ni$Q#ni$S#ni%`#ni%|#ni%}#ni&R#ni&S#ni&h#ni&i#ni&l#ni&o#ni&s#ni&t#ni&u#ni%b#ni%f#ni~OX)}Op&}a~P'ZO|*OOp&}a~O|*OOp&}a~P$gOp*SO~O%a*WO~Ov*ZO#s'iO#t*YOP#qiX#qih#qij#qiq#qiu#qix#qi!R#qi!S#qi!V#qi!W#qi!Z#qi!_#qi!j#qi!u#qi!v#qi!w#qi#O#qi#Q#qi#S#qi#U#qi#W#qi#[#qi#^#qi#a#qi#b#qi#d#qi#f#qi#o#qi#r#qi#v#qi#x#qi#}#qi$Q#qi$S#qi%`#qi%|#qi%}#qi&R#qi&S#qi&h#qi&i#qi&l#qi&o#qi&s#qi&t#qi&u#qi%b#qi%f#qi~OX*^Oq0zOx1YO}$wO~P'ZOq0zOx1YO}'Oa~P'ZO|*bO}'Oa~OX*fOc*gOi*jO&O*hO&SWO~O}$wO'R*lO~Oj'pO~Oj!nO}$wO~O%c*qO~O%c*sO~OX%[Oc%[Oq0zOx1YOi&ca~P'ZO|*vOi&ca~Oq0zOx1YO}*yO!Y&fa~P'ZO|*zO!Y&fa~Oq0zOx1YO|*zO}*}O!Y&fa~P'ZOq0zOx1YO|*zO!Y&fa~P'ZO|*zO}*}O!Y&fa~Oo0{Op0{Oq1UOr1VOilimliuli|li!Vli!Wli&Yli!Yli}li!^li#jli%cli%fli!Sli#_livli!nli&Xli~On0}O~P!JzOnli~P!JzOX(_Oi+SOq0zOx1YO~P'ZOp+UO~Oi+SO|+WO~Oi+XO~OX(_Oq0zOx1YO!Y&ai~P'ZO|+YO!Y&ai~O!Y+ZO~OX(nOq0zOx1YO!^&[i#j&[i%c&[i%f&[ii&[i}&[i!n&[i&X&[i~P'ZO|+^O!V%qO!W%pO!^&bi~O|+aO!^&[i#j&[i%c&[i%f&[ii&[i}&[i!n&[i&X&[i~O!^+bO~Oc+dOq0zOx1YO!^&bi~P'ZO|+^O!^&bi~O!^+fO~OX+hOq0zOx1YO}&pa!^&pa!n&pa~P'ZO|+iO}&pa!^&pa!n&pa~O!_+lO&r+mO!^!oX~O!^+oO~O}({O!^+pO~O}({O!^+qO~O}({O!^+rO~O}({O!^+sO~OX&dOquOxvO}%uq!{%uq#j%uq%c%uq%f%uq&X%uq~P'ZO|$yi}$yi!{$yi#j$yi%c$yi%f$yi&X$yi~P$gOX&dOquOxvO~P'ZOX&dOq0zOx1YO#j%ua%c%ua%f%ua&X%ua~P'ZO|+tO#j%ua%c%ua%f%ua&X%ua~O|$la#j$la%c$la%f$lap$la~P$gO#j&^i%c&^i%f&^ip&^i~P'ZO|+wO#j#Zq%c#Zq%f#Zq~O|+xO#_+zO#j&yX%c&yX%f&yXi&yX~OX+|Oj)jO&SWO~O&SWO#j&zi%c&zi%f&zi~Oq0zOx1YO#j&vi%c&vi%f&vi}&vi~P'ZO}$[O|#hX!Y#hX~O|,QO!Y&{X~O!Y,SO~Ov,VO#m)yOP#kqX#kqh#kqj#kqq#kqu#kqx#kq!R#kq!S#kq!V#kq!W#kq!Z#kq!_#kq!j#kq!u#kq!v#kq!w#kq#O#kq#Q#kq#S#kq#U#kq#W#kq#[#kq#^#kq#a#kq#b#kq#d#kq#f#kq#o#kq#r#kq#v#kq#x#kq#}#kq$Q#kq$S#kq%`#kq%|#kq%}#kq&R#kq&S#kq&h#kq&i#kq&l#kq&o#kq&s#kq&t#kq&u#kq%b#kq%f#kq~Op%Ta|%Ta~P$gOX)}Op&}i~P'ZO|,^Op&}i~O|,hO}$wO#_,hO~O#t,jOP#qqX#qqh#qqj#qqq#qqu#qqx#qq!R#qq!S#qq!V#qq!W#qq!Z#qq!_#qq!j#qq!u#qq!v#qq!w#qq#O#qq#Q#qq#S#qq#U#qq#W#qq#[#qq#^#qq#a#qq#b#qq#d#qq#f#qq#o#qq#r#qq#v#qq#x#qq#}#qq$Q#qq$S#qq%`#qq%|#qq%}#qq&R#qq&S#qq&h#qq&i#qq&l#qq&o#qq&s#qq&t#qq&u#qq%b#qq%f#qq~O#_,kO|%Va}%Va~Oq0zOx1YO}'Oi~P'ZO|,mO}'Oi~O}$[O&X,oOi'QX|'QX~O&SWOi'QX|'QX~O|,sOi'PX~Oi,uO~O%a,xO~O!V%qO!W%pOi&di|&di~OX%[Oc%[Oq0zOx1YOi&ci~P'ZO},{O|$oa!Y$oa~Oq0zOx1YO},|O|$oa!Y$oa~P'ZOq0zOx1YO}*yO!Y&fi~P'ZO|-PO!Y&fi~Oq0zOx1YO|-PO!Y&fi~P'ZO|-PO}-SO!Y&fi~Oi$ki|$ki!Y$ki~P$gOX(_Oq0zOx1YO~P'ZOp-UO~OX(_Oi-VOq0zOx1YO~P'ZOX(_Oq0zOx1YO!Y&aq~P'ZO|$ji!^$ji#j$ji%c$ji%f$jii$ji}$ji!n$ji&X$ji~P$gOX(nOq0zOx1YO~P'ZOc+dOq0zOx1YO!^&bq~P'ZO|-WO!^&bq~O!^-XO~OX(nOq0zOx1YO!^&[q#j&[q%c&[q%f&[qi&[q}&[q!n&[q&X&[q~P'ZO}-YO~OX+hOq0zOx1YO}&pi!^&pi!n&pi~P'ZO|-_O}&pi!^&pi!n&pi~O!_+lO&r+mO!^!oa~OX&dOq0zOx1YO#j%ui%c%ui%f%ui&X%ui~P'ZO|-bO#j%ui%c%ui%f%ui&X%ui~O&SWO#j&ya%c&ya%f&yai&ya~O|-eO#j&ya%c&ya%f&yai&ya~Oi-hO~OX)rOc)rO&SWO!Y&{a~O|-jO!Y&{a~Op%Ti|%Ti~P$gOX)}O~P'ZOX)}Op&}q~P'ZOv-nOP#pyX#pyh#pyj#pyq#pyu#pyx#py!R#py!S#py!V#py!W#py!Z#py!_#py!j#py!u#py!v#py!w#py#O#py#Q#py#S#py#U#py#W#py#[#py#^#py#a#py#b#py#d#py#f#py#o#py#r#py#v#py#x#py#}#py$Q#py$S#py%`#py%|#py%}#py&R#py&S#py&h#py&i#py&l#py&o#py&s#py&t#py&u#py%b#py%f#py~O%b-rO%f-rO~P`O#t-sOP#qyX#qyh#qyj#qyq#qyu#qyx#qy!R#qy!S#qy!V#qy!W#qy!Z#qy!_#qy!j#qy!u#qy!v#qy!w#qy#O#qy#Q#qy#S#qy#U#qy#W#qy#[#qy#^#qy#a#qy#b#qy#d#qy#f#qy#o#qy#r#qy#v#qy#x#qy#}#qy$Q#qy$S#qy%`#qy%|#qy%}#qy&R#qy&S#qy&h#qy&i#qy&l#qy&o#qy&s#qy&t#qy&u#qy%b#qy%f#qy~O|-vO}$wO#_-vO~Oq0zOx1YO}'Oq~P'ZO|-yO}'Oq~O&X,oOi'Qa|'Qa~OX*fOc*gO&O*hO&SWOi'Pa~O|-}Oi'Pa~O$V.RO~OX%[Oc%[Oq0zOx1YO~P'ZOq0zOx1YO}.SO|$oi!Y$oi~P'ZOq0zOx1YO|$oi!Y$oi~P'ZO}.SO|$oi!Y$oi~Oq0zOx1YO}*yO~P'ZOq0zOx1YO}*yO!Y&fq~P'ZO|.VO!Y&fq~Oq0zOx1YO|.VO!Y&fq~P'ZOu.YO!V%qO!W%pOi&]q!Y&]q!^&]q|&]q~P!.TOc+dOq0zOx1YO!^&by~P'ZO|$mi!^$mi~P$gOc+dOq0zOx1YO~P'ZOX+hOq0zOx1YO~P'ZOX+hOq0zOx1YO}&pq!^&pq!n&pq~P'ZO}({O!^.^O!n._O~OX&dOq0zOx1YO#j%uq%c%uq%f%uq&X%uq~P'ZO#_.`O|%Oa#j%Oa%c%Oa%f%Oai%Oa~O&SWO#j&yi%c&yi%f&yii&yi~O|.bO#j&yi%c&yi%f&yii&yi~OX)rOc)rO&SWO!Y&{i~Ov.fOP#p!RX#p!Rh#p!Rj#p!Rq#p!Ru#p!Rx#p!R!R#p!R!S#p!R!V#p!R!W#p!R!Z#p!R!_#p!R!j#p!R!u#p!R!v#p!R!w#p!R#O#p!R#Q#p!R#S#p!R#U#p!R#W#p!R#[#p!R#^#p!R#a#p!R#b#p!R#d#p!R#f#p!R#o#p!R#r#p!R#v#p!R#x#p!R#}#p!R$Q#p!R$S#p!R%`#p!R%|#p!R%}#p!R&R#p!R&S#p!R&h#p!R&i#p!R&l#p!R&o#p!R&s#p!R&t#p!R&u#p!R%b#p!R%f#p!R~Oq0zOx1YO}'Oy~P'ZOX*fOc*gO&O*hO&SWOi'Pi~O$V.RO%b.nO%f.nO~OX.xOj.vO!Z.uO!_.wO!j.qO!v.sO!w.sO%}.pO&SWO&h]O&i^O&l_O~Oq0zOx1YO|$oq!Y$oq~P'ZO}.}O|$oq!Y$oq~Oq0zOx1YO}*yO!Y&fy~P'ZO|/OO!Y&fy~Oq0zOx/SO~P'ZOu.YO!V%qO!W%pOi&]y!Y&]y!^&]y|&]y~P!.TO}({O!^/VO~O&SWO#j&yq%c&yq%f&yqi&yq~O|/XO#j&yq%c&yq%f&yqi&yq~OX*fOc*gO&O*hO&SWO~Oj/^O!h/[O|$WX#_$WX%w$WXi$WX~Ou$WX}$WX!Y$WX!^$WX~P$&lO%|/`O%}/`Ou$XX|$XX}$XX#_$XX%w$XX!Y$XXi$XX!^$XX~O!j/bO~O|/fO#_/hO%w/cOu'SX}'SX!Y'SXi'SX~Oc/kO~P$!|Oj/^Ou'TX|'TX}'TX#_'TX%w'TX!Y'TXi'TX!^'TX~Ou/oO}$wO~Oq0zOx1YO|$oy!Y$oy~P'ZOq0zOx1YO}*yO!Y&f!R~P'ZO|/sO!Y&f!R~Oi&`Xu&`X!V&`X!W&`X!Y&`X!^&`X|&`X~P!.TOu.YO!V%qO!W%pOi&_a!Y&_a!^&_a|&_a~O&SWO#j&yy%c&yy%f&yyi&yy~O!h/[Oj$_au$_a|$_a}$_a#_$_a%w$_a!Y$_ai$_a!^$_a~O!j/|O~O%|/`O%}/`Ou$Xa|$Xa}$Xa#_$Xa%w$Xa!Y$Xai$Xa!^$Xa~O%w/cOu$]a|$]a}$]a#_$]a!Y$]ai$]a!^$]a~Ou'Sa}'Sa!Y'Sai'Sa~P$!pO|0ROu'Sa}'Sa!Y'Sai'Sa~O!Y0UO~Oi0UO~O}0WO~O!^0XO~Oq0zOx1YO}*yO!Y&f!Z~P'ZO}0[O~O&X0]O~P$&lO|0^O#_/hO%w/cOi'VX~O|0^Oi'VX~Oi0`O~O!j0aO~O#_/hOu%Za|%Za}%Za%w%Za!Y%Zai%Za!^%Za~O#_/hO%w/cOu%_a|%_a}%_a!Y%_ai%_a~Ou'Si}'Si!Y'Sii'Si~P$!pO|0cO#_/hO%w/cO!^'Ua~O}$ga~P$gOi'Va~P$!pO|0kOi'Va~Oc0mO!^'Ui~P$!|O|0oO!^'Ui~O|0oO#_/hO%w/cO!^'Ui~O#_/hO%w/cOi$ei|$ei~O&X0rO~P$&lO#_/hO%w/cOi%^a|%^a~Oi'Vi~P$!pO}0uO~Oc0mO!^'Uq~P$!|O|0wO!^'Uq~O#_/hO%w/cO|%]i!^%]i~Oc0mO~P$!|Oc0mO!^'Uy~P$!|O#_/hO%w/cOi$fi|$fi~O#_/hO%w/cO|%]q!^%]q~O|+tO#j%ua%c%ua%f%ua&X%ua~P$gOX&dOq0zOx1YO~P'ZOp1PO~Oq1PO~P'ZO}1QO~Ov1RO~P!.TO&i&l&t&u&h&o&s&S&h~",goto:"!?b'WPPPPPPPP'XP'a*|+f,P,k-W-tP.cP'a/S/S'aPPP'a2oPPPPPP2o5fPP5fP7y8S>fPP>i?Z?^PP'a'aPP?vPP'a'aPP'a'a'a'a'a?z@t'aP@wP@}EXHxPH|IYI^IbIf'aPPPIjIs'XP'X'XP'XP'XP'XP'XP'X'X'XP'XPP'XPP'XP'XPIyJVJ_PJfJlPJfPJfJfPPPJfPLzPMTM_MeLzPJfMnPJfPMuM{PNPNe! S! mNPNP! s!!QNPNPNPNP!!f!!l!!o!!t!!w!#R!#X!#e!#w!#}!$X!$_!${!%R!%X!%_!%i!%o!%u!%{!&R!&X!&k!&u!&{!'R!'X!'c!'i!'o!'u!'{!(V!(]!(g!(m!(v!(|!)]!)e!)o!)vPPPPPPPPPPPPPPPPP!)|!*P!*V!*`!*j!*uPPPPPPPPPPPP!/l!1Q!5T!8hPP!8p!9S!9]!:U!9{!:_!:e!:h!:k!:n!:v!;gPPPPPPPPP!;j!;yPPPP!<i!<u!=R!=X!=b!=e!=h!=n!=t!=z!=}P!>V!>`!?[!?_]jOs#v$w*W,d(TeOTYZ[fistuwy}!O!S!U!V!W!Z!^!h!i!j!k!l!m!n!p!t!u!v!x!y#P#T#X#Y#c#g#j#m#s#v$X$Y$[$^$a$r$t$u$w%O%[%a%h%k%m%p%t%y%{&V&b&d&o&s&|'O'P'W'Z'_'b'i'l'}(O(R(T(U(Y(_(a(e(i(n(o(u(x)V)X)a)d)p)w)y)}*O*S*W*^*b*l*v*y*z*}+T+U+W+Y+]+^+a+d+h+i+l+t+v+w,O,],^,d,l,m,p,z,{,|-O-P-S-U-W-Y-[-^-_-b-y-{.S.V.Y.}/O/o/s0[0z0{0|0}1P1Q1R1S1T1V1Z}!hQ#r$P$b$q$}%r%w%}&O&t'a'x)W)c)|+R+[,[-Z0Y1O!P!iQ#r$P$b$q$}%S%r%w%}&O&t'a'x)W)c)|+R+[,[-Z0Y1O!R!jQ#r$P$b$q$}%S%T%r%w%}&O&t'a'x)W)c)|+R+[,[-Z0Y1O!T!kQ#r$P$b$q$}%S%T%U%r%w%}&O&t'a'x)W)c)|+R+[,[-Z0Y1O!V!lQ#r$P$b$q$}%S%T%U%V%r%w%}&O&t'a'x)W)c)|+R+[,[-Z0Y1O!X!mQ#r$P$b$q$}%S%T%U%V%W%r%w%}&O&t'a'x)W)c)|+R+[,[-Z0Y1O!]!mQ!s#r$P$b$q$}%S%T%U%V%W%X%r%w%}&O&t'a'x)W)c)|+R+[,[-Z0Y1O(TTOTYZ[fistuwy}!O!S!U!V!W!Z!^!h!i!j!k!l!m!n!p!t!u!v!x!y#P#T#X#Y#c#g#j#m#s#v$X$Y$[$^$a$r$t$u$w%O%[%a%h%k%m%p%t%y%{&V&b&d&o&s&|'O'P'W'Z'_'b'i'l'}(O(R(T(U(Y(_(a(e(i(n(o(u(x)V)X)a)d)p)w)y)}*O*S*W*^*b*l*v*y*z*}+T+U+W+Y+]+^+a+d+h+i+l+t+v+w,O,],^,d,l,m,p,z,{,|-O-P-S-U-W-Y-[-^-_-b-y-{.S.V.Y.}/O/o/s0[0z0{0|0}1P1Q1R1S1T1V1Z&iVOYZ[isuw}!O!S!U!V!Z!n!p!t!u!v!x!y#c#g#j#m#s#v$Y$[$^$a$u$w%[%a%h%k%m%t%y%{&V&b&o&s'O'P'W'Z'b'i'l'}(O(R(T(U(Y(a(i(o(u(x)V)X)a)p)w)y*S*W*^*b*l*v*y*z*}+T+U+W+Y+]+^+a+h+i+l+t+w,O,d,l,m,p,z,{,|-O-P-S-U-W-Y-[-^-_-b-y-{.S.V.Y.}/O/s0[0z0{0|0}1P1Q1R1S1V1Z%sXOYZ[isw}!O!S!U!V!Z!n!p#c#g#j#m#s#v$Y$[$^$a$u$w%[%a%k%m%t%y%{&V&b&o&s'O'P'W'Z'b'i'l'}(O(R(T(U(Y(a(i(o(u(x)V)X)a)p)w)y*S*W*^*b*l*v*y*z*}+T+W+Y+]+^+a+h+i+l+t+w,O,d,l,m,p,z,{,|-O-P-S-W-Y-[-^-_-b-y-{.S.V.}/O/s1Q1R1SQ$VvQ/t/SR1W1Y'zeOTYZ[fistuwy}!O!S!U!V!W!Z!^!h!i!j!k!l!m!p!t!u!v!x!y#P#T#X#Y#c#g#j#m#s#v$X$Y$[$^$a$r$t$u$w%O%[%a%h%k%m%p%t%y%{&V&b&d&o&s&|'O'P'W'Z'_'b'i'l'}(R(T(U(Y(_(a(e(i(n(o(u(x)V)X)a)d)p)w)y)}*O*S*W*^*b*l*y*z*}+T+U+W+Y+]+^+a+d+h+i+l+t+v+w,O,],^,d,l,m,p,{,|-O-P-S-U-W-Y-[-^-_-b-y-{.S.V.Y.}/O/o/s0[0z0{0|0}1P1Q1R1S1T1V1ZW#ym!P!Q$hW$Rv&q/S1YQ$j!RQ$n!TQ${![Q$|!]W%Z!n(O*v,zS&p$S$TQ'e$vQ)Y&jQ)h'QU)i'S)j)kU)l'U)m+}W)s'Y,Q-j.dQ*d'nW*e'p,s-}.lQ,P)rS,r*f*gY-d+x-e.a.b/XQ-g+zQ-t,hQ-x,kQ.j-vl.o.R.u.v.x/d/f/k0R0W0]0b0m0r0uQ/W.`Q/l.wQ/x/^Q0T/hU0h0^0k0sX0n0c0o0v0wR&o$R!_!|YZ!U!V!p%a%m%t(R(T(U(a(i)y*y*z*}+T+W+Y,{,|-O-P-S.S.V.}/O/sR%k!{Q#QYQ&W#cQ&Z#gQ&]#jQ&_#mQ&x$^Q&{$aR-`+lT/R.Y0[![!oQ!s#r$P$b$q$}%S%T%U%V%W%X%r%w%}&O&t'a'x)W)c)|+R+[,[-Z0Y1OQ&m#zQ't$|R*p'uR'}%ZQ%d!rR/v/[(SdOTYZ[fistuwy}!O!S!U!V!W!Z!^!h!i!j!k!l!m!n!p!t!u!v!x!y#P#T#X#Y#c#g#j#m#s#v$X$Y$[$^$a$r$t$u$w%O%[%a%h%k%m%p%t%y%{&V&b&d&o&s&|'O'P'W'Z'_'b'i'l'}(O(R(T(U(Y(_(a(e(i(n(o(u(x)V)X)a)d)p)w)y)}*O*S*W*^*b*l*v*y*z*}+T+U+W+Y+]+^+a+d+h+i+l+t+v+w,O,],^,d,l,m,p,z,{,|-O-P-S-U-W-Y-[-^-_-b-y-{.S.V.Y.}/O/o/s0[0z0{0|0}1P1Q1R1S1T1V1ZS#pd#q!P.s.R.u.v.w.x/^/d/f/k0R0W0]0^0b0c0k0m0o0r0s0u0v0w(SdOTYZ[fistuwy}!O!S!U!V!W!Z!^!h!i!j!k!l!m!n!p!t!u!v!x!y#P#T#X#Y#c#g#j#m#s#v$X$Y$[$^$a$r$t$u$w%O%[%a%h%k%m%p%t%y%{&V&b&d&o&s&|'O'P'W'Z'_'b'i'l'}(O(R(T(U(Y(_(a(e(i(n(o(u(x)V)X)a)d)p)w)y)}*O*S*W*^*b*l*v*y*z*}+T+U+W+Y+]+^+a+d+h+i+l+t+v+w,O,],^,d,l,m,p,z,{,|-O-P-S-U-W-Y-[-^-_-b-y-{.S.V.Y.}/O/o/s0[0z0{0|0}1P1Q1R1S1T1V1ZT#pd#qT#d`#ee(|&W&Z&]&_)O)Q)S)U-`._T+m({+nT#ha#iT#kb#lT#nc#oQ$`xQ,P)sR,q*eX$^x$_$`&zQ'[$nQ'r${Q'u$|R*V'eQ)t'YV-i,Q-j.dZlOs$w*W,dXpOs*W,dQ$x!YQ']$oQ'^$pQ'o$zQ's$|Q*T'dQ*['iQ*_'jQ*`'kQ*m'qS*o't'uQ,W)yQ,Y)zQ,Z){Q,_*RS,a*U*nQ,e*YQ,f*ZS,g*]*^Q,w*pQ-l,VQ-m,XQ-o,`S-p,b,cQ-u,iQ-w,jQ.e-nQ.g-qQ.h-sQ.i-tQ/Y.fQ/Z.jQ/p.{R0Z/qWpOs*W,dR#|oQ'q${S*U'e'rR,c*VQ,p*eR-{,qQ*n'qQ,b*UR-q,cZnOos*W,dQ'w$}R*r'xT.P,x.Qu.z.R.u.v.x/^/d/f/k0R0W0]0^0b0k0m0r0s0ut.z.R.u.v.x/^/d/f/k0R0W0]0^0b0k0m0r0s0uQ/l.wX0n0c0o0v0w!P.r.R.u.v.w.x/^/d/f/k0R0W0]0^0b0c0k0m0o0r0s0u0v0wQ/a.qR/}/bg/d.t/e/y0Q0V0e0g0i0t0x0yu.y.R.u.v.x/^/d/f/k0R0W0]0^0b0k0m0r0s0uX/_.o.y/x0hR/z/^V0j0^0k0sR/q.{QsOS$Os,dR,d*WQ&r$UR)_&rS%z#W$WS(p%z(sT(s%}&tQ%n#OQ%u#SW(b%n%u(g(kQ(g%rR(k%wQ&}$bR)e&}Q(v&OQ+_(qT+e(v+_Q(P%]R*w(PS(S%`%aY*{(S*|-Q.W/PU*|(T(U(VU-Q*}+O+PS.W-R-SR/P.XQ#_^R&R#_Q#b_R&T#bQ#e`R&X#eQ(y&US+j(y+kR+k(zQ+n({R-a+nQ#iaR&[#iQ#lbR&^#lQ#ocR&`#oQ#qdR&a#qQ#tgQ&c#rW&f#t&c)b+uQ)b&wR+u1OQ$_xS&y$_&zR&z$`Q'X$lR)q'XQ&k#yR)Z&kQ$h!QR'R$hQ+y)iS-f+y.cR.c-gQ'V$jR)n'VQ,R)tR-k,RQ#wkR&h#wQ)x']R,U)xQ'`$qS*P'`*QR*Q'aQ'h$xR*X'hQ'm$yS*c'm,nR,n*dQ,t*iR.O,tWoOs*W,dR#{oQ.Q,xR.m.Qd/e.t/y0Q0V0e0g0i0t0x0yR0P/eU/].o/x0hR/w/]Q0d0VS0p0d0qR0q0eS0_/y/zR0l0_Q/g.tR0S/gR!`PXrOs*W,dWqOs*W,dR'f$wYkOs$w*W,dR&g#v[xOs#v$w*W,dR&x$^&hQOYZ[isuw}!O!S!U!V!Z!n!p!t!u!v!x!y#c#g#j#m#s#v$Y$[$^$a$u$w%[%a%h%k%m%t%y%{&V&b&o&s'O'P'W'Z'b'i'l'}(O(R(T(U(Y(a(i(o(u(x)V)X)a)p)w)y*S*W*^*b*l*v*y*z*}+T+U+W+Y+]+^+a+h+i+l+t+w,O,d,l,m,p,z,{,|-O-P-S-U-W-Y-[-^-_-b-y-{.S.V.Y.}/O/s0[0z0{0|0}1P1Q1R1S1V1ZQ!sTQ#rfQ$PtU$by%p(eS$q!W$tQ$}!^Q%S!hQ%T!iQ%U!jQ%V!kQ%W!lQ%X!mQ%r#PQ%w#TQ%}#XQ&O#YQ&t$XQ'a$rQ'x%OQ)W&dU)c&|)d+vW)|'_*O,],^Q+R(_Q+[(nQ,[)}Q-Z+dQ0Y/oR1O1TQ#OYQ#SZQ$o!UQ$p!VQ%`!pQ(V%a^(^%m%t(a(i+T+W+Y^*x(R*z-O-P.V/O/sQ+O(TQ+P(UQ,X)yQ,}*yQ-R*}Q.T,{Q.U,|Q.X-SQ.|.SR/r.}[gOs#v$w*W,d!^!{YZ!U!V!p%a%m%t(R(T(U(a(i)y*y*z*}+T+W+Y,{,|-O-P-S.S.V.}/O/sQ#W[Q#uiS$Ww}Q$e!OW$l!S$a'b*SS$y!Z$uW%Y!n(O*v,zY&U#c#g#j#m+l`&e#s&b)V)X)a+t-b1SQ&u$YQ&v$[Q&w$^Q'{%[Q(]%kW(m%y(o+]+aQ(q%{Q(z&VQ)]&oS)`&s1QQ)f'OQ)g'PU)o'W)p,OQ)v'ZQ*]'iY*a'l*b,l,m-yQ*t'}S+Q(Y1RW+c(u+^-W-[W+g(x+i-^-_Q,T)wQ,i*^Q,v*lQ-]+hQ-c+wQ-z,pQ.]-YR.k-{hUOs#s#v$w&b&s(Y)V)X*W,d%Y!zYZ[iw}!O!S!U!V!Z!n!p#c#g#j#m$Y$[$^$a$u%[%a%k%m%t%y%{&V&o'O'P'W'Z'b'i'l'}(O(R(T(U(a(i(o(u(x)a)p)w)y*S*^*b*l*v*y*z*}+T+W+Y+]+^+a+h+i+l+t+w,O,l,m,p,z,{,|-O-P-S-W-Y-[-^-_-b-y-{.S.V.}/O/s1Q1R1SQ$QuW%e!t!x0{1VQ%f!uQ%g!vQ%i!yQ%s0zS(X%h1PQ(Z0|Q([0}Q-T+UQ.[-US/Q.Y0[R1X1ZU$Uv/S1YR)^&q[hOs#v$w*W,da!}Y#c#g#j#m$^$a+lQ#][Q$ZwR$d}Q%o#OQ%v#SQ%|#WQ'{%YQ(h%rQ(l%wQ(t%}Q(w&OQ+`(qQ,y*tQ.Z-TQ/U.[R/u/TQ$cyQ(d%pR+V(eQ/T.YR0f0[R#VZR#[[R%_!nQ%]!nV*u(O*v,z!]!qQ!s#r$P$b$q$}%S%T%U%V%W%X%r%w%}&O&t'a'x)W)c)|+R+[,[-Z0Y1OR%b!pQ&W#cQ&Z#gQ&]#jQ&_#mR-`+lQ(}&WQ)P&ZQ)R&]Q)T&_Q+p)OQ+q)QQ+r)SQ+s)UQ.^-`R/V._Q$m!SQ&{$aQ*R'bR,`*SQ#zmQ$f!PQ$i!QR'T$hQ)h'SR+|)kQ)h'SQ+{)jR+|)kR$k!RR)u'YXqOs*W,dQ$s!WR'c$tQ$z!ZR'd$uR*k'pQ*i'pV-|,s-}.lQ.{.RQ/i.uR/j.vU.t.R.u.vQ/n.xQ/y/^Q0O/dU0Q/f0R0bQ0V/kQ0e0WQ0g0]U0i0^0k0sQ0t0mQ0x0rR0y0uR/m.wR/{/^",nodeNames:"\u26a0 print { { { { Comment Script AssignStatement * BinaryExpression BitOp BitOp BitOp BitOp ArithOp ArithOp @ ArithOp ** UnaryExpression ArithOp BitOp AwaitExpression await ) ( ParenthesizedExpression BinaryExpression or and CompareOp in not is UnaryExpression ConditionalExpression if else LambdaExpression lambda ParamList VariableName AssignOp , : NamedExpression AssignOp YieldExpression yield from TupleExpression ComprehensionExpression async for LambdaExpression ] [ ArrayExpression ArrayComprehensionExpression } { DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression CallExpression ArgList AssignOp MemberExpression . PropertyName Number String FormatString FormatReplacement FormatConversion FormatSpec FormatReplacement FormatReplacement FormatReplacement FormatReplacement ContinuedString Ellipsis None Boolean TypeDef AssignOp UpdateStatement UpdateOp ExpressionStatement DeleteStatement del PassStatement pass BreakStatement break ContinueStatement continue ReturnStatement return YieldStatement PrintStatement RaiseStatement raise ImportStatement import as ScopeStatement global nonlocal AssertStatement assert TypeDefinition type TypeParamList TypeParam StatementGroup ; IfStatement Body elif WhileStatement while ForStatement TryStatement try except finally WithStatement with FunctionDefinition def ParamList AssignOp TypeDef ClassDefinition class DecoratedStatement Decorator At MatchStatement match MatchBody MatchClause case CapturePattern LiteralPattern ArithOp ArithOp AsPattern OrPattern LogicOp AttributePattern SequencePattern MappingPattern StarPattern ClassPattern PatternArgList KeywordPattern KeywordPattern Guard",maxTerm:283,context:gA,nodeProps:[["group",-15,8,88,90,91,93,95,97,99,101,102,103,105,108,111,113,"Statement Statement",-22,10,20,23,27,42,51,52,58,59,62,63,64,65,66,69,72,73,74,82,83,84,85,"Expression",-10,117,119,122,124,125,129,131,136,138,141,"Statement",-9,146,147,150,151,153,154,155,156,157,"Pattern"],["openedBy",25,"(",56,"[",60,"{"],["closedBy",26,")",57,"]",61,"}"]],propSources:[bA],skippedNodes:[0,6],repeatNodeCount:38,tokenData:"%-W#sR!`OX%TXY=|Y[%T[]=|]p%Tpq=|qr@_rsDOst!+|tu%Tuv!Nnvw#!|wx#$Wxy#:Uyz#;Yz{#<^{|#>x|}#@S}!O#AW!O!P#Ci!P!Q#N_!Q!R$!y!R![$&w![!]$1e!]!^$3s!^!_$4w!_!`$7c!`!a$8m!a!b%T!b!c$;U!c!d$<b!d!e$>W!e!h$<b!h!i$H[!i!t$<b!t!u%#r!u!w$<b!w!x$Fl!x!}$<b!}#O%%z#O#P?d#P#Q%'O#Q#R%(S#R#S$<b#S#T%T#T#U$<b#U#V$>W#V#Y$<b#Y#Z$H[#Z#f$<b#f#g%#r#g#i$<b#i#j$Fl#j#o$<b#o#p%)^#p#q%*S#q#r%+^#r#s%,S#s$g%T$g;'S$<b;'S;=`$>Q<%lO$<b!n%^]&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!n&^]&r!b&jSOr%Trs'Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!n'^]&r!b&jSOr%Trs(Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!f(^Z&r!b&jSOw(Vwx)Px#O(V#O#P+Z#P#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`/R<%lO(V!f)UZ&r!bOw(Vwx)wx#O(V#O#P+Z#P#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`/R<%lO(V!f)|Z&r!bOw(Vwx*ox#O(V#O#P+Z#P#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`/R<%lO(V!b*tT&r!bO#o*o#p#q*o#r;'S*o;'S;=`+T<%lO*o!b+WP;=`<%l*o!f+`W&r!bO#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`.d;=`<%l+x<%lO(VS+}V&jSOw+xwx,dx#O+x#O#P-c#P;'S+x;'S;=`.^<%lO+xS,gVOw+xwx,|x#O+x#O#P-c#P;'S+x;'S;=`.^<%lO+xS-PUOw+xx#O+x#O#P-c#P;'S+x;'S;=`.^<%lO+xS-fRO;'S+x;'S;=`-o;=`O+xS-tW&jSOw+xwx,dx#O+x#O#P-c#P;'S+x;'S;=`.^;=`<%l+x<%lO+xS.aP;=`<%l+x!f.iW&jSOw+xwx,dx#O+x#O#P-c#P;'S+x;'S;=`.^;=`<%l(V<%lO+x!f/UP;=`<%l(V!n/`]&r!b&mWOr%Trs&Vsw%Twx0Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!n0`]&r!b&mWOr%Trs&Vsw%Twx1Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!j1`Z&r!b&mWOr1Xrs2Rs#O1X#O#P3q#P#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`7i<%lO1X!j2WZ&r!bOr1Xrs2ys#O1X#O#P3q#P#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`7i<%lO1X!j3OZ&r!bOr1Xrs*os#O1X#O#P3q#P#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`7i<%lO1X!j3vW&r!bO#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`6z;=`<%l4`<%lO1XW4eV&mWOr4`rs4zs#O4`#O#P5y#P;'S4`;'S;=`6t<%lO4`W4}VOr4`rs5ds#O4`#O#P5y#P;'S4`;'S;=`6t<%lO4`W5gUOr4`s#O4`#O#P5y#P;'S4`;'S;=`6t<%lO4`W5|RO;'S4`;'S;=`6V;=`O4`W6[W&mWOr4`rs4zs#O4`#O#P5y#P;'S4`;'S;=`6t;=`<%l4`<%lO4`W6wP;=`<%l4`!j7PW&mWOr4`rs4zs#O4`#O#P5y#P;'S4`;'S;=`6t;=`<%l1X<%lO4`!j7lP;=`<%l1X!n7tW&r!bO#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=P;=`<%l8^<%lO%T[8eX&jS&mWOr8^rs9Qsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^[9VX&jSOr8^rs9rsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^[9wX&jSOr8^rs+xsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^[:iX&mWOr8^rs9Qsw8^wx;Ux#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^[;ZX&mWOr8^rs9Qsw8^wx4`x#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^[;yRO;'S8^;'S;=`<S;=`O8^[<ZY&jS&mWOr8^rs9Qsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y;=`<%l8^<%lO8^[<|P;=`<%l8^!n=WY&jS&mWOr8^rs9Qsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y;=`<%l%T<%lO8^!n=yP;=`<%l%T#s>Xc&r!b&jS&mW%p!TOX%TXY=|Y[%T[]=|]p%Tpq=|qr%Trs&Vsw%Twx/Xx#O%T#O#P?d#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#s?i[&r!bOY%TYZ=|Z]%T]^=|^#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=P;=`<%l8^<%lO%T!q@hd&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`Av!`#O%T#O#P7o#P#T%T#T#UBz#U#f%T#f#gBz#g#hBz#h#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!qBR]oR&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!qCV]!nR&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#cDXa&r!b&jS&hsOYE^YZ%TZ]E^]^%T^rE^rs!)|swE^wxGpx#OE^#O#P!!u#P#oE^#o#p!#d#p#qE^#q#r!#d#r;'SE^;'S;=`!)v<%lOE^#cEia&r!b&jS&mW&hsOYE^YZ%TZ]E^]^%T^rE^rsFnswE^wxGpx#OE^#O#P!!u#P#oE^#o#p!#d#p#qE^#q#r!#d#r;'SE^;'S;=`!)v<%lOE^#cFw]&r!b&jS&hsOr%Trs'Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#cGya&r!b&mW&hsOYE^YZ%TZ]E^]^%T^rE^rsFnswE^wxIOx#OE^#O#P!!u#P#oE^#o#p!#d#p#qE^#q#r!#d#r;'SE^;'S;=`!)v<%lOE^#cIXa&r!b&mW&hsOYE^YZ%TZ]E^]^%T^rE^rsFnswE^wxJ^x#OE^#O#P!!u#P#oE^#o#p!#d#p#qE^#q#r!#d#r;'SE^;'S;=`!)v<%lOE^#_Jg_&r!b&mW&hsOYJ^YZ1XZ]J^]^1X^rJ^rsKfs#OJ^#O#PL`#P#oJ^#o#pL}#p#qJ^#q#rL}#r;'SJ^;'S;=`!!o<%lOJ^#_KmZ&r!b&hsOr1Xrs2ys#O1X#O#P3q#P#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`7i<%lO1X#_LeW&r!bO#oJ^#o#pL}#p#qJ^#q#rL}#r;'SJ^;'S;=`! r;=`<%lL}<%lOJ^{MUZ&mW&hsOYL}YZ4`Z]L}]^4`^rL}rsMws#OL}#O#PNc#P;'SL};'S;=`! l<%lOL}{M|V&hsOr4`rs5ds#O4`#O#P5y#P;'S4`;'S;=`6t<%lO4`{NfRO;'SL};'S;=`No;=`OL}{Nv[&mW&hsOYL}YZ4`Z]L}]^4`^rL}rsMws#OL}#O#PNc#P;'SL};'S;=`! l;=`<%lL}<%lOL}{! oP;=`<%lL}#_! y[&mW&hsOYL}YZ4`Z]L}]^4`^rL}rsMws#OL}#O#PNc#P;'SL};'S;=`! l;=`<%lJ^<%lOL}#_!!rP;=`<%lJ^#c!!zW&r!bO#oE^#o#p!#d#p#qE^#q#r!#d#r;'SE^;'S;=`!(q;=`<%l!#d<%lOE^!P!#m]&jS&mW&hsOY!#dYZ8^Z]!#d]^8^^r!#drs!$fsw!#dwx!%Yx#O!#d#O#P!'Y#P;'S!#d;'S;=`!(k<%lO!#d!P!$mX&jS&hsOr8^rs9rsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^!P!%a]&mW&hsOY!#dYZ8^Z]!#d]^8^^r!#drs!$fsw!#dwx!&Yx#O!#d#O#P!'Y#P;'S!#d;'S;=`!(k<%lO!#d!P!&a]&mW&hsOY!#dYZ8^Z]!#d]^8^^r!#drs!$fsw!#dwxL}x#O!#d#O#P!'Y#P;'S!#d;'S;=`!(k<%lO!#d!P!']RO;'S!#d;'S;=`!'f;=`O!#d!P!'o^&jS&mW&hsOY!#dYZ8^Z]!#d]^8^^r!#drs!$fsw!#dwx!%Yx#O!#d#O#P!'Y#P;'S!#d;'S;=`!(k;=`<%l!#d<%lO!#d!P!(nP;=`<%l!#d#c!(z^&jS&mW&hsOY!#dYZ8^Z]!#d]^8^^r!#drs!$fsw!#dwx!%Yx#O!#d#O#P!'Y#P;'S!#d;'S;=`!(k;=`<%lE^<%lO!#d#c!)yP;=`<%lE^#c!*V]&r!b&jS&hsOr%Trs!+Osw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c!+ZZ&nW&r!b&jS&lsOw(Vwx)Px#O(V#O#P+Z#P#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`/R<%lO(V#s!,XaU!T&r!b&jS&mWOY!+|YZ%TZ]!+|]^%T^r!+|rs!-^sw!+|wx!:hx#O!+|#O#P!FW#P#o!+|#o#p!GT#p#q!+|#q#r!GT#r;'S!+|;'S;=`!Nh<%lO!+|#s!-gaU!T&r!b&jSOY!+|YZ%TZ]!+|]^%T^r!+|rs!.lsw!+|wx!:hx#O!+|#O#P!FW#P#o!+|#o#p!GT#p#q!+|#q#r!GT#r;'S!+|;'S;=`!Nh<%lO!+|#s!.uaU!T&r!b&jSOY!+|YZ%TZ]!+|]^%T^r!+|rs!/zsw!+|wx!:hx#O!+|#O#P!FW#P#o!+|#o#p!GT#p#q!+|#q#r!GT#r;'S!+|;'S;=`!Nh<%lO!+|#k!0T_U!T&r!b&jSOY!/zYZ(VZ]!/z]^(V^w!/zwx!1Sx#O!/z#O#P!4z#P#o!/z#o#p!5w#p#q!/z#q#r!5w#r;'S!/z;'S;=`!:b<%lO!/z#k!1Z_U!T&r!bOY!/zYZ(VZ]!/z]^(V^w!/zwx!2Yx#O!/z#O#P!4z#P#o!/z#o#p!5w#p#q!/z#q#r!5w#r;'S!/z;'S;=`!:b<%lO!/z#k!2a_U!T&r!bOY!/zYZ(VZ]!/z]^(V^w!/zwx!3`x#O!/z#O#P!4z#P#o!/z#o#p!5w#p#q!/z#q#r!5w#r;'S!/z;'S;=`!:b<%lO!/z#g!3gZU!T&r!bOY!3`YZ*oZ]!3`]^*o^#o!3`#o#p!4Y#p#q!3`#q#r!4Y#r;'S!3`;'S;=`!4t<%lO!3`!T!4_TU!TOY!4YZ]!4Y^;'S!4Y;'S;=`!4n<%lO!4Y!T!4qP;=`<%l!4Y#g!4wP;=`<%l!3`#k!5R[U!T&r!bOY!/zYZ(VZ]!/z]^(V^#o!/z#o#p!5w#p#q!/z#q#r!5w#r;'S!/z;'S;=`!9s;=`<%l+x<%lO!/z!X!6OZU!T&jSOY!5wYZ+xZ]!5w]^+x^w!5wwx!6qx#O!5w#O#P!8a#P;'S!5w;'S;=`!9m<%lO!5w!X!6vZU!TOY!5wYZ+xZ]!5w]^+x^w!5wwx!7ix#O!5w#O#P!8a#P;'S!5w;'S;=`!9m<%lO!5w!X!7nZU!TOY!5wYZ+xZ]!5w]^+x^w!5wwx!4Yx#O!5w#O#P!8a#P;'S!5w;'S;=`!9m<%lO!5w!X!8fWU!TOY!5wYZ+xZ]!5w]^+x^;'S!5w;'S;=`!9O;=`<%l+x<%lO!5w!X!9TW&jSOw+xwx,dx#O+x#O#P-c#P;'S+x;'S;=`.^;=`<%l!5w<%lO+x!X!9pP;=`<%l!5w#k!9xW&jSOw+xwx,dx#O+x#O#P-c#P;'S+x;'S;=`.^;=`<%l!/z<%lO+x#k!:eP;=`<%l!/z#s!:qaU!T&r!b&mWOY!+|YZ%TZ]!+|]^%T^r!+|rs!-^sw!+|wx!;vx#O!+|#O#P!FW#P#o!+|#o#p!GT#p#q!+|#q#r!GT#r;'S!+|;'S;=`!Nh<%lO!+|#s!<PaU!T&r!b&mWOY!+|YZ%TZ]!+|]^%T^r!+|rs!-^sw!+|wx!=Ux#O!+|#O#P!FW#P#o!+|#o#p!GT#p#q!+|#q#r!GT#r;'S!+|;'S;=`!Nh<%lO!+|#o!=__U!T&r!b&mWOY!=UYZ1XZ]!=U]^1X^r!=Urs!>^s#O!=U#O#P!@j#P#o!=U#o#p!Ag#p#q!=U#q#r!Ag#r;'S!=U;'S;=`!FQ<%lO!=U#o!>e_U!T&r!bOY!=UYZ1XZ]!=U]^1X^r!=Urs!?ds#O!=U#O#P!@j#P#o!=U#o#p!Ag#p#q!=U#q#r!Ag#r;'S!=U;'S;=`!FQ<%lO!=U#o!?k_U!T&r!bOY!=UYZ1XZ]!=U]^1X^r!=Urs!3`s#O!=U#O#P!@j#P#o!=U#o#p!Ag#p#q!=U#q#r!Ag#r;'S!=U;'S;=`!FQ<%lO!=U#o!@q[U!T&r!bOY!=UYZ1XZ]!=U]^1X^#o!=U#o#p!Ag#p#q!=U#q#r!Ag#r;'S!=U;'S;=`!Ec;=`<%l4`<%lO!=U!]!AnZU!T&mWOY!AgYZ4`Z]!Ag]^4`^r!Agrs!Bas#O!Ag#O#P!DP#P;'S!Ag;'S;=`!E]<%lO!Ag!]!BfZU!TOY!AgYZ4`Z]!Ag]^4`^r!Agrs!CXs#O!Ag#O#P!DP#P;'S!Ag;'S;=`!E]<%lO!Ag!]!C^ZU!TOY!AgYZ4`Z]!Ag]^4`^r!Agrs!4Ys#O!Ag#O#P!DP#P;'S!Ag;'S;=`!E]<%lO!Ag!]!DUWU!TOY!AgYZ4`Z]!Ag]^4`^;'S!Ag;'S;=`!Dn;=`<%l4`<%lO!Ag!]!DsW&mWOr4`rs4zs#O4`#O#P5y#P;'S4`;'S;=`6t;=`<%l!Ag<%lO4`!]!E`P;=`<%l!Ag#o!EhW&mWOr4`rs4zs#O4`#O#P5y#P;'S4`;'S;=`6t;=`<%l!=U<%lO4`#o!FTP;=`<%l!=U#s!F_[U!T&r!bOY!+|YZ%TZ]!+|]^%T^#o!+|#o#p!GT#p#q!+|#q#r!GT#r;'S!+|;'S;=`!Mq;=`<%l8^<%lO!+|!a!G^]U!T&jS&mWOY!GTYZ8^Z]!GT]^8^^r!GTrs!HVsw!GTwx!JVx#O!GT#O#P!LV#P;'S!GT;'S;=`!Mk<%lO!GT!a!H^]U!T&jSOY!GTYZ8^Z]!GT]^8^^r!GTrs!IVsw!GTwx!JVx#O!GT#O#P!LV#P;'S!GT;'S;=`!Mk<%lO!GT!a!I^]U!T&jSOY!GTYZ8^Z]!GT]^8^^r!GTrs!5wsw!GTwx!JVx#O!GT#O#P!LV#P;'S!GT;'S;=`!Mk<%lO!GT!a!J^]U!T&mWOY!GTYZ8^Z]!GT]^8^^r!GTrs!HVsw!GTwx!KVx#O!GT#O#P!LV#P;'S!GT;'S;=`!Mk<%lO!GT!a!K^]U!T&mWOY!GTYZ8^Z]!GT]^8^^r!GTrs!HVsw!GTwx!Agx#O!GT#O#P!LV#P;'S!GT;'S;=`!Mk<%lO!GT!a!L[WU!TOY!GTYZ8^Z]!GT]^8^^;'S!GT;'S;=`!Lt;=`<%l8^<%lO!GT!a!L{Y&jS&mWOr8^rs9Qsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y;=`<%l!GT<%lO8^!a!MnP;=`<%l!GT#s!MxY&jS&mWOr8^rs9Qsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y;=`<%l!+|<%lO8^#s!NkP;=`<%l!+|#b!Ny_&PQ&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#b#!T]!{r&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#b##X_%yQ&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#$aa&r!b&mW&hsOY#%fYZ%TZ]#%f]^%T^r#%frs#&vsw#%fwx#8Ux#O#%f#O#P#0}#P#o#%f#o#p#1l#p#q#%f#q#r#1l#r;'S#%f;'S;=`#8O<%lO#%f#c#%qa&r!b&jS&mW&hsOY#%fYZ%TZ]#%f]^%T^r#%frs#&vsw#%fwx#/{x#O#%f#O#P#0}#P#o#%f#o#p#1l#p#q#%f#q#r#1l#r;'S#%f;'S;=`#8O<%lO#%f#c#'Pa&r!b&jS&hsOY#%fYZ%TZ]#%f]^%T^r#%frs#(Usw#%fwx#/{x#O#%f#O#P#0}#P#o#%f#o#p#1l#p#q#%f#q#r#1l#r;'S#%f;'S;=`#8O<%lO#%f#c#(_a&r!b&jS&hsOY#%fYZ%TZ]#%f]^%T^r#%frs#)dsw#%fwx#/{x#O#%f#O#P#0}#P#o#%f#o#p#1l#p#q#%f#q#r#1l#r;'S#%f;'S;=`#8O<%lO#%f#Z#)m_&r!b&jS&hsOY#)dYZ(VZ]#)d]^(V^w#)dwx#*lx#O#)d#O#P#+f#P#o#)d#o#p#,T#p#q#)d#q#r#,T#r;'S#)d;'S;=`#/u<%lO#)d#Z#*sZ&r!b&hsOw(Vwx)wx#O(V#O#P+Z#P#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`/R<%lO(V#Z#+kW&r!bO#o#)d#o#p#,T#p#q#)d#q#r#,T#r;'S#)d;'S;=`#.x;=`<%l#,T<%lO#)dw#,[Z&jS&hsOY#,TYZ+xZ]#,T]^+x^w#,Twx#,}x#O#,T#O#P#-i#P;'S#,T;'S;=`#.r<%lO#,Tw#-SV&hsOw+xwx,|x#O+x#O#P-c#P;'S+x;'S;=`.^<%lO+xw#-lRO;'S#,T;'S;=`#-u;=`O#,Tw#-|[&jS&hsOY#,TYZ+xZ]#,T]^+x^w#,Twx#,}x#O#,T#O#P#-i#P;'S#,T;'S;=`#.r;=`<%l#,T<%lO#,Tw#.uP;=`<%l#,T#Z#/P[&jS&hsOY#,TYZ+xZ]#,T]^+x^w#,Twx#,}x#O#,T#O#P#-i#P;'S#,T;'S;=`#.r;=`<%l#)d<%lO#,T#Z#/xP;=`<%l#)d#c#0U]&r!b&mW&hsOr%Trs&Vsw%Twx0Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#1SW&r!bO#o#%f#o#p#1l#p#q#%f#q#r#1l#r;'S#%f;'S;=`#6y;=`<%l#1l<%lO#%f!P#1u]&jS&mW&hsOY#1lYZ8^Z]#1l]^8^^r#1lrs#2nsw#1lwx#4nx#O#1l#O#P#5b#P;'S#1l;'S;=`#6s<%lO#1l!P#2u]&jS&hsOY#1lYZ8^Z]#1l]^8^^r#1lrs#3nsw#1lwx#4nx#O#1l#O#P#5b#P;'S#1l;'S;=`#6s<%lO#1l!P#3u]&jS&hsOY#1lYZ8^Z]#1l]^8^^r#1lrs#,Tsw#1lwx#4nx#O#1l#O#P#5b#P;'S#1l;'S;=`#6s<%lO#1l!P#4uX&mW&hsOr8^rs9Qsw8^wx;Ux#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^!P#5eRO;'S#1l;'S;=`#5n;=`O#1l!P#5w^&jS&mW&hsOY#1lYZ8^Z]#1l]^8^^r#1lrs#2nsw#1lwx#4nx#O#1l#O#P#5b#P;'S#1l;'S;=`#6s;=`<%l#1l<%lO#1l!P#6vP;=`<%l#1l#c#7S^&jS&mW&hsOY#1lYZ8^Z]#1l]^8^^r#1lrs#2nsw#1lwx#4nx#O#1l#O#P#5b#P;'S#1l;'S;=`#6s;=`<%l#%f<%lO#1l#c#8RP;=`<%l#%f#c#8_]&r!b&mW&hsOr%Trs&Vsw%Twx#9Wx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#9cZ&kS&r!b&mW&isOr1Xrs2Rs#O1X#O#P3q#P#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`7i<%lO1X#c#:a]js&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!q#;e]iR&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#<iaXs&r!b&jS&mWOr%Trs&Vsw%Twx/Xxz%Tz{#=n{!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#=y_cR&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#?T_%|s&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!q#@_]|R&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#s#Ac`%}s&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`!a#Be!a#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#O#Bp]'R`&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#Cta!hQ&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!O%T!O!P#Dy!P!Q%T!Q![#GV![#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#ES_&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!O%T!O!P#FR!P#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#F^]!us&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a#Gbi!jq&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!Q%T!Q![#GV![!g%T!g!h#IP!h!l%T!l!m#MZ!m#O%T#O#P7o#P#R%T#R#S#GV#S#X%T#X#Y#IP#Y#^%T#^#_#MZ#_#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a#IYc&r!b&jS&mWOr%Trs&Vsw%Twx/Xx{%T{|#Je|}%T}!O#Je!O!Q%T!Q![#Km![#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a#Jn_&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!Q%T!Q![#Km![#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a#Kxe!jq&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!Q%T!Q![#Km![!l%T!l!m#MZ!m#O%T#O#P7o#P#R%T#R#S#Km#S#^%T#^#_#MZ#_#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a#Mf]!jq&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#Nja&OR&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!P%T!P!Q$ o!Q!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#b$ z_&QQ&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$#Uw!jq&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!O%T!O!P$%o!P!Q%T!Q![$&w![!d%T!d!e$(w!e!g%T!g!h#IP!h!l%T!l!m#MZ!m!q%T!q!r$+m!r!z%T!z!{$.]!{#O%T#O#P7o#P#R%T#R#S$&w#S#U%T#U#V$(w#V#X%T#X#Y#IP#Y#^%T#^#_#MZ#_#c%T#c#d$+m#d#l%T#l#m$.]#m#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$%x_&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!Q%T!Q![#GV![#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$'Sk!jq&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!O%T!O!P$%o!P!Q%T!Q![$&w![!g%T!g!h#IP!h!l%T!l!m#MZ!m#O%T#O#P7o#P#R%T#R#S$&w#S#X%T#X#Y#IP#Y#^%T#^#_#MZ#_#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$)Qb&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!Q%T!Q!R$*Y!R!S$*Y!S#O%T#O#P7o#P#R%T#R#S$*Y#S#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$*eb!jq&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!Q%T!Q!R$*Y!R!S$*Y!S#O%T#O#P7o#P#R%T#R#S$*Y#S#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$+va&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!Q%T!Q!Y$,{!Y#O%T#O#P7o#P#R%T#R#S$,{#S#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$-Wa!jq&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!Q%T!Q!Y$,{!Y#O%T#O#P7o#P#R%T#R#S$,{#S#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$.fe&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!Q%T!Q![$/w![!c%T!c!i$/w!i#O%T#O#P7o#P#R%T#R#S$/w#S#T%T#T#Z$/w#Z#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$0Se!jq&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!Q%T!Q![$/w![!c%T!c!i$/w!i#O%T#O#P7o#P#R%T#R#S$/w#S#T%T#T#Z$/w#Z#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#s$1p_}!T&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`$2o!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!q$2z]&YR&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c$4O]#js&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c$5SaoR&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!^%T!^!_$6X!_!`Av!`!aAv!a#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#b$6d_%zQ&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c$7n_&Xs&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`Av!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c$8x`oR&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`Av!`!a$9z!a#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#b$:V_%{Q&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c$;c_aQ$QP&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#s$<oe&r!b&jS&mW&g`&SsOr%Trs&Vsw%Twx/Xx!Q%T!Q![$<b![!c%T!c!}$<b!}#O%T#O#P7o#P#R%T#R#S$<b#S#T%T#T#o$<b#o#p8^#p#q%T#q#r8^#r$g%T$g;'S$<b;'S;=`$>Q<%lO$<b#s$>TP;=`<%l$<b#s$>ei&r!b&jS&mW&g`&SsOr%Trs$@Ssw%Twx$C`x!Q%T!Q![$<b![!c%T!c!t$<b!t!u$Fl!u!}$<b!}#O%T#O#P7o#P#R%T#R#S$<b#S#T%T#T#f$<b#f#g$Fl#g#o$<b#o#p8^#p#q%T#q#r8^#r$g%T$g;'S$<b;'S;=`$>Q<%lO$<b#c$@]a&r!b&jS&hsOYE^YZ%TZ]E^]^%T^rE^rs$AbswE^wxGpx#OE^#O#P!!u#P#oE^#o#p!#d#p#qE^#q#r!#d#r;'SE^;'S;=`!)v<%lOE^#c$Ak]&r!b&jS&hsOr%Trs$Bdsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#Z$BmZ&r!b&jS&lsOw(Vwx)Px#O(V#O#P+Z#P#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`/R<%lO(V#c$Cia&r!b&mW&hsOY#%fYZ%TZ]#%f]^%T^r#%frs#&vsw#%fwx$Dnx#O#%f#O#P#0}#P#o#%f#o#p#1l#p#q#%f#q#r#1l#r;'S#%f;'S;=`#8O<%lO#%f#c$Dw]&r!b&mW&hsOr%Trs&Vsw%Twx$Epx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#_$EyZ&r!b&mW&isOr1Xrs2Rs#O1X#O#P3q#P#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`7i<%lO1X#s$Fye&r!b&jS&mW&g`&SsOr%Trs$@Ssw%Twx$C`x!Q%T!Q![$<b![!c%T!c!}$<b!}#O%T#O#P7o#P#R%T#R#S$<b#S#T%T#T#o$<b#o#p8^#p#q%T#q#r8^#r$g%T$g;'S$<b;'S;=`$>Q<%lO$<b#s$Hii&r!b&jS&mW&g`&SsOr%Trs$JWsw%Twx$MUx!Q%T!Q![$<b![!c%T!c!t$<b!t!u%!S!u!}$<b!}#O%T#O#P7o#P#R%T#R#S$<b#S#T%T#T#f$<b#f#g%!S#g#o$<b#o#p8^#p#q%T#q#r8^#r$g%T$g;'S$<b;'S;=`$>Q<%lO$<b#c$Ja]&r!b&jS&ssOr%Trs$KYsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c$Ka]&r!b&jSOr%Trs$LYsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#Z$LcZ&r!b&jS&usOw(Vwx)Px#O(V#O#P+Z#P#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`/R<%lO(V#c$M_]&r!b&mW&osOr%Trs&Vsw%Twx$NWx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c$N_]&r!b&mWOr%Trs&Vsw%Twx% Wx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#_% aZ&r!b&mW&tsOr1Xrs2Rs#O1X#O#P3q#P#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`7i<%lO1X#s%!ae&r!b&jS&mW&g`&SsOr%Trs$JWsw%Twx$MUx!Q%T!Q![$<b![!c%T!c!}$<b!}#O%T#O#P7o#P#R%T#R#S$<b#S#T%T#T#o$<b#o#p8^#p#q%T#q#r8^#r$g%T$g;'S$<b;'S;=`$>Q<%lO$<b#s%$Pm&r!b&jS&mW&g`&SsOr%Trs$@Ssw%Twx$C`x!Q%T!Q![$<b![!c%T!c!h$<b!h!i%!S!i!t$<b!t!u$Fl!u!}$<b!}#O%T#O#P7o#P#R%T#R#S$<b#S#T%T#T#U$<b#U#V$Fl#V#Y$<b#Y#Z%!S#Z#o$<b#o#p8^#p#q%T#q#r8^#r$g%T$g;'S$<b;'S;=`$>Q<%lO$<b#c%&V]!Zs&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!q%'Z]!YR&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#b%(__%xQ&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a%)gX!_#T&jS&mWOr8^rs9Qsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^#c%*__%wR&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!q%+gX!^!e&jS&mWOr8^rs9Qsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^#a%,_]&Rq&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T",tokenizers:[_A,fA,pA,mA,yA,TA,EA,0,1,2,3,4,5,6],topRules:{Script:[0,7]},specialized:[{term:234,get:function(e){return OA[e]||-1}}],tokenPrec:7372}),kA=new MO,wA=new Set(["Script","Body","FunctionDefinition","ClassDefinition","LambdaExpression","ForStatement","MatchClause"]);function RA(e){return function(t,n,r){if(r)return!1;var i=t.node.getChild("VariableName");return i&&n(i,e),!0}}var CA={FunctionDefinition:RA("function"),ClassDefinition:RA("class"),ForStatement:function(e,t,n){if(n)for(var r=e.node.firstChild;r;r=r.nextSibling)if("VariableName"==r.name)t(r,"variable");else if("in"==r.name)break},ImportStatement:function(e,t){for(var n,r,i=e.node,o="from"==(null===(n=i.firstChild)||void 0===n?void 0:n.name),s=i.getChild("import");s;s=s.nextSibling)"VariableName"==s.name&&"as"!=(null===(r=s.nextSibling)||void 0===r?void 0:r.name)&&t(s,o?"variable":"namespace")},AssignStatement:function(e,t){for(var n=e.node.firstChild;n;n=n.nextSibling)if("VariableName"==n.name)t(n,"variable");else if(":"==n.name||"AssignOp"==n.name)break},ParamList:function(e,t){for(var n=null,r=e.node.firstChild;r;r=r.nextSibling)"VariableName"!=r.name||n&&/\*|AssignOp/.test(n.name)||t(r,"variable"),n=r},CapturePattern:RA("variable"),AsPattern:RA("variable"),__proto__:null};function IA(e,t){var n=kA.get(t);if(n)return n;var r=[],i=!0;function o(t,n){var i=e.sliceString(t.from,t.to);r.push({label:i,type:n})}return t.cursor(pO.IncludeAnonymous).iterate((function(t){if(t.name){var n=CA[t.name];if(n&&n(t,o,i)||!i&&wA.has(t.name))return!1;i=!1}else if(t.to-t.from>8192){var s,a=(0,X.Z)(IA(e,t.node));try{for(a.s();!(s=a.n()).done;){var l=s.value;r.push(l)}}catch(c){a.e(c)}finally{a.f()}return!1}})),kA.set(t,r),r}var xA=/^[\w\xa1-\uffff][\w\d\xa1-\uffff]*$/,AA=["String","FormatString","Comment","PropertyName"];function NA(e){var t=vS(e.state).resolveInner(e.pos,-1);if(AA.indexOf(t.name)>-1)return null;var n="VariableName"==t.name||t.to-t.from<20&&xA.test(e.state.sliceDoc(t.from,t.to));if(!n&&!e.explicit)return null;for(var r=[],i=t;i;i=i.parent)wA.has(i.name)&&(r=r.concat(IA(e.state.doc,i)));return{options:r,from:n?t.from:e.pos,validFor:xA}}var LA=["__annotations__","__builtins__","__debug__","__doc__","__import__","__name__","__loader__","__package__","__spec__","False","None","True"].map((function(e){return{label:e,type:"constant"}})).concat(["ArithmeticError","AssertionError","AttributeError","BaseException","BlockingIOError","BrokenPipeError","BufferError","BytesWarning","ChildProcessError","ConnectionAbortedError","ConnectionError","ConnectionRefusedError","ConnectionResetError","DeprecationWarning","EOFError","Ellipsis","EncodingWarning","EnvironmentError","Exception","FileExistsError","FileNotFoundError","FloatingPointError","FutureWarning","GeneratorExit","IOError","ImportError","ImportWarning","IndentationError","IndexError","InterruptedError","IsADirectoryError","KeyError","KeyboardInterrupt","LookupError","MemoryError","ModuleNotFoundError","NameError","NotADirectoryError","NotImplemented","NotImplementedError","OSError","OverflowError","PendingDeprecationWarning","PermissionError","ProcessLookupError","RecursionError","ReferenceError","ResourceWarning","RuntimeError","RuntimeWarning","StopAsyncIteration","StopIteration","SyntaxError","SyntaxWarning","SystemError","SystemExit","TabError","TimeoutError","TypeError","UnboundLocalError","UnicodeDecodeError","UnicodeEncodeError","UnicodeError","UnicodeTranslateError","UnicodeWarning","UserWarning","ValueError","Warning","ZeroDivisionError"].map((function(e){return{label:e,type:"type"}}))).concat(["bool","bytearray","bytes","classmethod","complex","float","frozenset","int","list","map","memoryview","object","range","set","staticmethod","str","super","tuple","type"].map((function(e){return{label:e,type:"class"}}))).concat(["abs","aiter","all","anext","any","ascii","bin","breakpoint","callable","chr","compile","delattr","dict","dir","divmod","enumerate","eval","exec","exit","filter","format","getattr","globals","hasattr","hash","help","hex","id","input","isinstance","issubclass","iter","len","license","locals","max","min","next","oct","open","ord","pow","print","property","quit","repr","reversed","round","setattr","slice","sorted","sum","vars","zip"].map((function(e){return{label:e,type:"function"}}))),MA=[bI("def ${name}(${params}):\n\t${}",{label:"def",detail:"function",type:"keyword"}),bI("for ${name} in ${collection}:\n\t${}",{label:"for",detail:"loop",type:"keyword"}),bI("while ${}:\n\t${}",{label:"while",detail:"loop",type:"keyword"}),bI("try:\n\t${}\nexcept ${error}:\n\t${}",{label:"try",detail:"/ except block",type:"keyword"}),bI("if ${}:\n\t\n",{label:"if",detail:"block",type:"keyword"}),bI("if ${}:\n\t${}\nelse:\n\t${}",{label:"if",detail:"/ else block",type:"keyword"}),bI("class ${name}:\n\tdef __init__(self, ${params}):\n\t\t\t${}",{label:"class",detail:"definition",type:"keyword"}),bI("import ${module}",{label:"import",detail:"statement",type:"keyword"}),bI("from ${module} import ${names}",{label:"from",detail:"import",type:"keyword"})],DA=RC(AA,wC(LA.concat(MA)));function PA(e,t){var n=e.baseIndentFor(t),r=e.lineAt(e.pos,-1),i=r.from+r.text.length;return/^\s*($|#)/.test(r.text)&&e.node.to<i+100&&!/\S/.test(e.state.sliceDoc(i,e.node.to))&&e.lineIndent(e.pos,-1)<=n||/^\s*(else:|elif |except |finally:)/.test(e.textAfter)&&e.lineIndent(e.pos,-1)>n?null:n+e.unit}var BA=_S.define({name:"python",parser:SA.configure({props:[MS.add({Body:function(e){var t;return null!==(t=PA(e,e.node))&&void 0!==t?t:e.continue()},IfStatement:function(e){return/^\s*(else:|elif )/.test(e.textAfter)?e.baseIndent:e.continue()},TryStatement:function(e){return/^\s*(except |finally:|else:)/.test(e.textAfter)?e.baseIndent:e.continue()},"TupleExpression ComprehensionExpression ParamList ArgList ParenthesizedExpression":ZS({closing:")"}),"DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression":ZS({closing:"}"}),"ArrayExpression ArrayComprehensionExpression":ZS({closing:"]"}),"String FormatString":function(){return null},Script:function(e){if(e.pos+/\s*/.exec(e.textAfter)[0].length>=e.node.to){for(var t=null,n=e.node,r=n.to;(n=n.lastChild)&&n.to==r;)"Body"==n.type.name&&(t=n);if(t){var i=PA(e,t);if(null!=i)return i}}return e.continue()}}),VS.add({"ArrayExpression DictionaryExpression SetExpression TupleExpression":function(e){var t=e.firstChild,n=e.lastChild;return t&&t.to<n.from?{from:t.to,to:n.type.isError?e.to:n.from}:null},Body:function(e,t){return{from:e.from+1,to:e.to-(e.to==t.doc.length?0:1)}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"'''",'"""'],stringPrefixes:["f","fr","rf","r","u","b","br","rb","F","FR","RF","R","U","B","BR","RB"]},commentTokens:{line:"#"},indentOnInput:/^\s*([\}\]\)]|else:|elif |except |finally:)$/}});var FA=function(e){var t=e.isOpen,n=b((function(e){return e.pyCode})),r=n.code,i=b((function(e){return e.colorTheme})),o=i.isDark;return(0,P.jsxs)("div",{className:"content-panel content-3 ".concat(t?"active":""),children:[(0,P.jsx)("h1",{style:{textAlign:"center"},children:"Python"}),(0,P.jsx)("pre",{id:"content_python",className:"content"}),(0,P.jsx)("div",{className:"code-mirror-content",children:(0,P.jsx)(Bx,{readOnly:!0,value:r,extensions:[new RS(BA,[BA.data.of({autocomplete:NA}),BA.data.of({autocomplete:DA})])],theme:o?"dark":"light"})})]})},UA=function(r){var i=r.isOpen,o=r.droneType;return(0,n.useEffect)((function(){window.addEventListener("offline",(function(){document.getElementById("iframeDocs").style.display="none",document.getElementById("offlineDocsText").style.display="block"})),window.addEventListener("online",(function(){document.getElementById("offlineDocsText").style.display="none";var e=document.getElementById("iframeDocs");e.style.display="block",e.src="https://docs.robolink.com/docs/codrone-edu/blockly/reference/library-junior/"}));var n=function(){var n=(0,t.Z)((0,e.Z)().mark((function t(){return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://codrone.robolink.com/versions.json");case 2:e.sent;case 3:case"end":return e.stop()}}),t)})));return function(){return n.apply(this,arguments)}}();n().catch((function(e){document.getElementById("iframeDocs").style.display="none",document.getElementById("offlineDocsText").style.display="block"}))}),[]),(0,P.jsx)("div",{className:"content-panel content-5 ".concat(i?"active":""),children:(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)("p",{id:"offlineDocsText",style:{margin:"15px",display:"none"},children:[(0,P.jsx)("br",{}),(0,P.jsx)("br",{}),(0,P.jsx)("span",{children:"Offline Blockly is still in beta testing. Our docs page is currently inaccessible offline."})]}),"cde"===o&&(0,P.jsx)("iframe",{title:"CDE Blockly Docs",id:"iframeDocs",src:"https://docs.robolink.com/docs/codrone-edu/blockly/reference/library-junior/",frameBorder:"0"})]})})};var ZA,GA=(0,N.g)(),HA=function(e){e.isOpen;return(0,P.jsxs)("div",{className:"content-panel content-2",children:[(0,P.jsx)("h1",{style:{textAlign:"center"},children:"JavaScript"}),(0,P.jsx)("pre",{id:"content_javascript",className:"content"})]})},VA=function(e){var t=e.isOpen,r=e.setIsOpen,i=e.panelWidth,o=e.setPanelWidth,s=((0,n.useContext)(B).msg,a((0,n.useState)(""),2)),l=s[0],c=s[1],u=a((0,n.useState)(!1),2),h=u[0],p=u[1],f=(0,n.useRef)(null),d=function(e){c(""),r(!1)},g=function(e){p(!1)};return(0,P.jsxs)("div",{id:"rightPanel-1",className:t?"active":"",style:{width:t?i:""},ref:f,children:[(0,P.jsx)("div",{className:"resizer-left ".concat(h?"wide":""),onMouseDown:function(e){p(!0),ZA=setTimeout((function(){g()}),200)},onMouseMove:h?function(e){var t=window.innerWidth-e.clientX;try{document.querySelector(".content-4").classList.contains("active")&&t<670&&(t=670)}catch(e){console.log(e)}o("".concat(t,"px")),clearTimeout(ZA),ZA=setTimeout((function(){g()}),200)}:null,onMouseUp:h?g:null}),(0,P.jsx)("span",{tabIndex:"-1",className:"close-right-panel",onClick:d,children:(0,P.jsx)("img",{src:hg,alt:"x"})}),(0,P.jsx)(dg,{isOpen:"basecamp"===l,droneType:GA}),(0,P.jsx)(HA,{isOpen:"javascript"===l}),(0,P.jsx)(FA,{isOpen:"python"===l}),"cde"===GA&&(0,P.jsx)(Rg,{isOpen:"sensors"===l}),(0,P.jsx)(UA,{isOpen:"docs"===l,droneType:GA})]})},jA=__webpack_require__(6123),WA=__webpack_require__.n(jA),XA=!("undefined"===typeof window||!window.document||!window.document.createElement),zA=!1,YA=!1;try{var qA={get passive(){return zA=!0},get once(){return YA=zA=!0}};XA&&(window.addEventListener("test",qA,qA),window.removeEventListener("test",qA,!0))}catch(nP){}var KA=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!YA){var i=r.once,o=r.capture,s=n;!YA&&i&&(s=n.__once||function e(r){this.removeEventListener(t,e,o),n.call(this,r)},n.__once=s),e.addEventListener(t,s,zA?r:o)}e.addEventListener(t,n,r)};function QA(e){return e&&e.ownerDocument||document}var JA,$A=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};function eN(e){if((!JA&&0!==JA||e)&&XA){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),JA=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return JA}var tN=function(e){var t=(0,n.useRef)(e);return(0,n.useEffect)((function(){t.current=e}),[e]),t};function nN(e){var t=tN(e);return(0,n.useCallback)((function(){return t.current&&t.current.apply(t,arguments)}),[t])}function rN(e){var t=function(e){var t=(0,n.useRef)(e);return t.current=e,t}(e);(0,n.useEffect)((function(){return function(){return t.current()}}),[])}function iN(e,t){return function(e){var t=QA(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var oN=/([A-Z])/g;var sN=/^ms-/;function aN(e){return function(e){return e.replace(oN,"-$1").toLowerCase()}(e).replace(sN,"-ms-")}var lN=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var cN=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(aN(t))||iN(e).getPropertyValue(aN(t));Object.keys(t).forEach((function(i){var o=t[i];o||0===o?!function(e){return!(!e||!lN.test(e))}(i)?n+=aN(i)+": "+o+";":r+=i+"("+o+") ":e.style.removeProperty(aN(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n};var uN=function(e,t,n,r){return KA(e,t,n,r),function(){$A(e,t,n,r)}};function hN(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),o=uN(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),o()}}function pN(e,t,n,r){null==n&&(n=function(e){var t=cN(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=hN(e,n,r),o=uN(e,"transitionend",t);return function(){i(),o()}}function fN(e){void 0===e&&(e=QA());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(nP){return e.body}}function dN(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}var gN=__webpack_require__(5192),_N=__webpack_require__.n(gN);function vN(e,t){e.classList?e.classList.add(t):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function mN(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function yN(e,t){e.classList?e.classList.remove(t):"string"===typeof e.className?e.className=mN(e.className,t):e.setAttribute("class",mN(e.className&&e.className.baseVal||"",t))}function TN(e){return"window"in e&&e.window===e?e:"nodeType"in(t=e)&&t.nodeType===document.DOCUMENT_NODE&&e.defaultView||!1;var t}function EN(e){var t;return TN(e)||(t=e)&&"body"===t.tagName.toLowerCase()?function(e){var t=TN(e)?QA():QA(e),n=TN(e)||t.defaultView;return t.body.clientWidth<n.innerWidth}(e):e.scrollHeight>e.clientHeight}var bN=["template","script","style"],ON=function(e,t,n){[].forEach.call(e.children,(function(e){-1===t.indexOf(e)&&function(e){var t=e.nodeType,n=e.tagName;return 1===t&&-1===bN.indexOf(n.toLowerCase())}(e)&&n(e)}))};function SN(e,t){t&&(e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden"))}var kN,wN=function(){function e(e){var t=void 0===e?{}:e,n=t.hideSiblingNodes,r=void 0===n||n,i=t.handleContainerOverflow,o=void 0===i||i;this.hideSiblingNodes=void 0,this.handleContainerOverflow=void 0,this.modals=void 0,this.containers=void 0,this.data=void 0,this.scrollbarSize=void 0,this.hideSiblingNodes=r,this.handleContainerOverflow=o,this.modals=[],this.containers=[],this.data=[],this.scrollbarSize=eN()}var t=e.prototype;return t.isContainerOverflowing=function(e){var t=this.data[this.containerIndexFromModal(e)];return t&&t.overflowing},t.containerIndexFromModal=function(e){return function(e,t){var n=-1;return e.some((function(e,r){return!!t(e,r)&&(n=r,!0)})),n}(this.data,(function(t){return-1!==t.modals.indexOf(e)}))},t.setContainerStyle=function(e,t){var n={overflow:"hidden"};e.style={overflow:t.style.overflow,paddingRight:t.style.paddingRight},e.overflowing&&(n.paddingRight=parseInt(cN(t,"paddingRight")||"0",10)+this.scrollbarSize+"px"),cN(t,n)},t.removeContainerStyle=function(e,t){Object.assign(t.style,e.style)},t.add=function(e,t,n){var r=this.modals.indexOf(e),i=this.containers.indexOf(t);if(-1!==r)return r;if(r=this.modals.length,this.modals.push(e),this.hideSiblingNodes&&function(e,t){var n=t.dialog,r=t.backdrop;ON(e,[n,r],(function(e){return SN(!0,e)}))}(t,e),-1!==i)return this.data[i].modals.push(e),r;var o={modals:[e],classes:n?n.split(/\s+/):[],overflowing:EN(t)};return this.handleContainerOverflow&&this.setContainerStyle(o,t),o.classes.forEach(vN.bind(null,t)),this.containers.push(t),this.data.push(o),r},t.remove=function(e){var t=this.modals.indexOf(e);if(-1!==t){var n=this.containerIndexFromModal(e),r=this.data[n],i=this.containers[n];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)r.classes.forEach(yN.bind(null,i)),this.handleContainerOverflow&&this.removeContainerStyle(r,i),this.hideSiblingNodes&&function(e,t){var n=t.dialog,r=t.backdrop;ON(e,[n,r],(function(e){return SN(!1,e)}))}(i,e),this.containers.splice(n,1),this.data.splice(n,1);else if(this.hideSiblingNodes){var o=r.modals[r.modals.length-1],s=o.backdrop;SN(!1,o.dialog),SN(!1,s)}}},t.isTopModal=function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e},e}(),RN=wN,CN=function(e){var t;return"undefined"===typeof document?null:null==e?QA().body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),null!=(t=e)&&t.nodeType&&e||null)};function IN(e){var t=e||(kN||(kN=new RN),kN),r=(0,n.useRef)({dialog:null,backdrop:null});return Object.assign(r.current,{add:function(e,n){return t.add(r.current,e,n)},remove:function(){return t.remove(r.current)},isTopModal:function(){return t.isTopModal(r.current)},setDialogRef:(0,n.useCallback)((function(e){r.current.dialog=e}),[]),setBackdropRef:(0,n.useCallback)((function(e){r.current.backdrop=e}),[])})}var xN=(0,n.forwardRef)((function(e,t){var i=e.show,o=void 0!==i&&i,s=e.role,a=void 0===s?"dialog":s,l=e.className,c=e.style,u=e.children,h=e.backdrop,p=void 0===h||h,f=e.keyboard,d=void 0===f||f,g=e.onBackdropClick,_=e.onEscapeKeyDown,v=e.transition,m=e.backdropTransition,y=e.autoFocus,T=void 0===y||y,E=e.enforceFocus,b=void 0===E||E,O=e.restoreFocus,S=void 0===O||O,k=e.restoreFocusOptions,w=e.renderDialog,R=e.renderBackdrop,C=void 0===R?function(e){return n.createElement("div",e)}:R,I=e.manager,x=e.container,A=e.containerClassName,N=e.onShow,L=e.onHide,M=void 0===L?function(){}:L,D=e.onExit,P=e.onExited,B=e.onExiting,F=e.onEnter,U=e.onEntering,Z=e.onEntered,G=(0,Ig.Z)(e,["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","containerClassName","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"]),H=function(e,t){var r=(0,n.useState)((function(){return CN(e)})),i=r[0],o=r[1];if(!i){var s=CN(e);s&&o(s)}return(0,n.useEffect)((function(){t&&i&&t(i)}),[t,i]),(0,n.useEffect)((function(){var t=CN(e);t!==i&&o(t)}),[e,i]),i}(x),V=IN(I),j=function(){var e=(0,n.useRef)(!0),t=(0,n.useRef)((function(){return e.current}));return(0,n.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),t.current}(),W=function(e){var t=(0,n.useRef)(null);return(0,n.useEffect)((function(){t.current=e})),t.current}(o),X=(0,n.useState)(!o),z=X[0],Y=X[1],q=(0,n.useRef)(null);(0,n.useImperativeHandle)(t,(function(){return V}),[V]),XA&&!W&&o&&(q.current=fN()),v||o||z?o&&z&&Y(!1):Y(!0);var K=nN((function(){if(V.add(H,A),ne.current=uN(document,"keydown",ee),te.current=uN(document,"focus",(function(){return setTimeout(J)}),!0),N&&N(),T){var e=fN(document);V.dialog&&e&&!dN(V.dialog,e)&&(q.current=e,V.dialog.focus())}})),Q=nN((function(){var e;(V.remove(),null==ne.current||ne.current(),null==te.current||te.current(),S)&&(null==(e=q.current)||null==e.focus||e.focus(k),q.current=null)}));(0,n.useEffect)((function(){o&&H&&K()}),[o,H,K]),(0,n.useEffect)((function(){z&&Q()}),[z,Q]),rN((function(){Q()}));var J=nN((function(){if(b&&j()&&V.isTopModal()){var e=fN();V.dialog&&e&&!dN(V.dialog,e)&&V.dialog.focus()}})),$=nN((function(e){e.target===e.currentTarget&&(null==g||g(e),!0===p&&M())})),ee=nN((function(e){d&&27===e.keyCode&&V.isTopModal()&&(null==_||_(e),e.defaultPrevented||M())})),te=(0,n.useRef)(),ne=(0,n.useRef)(),re=v;if(!H||!(o||re&&!z))return null;var ie=(0,Cg.Z)({role:a,ref:V.setDialogRef,"aria-modal":"dialog"===a||void 0},G,{style:c,className:l,tabIndex:-1}),oe=w?w(ie):n.createElement("div",ie,n.cloneElement(u,{role:"document"}));re&&(oe=n.createElement(re,{appear:!0,unmountOnExit:!0,in:!!o,onExit:D,onExiting:B,onExited:function(){Y(!0);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];null==P||P.apply(void 0,t)},onEnter:F,onEntering:U,onEntered:Z},oe));var se=null;if(p){var ae=m;se=C({ref:V.setBackdropRef,onClick:$}),ae&&(se=n.createElement(ae,{appear:!0,in:!!o},se))}return n.createElement(n.Fragment,null,r.createPortal(n.createElement(n.Fragment,null,se,oe),H))})),AN={show:_N().bool,container:_N().any,onShow:_N().func,onHide:_N().func,backdrop:_N().oneOfType([_N().bool,_N().oneOf(["static"])]),renderDialog:_N().func,renderBackdrop:_N().func,onEscapeKeyDown:_N().func,onBackdropClick:_N().func,containerClassName:_N().string,keyboard:_N().bool,transition:_N().elementType,backdropTransition:_N().elementType,autoFocus:_N().bool,enforceFocus:_N().bool,restoreFocus:_N().bool,restoreFocusOptions:_N().shape({preventScroll:_N().bool}),onEnter:_N().func,onEntering:_N().func,onEntered:_N().func,onExit:_N().func,onExiting:_N().func,onExited:_N().func,manager:_N().instanceOf(RN)};xN.displayName="Modal",xN.propTypes=AN;var NN=Object.assign(xN,{Manager:RN}),LN=(__webpack_require__(1024),__webpack_require__(4578)),MN=Function.prototype.bind.call(Function.prototype.call,[].slice);function DN(e,t){return MN(e.querySelectorAll(t))}var PN=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",BN=".sticky-top",FN=".navbar-toggler",UN=function(e){function t(){return e.apply(this,arguments)||this}(0,LN.Z)(t,e);var n=t.prototype;return n.adjustAndStore=function(e,t,n){var r,i=t.style[e];t.dataset[e]=i,cN(t,((r={})[e]=parseFloat(cN(t,e))+n+"px",r))},n.restore=function(e,t){var n,r=t.dataset[e];void 0!==r&&(delete t.dataset[e],cN(t,((n={})[e]=r,n)))},n.setContainerStyle=function(t,n){var r=this;if(e.prototype.setContainerStyle.call(this,t,n),t.overflowing){var i=eN();DN(n,PN).forEach((function(e){return r.adjustAndStore("paddingRight",e,i)})),DN(n,BN).forEach((function(e){return r.adjustAndStore("marginRight",e,-i)})),DN(n,FN).forEach((function(e){return r.adjustAndStore("marginRight",e,i)}))}},n.removeContainerStyle=function(t,n){var r=this;e.prototype.removeContainerStyle.call(this,t,n),DN(n,PN).forEach((function(e){return r.restore("paddingRight",e)})),DN(n,BN).forEach((function(e){return r.restore("marginRight",e)})),DN(n,FN).forEach((function(e){return r.restore("marginRight",e)}))},t}(RN),ZN=!1,GN=n.createContext(null),HN="unmounted",VN="exited",jN="entering",WN="entered",XN="exiting",zN=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=VN,r.appearStatus=jN):i=WN:i=t.unmountOnExit||t.mountOnEnter?HN:VN,r.state={status:i},r.nextCallback=null,r}(0,LN.Z)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===HN?{status:VN}:null};var i=t.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==jN&&n!==WN&&(t=jN):n!==jN&&n!==WN||(t=XN)}this.updateStatus(!1,t)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},i.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===jN){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:r.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===VN&&this.setState({status:HN})},i.performEnter=function(e){var t=this,n=this.props.enter,i=this.context?this.context.isMounting:e,o=this.props.nodeRef?[i]:[r.findDOMNode(this),i],s=o[0],a=o[1],l=this.getTimeouts(),c=i?l.appear:l.enter;!e&&!n||ZN?this.safeSetState({status:WN},(function(){t.props.onEntered(s)})):(this.props.onEnter(s,a),this.safeSetState({status:jN},(function(){t.props.onEntering(s,a),t.onTransitionEnd(c,(function(){t.safeSetState({status:WN},(function(){t.props.onEntered(s,a)}))}))})))},i.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),i=this.props.nodeRef?void 0:r.findDOMNode(this);t&&!ZN?(this.props.onExit(i),this.safeSetState({status:XN},(function(){e.props.onExiting(i),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:VN},(function(){e.props.onExited(i)}))}))}))):this.safeSetState({status:VN},(function(){e.props.onExited(i)}))},i.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},i.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},i.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:r.findDOMNode(this),i=null==e&&!this.props.addEndListener;if(n&&!i){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],s=o[0],a=o[1];this.props.addEndListener(s,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},i.render=function(){var e=this.state.status;if(e===HN)return null;var t=this.props,r=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,Ig.Z)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return n.createElement(GN.Provider,{value:null},"function"===typeof r?r(e,i):n.cloneElement(n.Children.only(r),i))},t}(n.Component);function YN(){}zN.contextType=GN,zN.propTypes={},zN.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:YN,onEntering:YN,onEntered:YN,onExit:YN,onExiting:YN,onExited:YN},zN.UNMOUNTED=HN,zN.EXITED=VN,zN.ENTERING=jN,zN.ENTERED=WN,zN.EXITING=XN;var qN=zN;function KN(e,t){var n=cN(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function QN(e,t){var n=KN(e,"transitionDuration"),r=KN(e,"transitionDelay"),i=pN(e,(function(n){n.target===e&&(i(),t(n))}),n+r)}var JN,$N=["className","children"],eL=((JN={})[jN]="show",JN[WN]="show",JN),tL=n.forwardRef((function(e,t){var r=e.className,i=e.children,o=(0,Ig.Z)(e,$N),s=(0,n.useCallback)((function(e){!function(e){e.offsetHeight}(e),o.onEnter&&o.onEnter(e)}),[o]);return n.createElement(qN,(0,Cg.Z)({ref:t,addEndListener:QN},o,{onEnter:s}),(function(e,t){return n.cloneElement(i,(0,Cg.Z)({},t,{className:WA()("fade",r,i.props.className,eL[e])}))}))}));tL.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},tL.displayName="Fade";var nL=tL,rL=/-(.)/g;var iL=n.createContext({});iL.Consumer,iL.Provider;function oL(e,t){var r=(0,n.useContext)(iL);return e||r[t]||t}var sL=["className","bsPrefix","as"],aL=function(e){return e[0].toUpperCase()+function(e){return e.replace(rL,(function(e,t){return t.toUpperCase()}))}(e).slice(1)};function lL(e,t){var r=void 0===t?{}:t,i=r.displayName,o=void 0===i?aL(e):i,s=r.Component,a=r.defaultProps,l=n.forwardRef((function(t,r){var i=t.className,o=t.bsPrefix,a=t.as,l=void 0===a?s||"div":a,c=(0,Ig.Z)(t,sL),u=oL(o,e);return n.createElement(l,(0,Cg.Z)({ref:r,className:WA()(i,u)},c))}));return l.defaultProps=a,l.displayName=o,l}var cL=lL("modal-body"),uL=n.createContext({onHide:function(){}}),hL=["bsPrefix","className","contentClassName","centered","size","children","scrollable"],pL=n.forwardRef((function(e,t){var r=e.bsPrefix,i=e.className,o=e.contentClassName,s=e.centered,a=e.size,l=e.children,c=e.scrollable,u=(0,Ig.Z)(e,hL),h=(r=oL(r,"modal"))+"-dialog";return n.createElement("div",(0,Cg.Z)({},u,{ref:t,className:WA()(h,i,a&&r+"-"+a,s&&h+"-centered",c&&h+"-scrollable")}),n.createElement("div",{className:WA()(r+"-content",o)},l))}));pL.displayName="ModalDialog";var fL=pL,dL=lL("modal-footer"),gL=["label","onClick","className"],_L={label:_N().string.isRequired,onClick:_N().func},vL=n.forwardRef((function(e,t){var r=e.label,i=e.onClick,o=e.className,s=(0,Ig.Z)(e,gL);return n.createElement("button",(0,Cg.Z)({ref:t,type:"button",className:WA()("close",o),onClick:i},s),n.createElement("span",{"aria-hidden":"true"},"\xd7"),n.createElement("span",{className:"sr-only"},r))}));vL.displayName="CloseButton",vL.propTypes=_L,vL.defaultProps={label:"Close"};var mL=vL,yL=["bsPrefix","closeLabel","closeButton","onHide","className","children"],TL=n.forwardRef((function(e,t){var r=e.bsPrefix,i=e.closeLabel,o=e.closeButton,s=e.onHide,a=e.className,l=e.children,c=(0,Ig.Z)(e,yL);r=oL(r,"modal-header");var u=(0,n.useContext)(uL),h=nN((function(){u&&u.onHide(),s&&s()}));return n.createElement("div",(0,Cg.Z)({ref:t},c,{className:WA()(a,r)}),l,o&&n.createElement(mL,{label:i,onClick:h}))}));TL.displayName="ModalHeader",TL.defaultProps={closeLabel:"Close",closeButton:!1};var EL,bL,OL=TL,SL=(EL="h4",n.forwardRef((function(e,t){return n.createElement("div",(0,Cg.Z)({},e,{ref:t,className:WA()(e.className,EL)}))}))),kL=lL("modal-title",{Component:SL}),wL=["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","aria-labelledby","aria-describedby","aria-label","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"],RL={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:fL};function CL(e){return n.createElement(nL,(0,Cg.Z)({},e,{timeout:null}))}function IL(e){return n.createElement(nL,(0,Cg.Z)({},e,{timeout:null}))}var xL=n.forwardRef((function(e,t){var r=e.bsPrefix,i=e.className,o=e.style,s=e.dialogClassName,a=e.contentClassName,l=e.children,c=e.dialogAs,u=e["aria-labelledby"],h=e["aria-describedby"],p=e["aria-label"],f=e.show,d=e.animation,g=e.backdrop,_=e.keyboard,v=e.onEscapeKeyDown,m=e.onShow,y=e.onHide,T=e.container,E=e.autoFocus,b=e.enforceFocus,O=e.restoreFocus,S=e.restoreFocusOptions,k=e.onEntered,w=e.onExit,R=e.onExiting,C=e.onEnter,I=e.onEntering,x=e.onExited,A=e.backdropClassName,N=e.manager,L=(0,Ig.Z)(e,wL),M=(0,n.useState)({}),D=M[0],P=M[1],B=(0,n.useState)(!1),F=B[0],U=B[1],Z=(0,n.useRef)(!1),G=(0,n.useRef)(!1),H=(0,n.useRef)(null),V=(0,n.useState)(null),j=V[0],W=V[1],X=nN(y);r=oL(r,"modal"),(0,n.useImperativeHandle)(t,(function(){return{get _modal(){return j}}}),[j]);var z=(0,n.useMemo)((function(){return{onHide:X}}),[X]);function Y(){return N||(bL||(bL=new UN),bL)}function q(e){if(XA){var t=Y().isContainerOverflowing(j),n=e.scrollHeight>QA(e).documentElement.clientHeight;P({paddingRight:t&&!n?eN():void 0,paddingLeft:!t&&n?eN():void 0})}}var K=nN((function(){j&&q(j.dialog)}));rN((function(){$A(window,"resize",K),H.current&&H.current()}));var Q=function(){Z.current=!0},J=function(e){Z.current&&j&&e.target===j.dialog&&(G.current=!0),Z.current=!1},$=function(){U(!0),H.current=pN(j.dialog,(function(){U(!1)}))},ee=function(e){"static"!==g?G.current||e.target!==e.currentTarget?G.current=!1:null==y||y():function(e){e.target===e.currentTarget&&$()}(e)},te=(0,n.useCallback)((function(e){return n.createElement("div",(0,Cg.Z)({},e,{className:WA()(r+"-backdrop",A,!d&&"show")}))}),[d,A,r]),ne=(0,Cg.Z)({},o,D);d||(ne.display="block");return n.createElement(uL.Provider,{value:z},n.createElement(NN,{show:f,ref:W,backdrop:g,container:T,keyboard:!0,autoFocus:E,enforceFocus:b,restoreFocus:O,restoreFocusOptions:S,onEscapeKeyDown:function(e){_||"static"!==g?_&&v&&v(e):(e.preventDefault(),$())},onShow:m,onHide:y,onEnter:function(e,t){e&&(e.style.display="block",q(e)),null==C||C(e,t)},onEntering:function(e,t){null==I||I(e,t),KA(window,"resize",K)},onEntered:k,onExit:function(e){null==H.current||H.current(),null==w||w(e)},onExiting:R,onExited:function(e){e&&(e.style.display=""),null==x||x(e),$A(window,"resize",K)},manager:Y(),containerClassName:r+"-open",transition:d?CL:void 0,backdropTransition:d?IL:void 0,renderBackdrop:te,renderDialog:function(e){return n.createElement("div",(0,Cg.Z)({role:"dialog"},e,{style:ne,className:WA()(i,r,F&&r+"-static"),onClick:g?ee:void 0,onMouseUp:J,"aria-label":p,"aria-labelledby":u,"aria-describedby":h}),n.createElement(c,(0,Cg.Z)({},L,{onMouseDown:Q,className:s,contentClassName:a}),l))}}))}));xL.displayName="Modal",xL.defaultProps=RL,xL.Body=cL,xL.Header=OL,xL.Title=kL,xL.Footer=dL,xL.Dialog=fL,xL.TRANSITION_DURATION=300,xL.BACKDROP_TRANSITION_DURATION=150;var AL=xL,NL=(0,n.createContext)(),LL=function(e){var t=a((0,n.useState)(""),2),r=t[0],i=t[1],o=a((0,n.useState)(!1),2),s=o[0],l=o[1],c=a((0,n.useState)(!1),2),u=c[0],h=c[1],p=a((0,n.useState)(0),2),f=p[0],d=p[1],g=a((0,n.useState)(0),2),_=g[0],v=g[1];return(0,n.useEffect)((function(){}),[f,_]),(0,P.jsx)(NL.Provider,{value:{projectName:r,setProjectName:i,serverIsOpen:s,setServerIsOpen:l,showAlertModal:u,setShowAlertModal:h,roll:f,pitch:_,setRollValue:d,setPitchValue:v},children:e.children})},ML=function(e){var t=(0,n.useContext)(NL),r=t.showAlertModal,i=t.setShowAlertModal;return(0,P.jsxs)(AL,{centered:!0,className:"alert-modal",show:r,onHide:function(){return i(!1)},children:[(0,P.jsx)(AL.Header,{closeButton:!0,children:(0,P.jsx)(AL.Title,{children:"Could not open XML"})}),(0,P.jsx)(AL.Body,{children:(0,P.jsx)("span",{})}),(0,P.jsx)(AL.Footer,{children:(0,P.jsx)("button",{onClick:function(){return i(!1)},children:"Close"})})]})};var DL=(0,N.g)(),PL=(0,j.FY)(),BL=function(e){var t=e.isOpen,n=e.close;return(0,P.jsxs)("div",{id:"HowToPair",className:"".concat(t?"":"hide"),onClick:function(e){e.target.closest(".content-overlay")||n()},children:[(0,P.jsx)("div",{className:"close",children:(0,P.jsx)("img",{src:hg,alt:"x",onClick:n})}),(0,P.jsxs)("div",{className:"content-overlay",children:[(0,P.jsxs)("h4",{children:["How to pair with ","cde"===DL?"CoDrone EDU":"cdm"===DL?"CoDrone Mini":"CoDrone"]}),(0,P.jsx)("span",{className:"orange",onClick:function(){try{"cde"===DL?"ko"===PL?window.open("https://learn.robolink.com/ko/lesson/pairing-to-blockly-kor/","_blank"):window.open("https://learn.robolink.com/lesson/intro-to-blockly-cde/","_blank"):"cdm"===DL?window.open("https://learn.robolink.com/lesson/cdmb-pairing/","_blank"):window.open("https://learn.robolink.com/lesson/intro-to-blockly-cde/","_blank")}catch(nP){window.open("https://learn.robolink.com/lesson/intro-to-blockly-cde/","_blank")}},children:'Go to  "How to Pair with Blockly" tutorial on Basecamp'}),(0,P.jsx)("div",{children:(0,P.jsx)("iframe",{title:"HowToPair",src:"cde"===DL?"https://www.youtube.com/embed/FY9zmES-GTE":"cdm"===DL?"https://drive.google.com/file/d/1R-rLwWl0vMEj4PSTcaSUHf2ZK3dmYaD6/preview":"https://www.youtube.com/embed/FY9zmES-GTE",width:"100%",height:"400px",frameBorder:0})})]})]})},FL=Xd({name:"battNotif",initialState:{isOpen:!1},reducers:{openBattNotifModal:function(e){e.isOpen=!0},closeBattNotifModal:function(e){e.isOpen=!1}}}),UL=FL.actions,ZL=UL.openBattNotifModal,GL=UL.closeBattNotifModal,HL=FL.reducer,VL=__webpack_require__.p+"static/media/usb-cable-neutral.962dda0235e9891dbbd1.png",jL=function(){var e=A(),t=(0,n.useContext)(B).msg,r=b((function(e){return e.battNotif})),i=r.isOpen;return(0,P.jsx)("div",{id:"batt-notif-bg",className:"".concat(i?"":"hide"),onClick:function(){return e(GL())},children:(0,P.jsxs)("div",{className:"batt-notif",children:[(0,P.jsx)("div",{className:"md-header",children:(0,P.jsx)("div",{className:"title",children:t.CONN_BATT_ALERT_TEXT1})}),(0,P.jsxs)("div",{className:"md-body",children:[(0,P.jsx)("div",{className:"img-svg",children:(0,P.jsx)("img",{src:VL,alt:"cable"})}),(0,P.jsx)("div",{className:"txt",children:(0,P.jsx)("div",{className:"txt-label",children:t.CONN_BATT_ALERT_TEXT3})})]})]})})},WL=function(e){var t=e.isConnectionDroppedOnPair,n=e.setIsConnectionDroppedOnPair;return(0,P.jsx)("div",{id:"drop-connection-bg",className:"".concat(t?"":"hide"),onClick:function(){return n(!1)},children:(0,P.jsxs)("div",{className:"drop-connection",children:[(0,P.jsx)("div",{className:"md-header"}),(0,P.jsxs)("div",{className:"md-body",children:[(0,P.jsx)("div",{className:"txt",children:(0,P.jsx)("div",{className:"txt-label",children:"Please check if your drone is on and paired with the controller."})}),(0,P.jsx)("p",{children:(0,P.jsx)("button",{className:"closeButton",onClick:function(){return n(!1)},children:"Cerrar"})})]})]})})},XL=__webpack_require__(9656);function zL(e,t,n){return YL.apply(this,arguments)}function YL(){return(YL=(0,t.Z)((0,e.Z)().mark((function n(r,i,o){var s;return(0,e.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,qL(r);case 3:return n.next=5,__webpack_require__.g.getFirmwareNeedUpdate();case 5:s=n.sent,i({versions:{drone:s.versions.drone,controller:s.versions.controller,droneModel:s.droneModel},update:o?{controllerNeedUpdate:!0,droneNeedUpdate:!0}:s.firmware}),__webpack_require__.g.BATTERY_INTERVAL=setInterval((0,t.Z)((0,e.Z)().mark((function t(){return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,qL(r);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("Disconnected");case 8:case"end":return e.stop()}}),t,null,[[0,5]])}))),2500),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),console.error(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})))).apply(this,arguments)}function qL(e){return KL.apply(this,arguments)}function KL(){return KL=(0,t.Z)((0,e.Z)().mark((function t(n){var r,i,o,s,a;return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.getBatteryPercentageInit){e.next=7;break}return e.next=3,__webpack_require__.g.getBatteryPercentageInit();case 3:r=e.sent,n(r),e.next=18;break;case 7:if(!__webpack_require__.g.getBatteryPercentage){e.next=18;break}if(a=null===(i=__webpack_require__.g)||void 0===i||null===(o=i.Code)||void 0===o||null===(s=o.droneData)||void 0===s?void 0:s.battery,__webpack_require__.g.takeOffInProgress){e.next=16;break}return console.log("battery loop on"),e.next=13,__webpack_require__.g.getBatteryPercentage();case 13:a=e.sent,e.next=17;break;case 16:console.log("battery loop off");case 17:n(a);case 18:case"end":return e.stop()}}),t)}))),KL.apply(this,arguments)}var QL=__webpack_require__.p+"static/media/drone_image.b99fdadeecbe51b1c2ee87ce14bf4346.svg",JL=__webpack_require__.p+"static/media/drone_image-jrotc.6fd4d362885ea8bc675e.png";var $L=__webpack_require__.p+"static/media/codrone_mini.a9a964442d8ceea7b218c64f27f7046c.svg";var eM=__webpack_require__.p+"static/media/battery_full.3daaf94ec1e8378e2b482b8d88180d7e.svg";var tM=__webpack_require__.p+"static/media/battery_unreadable.3eca44ac148781a2dbf5b09d16879de6.svg",nM=Xd({name:"jrotcDroneType",initialState:{isJrotcDrone:!1},reducers:{setJrotcDrone:function(e){e.isJrotcDrone=!0}}}),rM=nM.actions.setJrotcDrone,iM=nM.reducer,oM=function(e){var t=e.handleShow,n=e.setHandleShow,r=e.option,i=e.isJrotcDrone,o="It seems that your ".concat(r?"drone":"controller"," firmware needs an update. We highly recommend upgrading to the latest firmware for the best experience.");return(0,P.jsxs)("div",{className:"".concat(t?r?"modalMask modalSelectDron":"modalMask modalSelectController":"modalClosed"),children:[(0,P.jsxs)("div",{className:"modalContainer",children:[(0,P.jsx)("label",{children:o}),(0,P.jsxs)("div",{className:"box_buttons",children:[(0,P.jsx)("button",{id:"update_button",onClick:function(){var e=i?__webpack_require__.g.URL_UPDATE_JROTC_FIRMWARE_DRONE:__webpack_require__.g.URL_UPDATE_FIRMWARE_DRONE,t=i?__webpack_require__.g.URL_UPDATE_JROTC_FIRMWARE_CONTROLLER:__webpack_require__.g.URL_UPDATE_FIRMWARE_CONTROLLER,o=r?e:t;window.open(o,"_blank"),n(!1)},children:"Update"}),(0,P.jsx)("button",{id:"update_link",onClick:function(){return n(!1)},children:"Later"})]})]}),(0,P.jsx)("div",{className:"border-flag"})]})},sM=__webpack_require__(2527);function aM(e,t){return lM.apply(this,arguments)}function lM(){return lM=(0,t.Z)((0,e.Z)().mark((function t(n,r){var i;return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(i=Code)&&void 0!==i&&i.device){e.next=2;break}return e.abrupt("return");case 2:if(__webpack_require__.g.RUNNING=!0,"cde"!==n){e.next=11;break}return __webpack_require__.g.FREEZEDASHBOARD=!1,__webpack_require__.g.disableRefreshBtn(),__webpack_require__.g.resetDataItem(),(0,yg.Fc)(),e.next=10,__webpack_require__.g.setControllerMode();case 10:-1!==window.location.pathname.indexOf("staging")&&(__webpack_require__.g.START_TIME=Date.now());case 11:(0,j.zS)(r);case 12:case"end":return e.stop()}}),t)}))),lM.apply(this,arguments)}function cM(e){return uM.apply(this,arguments)}function uM(){return uM=(0,t.Z)((0,e.Z)().mark((function t(n){return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("cdm"!==n){e.next=5;break}return e.next=3,gM();case 3:e.next=7;break;case 5:return e.next=7,fM();case 7:case"end":return e.stop()}}),t)}))),uM.apply(this,arguments)}function hM(e){return pM.apply(this,arguments)}function pM(){return pM=(0,t.Z)((0,e.Z)().mark((function t(n){return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("cdm"===n){e.next=3;break}return e.next=3,vM();case 3:case"end":return e.stop()}}),t)}))),pM.apply(this,arguments)}function fM(){return dM.apply(this,arguments)}function dM(){return(dM=(0,t.Z)((0,e.Z)().mark((function n(){return(0,e.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!__webpack_require__.g.isSerialRunning()||!__webpack_require__.g.RUNNING){n.next=13;break}return sM.jC.cleanStack(),n.next=4,__webpack_require__.g.emergencyStop();case 4:return n.next=6,__webpack_require__.g.stopDroneBuzzer();case 6:return n.next=8,__webpack_require__.g.stopControllerBuzzer();case 8:__webpack_require__.g.RUNNING=!1,(0,yg.Im)(),setTimeout((0,t.Z)((0,e.Z)().mark((function t(){return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,__webpack_require__.g.droneBuzzerNoteOnly(Note.Fin);case 2:return e.next=4,__webpack_require__.g.controllerBuzzerNoteOnly(Note.Fin);case 4:case"end":return e.stop()}}),t)}))),1e3),n.next=16;break;case 13:return __webpack_require__.g.RUNNING=!0,n.next=16,__webpack_require__.g.emergencyStop();case 16:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function gM(){return _M.apply(this,arguments)}function _M(){return(_M=(0,t.Z)((0,e.Z)().mark((function t(){return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()||!__webpack_require__.g.RUNNING){e.next=12;break}return clearInterval(__webpack_require__.g.soundInteface.intervalId),sM.Cw.cleanStack(),e.next=5,__webpack_require__.g.play_note("Fin",1);case 5:return e.next=7,__webpack_require__.g.play_note("Fin",1);case 7:return e.next=9,__webpack_require__.g.emergencyStop();case 9:__webpack_require__.g.RUNNING=!1,e.next=15;break;case 12:return __webpack_require__.g.RUNNING=!0,e.next=15,__webpack_require__.g.emergencyStop();case 15:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function vM(){return mM.apply(this,arguments)}function mM(){return(mM=(0,t.Z)((0,e.Z)().mark((function t(){return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:clearInterval(__webpack_require__.g.soundInteface.intervalId),sM.jC.cleanStack(),sM.jC.triggerSoftLand(),__webpack_require__.g.RUNNING=!1;case 4:case"end":return e.stop()}}),t)})))).apply(this,arguments)}var yM=(0,N.g)(),TM=(0,j.FY)(),EM=new URLSearchParams(document.location.search).get("forceCdeJrotc"),bM=function(r){var i,o,s,l,c,u,h,p,f,d,g,_,v,m,y,T,E,O,S,k,w,R,C,I,x=r.enableRunButton,L=r.disableRunButton,M=A(),D=(0,n.useContext)(B).msg,F=a((0,n.useState)(!1),2),U=F[0],Z=F[1],G=a((0,n.useState)(!0),2),H=G[0],V=G[1],j=a((0,n.useState)("disconnected"),2),W=j[0],X=j[1],z=a((0,n.useState)(0),2),Y=z[0],q=z[1],K=a((0,n.useState)(!1),2),Q=K[0],J=K[1],$=a((0,n.useState)({update:{controllerNeedUpdate:!1,droneNeedUpdate:!1},versions:{controller:{controllerMajor:"",controllerMinor:"",controllerBuild:""},droneModel:"",drone:{droneMajor:"",droneMinor:"",droneBuild:""}}}),2),ee=$[0],te=$[1],ne=a((0,n.useState)(0),2),re=ne[0],ie=ne[1],oe=a((0,n.useState)(0),2),se=oe[0],ae=oe[1],le=function(e){var t=a((0,n.useState)(e),2),r=t[0],i=t[1];return gg((function(){__webpack_require__.g.setSpeed(r)}),[r]),[r,i]}(2),ce=a(le,2),ue=ce[0],he=ce[1],pe=a((0,n.useState)(tM),2),fe=pe[0],de=pe[1],ge=a((0,n.useState)(!1),2),_e=ge[0],ve=ge[1],me=a((0,n.useState)(!1),2),ye=me[0],Te=me[1],Ee=a((0,n.useState)(!1),2),be=Ee[0],Oe=Ee[1],Se=a((0,n.useState)(""),2),ke=Se[0],we=Se[1],Re=a((0,n.useState)(!1),2),Ce=Re[0],Ie=Re[1],xe=b((function(e){return e.colorTheme}));xe.isDark;(0,n.useEffect)((function(){!function(e){__webpack_require__.g.showDisconnectedUI=e}(Ue),function(e){__webpack_require__.g.updateRollPitchInConnectionBox=e}(Be)}),[]);(0,n.useEffect)((function(){var e;console.log("drone model change detected: ",null===ee||void 0===ee||null===(e=ee.versions)||void 0===e?void 0:e.droneModel),console.log("pairestate  ----------- ",W),"dropped"!==W&&"unable"!==W||(M(GL()),clearInterval(__webpack_require__.g.CONNECTION_INTERVAL),Ie(!0),__webpack_require__.g.CONNECTION_INTERVAL_COUNTER=0),"disconnected"===W&&clearInterval(__webpack_require__.g.CONNECTION_INTERVAL)}),[W]);var Ae=function(){var n=(0,t.Z)((0,e.Z)().mark((function t(){return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){var e=document.getElementsByClassName("screen");return(null===e||void 0===e?void 0:e.length)>0&&(e[0].parentElement.parentElement.style.display="none",!0)}),"1000");case 1:case"end":return e.stop()}}),t)})));return function(){return n.apply(this,arguments)}}();(0,n.useEffect)((function(){var e,t;if(console.log("drone model change detected: ",null===ee||void 0===ee||null===(e=ee.versions)||void 0===e?void 0:e.droneModel),"Drone_12_Drone_P1"===(null===ee||void 0===ee||null===(t=ee.versions)||void 0===t?void 0:t.droneModel)||EM){if(J(!0),M(rM()),!document.getElementById("juniorXmlBtn").classList[1])return Ae();document.getElementById("seniorXmlBtn").addEventListener("click",Ae)}}),[ee]),(0,n.useEffect)((function(){de(null!==Y?Y>=91&&Y<=100?eM:Y>=66&&Y<=90?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAOCAYAAAA8E3wEAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4wESFRc4rBgouwAAAJpJREFUOMtjTDjqHPGfgXEyIyODCAP1wVdGhv+986321sMEmKhkGSMOzPOfgbEu7oiLHNxCGvkM1TUsTKJwCxnoDBgTjrn8p4Y5eOT+MzIwXP/PwPCNgYGBgYUevvrPwKA5YEE6/C2kSxzSPdH8Y2KKXWix6+yAxeFr6qR8nJjh/59/r5GKtv+5VLIUmyu+MPxnaFxks+cRTAwA6z8vCjBFRwAAAAAASUVORK5CYII=":Y>=36&&Y<=65?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAOCAYAAAA8E3wEAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4wESFQ4XnMm8+gAAAJpJREFUOMtjTDjqHPGfgXEyIyODCAP1wVdGhv+986321sMEmMiwjJEEzPOfgbEu7oiLHNxCGvkM1YUsTKJwCxnoDBgTjrn8J1UPier/MzIwXP/PwPCNgYGBgYUevvrPwKA5YEE6/C2kSxzSPdH8Y2KKXWix6+yAxeFr0lM5SZjh/59/r5GKtv+5ZFhKrMu+MPxnaFxks+cRTAwAQdY0CmPRVtYAAAAASUVORK5CYII=":Y>=11&&Y<=35?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAOCAYAAAA8E3wEAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4wESFRklUZ1p7AAAAJpJREFUOMtjTDjqHPGfgXEyIyODCAP1wVdGhv+986321sMEmPBYxkgFzPOfgbEu7oiLHNxCGvkM1eUsTKJwCxnoDBgTjrn8xyVHJTv+MzIwXP/PwPCNgYGBgYUevvrPwKA5YEE6/C2kSxzSPdH8Y2KKXWix6+yAxeFr3KmZKpjh/59/r5GKtv+5eCylNP99YfjP0LjIZs8jmBgAx0w6CkBtkWAAAAAASUVORK5CYII=":Y<=10?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAOCAYAAAA8E3wEAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4wESFRsQNRjPTQAAAJxJREFUOMtjTDjqHPGfgXEyIyODCAP1wVdGhv+986321sMEmKCWiTIwMDDSAPP8Z2CsizviIge3kEY+QwGMLEyicAsZ6AwYE465/Id6n1bgPyMDw/X/DAzfGBgYGFjo4av/DAyaAxakw99CusQh3RPNPyam2IUWu84OWJC+hqRcGmaLP/9eIxVt/3OhltIi/31h+M/QuMhmzyOYGABBnSki0F2DwgAAAABJRU5ErkJggg==":tM:tM)}),[Y]);var Ne=function(e){if("pitch"===e){var t=se<100?parseInt(se)+1:100;ae(t),Fe(e,t)}else if("roll"===e){var n=re<100?parseInt(re)+1:100;ie(n),Fe(e,n)}},Le=function(e){if("pitch"===e){var t=se>-100?parseInt(se)-1:-100;ae(t),Fe(e,t)}else if("roll"===e){var n=re>-100?parseInt(re)-1:-100;ie(n),Fe(e,n)}},Me=function(e){var t=parseInt(e.target.value);Fe("pitch",t)},De=function(e){var t=parseInt(e.target.value);Fe("roll",t)},Pe=function(e){__webpack_require__.g.setRoll(e.roll),__webpack_require__.g.setPitch(e.pitch),ie(e.roll),ae(e.pitch)},Be=function(e,t){console.log("update roll pitch",e,t),__webpack_require__.g.setRoll(e),__webpack_require__.g.setPitch(t),ae(t),ie(e)},Fe=function(e,t){if("cdm"===yM){if("roll"===e){var n=__webpack_require__.g.getPitch();__webpack_require__.g.moveTrim(t,n,0,0)}else if("pitch"===e){var r=__webpack_require__.g.getRoll();__webpack_require__.g.moveTrim(r,t,0,0)}}else if("roll"===e){var i=__webpack_require__.g.getPitch();__webpack_require__.g.setTrim(t,0!==se?se:i)}else if("pitch"===e){var o=__webpack_require__.g.getRoll();__webpack_require__.g.setTrim(0!==re?re:o,t)}},Ue=function(){X("disconnected")},Ze=function(){var n=(0,t.Z)((0,e.Z)().mark((function t(){var n,r;return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="cde","en"===TM&&M(ZL()),r=null,e.prev=3,console.log("getting serial port"),e.next=7,(0,XL.fS)(n);case 7:r=e.sent,e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(3),console.log(e.t0),M(GL()),e.abrupt("return");case 15:return e.prev=15,console.log("openning serial port"),e.next=19,(0,XL.Vg)(r);case 19:e.next=28;break;case 21:return e.prev=21,e.t1=e.catch(15),e.next=25,(0,XL.o4)(r);case 25:return X("unable"),console.log("FAil to pair: ",e.t1),e.abrupt("return");case 28:return M(GL()),X("connecting"),(0,XL.hG)(r,n),X("paired"),console.log("getting battery interval"),e.next=35,zL(q,te,EM);case 35:return console.log("checking connection interval"),e.next=38,(0,XL.bu)(X);case 38:return e.next=40,new Promise((function(e){return setTimeout(e,950)}));case 40:return console.log("resolve connection interval"),e.prev=41,console.log("opening device serial port"),e.next=45,(0,XL.jQ)(Pe,n);case 45:x(),(0,yg.Im)(),e.next=58;break;case 49:if(e.prev=49,e.t2=e.catch(41),(0,XL.S3)(e.t2),console.log(e.t2),"disconnected"!==W){e.next=55;break}return e.abrupt("return");case 55:return"unable"!==W&&X("unable"),X("disconnected"),e.abrupt("return");case 58:case"end":return e.stop()}}),t,null,[[3,10],[15,21],[41,49]])})));return function(){return n.apply(this,arguments)}}(),Ge=function(){var n=(0,t.Z)((0,e.Z)().mark((function t(){var n,r;return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="cdm",r=null,e.next=4,(0,XL.fS)(n);case 4:return r=e.sent,e.next=7,(0,XL.Vg)(r);case 7:return X("connecting"),(0,XL.hG)(r,n),e.next=11,zL(q,te);case 11:return e.next=13,new Promise((function(e){return setTimeout(e,250)}));case 13:return e.next=15,(0,XL.jQ)(Pe,n);case 15:x(),X("paired");case 17:case"end":return e.stop()}}),t)})));return function(){return n.apply(this,arguments)}}(),He=function(){var n=(0,t.Z)((0,e.Z)().mark((function t(){return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(0,XL.zd)()){e.next=8;break}return X("disconnected"),L(),e.next=6,(0,XL.DN)();case 6:e.next=26;break;case 8:if(e.prev=8,"cdm"!==yM){e.next=15;break}return e.next=12,Ge();case 12:return e.abrupt("return",e.sent);case 15:return console.log("calling cde pair"),e.next=18,Ze();case 18:return e.abrupt("return",e.sent);case 19:e.next=26;break;case 21:return e.prev=21,e.t0=e.catch(8),X("unable"),console.log(e.t0),e.abrupt("return");case 26:e.next=32;break;case 28:e.prev=28,e.t1=e.catch(0),console.log(e.t1),X("disconnected");case 32:case"end":return e.stop()}}),t,null,[[0,28],[8,21]])})));return function(){return n.apply(this,arguments)}}(),Ve=function(){var n=(0,t.Z)((0,e.Z)().mark((function t(n,r,i){var o;return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=(0,N.g)(),e.next=4,aM(o,!0);case 4:return e.next=6,__webpack_require__.g.setDroneLED(n,r,i,255,!0);case 6:Oe(!1),e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(0),(0,XL.S3)(e.t0),e.abrupt("return");case 13:case"end":return e.stop()}}),t,null,[[0,9]])})));return function(e,t,r){return n.apply(this,arguments)}}(),je=function(e){Z(!0),V(e)};return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)("div",{id:"connectMenu",className:"".concat("paired"===W||"dropped"===W?"connected":""," ").concat(_e?"hide-info":""),children:[(0,P.jsxs)("div",{children:[(0,P.jsx)("div",{className:"toggle-drone-info",children:(0,P.jsx)("span",{onClick:function(){ve((function(e){return!e}))}})}),(0,P.jsxs)("p",{className:"not-paired-text",children:[(0,P.jsx)("span",{className:"circle"}),D.CONN_NOT_PAIRED,(0,P.jsx)("span",{className:"how-to-pair-btn",onClick:function(){Te(!0)},children:D.CONN_HOW_TO_PAIR})]}),"paired"===W|"dropped"===W&&null!==ee&&void 0!==ee&&null!==(i=ee.versions)&&void 0!==i&&null!==(o=i.controller)&&void 0!==o&&o.controllerBuild&&null!==ee&&void 0!==ee&&null!==(s=ee.versions)&&void 0!==s&&null!==(l=s.drone)&&void 0!==l&&l.droneBuild?(0,P.jsxs)("p",{className:Q&&(null===ee||void 0===ee||null===(c=ee.versions)||void 0===c||null===(u=c.drone)||void 0===u||null===(h=u.droneBuild)||void 0===h?void 0:h.length)>=2?"firmware-version jrotc-version-label-size":"firmware-version",children:[(0,P.jsxs)("div",{className:"box-version-container",children:[D.DRONE_LABEL,": ",null===ee||void 0===ee||null===(p=ee.versions)||void 0===p||null===(f=p.drone)||void 0===f?void 0:f.droneMajor,".",null===ee||void 0===ee||null===(d=ee.versions)||void 0===d||null===(g=d.drone)||void 0===g?void 0:g.droneMinor,".",null===(_=ee.versions)||void 0===_||null===(v=_.drone)||void 0===v?void 0:v.droneBuild,null!==ee&&void 0!==ee&&null!==(m=ee.update)&&void 0!==m&&m.droneNeedUpdate?(0,P.jsx)("div",{onClick:"paired"===W|"dropped"===W?function(){return je(!0)}:null,children:(0,P.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"15",width:"15",className:"icon-warning",viewBox:"0 0 512 512",children:(0,P.jsx)("path",{fill:"#cc0505",d:"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm0-384c13.3 0 24 10.7 24 24V264c0 13.3-10.7 24-24 24s-24-10.7-24-24V152c0-13.3 10.7-24 24-24zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"})})}):(0,P.jsx)(P.Fragment,{})]}),(0,P.jsxs)("div",{className:"box-version-container",children:[D.CONTROLLER_LABEL,": ",null===(y=ee.versions)||void 0===y||null===(T=y.controller)||void 0===T?void 0:T.controllerMajor,".",null===(E=ee.versions)||void 0===E||null===(O=E.controller)||void 0===O?void 0:O.controllerMinor,".",null===(S=ee.versions)||void 0===S||null===(k=S.controller)||void 0===k?void 0:k.controllerBuild,null!==ee&&void 0!==ee&&null!==(w=ee.update)&&void 0!==w&&w.controllerNeedUpdate?(0,P.jsx)("div",{className:Q&&(null===(R=ee.versions)||void 0===R||null===(C=R.controller)||void 0===C||null===(I=C.controllerBuild)||void 0===I?void 0:I.length)>=2?"jroct-version-container":"",onClick:function(){return je(!1)},children:(0,P.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"15",width:"15",className:"icon-warning",viewBox:"0 0 512 512",children:(0,P.jsx)("path",{fill:"#cc0505",d:"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm0-384c13.3 0 24 10.7 24 24V264c0 13.3-10.7 24-24 24s-24-10.7-24-24V152c0-13.3 10.7-24 24-24zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"})})}):(0,P.jsx)(P.Fragment,{})]})]}):(0,P.jsx)(P.Fragment,{}),(0,P.jsxs)("p",{className:"paired-text",children:[(0,P.jsx)("span",{className:"circle"}),D.CONN_PAIRED,": CoDrone ","cdm"===yM?"Mini":"EDU ",Q&&(0,P.jsx)(P.Fragment,{children:"JROTC ed."})]}),(0,P.jsxs)("div",{id:"drones-info",className:"drones-info",children:["cde"===yM&&(0,P.jsxs)("div",{className:"containerDisplay",children:[(0,P.jsxs)("div",{className:"set-speed",children:[(0,P.jsx)("label",{children:D.CONN_SPEED}),(0,P.jsxs)("select",{value:ue,onChange:function(e){var t=e.target.value;he(t)},children:[(0,P.jsx)("option",{value:1,children:"1"},1),(0,P.jsx)("option",{value:2,children:"2"},2),(0,P.jsx)("option",{value:3,children:"3"},3)]})]}),(0,P.jsx)("div",{className:"containerColor",children:(0,P.jsxs)("div",{className:"set-speed boxSpeed",children:[(0,P.jsx)("div",{children:(0,P.jsx)("label",{children:"LED Color : "})}),(0,P.jsx)("div",{className:"boxColor",onClick:function(){return Oe(!be)},style:{backgroundColor:ke}}),be?(0,P.jsxs)("div",{className:"selectColor",children:[(0,P.jsx)("div",{className:"boxToltip"}),__webpack_require__.g.colorSelected.map((function(e,t){return(0,P.jsx)("div",{className:"boxColor boxItem ".concat(e.className),onClick:function(){return function(e){var t=e.replace(/^#/,""),n=parseInt(t,16),r=[n>>16&255,n>>8&255,255&n];Ve(r[0],r[1],r[2]),we(e)}(e.color)}},t)}))]}):(0,P.jsx)(P.Fragment,{})]})})]}),(0,P.jsx)("span",{className:"info1",children:D.CONN_TRIMMING}),(0,P.jsxs)("div",{className:"drone drone2",children:[(0,P.jsx)("img",{className:"img-arrow",src:"cdm"===yM?$L:Q?JL:QL,alt:"CoDrone EDU"}),(0,P.jsxs)("div",{className:"arrow",children:[(0,P.jsx)("button",{className:"trim-btn pPlus",onClick:function(){return Ne("pitch")},children:(0,P.jsx)("span",{children:"+"})}),(0,P.jsx)("input",{id:"trimPitch",type:"range",min:"-100",max:"100",value:se,onChange:function(e){var t=parseInt(e.target.value);ae(t)},onMouseUp:Me,onTouchEnd:Me,className:"range2",orient:"vertical"}),(0,P.jsx)("button",{className:"trim-btn pMinus",onClick:function(){return Le("pitch")},children:(0,P.jsx)("span",{children:"-"})}),(0,P.jsxs)("span",{className:"pitch-span",children:[D.CONN_PITCH,": ",se]})]}),(0,P.jsxs)("div",{className:"arrow2",children:[(0,P.jsx)("div",{children:(0,P.jsxs)("span",{className:"roll-span",children:[D.CONN_ROLL,": ",re]})}),(0,P.jsx)("button",{className:"trim-btn rPlus",onClick:function(){return Ne("roll")},children:(0,P.jsx)("span",{children:"+"})}),(0,P.jsx)("input",{type:"range",min:"-100",id:"trimRoll",max:"100",value:re,onChange:function(e){var t=parseInt(e.target.value);ie(t)},onMouseUp:De,onTouchEnd:De,className:"range3"}),(0,P.jsx)("button",{className:"trim-btn rMinus",onClick:function(){return Le("roll")},children:(0,P.jsx)("span",{children:"-"})})]})]})]}),(0,P.jsx)("button",{type:"button",onClick:"connecting"!==W?(0,t.Z)((0,e.Z)().mark((function t(){return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He();case 2:case"end":return e.stop()}}),t)}))):function(){console.log("connecting.......")},id:"scanButton",className:"btn btn-default navbar-btn",children:"connecting"===W?(0,P.jsxs)("div",{className:"lds-ellipsis",children:[(0,P.jsx)("div",{}),(0,P.jsx)("div",{}),(0,P.jsx)("div",{}),(0,P.jsx)("div",{})]}):(0,P.jsx)("span",{children:"paired"===W|"dropped"===W?D.CONN_DISCONNECT:D.CONN_PAIR})}),(0,P.jsxs)("div",{className:"battery",children:[(0,P.jsx)("img",{id:"batteryIndicator",className:"",src:fe,alt:""}),(0,P.jsxs)("span",{id:"batteryIndicatorSpan",children:[Y," ",null!==Y?"%":""]})]})]}),(0,P.jsx)(oM,{handleShow:"paired"===W|"dropped"===W&&U,setHandleShow:Z,option:H,isJrotcDrone:Q})]}),(0,P.jsx)(BL,{isOpen:ye,close:function(){Te(!1)}}),(0,P.jsx)(jL,{}),Ce&&(0,P.jsx)(WL,{isConnectionDroppedOnPair:Ce,setIsConnectionDroppedOnPair:function(e){Ie(e),X("disconnected")}})]})},OM=function(e){var t=e.isOpen,r=e.handleToggle,i=e.clearPos,o=(0,n.useContext)(B).msg;return(0,P.jsx)("div",{id:"console",children:(0,P.jsxs)("div",{id:"console-container",className:"container-fluid console-container ".concat(t?"":"closed"),children:[(0,P.jsx)("div",{className:"btn-console tabbed round",onClick:r,children:(0,P.jsx)("ul",{children:(0,P.jsx)("li",{className:"tab",children:(0,P.jsx)("span",{children:o.CONSOLE_TAB})})})}),(0,P.jsx)("div",{className:"row",children:(0,P.jsxs)("div",{className:"col-9 console",children:[(0,P.jsx)("div",{id:"consoleContent",className:t?"show":"hide"}),(0,P.jsx)("div",{id:"clear-console",className:"clear-console",onClick:function(e){document.getElementById("consoleContent").innerHTML=""},style:{right:i},children:(0,P.jsx)("span",{children:o.CONSOLE_CLEAR})}),(0,P.jsxs)("div",{className:"input-console",children:[(0,P.jsx)("label",{children:">"}),(0,P.jsx)("input",{type:"text"})]})]})})]})})},SM=(__webpack_require__.p,__webpack_require__.p,__webpack_require__.p,(0,N.g)(),__webpack_require__(381)),kM=__webpack_require__(658),wM=__webpack_require__.n(kM),RM=__webpack_require__(8925),CM=__webpack_require__.n(RM);__webpack_require__.g.knn=null;var IM=(0,j.FY)(),xM=[];xM="ko"===IM?[{label:"\ube68\uac15",data:[]},{label:"\ub178\ub791",data:[]},{label:"\ucd08\ub85d",data:[]},{label:"\ud558\ub298",data:[]},{label:"\ud30c\ub791",data:[]},{label:"\ubcf4\ub77c",data:[]},{label:"\ud558\uc591",data:[]},{label:"\uac80\uc815",data:[]}]:[{label:"red",data:[]},{label:"yellow",data:[]},{label:"green",data:[]},{label:"lightblue",data:[]},{label:"blue",data:[]},{label:"purple",data:[]},{label:"white",data:[]},{label:"black",data:[]}];var AM=function(){var n=(0,t.Z)((0,e.Z)().mark((function n(r){var i;return(0,e.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!__webpack_require__.g.isSerialRunning()){n.next=5;break}return i=new Promise(function(){var n=(0,t.Z)((0,e.Z)().mark((function t(n,i){var o;return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,__webpack_require__.g.getCardColorHSVL("front","hsvl");case 3:o=e.sent,xM[r].data.push(o),n(xM[r].data),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Error!"),n();case 12:case"end":return e.stop()}}),t,null,[[0,8]])})));return function(e,t){return n.apply(this,arguments)}}()),n.abrupt("return",i);case 5:console.log("Not connected");case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();var NM=__webpack_require__.p+"static/media/add.b60bcdc0a18b10bf6c48d14d70f10cc2.svg";var LM=__webpack_require__.p+"static/media/close.78d1c8a03c75b7a14aba46ce3792f14a.svg",MM=null,DM=(0,j.FY)(),PM=function(){var r=(0,n.useContext)(B).msg,i=a((0,n.useState)(!1),2),o=i[0],s=i[1],l=a((0,n.useState)(0),2),c=l[0],u=l[1],h=a((0,n.useState)([]),2),p=h[0],f=h[1],d=a((0,n.useState)(0),2),g=d[0],_=d[1],v=a((0,n.useState)(""),2),m=v[0],y=v[1],T=a((0,n.useState)([]),2),E=T[0],b=T[1],O=a((0,n.useState)(""),2),S=O[0],k=O[1],w=a((0,n.useState)(10),2),R=w[0],C=w[1],I=a((0,n.useState)(0),2),x=I[0],A=I[1],N=a((0,n.useState)(!1),2),L=N[0],M=N[1],D=a((0,n.useState)(!1),2),F=D[0],U=D[1];(0,n.useEffect)((function(){!function(e){__webpack_require__.g.openColorModal=e}(Z);var e=new Array(xM.length).fill(0);return b(e),f((0,W.Z)(xM)),function(){q()}}),[]);var Z=function(){s(!0)},G=function(){s(!1),z()},H=function(){var n=(0,t.Z)((0,e.Z)().mark((function t(){var n,r;return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:M(!0),n=0;case 2:if(!(n<R)){e.next=9;break}try{A(parseInt(n/R*100))}catch(nP){A(0)}return e.next=6,AM(g);case 6:n++,e.next=2;break;case 9:A(100),(r=(0,W.Z)(E))[g]+=R,b(r),M(!1),A(0);case 15:case"end":return e.stop()}}),t)})));return function(){return n.apply(this,arguments)}}(),V=function(){U(!0);var e=function(){try{var e,t=[],n=[],r=(0,X.Z)(xM);try{for(r.s();!(e=r.n()).done;){var i=e.value;for(var o in i.data)t.push(i.data[o]),n.push(i.label)}}catch(s){r.e(s)}finally{r.f()}return __webpack_require__.g.knn=new SM.Z(t,n),!0}catch(nP){return console.log(nP),!1}}();e?(u(5),Y()):alert("Something went wrong"),U(!1)},z=function(){_(0),y("");var e=new Array(xM.length).fill(0);b(e),k(""),C(10),M(!1),U(!1),u(0),q()},Y=function(){var n=(0,t.Z)((0,e.Z)().mark((function n(){return(0,e.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:MM=setInterval((0,t.Z)((0,e.Z)().mark((function t(){var n;return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,__webpack_require__.g.predictColor("front");case 2:n=e.sent,y(n);case 4:case"end":return e.stop()}}),t)}))),500);case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),q=function(){MM&&(clearInterval(MM),MM=null)};return(0,P.jsx)("div",{className:"color-training-modal-bg ".concat(o?"":"hide"),id:"color-training-modal-bg",onClick:function(e){G()},children:(0,P.jsxs)("div",{className:"color-training-modal ".concat(DM),onClick:function(e){e.preventDefault(),e.stopPropagation()},children:[(0,P.jsxs)("div",{className:"md-header",children:[(0,P.jsx)("span",{className:"close-btn",onClick:G,children:(0,P.jsx)("img",{src:LM,alt:"X"})}),(0,P.jsx)("span",{children:r.COLOR_HEADER})]}),(0,P.jsxs)("div",{className:"md-body",children:[0===c&&(0,P.jsxs)("div",{className:"page-0",children:[(0,P.jsx)("button",{className:"cde-bg",onClick:function(){if(localStorage.getItem("cde-color-model")){if(!window.confirm(r.COLOR_WARNING_NEW))return;!function(){try{window.localStorage.removeItem("cde-color-model"),window.localStorage.removeItem("cde-color-model-name"),xM="ko"===IM?[{label:"\ube68\uac15",data:[]},{label:"\ub178\ub791",data:[]},{label:"\ucd08\ub85d",data:[]},{label:"\ud558\ub298",data:[]},{label:"\ud30c\ub791",data:[]},{label:"\ubcf4\ub77c",data:[]},{label:"\ud558\uc591",data:[]},{label:"\uac80\uc815",data:[]}]:[{label:"red",data:[]},{label:"yellow",data:[]},{label:"green",data:[]},{label:"lightblue",data:[]},{label:"blue",data:[]},{label:"purple",data:[]},{label:"white",data:[]},{label:"black",data:[]}],__webpack_require__.g.knn=null}catch(nP){console.log(nP)}}()}u(1)},children:r.COLOR_MAIN_BTN_NEW}),(0,P.jsx)("button",{className:"cde-bg",onClick:function(){setTimeout((function(){var e,t=[],n=(0,X.Z)(xM);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push(r.data.length)}}catch(i){n.e(i)}finally{n.f()}b(t),k(localStorage.getItem("cde-color-model-name")),u(3)}),1e3)},children:r.COLOR_MAIN_BTN_EXISTING})]}),1===c&&(0,P.jsxs)("div",{children:[(0,P.jsx)("p",{children:r.COLOR_TITLE_COLOR_SET_NAME}),(0,P.jsx)("input",{type:"text",value:S,onChange:function(e){return k(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),S&&u(3))}})]}),3===c&&(0,P.jsxs)("div",{children:[(0,P.jsxs)("div",{className:"collect-color",children:[p.map((function(e,t){return(0,P.jsxs)("div",{className:"color-info color-info-".concat(p.length),children:[(0,P.jsxs)("div",{className:t===g?"label current":"label",children:[(0,P.jsx)("input",{onClick:function(){_(t)},value:e.label,onChange:function(e){return function(e,t){var n=e.target.value,r=p.map((function(e,r){return r===t?(0,Pe.Z)((0,Pe.Z)({},e),{},{label:n}):e}));f(r),xM[t].label=n}(e,t)}}),p.length>1&&(0,P.jsx)("img",{className:"delete",onClick:function(){return function(e){xM.splice(e,1);var t=(0,W.Z)(xM);f(t);var n,r=[],i=(0,X.Z)(xM);try{for(i.s();!(n=i.n()).done;){var o=n.value;r.push(o.data.length)}}catch(s){i.e(s)}finally{i.f()}b(r),_(0)}(t)},src:LM,alt:"x"})]}),(0,P.jsx)("div",{className:"count",children:E[t]})]},t)})),p.length<8&&(0,P.jsx)("div",{className:"add-label",onClick:function(){xM.push({label:"color".concat(xM.length+1),data:[]});var e=(0,W.Z)(xM);f(e);var t,n=[],r=(0,X.Z)(xM);try{for(r.s();!(t=r.n()).done;){var i=t.value;n.push(i.data.length)}}catch(o){r.e(o)}finally{r.f()}b(n),_(0)},children:(0,P.jsx)("img",{src:NM,alt:"+"})})]}),(0,P.jsxs)("div",{children:[(0,P.jsxs)("p",{children:[r.COLOR_TITLE_COLLECT_SAMPLE.split("%1")[0],(0,P.jsx)("strong",{children:p[g].label}),r.COLOR_TITLE_COLLECT_SAMPLE.split("%1")[1]]}),(0,P.jsx)("input",{className:"small-input",type:"number",min:"1",max:"50",value:R,onChange:function(e){return L?null:C(parseInt(e.target.value))}})]}),L?(0,P.jsx)("div",{className:"progress-bar",children:(0,P.jsx)("div",{className:"progress-fill",style:{width:"".concat(x,"%")}})}):(0,P.jsx)("div",{className:"progress-bar empty"})]}),4===c&&F&&(0,P.jsx)("div",{children:r.COLOR_CALIBRATING}),5===c&&(0,P.jsxs)("div",{className:"detecting",children:[(0,P.jsx)("div",{children:r.COLOR_TITLE_DETECTING}),(0,P.jsx)("div",{children:m})]})]}),(0,P.jsxs)("div",{className:"md-footer",children:[1===c&&(0,P.jsx)("button",{onClick:function(){return S?u(3):null},className:S?"cde-bg":"cde-bg deactivated",children:r.COLOR_BTN_NEXT}),3===c&&(0,P.jsx)("button",{onClick:L?null:H,className:L?"cde-bg deactivated":"cde-bg",children:r.COLOR_BTN_COLLECT}),3===c&&(0,P.jsx)("button",{className:-1!==E.indexOf(0)?"cde-bg deactivated":"cde-bg",onClick:-1!==E.indexOf(0)?null:V,children:r.COLOR_BTN_CALIBRATE}),4===c&&!F&&(0,P.jsx)("button",{onClick:V,children:r.COLOR_BTN_CALIBRATE}),5===c&&(0,P.jsxs)("div",{children:[(0,P.jsx)("button",{className:"cde-bg",onClick:function(){z()},children:r.COLOR_BTN_STARTOVER}),(0,P.jsx)("button",{className:"cde-bg",onClick:function(){!function(e){var t,n={},r=(0,X.Z)(xM);try{for(r.s();!(t=r.n()).done;){var i,o=t.value,s=(0,W.Z)(o.data),a="",l=(0,X.Z)(s);try{for(l.s();!(i=l.n()).done;){var c=i.value;a+=[].concat((0,W.Z)(c),(0,W.Z)(c)).join(" ")+"\n"}}catch(u){l.e(u)}finally{l.f()}n[o.label]=a}}catch(u){r.e(u)}finally{r.f()}window.localStorage.setItem("cde-color-model",JSON.stringify(n)),window.localStorage.setItem("cde-color-model-name",e)}(S),(0,j.QP)(),G(),z()},children:r.COLOR_BTN_USE}),(0,P.jsx)("button",{className:"cde-bg",onClick:function(){return function(e){console.log("download color data",e);var t,n={},r=[],i=0,o=xM.length-1,s=new(wM()),a=(0,X.Z)(xM);try{for(a.s();!(t=a.n()).done;){var l=t.value,c=l.data;console.log(c);var u,h="",p=(0,X.Z)(c);try{for(p.s();!(u=p.n()).done;){var f=u.value;h+=[].concat((0,W.Z)(f),(0,W.Z)(f)).join(" ")+"\n"}}catch(g){p.e(g)}finally{p.f()}n[l.label]=h;var d=new Blob([h],{type:"text/plain;charset=utf-8"});s.file("".concat(l.label,".txt"),h),r.push(d),i===o&&s.generateAsync({type:"blob"}).then((function(t){CM().saveAs(t,e)})),i+=1}}catch(g){a.e(g)}finally{a.f()}window.localStorage.setItem("cde-color-model",JSON.stringify(n)),window.localStorage.setItem("cde-color-model-name",e)}(S)},children:r.COLOR_BTN_DOWNLOAD})]})]})]})})};var BM=__webpack_require__.p+"static/media/arrow_front.619664359dbaa05927e3c1df6ecd0d49.svg";var FM=__webpack_require__.p+"static/media/arrow_back.10b35488913d4919939d19cb4ba52654.svg";var UM=__webpack_require__.p+"static/media/cleanup.17b7f61b2219b974c087df1bc4686f1d.svg",ZM=function(){return(0,P.jsxs)("div",{className:"icon-collection",children:[(0,P.jsx)("img",{className:"icon",src:FM,alt:"undo",onClick:function(){V().getMainWorkspace().undo()}}),(0,P.jsx)("img",{className:"icon",src:BM,alt:"redo",onClick:function(){V().getMainWorkspace().undo(!0)}}),(0,P.jsx)("img",{id:"cleanup-icon",src:UM,alt:"clean up",onClick:function(){V().getMainWorkspace().cleanUp()}})]})},GM=__webpack_require__.p+"static/media/front_low.ee4c9433ef586e5b8539.jpg",HM=__webpack_require__.p+"static/media/jrotc_front_low.45cb7e2445a2d6e9a406.jpg",VM=(0,N.g)(),jM=[{id:0,name:"cde",fullname:"CoDrone EDU"},{id:1,name:"cdm",fullname:"CoDrone Mini"},{id:2,name:"cdp",fullname:"CoDrone Pro/Lite"}],WM=function(){var e=a((0,n.useState)(!1),2),t=e[0],r=e[1],i=b((function(e){return e.jrotcDroneType})),o=i.isJrotcDrone,s=function(e){return"cde"===e?GM:"cdm"===e?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAuCAYAAABXuSs3AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAALqADAAQAAAABAAAALgAAAABSkiQEAAAKKElEQVRoBdVaa1OTSRZ+ck8gISEk3G8ConL1BiiDdxZRd2pr13Vr19kvVs3up/26v2J+xVaNuiM1WztbTumoo+s4ijIoFgJyNUQNhAAJIff7Ph2NiwoBZ8TLKU663367+zx9+vTp0/0iwS+kRCIhZxf7yIfJNeRqspGsIwvykJ3kUfIQ+TvydYlEEmX6bolgleQT5C/JLvKbkmgj2oo+lOuOnkIk5JPkR+S3RaIv0adkXQbAjg+R75LXi0Tfh94aeHYmJX+xXmiX6VfIkv6iAbCDLPK3y3S+3kVCZtbPAs+G5eSh9UaYpn8hu3wl8MsuCDYQo71N3rJSw3dU/pBydtF1Lr4q7zVbImhRdpb8XkBT/lKMAsPZ55iWlr+eZ6V3uRApbk30xatIXzIVdtHOCpdfrfSBPLfTZL5PYXkBnKBFvpe8PfXyA0vvEc9Ogk/a0lIb/9MHDFroUChUYExSUuPUtogXhskbnhV/sL8WIttMrYdFZCfoN+Q1gY5Go3C73VgkO10uRCNRaHVamEwm5OTkQC5PdQlQIaCQpADxE4lEYJ+2w+VyYoHtg8EgVCo1coxGFJcUw2AwvKi7QkZgFFi7UlLEw6pktVrR3d0NKRKoqavD+Ngoum/fgdfrRW5uLmpra9HS0oLy8nJ4CCwcDkGlVkNvyMbkpBW3fryFvvt3saulGc4FNy5cvAylQoH8/DxUVJSjtbUVjY2NUCrTBozPgFMrAvyx1VDbbDacOXMW/712leCacfhIZ1JbCwsL6Or6msAeY8G1wEH4cGDPJ/DNTSPAvMGcC6fRjH9+1YWbN29C6L+jo50Dr4fX40MkFoWGWheDHxwchEajpgLqXpqpV7AdE5gFaHEISDtHYsrHxsZgn7HjVx0daG5uQmaGFlWVWdBnforCggJI5YqkmQz09cHa1wO12wHPnBuqilLYlFmYsdtxhIPdvGkzNm6sQI5ej7/+5RQkMkUSpFCAY9YB21Mbampq0wEXWPcJ4J3ktCTsVKlUoPNwB+qpKUEPHvQjFvSirKISR44ehWfRjYnhYWgRhXNkDAqnHfE5D2Y8bixkmVCVb8be1l3YRG2K9dFz6zr2th9FQiqD5dEjKGgephwTQv5AOtApnIcF8DVt7fn5BRA2fvXqVWo7A/OuefTe6cbefQdRVVGBR+OjmBwZRmLRi3n3IkrCfpRrMjBitcGuWUSQJnDt8iU8fvIYc/NO3Ll1A1X125GdnUO774OFpmbgLOxpa10L8BoBXJwRVyWjMYdCn6K39x7y88xJ+x54OAZ/KILsLB38tNGYPwiNTAZ5MIQtejXqqosw3jeMqQUXPM44LLOzuD84hAg90yzBn6PdFxWV4B7N65HFgvr6OuSYzKtiYYVqAVwcbFelLILr7OyEhrZtmRjH9PR0EryPgO3My2lOCu5pBp0OMq7AmXAYAasFDvbsi8fgC4QQDQURcLogVcihVGXi/PkLKCktgclsxv4D+9HWuhtm5tdARgE8dRpPW18qlaKxoQEadQbu9+Wh924PHA4HPYkbHu8CnXQYWq0OEtZTazSwLgYwZJvBiL4YnnAQwWgIQdYJhDgALvaqygKEA37o9VnY2/YJtm3flnSjaUH8/6VOAF8TTU9N40F/L7K1PZix2TE4MA0HNa3TJqBRxiFVyyGVxjHrmoM+YYSXi/QpZ2CWvtztnoeciy+ckCEalyMe9aCjbRThOHDt1gh+uKHA1NRTNDRuxY4dO5DBNbQaCeDi3iMnXcURLrozp8+gt+cm/vb5GAoNLuRynsqbJNhUraIgJeKQY2ZGin99y83D70NQJkyEnXN3XPAGQW+JDG0GbVpCc1JjX4sdWXk+jD0qwN2+IfT09OLKlR9w4sRvcfz3v0uaYRpMHgFcXNasCDxEwV1fncPFCxewbes2FJX/GtUbBlC/+R9QyhPINvtA1JhyKDE8UoxL11SIS+JQZxqgUBkgcfuZylFS5EXTNie2NoRg0CqQy5Wl5Tnr81NN2Pe0AeOj99F//3v0dM+iuaUJVVUb0+CGUwAXN0wr1vIHArjdcwf5hQU4eLAFuQU1tNUoqowxSDVsSeGWCROstv2ISiuRV9APsZl4lCpMcH9Tyf3Y0ajDH4/bufn4UZArRcTP+YmFk3OtUyVQUmKEQppPRRQyjKDfZyyzCo0K4OJabMUtX845btpeh9JiJ4oLRxEP+fFgdAqxER1qd3thNiZo3wXQGE4hLg/RKzgQ8vng8LrhkMi4xcdQTe0VFRo5Cya4PWp4XAGoVV/DrAvip2v08eoAF30ZSspOwuOz0MvkroIbQwK4uMv7+0o1MzMz6aoO0E/fgDm3DCptDWTqcpy71YNhzziOm5wwGqMYf+LBT32MNRh3NNbXYH5ultGhFPpsmoymBF3/mcHOHTtRWlKKQCCGqYHrONphgzZbh/KyBsRiMUxaH6OoWI283LyV4KTKvxPAr5Ppz5aPV6RSCTurxL+/6cfQWJBxyQzohuGSb8ClbnpBhR2aTCX6h6/QRAJobdmKksI8Tvc8EvEE9AxZE5Dh0lUbzl+8S+AOZGq0eDhQTH+egNsXwlNnf3JH9Qd8aD+0H2pGlGlIYL0ugjURN3/J5DORX45C9L0/3uzGjRs/JoMlv98Pn3cRi9ze1eoYzIwxTOZCNNRuQm11Jd0iEGSbeCzCGERFs1Bh3MJd9/4Apu2z8HKHnecuajZFGJjpoKSp5Rfko2VXM7f8ttXi8tOMnf6cAn6CgM8tBzpVJg4Bk5OTGKNrtD5mSi8wOGRB9cZNaN+/h2ugkFNsYqwOhLhDhoI+hCMhxtsqxuQZdIdKzDndyfB38okNF65ch5lhQS2Dtu07m7GB66CsrIzBnColcqX0DwT+4iDxDWuJY9GGlWorGPBXVVViQ2kh42g3rl6Tw73ow762FrTt3sltXoaEhLCpCjltSSaTQhlWUuNqalQDmVyJ0kw9CvLzUVezCLtjFgpJGJ8e68CWuq2QKNQMrpYegZdFIjAKrELMM6K5nGTudOp5+ZRbIeOOOF2Z1TqBiQlqnGFttkGf3OpljK1Fl7F4BJFQGPFEjKbAOJ3alkj5jgf0eDSGWDSMCctjeLnlb29sgFbPEJsDT/LyglOln1HbZ8TDUuAiv4briWfgE4koQcQ5iOcfFqgtKSNDvhWLhuXclUgSLm4Jy0WswxNocuAJehBRLsrEgpAwJgcX8Cp0j+9fXE+8AC4aUevtTNZwIUR4BMcf0YYpu0n+ie4Es5y/gsQTbSCVe97u2aCeveW75HtRMS29dCH0Wk0C+Siu4JYDLi7y38edOMUuSwLLa6s2OZOvomdFRiAf2TWzGARX7iKTo2RxP/2+SMg++hzLm2EQmie/D7P5+Z9SUkMU9kV+lwtWyHrNplN43jhlZ+3k9f5cKNzx2ycC//g+0C5VAwfw3j+JL+sOl4JcLc9BMDpP3j+KqzxxKyYumMRdTeraY13+CeF/riD1dBRliPAAAAAASUVORK5CYII=":"cdp"===e?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAuCAYAAABXuSs3AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAALqADAAQAAAABAAAALgAAAABSkiQEAAANTklEQVRoBdVaCXCUVRL+5shkck1OIIQzCuEIeCACIiwiWXGFLd0tT1xdxWOF0nJLgfUoT3R1V9RivdlylVvBNVpyiihRjiAJQshBQg4khByQayb3ZObt12+OzJBxy1Wjta/o+d///tfd3+vXr7v/PxjwI5tSykwRM0izSWNJaaQEUgxJmoPUQCohFZK2k7IMBkM3rz9vI1gL6TrSGlIj6X9twiO8IsPS5+ipxECaRyon/VRNZIlMQ58sgIJnkXJJfdVE9qyfDDyFGUkv9BXaEHJFl/FHLYACbKTNIYT39ZDotP0g8GQcTirsa4T/Rb7oHv5d4EMeCDLIarNJY76L8WcaL6KeKQyd9rP19fIlgpax9aRfGrRgFQzrvZjk/rsbJ/2cB5Hqvld74WzEQa5CERmcsOPsSYH3tTXVOHq0CEeLS+BwtPCRAYmJCZg7dy769esXODVk/6s9e7Fty2a0tLTCQO0xMTEYNmwoJl18MdLT02Eyh4Xk42AGXWan76EfOEFLP4c0wfcw8Prt8XKsXLkSx09UIS4+CRMnTkBsbKye0t7ejl9Nn4b+/ZICWUL2yyq+RW1tLeLi4qDcbpyqqUF+fiGOV5QDri7cdNMNmHLJpaF4D3JwIsGroIcELtkrZPti5w512223q7ffWaWqa+vU6foG1eV0Bc2trq5WubkHlcvlDhr33Zypr1dfH8hRHe3tviF9bWiyq263S7V3dKqt23eqO++6R2V++EHQnICbeWeDltojZBrfn71X3XX3QlVQVOLn5zbrBchAV2enWrN6DRd2h9qwMVN1u4IX5GM6faZePf3M39TChfeprVu3+oZVxbeV/r50ampPq/vue0B9lfV50Lj3RjD21Da8kWKnV2tx2NWSxYvVN4cLgp65CK7uTIMqKytTL728XCval30gaE6omy5nt8r8aJO6/8+L1Cou9tDhPFVdU9tral7+UfX4Y0+orq7OXs84cJ3f6ryRSq1XO3QwRz3x1LO9xktLS9XSpc+qaVOmqL8+/axqbQve/l4MZw00NjvUTVf/Xk2cMFEtWfIQrfulcjq7/LOa6D6PPPqEOnniuH8soLNGgJs5IPX0HP8qAjpy6LqdTuTkfoPx49MhAf6jzI/x3vsfoLGpCa0NjSgtKoQKPi5aQmtrK8rLKjA2fQxMJlOAVBbn9Q2oP3Maxq4u7M8+gEPf5OGSSyZh/h23o9nRipKSEgwcOKAXn1fIHMFsevLJJ2dy4O4gyf4bA9raOjA8dQi2bNmGDzZ+iC1bt8NoMnK8BY6OdtTWNyJ5YArGjB2jw5uwdhHQlk1b8fobK5CWNhJJiYl+EM32Fvzr7Xewa98eKC4oIT4e/fr3w6nqWmTv24+UlAGYPm0ampqaceGEC2E09sqRVqr4UuprCe6LROHZzUlr72XcTR8/HhHhFmzb+ilscfEYMKA/PvooE+vXrUVYmAVR4eG48aabcdtd83G8vBwbN2ZqqzlaWnRsTx0+DHfyGSMHXn/xJXy5dy8Ug7hbufD3ZcswadJk2O122JubGMvH4uDBQ0gekITBQ4aeDcl3/4IA38S7kK4is2TL8w4fwWhaND7OE7dddI2jhUV4+onHERMdh/jYKORwgcPSx3M3TKitqaP7uGDwWssAWjYhju7VCEN7K+Zedz3yDx1GZKQV9y9axGcJNICZ1jVQVz5ibVEYlpqqQYoX+pONHtE/mwW4vAuO7Bnr6fmYmhqbsIfALp0+HREREeik5XjicerESRiZ6ZIG9MMXn3+GVStXw2gwwxRmYnIhNzUaDUa6kBEtrQ4MGzoYC++9F6kE1Ug/DwsLgy3WhjDKCLeGo7CoGHWnKpEx+4oeEKF7x+Rgyott6Ebdkk9F+KmqKtTQD0eMPBdhFoIzGXBO2gi4urvByI2rr/kd07cNLy57GXFWipQER3cwGk1wu1yIjLBiwYIFGD16NDo7O7W7mXhWDHwuZ8ZsNuJkZRVO11aFxhI8miCe73sbD34kdwQt25R/5AgOc2sTWJOYuJ1iIYvFgnBaLJz+beGVKVNb0GIJ1zw+YQYoAjNwvhXdXKSEIKvwcJ6cD3ERszfqTJo8Ebu/ysburCwf+3ddY3od2cCZAnrf7j1Y+tRSXDlnLmuRBB05xBfltBvMJhZFZoRbwnSoPFZ8jBwKTpcTLreTh092ww1mUzDVo/JEJRfKBZPHRAuLpQ1algHMaWhsqMe8P8zD8uWvYs3Kd3UtE4gnsC/A5btHyLZ10ya8/NJy/OmeBag9VYW1azdAwpkPuInghQy0mJlWbHY0IyUyApNSknkcQeAKcbTo9KEpCINbH04zFwsBTT4th+5UV1eP555bhmdooHHjRuHlV5ZjV9Y+vLduXUhcHHQIcPlY06sdKy7G6tXr8JdHH0HGFbNgtVqw4q038cjDj+FE5SlvzPa4gUSP3dwZCZ15x8swOTEWk2Ki4WAUuX7IQFi62lFUVoqdn+1ENhOOXqxsJ5udpfEzS5/Hjk+3Yc7c2UhM6o/Bg1Lw1NIn8dmOL1DMBBeiNUgCki9QaYEPXa5uvP7q65h1xW8wc+Z0nRnTx6UjjFu7a1cWDuYewq8um8EIE65r8vffXY1/PP882p2dPLgWfFVShpO0vqO9DQV1ddh/vJJJKhn1p08jd+dOuhLD2JhR+kysWPEucg/sxx3zb8G119+gw6lgsdliYAmPwp7duzD10mmB8KSfLVFFlhQUx+v4stDYYMdsb1hifNC+fMttf9TZ7K033sKDDyzioi5Dbk4Ocr/YialTJ+OaW+ejmH7+6eZPUFVZyWjihoM197jx5+HaG25EbFwMMv/5Jt587TUcKixktIpH1o7teOjhxZjNFxFpUj7IC4a09PHjsH3bFrQzS0dERnsGPb+FAly+5S0OHK2rqaVV3Cg+WozUc1Nhi4n0Px533nkYktwfq1atQXFJMaOewqVXXokHFzP50pJhRjMi6IAnSku5G3Yk8K0oddRopvKBGDR4EB58/gVYX3kVWbu+RKezC6qpgWDFNJ4moJuaW5Cflw97Uz0GJg9EG5PgWcC3C/AsUhMpzsNK5QxVY9PHMSta8ElmJiKibfr1TMKZUM6RAlhtNpioxWS2oKPTjaZGB/onxePcoYMwaFAyOvhGJPHbJCGTYU9itsT+M/V2HtIWJhyrdgs7E9r6Df9G2bc8NzwrDCXMxDFIGzUCE2bNRHXNGURHB1lbsGaZ+SrUzRVv5s3Nvm3qn5zMWG3EOSNGYmDKIJSVHkNFeQVrjQ69+urqKrS0tUJRUawtDge+zsYKhrglSx5AJN8hwyko1hvNFcOjdBV/Ojq7sHb1ehQWHGEItXCxDVqOs6sNky++gHkiEdHkt9liYWXCqqquR2I85UVE+Wwq182CWSwu7WPqulk6EsJEwLmpw+gKxzEqbTjGjj8f6eedD7orOhmP8/IO4zNGiNioKMy/9RYdBjtYjlpo1TDGae2iHrw684pcSfsOhlJnhwMZl8/AsOGpWL1qJZOXARkZv8a481kJMqwKr+yOm8oK8vIwdfpUYQ/0/Y/l3qNDPhuzbiLmVJnBFaGZ1sjJycOEiy/SRY/HTdysUTrwwYaNcLNWsdE602dcjpj4OEQwCZkYo6Xqk53QgkUDm/ZgWTVJanwpY+zNDhwrykcbI4/TbcDMWZfTjyO9odKAgoISWPnCP2rsaA1a5FB0BS+jia/LL5/uMs/tVmtlghwWSRANZ87g2LEKpAwejKSkBJ3pcvYfgJOgL7joQo1IrCRzpWAy01LaT6mB/7yIPRcpuhT910Xw3c5ubVGxqiSkQyxjqRJjGXJlUVITxUZbMYSfLXirEYs4yryZoHVWCgQuASKH4Pl5QpSwsiMgvgxrQXKyJfS1tjt1ldjd3YXWFodO4WNoFQtdxEjJwiPmJnRRqZtWToHihmIU+R5TXlqhF2Lm4Rae4sICJPVLxIi0NAaCeERGR3kqTK8MlgYHKdH/eaJHOidQaAZrBn4QogJh4I9YTgRLreGwOzhEd+FiJEaHMyKEh1sRGcUtpuVlsoAXV9NNLlqQlq27Alzcrq2tTVeW8m1FCi0pwqR+sTLacIpeoLBqSYLBYAj9QcijiaHYJZ/g3PqNSJR4mheMgKJ6GdfPvAClL2CFBLhu3ovu+8ALr3YZj0H8wGR/hE94/Do9YuSXNc0yPg/KNYHi9UyCMBL8J5RwlUdGj3gR7JHtRSLK9CQqZpUnz/wAtDT++Nh5la5esBecV4rmI6Pn6uPzXilvCx/9llee7p4muno1CrdxB7Np+TE+vYGT/GMCnE3/8ker1tcevPLcB1D3fRblYOC4R5LM6Gk0RhHHv99nZmHj6ux066t4FcaeJkC9luEzDVhjl2EPfO+v3Pc06feQzNQMAWPeuT2TxD1Et2Cw90j6nj2P5dVm+R4YihjOeLa4L0Kc/H2bzPXwCX9v4uMf/qcU39oo5P/vj1c+8HLlAjJIff3nwoxAnT9Zn8Dlc4Z8ji4n/VRNZIlM8fC+bVTyi/9J/EevkouQCnMG6UqS/LFJXgPlW43vs0ef/CeE/wDJOAnHRMMtfQAAAABJRU5ErkJggg==":GM}(VM),l=function(){r(!1)};return(0,P.jsxs)("div",{className:"Header",children:[(0,P.jsxs)("div",{style:{display:"inline"},onMouseLeave:l,children:[(0,P.jsx)("div",{style:{display:"inline"},onMouseOver:function(){r(!0)},children:(0,P.jsx)("img",{className:"title-cde",src:o?HM:s,alt:"drone"})}),(0,P.jsxs)("div",{className:"dropdown ".concat(t?"show":""),children:[(0,P.jsx)("div",{className:"tool-tip"}),(0,P.jsx)("div",{className:"dropdown-li",children:jM.map((function(e){return(0,P.jsx)("div",{className:"dropdown-item",onClick:function(){var t;(t=e.name)!==VM?window.location.href="cde"===t?"https://codrone.robolink.com/edu/blockly/?option=edu/blockly/":"cdm"===t?"https://codrone.robolink.com/mini/blockly/?option=mini/blockly/":"cdp"===t?"https://codrone.robolink.com/pro/blockly/":"https://codrone.robolink.com/edu/blockly/":l()},children:e.fullname},e.id)}))})]})]}),(0,P.jsx)("div",{style:{display:"inline"},children:(0,P.jsx)("img",{className:"title-logo",src:window.location.pathname+"/images/blockly_for_rl_transparent_v2.png",alt:"logo",style:{width:"147px"}})})]})},XM=function(e){var t=e.type,r=e.changeType,i=(0,n.useContext)(B).msg;return(0,P.jsx)("div",{id:"navbar",children:(0,P.jsx)("div",{className:"navbar-btn-xml",children:(0,P.jsx)("button",{className:"buttonTab ".concat("junior"===t&&"active"),id:"juniorXmlBtn",onClick:function(){return r("junior")},children:i.XML_JUNIOR})})})};function zM(e,t){if(null==e)return{};var n,r,i=(0,Ig.Z)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var YM=__webpack_require__(947),qM=__webpack_require__.n(YM);function KM(e,t){e.emptyBackpack&&function(e){var t=e.configureContextMenu;e.configureContextMenu=function(n,r){var i=e.getComponentManager().getComponent("backpack");if(i&&i.getClientRect().contains(r.clientX,r.clientY)){n.length=0;var o={text:YM.Msg.EMPTY_BACKPACK,enabled:!!i.getCount(),callback:function(){i.empty()}};n.push(o)}else t&&t.call(null,n,r)}}(t),e.removeFromBackpack&&function(){if(!YM.ContextMenuRegistry.registry.getItem("remove_from_backpack")){var e={displayText:YM.Msg.REMOVE_FROM_BACKPACK,preconditionFn:function(e){var t=e.block.workspace;if(t.isFlyout&&t.targetWorkspace){var n=t.targetWorkspace.getComponentManager().getComponent("backpack");if(n&&n.getFlyout().getWorkspace().id===t.id)return"enabled"}return"hidden"},callback:function(e){e.block.workspace.targetWorkspace.getComponentManager().getComponent("backpack").removeBlock(e.block)},scopeType:YM.ContextMenuRegistry.ScopeType.BLOCK,id:"remove_from_backpack",weight:200};YM.ContextMenuRegistry.registry.register(e)}}(),e.copyToBackpack&&function(e){if(!YM.ContextMenuRegistry.registry.getItem("copy_to_backpack")){var t={displayText:function(e){if(e.block){var t=e.block.workspace.getComponentManager().getComponent("backpack").getCount();return"".concat(YM.Msg.COPY_TO_BACKPACK," (").concat(t,")")}},preconditionFn:function(t){var n=t.block.workspace;if(!n.isFlyout){var r=n.getComponentManager().getComponent("backpack");if(r)return e?"enabled":r.containsBlock(t.block)?"disabled":"enabled"}return"hidden"},callback:function(e){e.block.workspace.getComponentManager().getComponent("backpack").addBlock(e.block)},scopeType:YM.ContextMenuRegistry.ScopeType.BLOCK,id:"copy_to_backpack",weight:200};YM.ContextMenuRegistry.registry.register(t)}}(e.disablePreconditionChecks),e.copyAllToBackpack&&function(){if(!YM.ContextMenuRegistry.registry.getItem("copy_all_to_backpack")){var e={displayText:YM.Msg.COPY_ALL_TO_BACKPACK,preconditionFn:function(e){var t=e.workspace;return!t.isFlyout&&t.getComponentManager().getComponent("backpack")?"enabled":"hidden"},callback:function(e){var t=e.workspace;t.getComponentManager().getComponent("backpack").addBlocks(t.getTopBlocks())},scopeType:YM.ContextMenuRegistry.ScopeType.WORKSPACE,id:"copy_all_to_backpack",weight:200};YM.ContextMenuRegistry.registry.register(e)}}(),e.pasteAllToBackpack&&function(){if(!YM.ContextMenuRegistry.registry.getItem("paste_all_from_backpack")){var e={displayText:function(e){if(e.workspace){var t=e.workspace.getComponentManager().getComponent("backpack").getCount();return"".concat(YM.Msg.PASTE_ALL_FROM_BACKPACK," (").concat(t,")")}},preconditionFn:function(e){var t=e.workspace;return!t.isFlyout&&t.getComponentManager().getComponent("backpack")?"enabled":"hidden"},callback:function(e){var t=e.workspace;t.getComponentManager().getComponent("backpack").getContents().forEach((function(e){YM.Xml.domToBlock(YM.Xml.textToDom(e),t).scheduleSnapAndBump()}))},scopeType:YM.ContextMenuRegistry.ScopeType.WORKSPACE,id:"paste_all_from_backpack",weight:200};YM.ContextMenuRegistry.registry.register(e)}}()}YM.Msg.COPY_ALL_TO_BACKPACK="Copy All Blocks to Backpack",YM.Msg.COPY_TO_BACKPACK="Copy to Backpack",YM.Msg.EMPTY_BACKPACK="Empty",YM.Msg.PASTE_ALL_FROM_BACKPACK="Paste All Blocks from Backpack",YM.Msg.REMOVE_FROM_BACKPACK="Remove from Backpack";var QM="backpack_open",JM=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e,r){var i;return(0,z.Z)(this,n),(i=t.call(this,r)).isOpen=e,i.type=QM,i}return(0,Y.Z)(n,[{key:"toJson",value:function(){var e=Nt((0,J.Z)(n.prototype),"toJson",this).call(this);return e.isOpen=this.isOpen,e}},{key:"fromJson",value:function(e){Nt((0,J.Z)(n.prototype),"fromJson",this).call(this,e),this.isOpen=e.isOpen}}]),n}(YM.Events.UiBase);YM.registry.register(YM.registry.Type.EVENT,QM,JM);var $M="backpack_change",eD=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e){var r;return(0,z.Z)(this,n),(r=t.call(this,e)).type=$M,r}return(0,Y.Z)(n)}(YM.Events.UiBase);YM.registry.register(YM.registry.Type.EVENT,$M,eD);var tD=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(e,r){var i;return(0,z.Z)(this,n),(i=t.call(this)).workspace_=e,i.id="backpack",i.options_=function(e){var t,n={allowEmptyBackpackOpen:!0,contextMenu:{emptyBackpack:!0,removeFromBackpack:!0,copyToBackpack:!0,copyAllToBackpack:!1,pasteAllToBackpack:!1,disablePreconditionChecks:!1}};if(!e)return n;var r={};return r.contextMenu=(0,Pe.Z)((0,Pe.Z)({},n.contextMenu),e.contextMenu),r.allowEmptyBackpackOpen=null!==(t=e.allowEmptyBackpackOpen)&&void 0!==t?t:n.allowEmptyBackpackOpen,r}(r),i.flyout_=null,i.contents_=[],i.boundEvents_=[],i.left_=0,i.top_=0,i.WIDTH_=40,i.HEIGHT_=60,i.MARGIN_VERTICAL_=20,i.MARGIN_HORIZONTAL_=20,i.HOTSPOT_MARGIN_=10,i.svgGroup_=null,i.SPRITE_TOP_=10,i.SPRITE_LEFT_=20,i.SPRITE_SIZE_=80,i}return(0,Y.Z)(n,[{key:"init",value:function(){this.workspace_.getComponentManager().addComponent({component:this,weight:2,capabilities:[YM.ComponentManager.Capability.AUTOHIDEABLE,YM.ComponentManager.Capability.DRAG_TARGET,YM.ComponentManager.Capability.POSITIONABLE]}),this.initFlyout_(),this.createDom_(),this.attachListeners_(),KM(this.options_.contextMenu,this.workspace_),this.initialized_=!0,this.workspace_.resize()}},{key:"dispose",value:function(){this.svgGroup_&&YM.utils.dom.removeNode(this.svgGroup_);var e,t=(0,X.Z)(this.boundEvents_);try{for(t.s();!(e=t.n()).done;){var n=e.value;YM.unbindEvent_(n)}}catch(r){t.e(r)}finally{t.f()}this.boundEvents_.length=0}},{key:"initFlyout_",value:function(){var e=new YM.Options({scrollbars:!0,parentWorkspace:this.workspace_,rtl:this.workspace_.RTL,oneBasedIndex:this.workspace_.options.oneBasedIndex,renderer:this.workspace_.options.renderer,rendererOverrides:this.workspace_.options.rendererOverrides,move:{scrollbars:!0}});if(this.workspace_.horizontalLayout){e.toolboxPosition=this.workspace_.toolboxPosition===YM.utils.toolbox.Position.TOP?YM.utils.toolbox.Position.BOTTOM:YM.utils.toolbox.Position.TOP;var t=YM.registry.getClassFromOptions(YM.registry.Type.FLYOUTS_HORIZONTAL_TOOLBOX,this.workspace_.options,!0);this.flyout_=new t(e)}else{e.toolboxPosition=this.workspace_.toolboxPosition===YM.utils.toolbox.Position.RIGHT?YM.utils.toolbox.Position.LEFT:YM.utils.toolbox.Position.RIGHT;var n=YM.registry.getClassFromOptions(YM.registry.Type.FLYOUTS_VERTICAL_TOOLBOX,this.workspace_.options,!0);this.flyout_=new n(e)}this.workspace_.getParentSvg().parentNode.appendChild(this.flyout_.createDom(YM.utils.Svg.SVG)),this.flyout_.init(this.workspace_)}},{key:"createDom_",value:function(){this.svgGroup_=YM.utils.dom.createSvgElement(YM.utils.Svg.G,{},null);var e=YM.utils.genUid(),t=YM.utils.dom.createSvgElement(YM.utils.Svg.CLIPPATH,{id:"blocklyBackpackClipPath"+e},this.svgGroup_);YM.utils.dom.createSvgElement(YM.utils.Svg.RECT,{width:this.WIDTH_,height:this.HEIGHT_},t),this.svgImg_=YM.utils.dom.createSvgElement(YM.utils.Svg.IMAGE,{class:"blocklyBackpack","clip-path":"url(#blocklyBackpackClipPath"+e+")",width:this.SPRITE_SIZE_+"px",x:-this.SPRITE_LEFT_,height:this.SPRITE_SIZE_+"px",y:-this.SPRITE_TOP_},this.svgGroup_),this.svgImg_.setAttributeNS(YM.utils.dom.XLINK_NS,"xlink:href",nD),YM.utils.dom.insertAfter(this.svgGroup_,this.workspace_.getBubbleCanvas())}},{key:"attachListeners_",value:function(){this.addEvent_(this.svgGroup_,"mousedown",this,this.blockMouseDownWhenOpenable_),this.addEvent_(this.svgGroup_,"mouseup",this,this.onClick_),this.addEvent_(this.svgGroup_,"mouseover",this,this.onMouseOver_),this.addEvent_(this.svgGroup_,"mouseout",this,this.onMouseOut_)}},{key:"addEvent_",value:function(e,t,n,r){var i=YM.browserEvents.bind(e,t,n,r);this.boundEvents_.push(i)}},{key:"getFlyout",value:function(){return this.flyout_}},{key:"getClientRect",value:function(){if(!this.svgGroup_)return null;var e=this.svgGroup_.getBoundingClientRect(),t=e.top+this.SPRITE_TOP_-this.HOTSPOT_MARGIN_,n=t+this.HEIGHT_+2*this.HOTSPOT_MARGIN_,r=e.left+this.SPRITE_LEFT_-this.HOTSPOT_MARGIN_,i=r+this.WIDTH_+2*this.HOTSPOT_MARGIN_;return new YM.utils.Rect(t,n,r,i)}},{key:"getBoundingRectangle",value:function(){return new YM.utils.Rect(this.top_,this.top_+this.HEIGHT_,this.left_,this.left_+this.WIDTH_)}},{key:"position",value:function(e,t){if(this.initialized_){var n=this.workspace_.scrollbar&&this.workspace_.scrollbar.canScrollHorizontally(),r=this.workspace_.scrollbar&&this.workspace_.scrollbar.canScrollVertically();e.toolboxMetrics.position===YM.TOOLBOX_AT_LEFT||this.workspace_.horizontalLayout&&!this.workspace_.RTL?(this.left_=e.absoluteMetrics.left+e.viewMetrics.width-this.WIDTH_-this.MARGIN_HORIZONTAL_,n&&!this.workspace_.RTL&&(this.left_-=YM.Scrollbar.scrollbarThickness)):(this.left_=this.MARGIN_HORIZONTAL_,n&&this.workspace_.RTL&&(this.left_+=YM.Scrollbar.scrollbarThickness));var i=e.toolboxMetrics.position===YM.TOOLBOX_AT_BOTTOM;i?(this.top_=e.absoluteMetrics.top+e.viewMetrics.height-this.HEIGHT_-this.MARGIN_VERTICAL_,r&&(this.top_-=YM.Scrollbar.scrollbarThickness)):this.top_=e.absoluteMetrics.top+this.MARGIN_VERTICAL_;for(var o,s=this.getBoundingRectangle(),a=0;o=t[a];a++)s.intersects(o)&&(this.top_=i?o.top-this.HEIGHT_-this.MARGIN_VERTICAL_:o.bottom+this.MARGIN_VERTICAL_,s=this.getBoundingRectangle(),a=-1);this.svgGroup_.setAttribute("transform","translate("+this.left_+","+this.top_+")")}}},{key:"getCount",value:function(){return this.contents_.length}},{key:"getContents",value:function(){return(0,W.Z)(this.contents_)}},{key:"onDrop",value:function(e){e instanceof YM.BlockSvg&&this.addBlock(e)}},{key:"blockToCleanXmlString_",value:function(e){return function(e){for(var t=e.cloneNode(!0),n=t;n;){n.removeAttribute&&(n.removeAttribute("x"),n.removeAttribute("y"),n.removeAttribute("id"),n.removeAttribute("disabled"),"comment"==n.nodeName&&(n.removeAttribute("h"),n.removeAttribute("w"),n.removeAttribute("pinned")));var r=n.firstChild||n.nextSibling;if(!r)for(r=n.parentNode;r;){if(r.nextSibling){r=r.nextSibling;break}r=r.parentNode}n=r}return YM.Xml.domToText(t)}(YM.Xml.blockToDom(e))}},{key:"containsBlock",value:function(e){var t=this.blockToCleanXmlString_(e);return-1!==this.contents_.indexOf(t)}},{key:"addBlock",value:function(e){this.addItem(this.blockToCleanXmlString_(e))}},{key:"addBlocks",value:function(e){var t=e.map(this.blockToCleanXmlString_);this.addItems(t)}},{key:"removeBlock",value:function(e){this.removeItem(this.blockToCleanXmlString_(e))}},{key:"addItem",value:function(e){this.addItems([e])}},{key:"addItems",value:function(e){var t,n=this.filterDuplicates_(e);n.length&&((t=this.contents_).unshift.apply(t,(0,W.Z)(n)),this.onContentChange_())}},{key:"removeItem",value:function(e){var t=this.contents_.indexOf(e);-1!==t&&(this.contents_.splice(t,1),this.onContentChange_())}},{key:"setContents",value:function(e){this.contents_=[],this.contents_=this.filterDuplicates_(e),this.onContentChange_()}},{key:"empty",value:function(){this.getCount()&&(this.contents_.length&&(this.contents_=[],this.onContentChange_()),this.close())}},{key:"onContentChange_",value:function(){this.maybeRefreshFlyoutContents_(),YM.Events.fire(new eD(this.workspace_.id))}},{key:"filterDuplicates_",value:function(e){var t=this;return e.filter((function(n,r){return e.indexOf(n)===r&&-1===t.contents_.indexOf(n)}))}},{key:"isOpenable_",value:function(){return!(this.isOpen()||!this.options_.allowEmptyBackpackOpen)||this.getCount()>0}},{key:"isOpen",value:function(){return this.flyout_.isVisible()}},{key:"open",value:function(){if(this.isOpenable_()){var e=this.contents_.map((function(e){return YM.Xml.textToDom(e)}));this.flyout_.show(e),YM.Events.fire(new JM(!0,this.workspace_.id))}}},{key:"maybeRefreshFlyoutContents_",value:function(){if(this.isOpen()){var e=this.contents_.map((function(e){return YM.Xml.textToDom(e)}));this.flyout_.show(e)}}},{key:"close",value:function(){this.isOpen()&&(this.flyout_.hide(),YM.Events.fire(new JM(!1,this.workspace_.id)))}},{key:"autoHide",value:function(e){e||this.close()}},{key:"onClick_",value:function(e){if(!YM.utils.isRightButton(e)){this.open();var t=new(YM.Events.get(YM.Events.CLICK))(null,this.workspace_.id,"backpack");YM.Events.fire(t)}}},{key:"onDragEnter",value:function(e){e instanceof YM.BlockSvg&&this.updateHoverStying_(!0)}},{key:"onDragExit",value:function(e){this.updateHoverStying_(!1)}},{key:"onMouseOver_",value:function(){this.isOpenable_()&&this.updateHoverStying_(!0)}},{key:"onMouseOut_",value:function(){this.updateHoverStying_(!1)}},{key:"updateHoverStying_",value:function(e){var t="blocklyBackpackDarken";e?YM.utils.dom.addClass(this.svgImg_,t):YM.utils.dom.removeClass(this.svgImg_,t)}},{key:"shouldPreventMove",value:function(e){return e instanceof YM.BlockSvg}},{key:"blockMouseDownWhenOpenable_",value:function(e){!YM.utils.isRightButton(e)&&this.isOpenable_()&&e.stopPropagation()}}]),n}(YM.DragTarget),nD="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDI0IDI0IiBoZWlnaHQ9IjI0cHgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjI0cHgiIGZpbGw9IiM0NTVBNjQiPjxnPjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iMjQiIHdpZHRoPSIyNCIvPjwvZz48Zz48Zy8+PGc+PHBhdGggZD0iTTEzLjk3LDUuMzRDMTMuOTgsNS4yMywxNCw1LjEyLDE0LDVjMC0xLjEtMC45LTItMi0ycy0yLDAuOS0yLDJjMCwwLjEyLDAuMDIsMC4yMywwLjAzLDAuMzRDNy42OSw2LjE1LDYsOC4zOCw2LDExdjggYzAsMS4xLDAuOSwyLDIsMmg4YzEuMSwwLDItMC45LDItMnYtOEMxOCw4LjM4LDE2LjMxLDYuMTUsMTMuOTcsNS4zNHogTTExLDVjMC0wLjU1LDAuNDUtMSwxLTFzMSwwLjQ1LDEsMSBjMCwwLjAzLTAuMDEsMC4wNi0wLjAyLDAuMDlDMTIuNjYsNS4wMywxMi4zNCw1LDEyLDVzLTAuNjYsMC4wMy0wLjk4LDAuMDlDMTEuMDEsNS4wNiwxMSw1LjAzLDExLDV6IE0xNiwxM3YxdjAuNSBjMCwwLjI4LTAuMjIsMC41LTAuNSwwLjVTMTUsMTQuNzgsMTUsMTQuNVYxNHYtMUg4di0xaDdoMVYxM3oiLz48L2c+PC9nPjwvc3ZnPg==";YM.Css.register([".blocklyBackpack {\n    opacity: .4;\n  }\n  .blocklyBackpackDarken {\n    opacity: .6;\n  }\n  .blocklyBackpack:active {\n    opacity: .8;\n  }"]);var rD=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(){var e;return(0,z.Z)(this,n),(e=t.call(this)).MEDIUM_PADDING=10,e}return(0,Y.Z)(n)}(qM().blockRendering.ConstantProvider),iD=function(e){(0,K.Z)(n,e);var t=(0,Q.Z)(n);function n(){return(0,z.Z)(this,n),t.apply(this,arguments)}return(0,Y.Z)(n,[{key:"makeConstants_",value:function(){return new rD}}]),n}(qM().blockRendering.Renderer),oD=iD,sD=["initialXml","children","media"],aD=(0,N.g)(),lD=function(e){var t=e.initialXml,r=e.children,i=(e.media,zM(e,sD)),o=b((function(e){return e.colorTheme})),s=o.isDark,a=(0,n.useRef)(null),l=(0,n.useRef)(null);return(0,n.useEffect)((function(){qM().blockRendering.register("custom_renderer",oD);var n=s?qM().Themes.CoDroneDark:qM().Themes.CoDrone,r=s?"#333333":"#efefef",o=qM().inject(a.current,(0,Pe.Z)({toolbox:l.current,theme:n,grid:{spacing:20,length:40,colour:r,snap:!0},media:window.location.pathname+"/images/",renderer:"custom_renderer",zoom:{controls:!0,wheel:!0}},i));t&&qM().Xml.domToWorkspace(qM().Xml.textToDom(t),o),o.addChangeListener(e.refreshTab);var c=new tD(o);c.MARGIN_HORIZONTAL_=80,c.init()}),[]),gg((function(){var n=s?qM().Themes.CoDroneDark:qM().Themes.CoDrone,r=s?"#333333":"#efefef";qM().getMainWorkspace().dispose();var o=qM().inject(a.current,(0,Pe.Z)({toolbox:l.current,theme:n,grid:{spacing:20,length:40,colour:r,snap:!0},media:window.location.pathname+"/images/",renderer:"custom_renderer",zoom:{controls:!0,wheel:!0}},i));t&&qM().Xml.domToWorkspace(qM().Xml.textToDom(t),o),o.addChangeListener(e.refreshTab);var c=new tD(o);c.MARGIN_HORIZONTAL_=80,c.init(),(0,j.mK)(),(0,j.Ru)(aD);var u=(0,j.FY)();document.querySelector(".blocklyToolboxDiv").classList.add(u)}),[s]),(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("div",{ref:a,id:"blocklyDiv"}),(0,P.jsx)("xml",{xmlns:"https://developers.google.com/blockly/xml",is:"blockly",style:{display:"none"},ref:l,children:r})]})},cD=["children"],uD=["children"],hD=["children"],pD=["children"],fD=["children"],dD=["children"],gD=lD,_D=function(e){var t=e.children,r=zM(e,cD);return r.is="blockly",n.createElement("xml",r,t)},vD=function(e){var t=e.children,r=zM(e,uD);return r.is="blockly",n.createElement("block",r,t)},mD=function(e){var t=e.children,r=zM(e,hD);return r.is="blockly",r.name=r.id?j.GH[r.id]:r.name,n.createElement("category",r,t)},yD=function(e){var t=e.children,r=zM(e,pD);return r.is="blockly",n.createElement("value",r,t)},TD=function(e){var t=e.children,r=zM(e,fD);return r.is="blockly",n.createElement("field",r,t)},ED=function(e){var t=e.children,r=zM(e,dD);return r.is="blockly",n.createElement("shadow",r,t)},bD=__webpack_require__(5702),OD=__webpack_require__.n(bD),SD=__webpack_require__(4173),kD=__webpack_require__.n(SD),wD=(0,P.jsx)(n.Fragment,{children:(0,P.jsxs)(mD,{name:"Flight Commands",id:"CAT_FLIGHT_COMMANDS",children:[(0,P.jsx)(vD,{type:"take_off_junior"}),(0,P.jsx)(vD,{type:"land_junior"})]})}),RD=(0,P.jsxs)(n.Fragment,{children:[(0,P.jsxs)(mD,{name:"Flight Commands",id:"CAT_FLIGHT_COMMANDS",children:[(0,P.jsx)(vD,{type:"take_off_senior"}),(0,P.jsx)(vD,{type:"land_senior"}),(0,P.jsx)(vD,{type:"emergencyStop_senior"}),(0,P.jsx)(vD,{type:"hover_senior",children:(0,P.jsx)(yD,{name:"NUM0",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM",children:"1"})})})}),(0,P.jsxs)(vD,{type:"move_senior",children:[(0,P.jsx)(yD,{name:"NUM0",children:(0,P.jsx)(vD,{type:"limit_0_To_100_decimal"})}),(0,P.jsx)(yD,{name:"ROLL",children:(0,P.jsx)(vD,{type:"only_integers_limit_100"})}),(0,P.jsx)(yD,{name:"PITCH",children:(0,P.jsx)(vD,{type:"only_integers_limit_100"})}),(0,P.jsx)(yD,{name:"YAW",children:(0,P.jsx)(vD,{type:"only_integers_limit_100"})}),(0,P.jsx)(yD,{name:"THROTTLE",children:(0,P.jsx)(vD,{type:"only_integers_limit_100"})})]}),(0,P.jsx)(vD,{type:"flip_senior"}),(0,P.jsx)(vD,{type:"turn_degree_senior",children:(0,P.jsx)(yD,{name:"NUM0",children:(0,P.jsx)(vD,{type:"limit_negative_180_To_180"})})}),(0,P.jsx)(vD,{type:"turn_senior",children:(0,P.jsx)(yD,{name:"NUM0",children:(0,P.jsx)(vD,{type:"limit_0_To_180"})})}),(0,P.jsxs)(vD,{type:"avoid_wall_senior",children:[(0,P.jsx)(yD,{name:"timeout",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM",children:"10"})})}),(0,P.jsx)(yD,{name:"distance",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM",children:"20"})})})]})]}),(0,P.jsxs)(mD,{name:"Flight Variables",id:"CAT_FLIGHT_VARIABLES",children:[(0,P.jsx)(vD,{type:"setRoll_senior",children:(0,P.jsx)(yD,{name:"ROLL",children:(0,P.jsx)(vD,{type:"only_integers_limit_100"})})}),(0,P.jsx)(vD,{type:"setPitch_senior",children:(0,P.jsx)(yD,{name:"PITCH",children:(0,P.jsx)(vD,{type:"only_integers_limit_100"})})}),(0,P.jsx)(vD,{type:"setYaw_senior",children:(0,P.jsx)(yD,{name:"YAW",children:(0,P.jsx)(vD,{type:"only_integers_limit_100"})})}),(0,P.jsx)(vD,{type:"setThrottle_senior",children:(0,P.jsx)(yD,{name:"THROTTLE",children:(0,P.jsx)(vD,{type:"only_integers_limit_100"})})}),(0,P.jsx)(vD,{type:"move_no_param_senior"}),(0,P.jsx)(vD,{type:"move_duration_senior",children:(0,P.jsx)(yD,{name:"NUM0",children:(0,P.jsx)(vD,{type:"limit_0_To_100_decimal"})})}),(0,P.jsxs)(vD,{type:"set_trim_senior",children:[(0,P.jsx)(yD,{name:"roll",children:(0,P.jsx)(vD,{type:"only_integers_limit_100"})}),(0,P.jsx)(yD,{name:"pitch",children:(0,P.jsx)(vD,{type:"only_integers_limit_100"})})]}),(0,P.jsx)(vD,{type:"get_trim_senior"}),(0,P.jsx)(vD,{type:"reset_trim_senior"})]}),(0,P.jsx)(mD,{name:"Status Checkers",id:"CAT_STATUS_CHECKERS",children:(0,P.jsx)(vD,{type:"isCodeRunning_junior"})}),(0,P.jsxs)(mD,{name:"Sensors",id:"CAT_SENSORS",children:[(0,P.jsx)(vD,{type:"get_range_senior"}),(0,P.jsx)(vD,{type:"get_angle_senior"}),(0,P.jsx)(vD,{type:"get_angular_speed_senior"}),(0,P.jsx)(vD,{type:"get_accel_senior"}),(0,P.jsx)(vD,{type:"get_pos_senior"}),(0,P.jsx)(vD,{type:"get_battery_senior"}),(0,P.jsx)(vD,{type:"get_height_senior"}),(0,P.jsx)(vD,{type:"get_pressure_senior"}),(0,P.jsx)(vD,{type:"get_temperature_senior"}),(0,P.jsx)(vD,{type:"get_elevation_senior"}),(0,P.jsx)(vD,{type:"get_color_senior"}),(0,P.jsx)(vD,{type:"get_color_hsvl_senior"}),(0,P.jsx)(vD,{type:"get_state_senior"}),(0,P.jsx)(vD,{type:"reset_sensor"})]}),(0,P.jsxs)(mD,{name:"Lights",id:"CAT_LIGHTS",children:[(0,P.jsxs)(vD,{type:"set_drone_LED_senior",children:[(0,P.jsx)(yD,{name:"red",children:(0,P.jsx)(vD,{type:"limit_0_To_255"})}),(0,P.jsx)(yD,{name:"green",children:(0,P.jsx)(vD,{type:"limit_0_To_255"})}),(0,P.jsx)(yD,{name:"blue",children:(0,P.jsx)(vD,{type:"limit_0_To_255"})}),(0,P.jsx)(yD,{name:"brightness",children:(0,P.jsx)(vD,{type:"limit_0_To_255_255"})})]}),(0,P.jsx)(vD,{type:"drone_LED_off_senior"}),(0,P.jsxs)(vD,{type:"set_controller_LED_senior",children:[(0,P.jsx)(yD,{name:"red",children:(0,P.jsx)(vD,{type:"limit_0_To_255"})}),(0,P.jsx)(yD,{name:"green",children:(0,P.jsx)(vD,{type:"limit_0_To_255"})}),(0,P.jsx)(yD,{name:"blue",children:(0,P.jsx)(vD,{type:"limit_0_To_255"})}),(0,P.jsx)(yD,{name:"brightness",children:(0,P.jsx)(vD,{type:"limit_0_To_255_255"})})]}),(0,P.jsx)(vD,{type:"controller_LED_off_senior"})]}),(0,P.jsxs)(mD,{name:"Sounds",id:"CAT_SOUND",children:[(0,P.jsx)(vD,{type:"drone_buzzer_senior",children:(0,P.jsx)(yD,{name:"NUM0",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM",children:"1000"})})})}),(0,P.jsxs)(vD,{type:"drone_buzzer_hertz_senior",children:[(0,P.jsx)(yD,{name:"HERTZ",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM",children:"500"})})}),(0,P.jsx)(yD,{name:"MILLISECONDS",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM",children:"1000"})})})]}),(0,P.jsx)(vD,{type:"controller_buzzer_senior",children:(0,P.jsx)(yD,{name:"NUM0",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM",children:"1000"})})})}),(0,P.jsxs)(vD,{type:"controller_buzzer_hertz_senior",children:[(0,P.jsx)(yD,{name:"HERTZ",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM",children:"500"})})}),(0,P.jsx)(yD,{name:"MILLISECONDS",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM",children:"1000"})})})]})]}),(0,P.jsxs)(mD,{name:"Screen",id:"CAT_SCREEN",children:[(0,P.jsxs)(vD,{type:"controller_draw_line",children:[(0,P.jsx)(yD,{name:"X1",children:(0,P.jsx)(vD,{type:"limit_2_bytes"})}),(0,P.jsx)(yD,{name:"X2",children:(0,P.jsx)(vD,{type:"limit_2_bytes"})}),(0,P.jsx)(yD,{name:"Y1",children:(0,P.jsx)(vD,{type:"limit_2_bytes"})}),(0,P.jsx)(yD,{name:"Y2",children:(0,P.jsx)(vD,{type:"limit_2_bytes"})})]}),(0,P.jsxs)(vD,{type:"controller_draw_string",children:[(0,P.jsx)(yD,{name:"X_START",children:(0,P.jsx)(vD,{type:"limit_0_To_255"})}),(0,P.jsx)(yD,{name:"Y_START",children:(0,P.jsx)(vD,{type:"limit_0_To_255"})})]}),(0,P.jsxs)(vD,{type:"controller_draw_rectangle",children:[(0,P.jsx)(yD,{name:"X_START",children:(0,P.jsx)(vD,{type:"limit_2_bytes"})}),(0,P.jsx)(yD,{name:"Y_START",children:(0,P.jsx)(vD,{type:"limit_2_bytes"})}),(0,P.jsx)(yD,{name:"WIDTH",children:(0,P.jsx)(vD,{type:"limit_2_bytes"})}),(0,P.jsx)(yD,{name:"HEIGHT",children:(0,P.jsx)(vD,{type:"limit_2_bytes"})})]}),(0,P.jsxs)(vD,{type:"controller_draw_square",children:[(0,P.jsx)(yD,{name:"X_START",children:(0,P.jsx)(vD,{type:"limit_2_bytes"})}),(0,P.jsx)(yD,{name:"Y_START",children:(0,P.jsx)(vD,{type:"limit_2_bytes"})}),(0,P.jsx)(yD,{name:"WIDTH",children:(0,P.jsx)(vD,{type:"limit_2_bytes"})})]}),(0,P.jsxs)(vD,{type:"controller_draw_point",children:[(0,P.jsx)(yD,{name:"X",children:(0,P.jsx)(vD,{type:"limit_2_bytes"})}),(0,P.jsx)(yD,{name:"Y",children:(0,P.jsx)(vD,{type:"limit_2_bytes"})})]}),(0,P.jsx)(vD,{type:"controller_clear_screen"})]}),(0,P.jsx)(mD,{name:"Color",custom:"colorTraining",id:"CAT_COLOR"}),(0,P.jsxs)(mD,{name:"Events",id:"CAT_EVENTS",children:[(0,P.jsx)(vD,{type:"start_flag"}),(0,P.jsx)(vD,{type:"whenKeyPress_junior"}),(0,P.jsx)(vD,{type:"whenKeyPressGet_junior"})]}),(0,P.jsxs)(mD,{name:"Input/Output",id:"CAT_IO",children:[(0,P.jsx)(vD,{type:"text_print"}),(0,P.jsx)(vD,{type:"text"}),(0,P.jsx)(vD,{type:"text_join"}),(0,P.jsx)(vD,{type:"text_clear_console"})]}),(0,P.jsxs)(mD,{name:"Logic",id:"CAT_LOGIC",children:[(0,P.jsx)(vD,{type:"controls_if"}),(0,P.jsx)(vD,{type:"logic_compare"}),(0,P.jsx)(vD,{type:"logic_operation"}),(0,P.jsx)(vD,{type:"logic_negate"}),(0,P.jsx)(vD,{type:"logic_boolean"}),(0,P.jsx)(vD,{type:"logic_null"}),(0,P.jsx)(vD,{type:"logic_ternary"})]}),(0,P.jsxs)(mD,{name:"Loops",id:"CAT_LOOPS",children:[(0,P.jsx)(vD,{type:"controls_repeat_ext",children:(0,P.jsx)(yD,{name:"TIMES",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM",children:"10"})})})}),(0,P.jsx)(vD,{type:"controls_whileUntil"}),(0,P.jsxs)(vD,{type:"controls_for",children:[(0,P.jsx)(yD,{name:"FROM",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM",children:"1"})})}),(0,P.jsx)(yD,{name:"TO",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM",children:"10"})})}),(0,P.jsx)(yD,{name:"BY",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM",children:"1"})})})]}),(0,P.jsx)(vD,{type:"controls_forEach"}),(0,P.jsx)(vD,{type:"controls_flow_statements"})]}),(0,P.jsxs)(mD,{name:"Math",id:"CAT_MATH",children:[(0,P.jsx)(vD,{type:"math_number"}),(0,P.jsxs)(vD,{type:"math_arithmetic",children:[(0,P.jsx)(yD,{name:"A",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM",children:"1"})})}),(0,P.jsx)(yD,{name:"B",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM",children:"1"})})})]}),(0,P.jsx)(vD,{type:"math_single",children:(0,P.jsx)(yD,{name:"NUM",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM",children:"9"})})})}),(0,P.jsx)(vD,{type:"math_trig",children:(0,P.jsx)(yD,{name:"NUM",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM",children:"45"})})})}),(0,P.jsx)(vD,{type:"math_constant"}),(0,P.jsx)(vD,{type:"math_number_property",children:(0,P.jsx)(yD,{name:"NUMBER_TO_CHECK",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM",children:"0"})})})}),(0,P.jsx)(vD,{type:"math_round",children:(0,P.jsx)(yD,{name:"NUM",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM",children:"3.1"})})})}),(0,P.jsx)(vD,{type:"math_on_list"}),(0,P.jsxs)(vD,{type:"math_modulo",children:[(0,P.jsx)(yD,{name:"DIVIDEND",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM",children:"64"})})}),(0,P.jsx)(yD,{name:"DIVISOR",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM",children:"10"})})})]}),(0,P.jsxs)(vD,{type:"math_constrain",children:[(0,P.jsx)(yD,{name:"VALUE",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM",children:"50"})})}),(0,P.jsx)(yD,{name:"LOW",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM",children:"1"})})}),(0,P.jsx)(yD,{name:"HIGH",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM",children:"100"})})})]}),(0,P.jsxs)(vD,{type:"math_random_int",children:[(0,P.jsx)(yD,{name:"FROM",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM",children:"1"})})}),(0,P.jsx)(yD,{name:"TO",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM",children:"100"})})})]}),(0,P.jsx)(vD,{type:"math_random_float"}),(0,P.jsx)(vD,{type:"math_convert_unit_to_unit",children:(0,P.jsx)(yD,{name:"CONVERSION_UNITS",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM",children:"0"})})})})]}),(0,P.jsxs)(mD,{name:"Timing",id:"CAT_TIMING",children:[(0,P.jsx)(vD,{type:"wait_senior",children:(0,P.jsx)(yD,{name:"NUM0",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM",children:"0"})})})}),(0,P.jsx)(vD,{type:"get_time_now"})]}),(0,P.jsx)(mD,{name:"Variables",custom:"VARIABLE",id:"CAT_VARS",children:(0,P.jsx)(vD,{type:"variables_get_blah"})}),(0,P.jsx)(mD,{name:"Functions",custom:"PROCEDURE",id:"CAT_FUNC"}),(0,P.jsxs)(mD,{name:"Lists",id:"CAT_LISTS",children:[(0,P.jsx)(vD,{type:"lists_create_empty"}),(0,P.jsx)(vD,{type:"lists_create_with"}),(0,P.jsx)(vD,{type:"lists_repeat"}),(0,P.jsx)(vD,{type:"lists_length"}),(0,P.jsx)(vD,{type:"lists_isEmpty"}),(0,P.jsx)(vD,{type:"lists_indexOf"}),(0,P.jsx)(vD,{type:"lists_getIndex"}),(0,P.jsx)(vD,{type:"lists_setIndex"}),(0,P.jsx)(vD,{type:"lists_getSublist"}),(0,P.jsx)(vD,{type:"lists_sort"}),(0,P.jsx)(vD,{type:"lists_split"}),(0,P.jsx)(vD,{type:"lists_reverse"})]})]}),CD=(0,P.jsxs)(n.Fragment,{children:[(0,P.jsxs)(mD,{name:"Flight Commands",children:[(0,P.jsx)(vD,{type:"take_off_junior"}),(0,P.jsx)(vD,{type:"land_junior"}),(0,P.jsx)(vD,{type:"emergencyStop_junior"}),(0,P.jsx)(vD,{type:"go_direction_junior",children:(0,P.jsx)(yD,{name:"NUM0",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM0",children:"0"})})})}),(0,P.jsxs)(vD,{type:"go_direction_junior_3",children:[(0,P.jsx)(yD,{name:"NUM0",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM0",children:"0"})})}),(0,P.jsx)(yD,{name:"NUM1",children:(0,P.jsx)(vD,{type:"limit_0_To_100"})})]}),(0,P.jsxs)(vD,{type:"turn_junior_3",children:[(0,P.jsx)(yD,{name:"NUM0",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM0",children:"0"})})}),(0,P.jsx)(yD,{name:"NUM1",children:(0,P.jsx)(vD,{type:"limit_0_To_100"})})]}),(0,P.jsx)(vD,{type:"hover_junior",children:(0,P.jsx)(yD,{name:"NUM0",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM0",children:"0"})})})})]}),(0,P.jsxs)(mD,{name:"Flight Sequences",children:[(0,P.jsx)(vD,{type:"flip_left_junior"}),(0,P.jsx)(vD,{type:"flip_right_junior"}),(0,P.jsx)(vD,{type:"flip_backward_junior"}),(0,P.jsx)(vD,{type:"flip_forward_junior"})]}),(0,P.jsx)(mD,{name:"Status Checkers",children:(0,P.jsx)(vD,{type:"isCodeRunning_junior"})}),(0,P.jsxs)(mD,{name:"Lights",children:[(0,P.jsx)(vD,{type:"setLEDColor_junior",children:(0,P.jsx)(yD,{name:"INTERVAL",children:(0,P.jsx)(vD,{type:"limit_0_To_100"})})}),(0,P.jsx)(vD,{type:"setLEDPattern_junior"}),(0,P.jsx)(vD,{type:"led_off_junior"}),(0,P.jsx)(vD,{type:"reset_leds_junior"})]}),(0,P.jsx)(mD,{name:"Sounds",children:(0,P.jsx)(vD,{type:"playsound_junior",children:(0,P.jsx)(yD,{name:"NUM0",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM0",children:"0"})})})})}),(0,P.jsxs)(mD,{name:"Input/Output",children:[(0,P.jsx)(vD,{type:"whenKeyPress_junior"}),(0,P.jsx)(vD,{type:"whenKeyPressGet_junior"}),(0,P.jsx)(vD,{type:"text_print"}),(0,P.jsx)(vD,{type:"text"}),(0,P.jsx)(vD,{type:"text_join"})]}),(0,P.jsxs)(mD,{name:"Logic",children:[(0,P.jsx)(vD,{type:"controls_if"}),(0,P.jsx)(vD,{type:"logic_compare"}),(0,P.jsx)(vD,{type:"logic_operation"}),(0,P.jsx)(vD,{type:"logic_negate"}),(0,P.jsx)(vD,{type:"logic_boolean"})]}),(0,P.jsxs)(mD,{name:"Loops",children:[(0,P.jsx)(vD,{type:"controls_repeat_ext",children:(0,P.jsx)(yD,{name:"TIMES",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM",children:"10"})})})}),(0,P.jsx)(vD,{type:"controls_whileUntil"}),(0,P.jsxs)(vD,{type:"controls_for",children:[(0,P.jsx)(yD,{name:"FROM",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM",children:"1"})})}),(0,P.jsx)(yD,{name:"TO",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM",children:"10"})})}),(0,P.jsx)(yD,{name:"BY",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM",children:"1"})})})]}),(0,P.jsx)(vD,{type:"controls_forEach"}),(0,P.jsx)(vD,{type:"controls_flow_statements"})]}),(0,P.jsxs)(mD,{name:"Math",children:[(0,P.jsx)(vD,{type:"math_number"}),(0,P.jsxs)(vD,{type:"math_arithmetic",children:[(0,P.jsx)(yD,{name:"A",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM",children:"1"})})}),(0,P.jsx)(yD,{name:"B",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM",children:"1"})})})]}),(0,P.jsx)(vD,{type:"math_single",children:(0,P.jsx)(yD,{name:"NUM",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM",children:"9"})})})}),(0,P.jsx)(vD,{type:"math_trig",children:(0,P.jsx)(yD,{name:"NUM",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM",children:"45"})})})}),(0,P.jsx)(vD,{type:"math_constant"}),(0,P.jsx)(vD,{type:"math_number_property",children:(0,P.jsx)(yD,{name:"NUMBER_TO_CHECK",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM",children:"0"})})})}),(0,P.jsx)(vD,{type:"math_round",children:(0,P.jsx)(yD,{name:"NUM",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM",children:"3.1"})})})}),(0,P.jsx)(vD,{type:"math_on_list"}),(0,P.jsxs)(vD,{type:"math_modulo",children:[(0,P.jsx)(yD,{name:"DIVIDEND",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM",children:"64"})})}),(0,P.jsx)(yD,{name:"DIVISOR",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM",children:"10"})})})]}),(0,P.jsxs)(vD,{type:"math_constrain",children:[(0,P.jsx)(yD,{name:"VALUE",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM",children:"50"})})}),(0,P.jsx)(yD,{name:"LOW",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM",children:"1"})})}),(0,P.jsx)(yD,{name:"HIGH",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM",children:"100"})})})]}),(0,P.jsxs)(vD,{type:"math_random_int",children:[(0,P.jsx)(yD,{name:"FROM",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM",children:"1"})})}),(0,P.jsx)(yD,{name:"TO",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM",children:"100"})})})]}),(0,P.jsx)(vD,{type:"math_random_float"})]}),(0,P.jsx)(mD,{name:"Timing",children:(0,P.jsx)(vD,{type:"wait_junior",children:(0,P.jsx)(yD,{name:"NUM0",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM0",children:"0"})})})})}),(0,P.jsx)(mD,{name:"Variables",custom:"VARIABLE",children:(0,P.jsx)(vD,{type:"variables_get_blah"})})]}),ID=(0,P.jsxs)(n.Fragment,{children:[(0,P.jsxs)(mD,{name:"Flight Commands",children:[(0,P.jsx)(vD,{type:"take_off_senior"}),(0,P.jsx)(vD,{type:"land_senior"}),(0,P.jsx)(vD,{type:"emergencyStop_senior"}),(0,P.jsx)(vD,{type:"move_senior",children:(0,P.jsx)(yD,{name:"NUM0",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM0",children:"0"})})})}),(0,P.jsxs)(vD,{type:"turn_senior",children:[(0,P.jsx)(yD,{name:"NUM0",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM0",children:"0"})})}),(0,P.jsx)(yD,{name:"NUM1",children:(0,P.jsx)(vD,{type:"limit_0_To_100"})})]}),(0,P.jsx)(vD,{type:"hover_senior",children:(0,P.jsx)(yD,{name:"NUM0",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM0",children:"0"})})})})]}),(0,P.jsxs)(mD,{name:"Flight Variables",children:[(0,P.jsx)(vD,{type:"setRoll_senior",children:(0,P.jsx)(yD,{name:"ROLL",children:(0,P.jsx)(vD,{type:"limit_100_To_100"})})}),(0,P.jsx)(vD,{type:"setPitch_senior",children:(0,P.jsx)(yD,{name:"VAL",children:(0,P.jsx)(vD,{type:"limit_100_To_100"})})}),(0,P.jsx)(vD,{type:"setYaw_senior",children:(0,P.jsx)(yD,{name:"VAL",children:(0,P.jsx)(vD,{type:"limit_100_To_100"})})}),(0,P.jsx)(vD,{type:"setThrottle_senior",children:(0,P.jsx)(yD,{name:"VAL",children:(0,P.jsx)(vD,{type:"limit_100_To_100"})})}),(0,P.jsx)(vD,{type:"moveFlight_senior",children:(0,P.jsx)(yD,{name:"NUM0",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM0",children:"0"})})})}),(0,P.jsx)(vD,{type:"moveNoParams_senior"}),(0,P.jsxs)(vD,{type:"set_trim_senior",children:[(0,P.jsx)(yD,{name:"roll",children:(0,P.jsx)(vD,{type:"only_integers_limit_100"})}),(0,P.jsx)(yD,{name:"pitch",children:(0,P.jsx)(vD,{type:"only_integers_limit_100"})})]}),(0,P.jsx)(vD,{type:"get_trim_senior"}),(0,P.jsx)(vD,{type:"reset_trim_senior"}),(0,P.jsx)(vD,{type:"getRoll_senior"}),(0,P.jsx)(vD,{type:"getPitch_senior"}),(0,P.jsx)(vD,{type:"getYaw_senior"}),(0,P.jsx)(vD,{type:"getThrottle_senior"})]}),(0,P.jsx)(mD,{name:"Status Checkers",children:(0,P.jsx)(vD,{type:"isCodeRunning_senior"})}),(0,P.jsxs)(mD,{name:"Sensors",children:[(0,P.jsx)(vD,{type:"getAngles_senior"}),(0,P.jsx)(vD,{type:"getBatteryPercentage_senior"}),(0,P.jsx)(vD,{type:"getDroneTemp_senior"}),(0,P.jsx)(vD,{type:"getHeight_senior"}),(0,P.jsx)(vD,{type:"getPressure_senior"}),(0,P.jsx)(vD,{type:"reset_sensor"})]}),(0,P.jsxs)(mD,{name:"Lights",children:[(0,P.jsxs)(vD,{type:"setDroneColor_senior",children:[(0,P.jsx)(yD,{name:"red",children:(0,P.jsx)(vD,{type:"limit_0_To_250"})}),(0,P.jsx)(yD,{name:"green",children:(0,P.jsx)(vD,{type:"limit_0_To_250"})}),(0,P.jsx)(yD,{name:"blue",children:(0,P.jsx)(vD,{type:"limit_0_To_250"})}),(0,P.jsx)(yD,{name:"INTERVAL",children:(0,P.jsx)(vD,{type:"limit_0_To_100"})})]}),(0,P.jsxs)(vD,{type:"led_pattern_senior",children:[(0,P.jsx)(yD,{name:"red",children:(0,P.jsx)(vD,{type:"limit_0_To_250"})}),(0,P.jsx)(yD,{name:"green",children:(0,P.jsx)(vD,{type:"limit_0_To_250"})}),(0,P.jsx)(yD,{name:"blue",children:(0,P.jsx)(vD,{type:"limit_0_To_250"})}),(0,P.jsx)(yD,{name:"INTERVAL",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"INTERVAL",children:"0"})})})]}),(0,P.jsx)(vD,{type:"led_off_senior"}),(0,P.jsx)(vD,{type:"reset_leds_senior"})]}),(0,P.jsxs)(mD,{name:"Sounds",children:[(0,P.jsxs)(vD,{type:"playsound_senior",children:[(0,P.jsx)(yD,{name:"NOTE",children:(0,P.jsx)(vD,{type:"limit_0_To_1500"})}),(0,P.jsx)(yD,{name:"NUM0",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM0",children:"0"})})})]}),(0,P.jsx)(vD,{type:"playsound_senior_2",children:(0,P.jsx)(yD,{name:"NUM0",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM0",children:"0"})})})})]}),(0,P.jsxs)(mD,{name:"Input/Output",children:[(0,P.jsx)(vD,{type:"whenKeyPress_junior"}),(0,P.jsx)(vD,{type:"whenKeyPressGet_junior"}),(0,P.jsx)(vD,{type:"text_print"}),(0,P.jsx)(vD,{type:"text"}),(0,P.jsx)(vD,{type:"text_join"})]}),(0,P.jsxs)(mD,{name:"Logic",children:[(0,P.jsx)(vD,{type:"controls_if"}),(0,P.jsx)(vD,{type:"logic_compare"}),(0,P.jsx)(vD,{type:"logic_operation"}),(0,P.jsx)(vD,{type:"logic_negate"}),(0,P.jsx)(vD,{type:"logic_boolean"}),(0,P.jsx)(vD,{type:"logic_null"}),(0,P.jsx)(vD,{type:"logic_ternary"})]}),(0,P.jsxs)(mD,{name:"Loops",children:[(0,P.jsx)(vD,{type:"controls_repeat_ext",children:(0,P.jsx)(yD,{name:"TIMES",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM",children:"10"})})})}),(0,P.jsx)(vD,{type:"controls_whileUntil"}),(0,P.jsxs)(vD,{type:"controls_for",children:[(0,P.jsx)(yD,{name:"FROM",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM",children:"1"})})}),(0,P.jsx)(yD,{name:"TO",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM",children:"10"})})}),(0,P.jsx)(yD,{name:"BY",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM",children:"1"})})})]}),(0,P.jsx)(vD,{type:"controls_forEach"}),(0,P.jsx)(vD,{type:"controls_flow_statements"})]}),(0,P.jsxs)(mD,{name:"Math",children:[(0,P.jsx)(vD,{type:"math_number"}),(0,P.jsxs)(vD,{type:"math_arithmetic",children:[(0,P.jsx)(yD,{name:"A",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM",children:"1"})})}),(0,P.jsx)(yD,{name:"B",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM",children:"1"})})})]}),(0,P.jsx)(vD,{type:"math_single",children:(0,P.jsx)(yD,{name:"NUM",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM",children:"9"})})})}),(0,P.jsx)(vD,{type:"math_trig",children:(0,P.jsx)(yD,{name:"NUM",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM",children:"45"})})})}),(0,P.jsx)(vD,{type:"math_constant"}),(0,P.jsx)(vD,{type:"math_number_property",children:(0,P.jsx)(yD,{name:"NUMBER_TO_CHECK",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM",children:"0"})})})}),(0,P.jsx)(vD,{type:"math_round",children:(0,P.jsx)(yD,{name:"NUM",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM",children:"3.1"})})})}),(0,P.jsx)(vD,{type:"math_on_list"}),(0,P.jsxs)(vD,{type:"math_modulo",children:[(0,P.jsx)(yD,{name:"DIVIDEND",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM",children:"64"})})}),(0,P.jsx)(yD,{name:"DIVISOR",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM",children:"10"})})})]}),(0,P.jsxs)(vD,{type:"math_constrain",children:[(0,P.jsx)(yD,{name:"VALUE",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM",children:"50"})})}),(0,P.jsx)(yD,{name:"LOW",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM",children:"1"})})}),(0,P.jsx)(yD,{name:"HIGH",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM",children:"100"})})})]}),(0,P.jsxs)(vD,{type:"math_random_int",children:[(0,P.jsx)(yD,{name:"FROM",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM",children:"1"})})}),(0,P.jsx)(yD,{name:"TO",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM",children:"100"})})})]}),(0,P.jsx)(vD,{type:"math_random_float"})]}),(0,P.jsx)(mD,{name:"Timing",children:(0,P.jsx)(vD,{type:"wait_senior",children:(0,P.jsx)(yD,{name:"NUM0",children:(0,P.jsx)(ED,{type:"math_number",children:(0,P.jsx)(TD,{name:"NUM0",children:"100"})})})})}),(0,P.jsx)(mD,{name:"Variables",custom:"VARIABLE",children:(0,P.jsx)(vD,{type:"variables_get_blah"})}),(0,P.jsx)(mD,{name:"Functions",custom:"PROCEDURE"})]}),xD=Xd({name:"pyCode",initialState:{code:""},reducers:{updatePyCode:function(e,t){e.code=t.payload}}}),AD=xD.actions.updatePyCode,ND=xD.reducer;function LD(e){return MD.apply(this,arguments)}function MD(){return MD=(0,t.Z)((0,e.Z)().mark((function t(n){return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("cde"!==n){e.next=16;break}return e.next=3,__webpack_require__.e(711).then(__webpack_require__.t.bind(__webpack_require__,9711,23));case 3:(0,sM.xA)(),(0,sM.EG)(),(0,sM.xX)(),(0,sM.n)(),(0,sM.q1)(),(0,sM.gm)(),(0,sM.ox)(),(0,sM.OP)(),(0,sM.H9)(),(0,sM.UM)(),(0,sM.vF)(),e.next=26;break;case 16:if("cdm"!==n){e.next=26;break}return e.next=19,__webpack_require__.e(735).then(__webpack_require__.t.bind(__webpack_require__,6735,23));case 19:(0,sM.pI)(),(0,sM.yZ)(),(0,sM.M3)(),(0,sM.by)(),(0,sM.YT)(),(0,sM.or)(),(0,sM._7)();case 26:case"end":return e.stop()}}),t)}))),MD.apply(this,arguments)}(0,N.g)();var DD=(0,N.g)(),PD=function(){var r=A(),i=b((function(e){return e.jrotcDroneType})),o=i.isJrotcDrone,s=(0,n.useContext)(B).msg,l=a((0,n.useState)("junior"),2),c=l[0],u=l[1];(0,n.useEffect)((function(){function n(){return n=(0,t.Z)((0,e.Z)().mark((function t(){var n;return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,LD(DD);case 2:return e.next=4,(0,j.J0)(DD);case 4:return e.next=6,(0,j.Ii)(DD);case 6:(0,j.Nq)(DD),(0,j.mK)(),(0,j.Ru)(DD),n=(0,j.FY)(),document.querySelector(".blocklyToolboxDiv").classList.add(n),localStorage.removeItem("droneData");case 12:case"end":return e.stop()}}),t)}))),n.apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[]);return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(XM,{type:c,changeType:function(e){var t,n;u(e),"cde"===DD?n="junior"===e?(0,P.jsx)(_D,{children:wD}):"senior"===e?(0,P.jsx)(_D,{children:RD}):(0,P.jsx)(_D,{children:wD}):"cdm"===DD&&(n="junior"===e?(0,P.jsx)(_D,{children:CD}):"senior"===e?(0,P.jsx)(_D,{children:ID}):(0,P.jsx)(_D,{children:CD}));var r=(0,j.mB)(n);if("senior"===e&&(null===(t=r.getElementsByTagName("category"))||void 0===t?void 0:t.length)>=6&&o){var i=r.getElementsByTagName("category")[6];r.removeChild(i)}V().getMainWorkspace().updateToolbox(r),(0,j.mK)()}}),(0,P.jsxs)("div",{className:c,children:[(0,P.jsxs)(gD,{readOnly:!1,trashcan:!0,media:"https://blockly-demo.appspot.com/static/media/",move:{scrollbars:!0,drag:!0,wheel:!0},refreshTab:function(e){if(e.type!==V().Events.CHANGE&&e.type!==V().Events.MOVE||(0,j.fJ)(),e.type===V().Events.FINISHED_LOADING||e.type===V().Events.CHANGE||e.type===V().Events.MOVE||e.type===V().Events.CREATE){var t=(0,j.is)(null),n=(0,j.Yi)(),i="# ".concat(s.CODE_APPROXIMATION,"\n\nimport time\n").concat(t?"import keyboard\n":"","from codrone_edu.drone import *\n\n").concat(n?"start_time = time.time()\n\n":"","drone = Drone()\ndrone.pair()\n\n");"cdm"===DD&&(i="import CoDrone_mini\nfrom CoDrone_mini import Direction, Note\n\ndrone = CoDrone_mini.CoDrone()\ndrone.pair()\n\n");var o=document.getElementById("content_python"),a=document.getElementById("content_javascript"),l=null,c=null;l=OD().workspaceToCode(V().getMainWorkspace()),l=(0,j.DU)(l),c=kD().workspaceToCode(V().getMainWorkspace()),o.textContent=l,l=o.textContent,o.innerHTML=i+l+"\ndrone.close()",r(AD(i+l+"\ndrone.close()")),a.textContent=c,"function"==typeof PR.prettyPrintOne&&(c=a.textContent,c=(0,j.Gx)(c),c=PR.prettyPrintOne(c,"js"),a.innerHTML=c);var u=V().Xml.workspaceToDom(V().getMainWorkspace());localStorage.setItem(DD,V().Xml.domToText(u))}},children:["cde"===DD&&"junior"===c&&wD,"cde"===DD&&"senior"===c&&RD,"cdm"===DD&&"junior"===c&&CD,"cdm"===DD&&"senior"===c&&ID]}),(0,P.jsx)("div",{id:"masterXml",className:"disabled"})]})]})};var BD=__webpack_require__.p+"static/media/spinner.d82e7635067597b98e7e6ba1ea820c26.svg",FD=(0,N.g)(),UD=function(r){var i=r.disabled,o=(0,n.useContext)(B).msg,s=a((0,n.useState)(!1),2),l=s[0],c=s[1];(0,n.useEffect)((function(){!function(e){__webpack_require__.g.enablePlayButton=e,__webpack_require__.g.RUNNING=!1}(p)}),[]);var u=function(){var n=(0,t.Z)((0,e.Z)().mark((function t(n){return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,aM(FD);case 3:case"end":return e.stop()}}),t)})));return function(e){return n.apply(this,arguments)}}(),h=function(){var n=(0,t.Z)((0,e.Z)().mark((function t(n){return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!1),e.next=3,cM(FD);case 3:setTimeout((function(){document.querySelector("#refreshDiv").setAttribute("style","display: block")}),20),setTimeout((function(){document.querySelector("#refreshDiv").setAttribute("style","display: none")}),40);case 5:case"end":return e.stop()}}),t)})));return function(e){return n.apply(this,arguments)}}(),p=function(){c(!1)};return(0,P.jsxs)("div",{className:"Execution",children:[(0,P.jsxs)("div",{className:"runButton",children:[(0,P.jsx)("button",{type:"button",id:"runButton",className:i||l?"blur":"",onClick:i||l?null:u}),l?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("img",{className:"spinner",src:BD,alt:"spinner"}),(0,P.jsx)("span",{className:"running",children:o.BTN_RUNNING})]}):(0,P.jsx)("span",{className:"not-running",children:o.BTN_RUN})]}),(0,P.jsxs)("div",{className:"stopButton",children:[(0,P.jsx)("button",{type:"button",id:"stopButton",onClick:h}),(0,P.jsx)("span",{children:o.BTN_STOP})]}),(0,P.jsxs)("div",{className:"softLanding",children:[(0,P.jsx)("button",{type:"button",id:"softLanding",onClick:hM}),(0,P.jsx)("span",{children:o.BTN_LAND})]})]})},ZD=function(){var e=a((0,n.useState)(!1),2),t=e[0],r=e[1];(0,n.useEffect)((function(){!function(e){__webpack_require__.g.showDownloadNotif=e}(i)}),[]),(0,n.useEffect)((function(){t&&setTimeout((function(){r(!1)}),3e3)}),[t]);var i=function(){r(!0)};return(0,P.jsx)("div",{id:"notification",className:t?"show":"",children:(0,P.jsx)("div",{className:"alert alert-success",children:(0,P.jsx)("span",{children:"Downloaded"})})})};var GD=__webpack_require__.p+"static/media/close.78d1c8a03c75b7a14aba46ce3792f14a.svg";var HD=__webpack_require__.p+"static/media/warning.02d629d9e8089f5d9438271e428f4d66.svg",VD=function(e){var t=e.isOpen,n=e.close;return(0,P.jsx)("div",{id:"example-warning-bg",className:"".concat(t?"":"hide"),onClick:n,children:(0,P.jsxs)("div",{className:"example-warning",onClick:function(e){e.preventDefault(),e.stopPropagation()},children:[(0,P.jsx)("div",{className:"close",children:(0,P.jsx)("img",{src:GD,alt:"x",onClick:n})}),(0,P.jsx)("div",{className:"md-header",children:(0,P.jsx)("div",{children:(0,P.jsx)("img",{src:HD,alt:""})})}),(0,P.jsx)("div",{className:"md-body",children:(0,P.jsx)("div",{className:"txt",children:"Opening this example and clearing your workspace will remove any blocks you have in your workspace. Be sure to download your code if you want to save your project."})}),(0,P.jsxs)("div",{className:"md-footer",children:[(0,P.jsx)("button",{onClick:n,children:"Cancel"}),(0,P.jsx)("button",{onClick:function(){var e=sessionStorage.getItem("copy-xml");e&&((0,j.GT)(e),__webpack_require__.g.toggleExWarn(!1),sessionStorage.removeItem("copy-xml"))},children:"Open"})]})]})})},jD=Xd({name:"walkthrough",initialState:{isOpen:!1},reducers:{openWalkthrough:function(e){e.isOpen=!0},closeWalkThrough:function(e){e.isOpen=!1}}}),WD=jD.actions,XD=(WD.openWalkthrough,WD.closeWalkThrough),zD=jD.reducer;__webpack_require__.p;__webpack_require__.p;var YD=function(){var e=A(),t=b((function(e){return e.colorTheme})),n=t.isDark,r=b((function(e){return e.walkthrough})),i=r.isOpen;return(0,P.jsx)("div",{className:"walkthrough ".concat(n?"dark":"light"," ").concat(i?"":"hide"),onClick:function(){return e(XD())}})},qD=(0,N.g)(),KD=function(r){var i=b((function(e){return e.colorTheme})),o=i.isDark,s=a((0,n.useState)(!1),2),l=s[0],c=s[1],u=a((0,n.useState)(!1),2),h=u[0],p=u[1],f=a((0,n.useState)(!1),2),d=f[0],g=f[1],_=a((0,n.useState)("768px"),2),v=_[0],m=_[1],y=a((0,n.useState)(""),2),T=y[0],E=y[1],O=a((0,n.useState)(!0),2),S=O[0],k=O[1],w=a((0,n.useState)(!1),2),R=w[0],C=w[1],I=a((0,n.useState)("visible"),2),x=I[0],A=I[1];(0,n.useEffect)((function(){setTimeout((function(){A("hidden")}),9e3),qp();var n=function(){var n=(0,t.Z)((0,e.Z)().mark((function t(){var n;return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat({NODE_ENV:"production",PUBLIC_URL:"/edu/blockly-sprint",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:'"AIzaSyCRe7jfIs-nwkbnJ0Q6rozxjrnBEpr52Sw",',REACT_APP_FIREBASE_AUTO_DOMAIN:'"web-python-logs.firebaseapp.com",',REACT_APP_FIREBASE_PROJECT_ID:'"web-python-logs",',REACT_APP_FIREBASE_STORAGE_BUCKET:'"web-python-logs.appspot.com",',REACT_APP_FIREBASE_MESSAGING_SENDER_ID:'"991477648249",',REACT_APP_FIREBASE_APP_ID:"1:991477648249:web:825e878fd8259bb8073da8"}.REACT_APP_PWA_ASSETS,"/images/icons/play.svg"));case 2:return e.next=4,fetch("".concat({NODE_ENV:"production",PUBLIC_URL:"/edu/blockly-sprint",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:'"AIzaSyCRe7jfIs-nwkbnJ0Q6rozxjrnBEpr52Sw",',REACT_APP_FIREBASE_AUTO_DOMAIN:'"web-python-logs.firebaseapp.com",',REACT_APP_FIREBASE_PROJECT_ID:'"web-python-logs",',REACT_APP_FIREBASE_STORAGE_BUCKET:'"web-python-logs.appspot.com",',REACT_APP_FIREBASE_MESSAGING_SENDER_ID:'"991477648249",',REACT_APP_FIREBASE_APP_ID:"1:991477648249:web:825e878fd8259bb8073da8"}.REACT_APP_PWA_ASSETS,"//images/icons/play.svg"));case 4:return e.next=6,fetch("".concat({NODE_ENV:"production",PUBLIC_URL:"/edu/blockly-sprint",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:'"AIzaSyCRe7jfIs-nwkbnJ0Q6rozxjrnBEpr52Sw",',REACT_APP_FIREBASE_AUTO_DOMAIN:'"web-python-logs.firebaseapp.com",',REACT_APP_FIREBASE_PROJECT_ID:'"web-python-logs",',REACT_APP_FIREBASE_STORAGE_BUCKET:'"web-python-logs.appspot.com",',REACT_APP_FIREBASE_MESSAGING_SENDER_ID:'"991477648249",',REACT_APP_FIREBASE_APP_ID:"1:991477648249:web:825e878fd8259bb8073da8"}.REACT_APP_PWA_ASSETS,"//images/icons/icon_takeoff.svg"));case 6:return e.next=8,fetch("".concat({NODE_ENV:"production",PUBLIC_URL:"/edu/blockly-sprint",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:'"AIzaSyCRe7jfIs-nwkbnJ0Q6rozxjrnBEpr52Sw",',REACT_APP_FIREBASE_AUTO_DOMAIN:'"web-python-logs.firebaseapp.com",',REACT_APP_FIREBASE_PROJECT_ID:'"web-python-logs",',REACT_APP_FIREBASE_STORAGE_BUCKET:'"web-python-logs.appspot.com",',REACT_APP_FIREBASE_MESSAGING_SENDER_ID:'"991477648249",',REACT_APP_FIREBASE_APP_ID:"1:991477648249:web:825e878fd8259bb8073da8"}.REACT_APP_PWA_ASSETS,"//images/icons/icon_land.svg"));case 8:return e.next=10,fetch("".concat({NODE_ENV:"production",PUBLIC_URL:"/edu/blockly-sprint",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:'"AIzaSyCRe7jfIs-nwkbnJ0Q6rozxjrnBEpr52Sw",',REACT_APP_FIREBASE_AUTO_DOMAIN:'"web-python-logs.firebaseapp.com",',REACT_APP_FIREBASE_PROJECT_ID:'"web-python-logs",',REACT_APP_FIREBASE_STORAGE_BUCKET:'"web-python-logs.appspot.com",',REACT_APP_FIREBASE_MESSAGING_SENDER_ID:'"991477648249",',REACT_APP_FIREBASE_APP_ID:"1:991477648249:web:825e878fd8259bb8073da8"}.REACT_APP_PWA_ASSETS,"//images/icons/icon_stop.svg"));case 10:return e.next=12,fetch("".concat({NODE_ENV:"production",PUBLIC_URL:"/edu/blockly-sprint",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:'"AIzaSyCRe7jfIs-nwkbnJ0Q6rozxjrnBEpr52Sw",',REACT_APP_FIREBASE_AUTO_DOMAIN:'"web-python-logs.firebaseapp.com",',REACT_APP_FIREBASE_PROJECT_ID:'"web-python-logs",',REACT_APP_FIREBASE_STORAGE_BUCKET:'"web-python-logs.appspot.com",',REACT_APP_FIREBASE_MESSAGING_SENDER_ID:'"991477648249",',REACT_APP_FIREBASE_APP_ID:"1:991477648249:web:825e878fd8259bb8073da8"}.REACT_APP_PWA_ASSETS,"//images/icons/icon_hover.svg"));case 12:return e.next=14,fetch("".concat({NODE_ENV:"production",PUBLIC_URL:"/edu/blockly-sprint",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:'"AIzaSyCRe7jfIs-nwkbnJ0Q6rozxjrnBEpr52Sw",',REACT_APP_FIREBASE_AUTO_DOMAIN:'"web-python-logs.firebaseapp.com",',REACT_APP_FIREBASE_PROJECT_ID:'"web-python-logs",',REACT_APP_FIREBASE_STORAGE_BUCKET:'"web-python-logs.appspot.com",',REACT_APP_FIREBASE_MESSAGING_SENDER_ID:'"991477648249",',REACT_APP_FIREBASE_APP_ID:"1:991477648249:web:825e878fd8259bb8073da8"}.REACT_APP_PWA_ASSETS,"//images/icons/icon_forward.svg"));case 14:return e.next=16,fetch("".concat({NODE_ENV:"production",PUBLIC_URL:"/edu/blockly-sprint",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:'"AIzaSyCRe7jfIs-nwkbnJ0Q6rozxjrnBEpr52Sw",',REACT_APP_FIREBASE_AUTO_DOMAIN:'"web-python-logs.firebaseapp.com",',REACT_APP_FIREBASE_PROJECT_ID:'"web-python-logs",',REACT_APP_FIREBASE_STORAGE_BUCKET:'"web-python-logs.appspot.com",',REACT_APP_FIREBASE_MESSAGING_SENDER_ID:'"991477648249",',REACT_APP_FIREBASE_APP_ID:"1:991477648249:web:825e878fd8259bb8073da8"}.REACT_APP_PWA_ASSETS,"//images/icons/icon_turn.svg"));case 16:return e.next=18,fetch("".concat({NODE_ENV:"production",PUBLIC_URL:"/edu/blockly-sprint",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:'"AIzaSyCRe7jfIs-nwkbnJ0Q6rozxjrnBEpr52Sw",',REACT_APP_FIREBASE_AUTO_DOMAIN:'"web-python-logs.firebaseapp.com",',REACT_APP_FIREBASE_PROJECT_ID:'"web-python-logs",',REACT_APP_FIREBASE_STORAGE_BUCKET:'"web-python-logs.appspot.com",',REACT_APP_FIREBASE_MESSAGING_SENDER_ID:'"991477648249",',REACT_APP_FIREBASE_APP_ID:"1:991477648249:web:825e878fd8259bb8073da8"}.REACT_APP_PWA_ASSETS,"//images/icons/icon_turn.svg"));case 18:return e.next=20,fetch("".concat({NODE_ENV:"production",PUBLIC_URL:"/edu/blockly-sprint",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:'"AIzaSyCRe7jfIs-nwkbnJ0Q6rozxjrnBEpr52Sw",',REACT_APP_FIREBASE_AUTO_DOMAIN:'"web-python-logs.firebaseapp.com",',REACT_APP_FIREBASE_PROJECT_ID:'"web-python-logs",',REACT_APP_FIREBASE_STORAGE_BUCKET:'"web-python-logs.appspot.com",',REACT_APP_FIREBASE_MESSAGING_SENDER_ID:'"991477648249",',REACT_APP_FIREBASE_APP_ID:"1:991477648249:web:825e878fd8259bb8073da8"}.REACT_APP_PWA_ASSETS,"//images/icons/drone-sound-1123.svg"));case 20:return e.next=22,fetch("".concat({NODE_ENV:"production",PUBLIC_URL:"/edu/blockly-sprint",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:'"AIzaSyCRe7jfIs-nwkbnJ0Q6rozxjrnBEpr52Sw",',REACT_APP_FIREBASE_AUTO_DOMAIN:'"web-python-logs.firebaseapp.com",',REACT_APP_FIREBASE_PROJECT_ID:'"web-python-logs",',REACT_APP_FIREBASE_STORAGE_BUCKET:'"web-python-logs.appspot.com",',REACT_APP_FIREBASE_MESSAGING_SENDER_ID:'"991477648249",',REACT_APP_FIREBASE_APP_ID:"1:991477648249:web:825e878fd8259bb8073da8"}.REACT_APP_PWA_ASSETS,"//images/icons/controller-sound-1123.svg"));case 22:return e.next=24,fetch("".concat({NODE_ENV:"production",PUBLIC_URL:"/edu/blockly-sprint",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:'"AIzaSyCRe7jfIs-nwkbnJ0Q6rozxjrnBEpr52Sw",',REACT_APP_FIREBASE_AUTO_DOMAIN:'"web-python-logs.firebaseapp.com",',REACT_APP_FIREBASE_PROJECT_ID:'"web-python-logs",',REACT_APP_FIREBASE_STORAGE_BUCKET:'"web-python-logs.appspot.com",',REACT_APP_FIREBASE_MESSAGING_SENDER_ID:'"991477648249",',REACT_APP_FIREBASE_APP_ID:"1:991477648249:web:825e878fd8259bb8073da8"}.REACT_APP_PWA_ASSETS,"//images/icons/icon_wait.svg"));case 24:return e.next=26,fetch("".concat({NODE_ENV:"production",PUBLIC_URL:"/edu/blockly-sprint",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:'"AIzaSyCRe7jfIs-nwkbnJ0Q6rozxjrnBEpr52Sw",',REACT_APP_FIREBASE_AUTO_DOMAIN:'"web-python-logs.firebaseapp.com",',REACT_APP_FIREBASE_PROJECT_ID:'"web-python-logs",',REACT_APP_FIREBASE_STORAGE_BUCKET:'"web-python-logs.appspot.com",',REACT_APP_FIREBASE_MESSAGING_SENDER_ID:'"991477648249",',REACT_APP_FIREBASE_APP_ID:"1:991477648249:web:825e878fd8259bb8073da8"}.REACT_APP_PWA_ASSETS,"//images/icons/drone-led-1123.svg"));case 26:return e.next=28,fetch("".concat({NODE_ENV:"production",PUBLIC_URL:"/edu/blockly-sprint",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:'"AIzaSyCRe7jfIs-nwkbnJ0Q6rozxjrnBEpr52Sw",',REACT_APP_FIREBASE_AUTO_DOMAIN:'"web-python-logs.firebaseapp.com",',REACT_APP_FIREBASE_PROJECT_ID:'"web-python-logs",',REACT_APP_FIREBASE_STORAGE_BUCKET:'"web-python-logs.appspot.com",',REACT_APP_FIREBASE_MESSAGING_SENDER_ID:'"991477648249",',REACT_APP_FIREBASE_APP_ID:"1:991477648249:web:825e878fd8259bb8073da8"}.REACT_APP_PWA_ASSETS,"//images/icons/controller-led-1123.svg"));case 28:_g(N),vg(L),mg(M),n=window.innerWidth>1366?"768px":"50%",m(n),A("hidden");case 34:case"end":return e.stop()}}),t)})));return function(){return n.apply(this,arguments)}}();try{n()}catch(r){console.log(r),_g(N),vg(L),mg(M),A("hidden")}window.addEventListener("online",(function(){return console.log("Became online")})),window.addEventListener("offline",(function(){return console.log("Became offline")}))}),[]),(0,n.useEffect)((function(){if(d){var e="50%"===v?"calc(50% + 295px)":"".concat(parseInt(v)+295,"px");e.includes("px")&&parseInt(e)>window.innerWidth-275+130&&(e="".concat(window.innerWidth-275+130,"px")),E(e)}else E("")}),[d,v]);var N=function(e){p("boolean"===typeof e?e:function(e){return!e})},L=function(){k(!0)},M=function(e){"boolean"===typeof e&&C(e)};return(0,P.jsxs)("div",{className:"CoDroneBlockly ".concat(qD," ").concat(o?"dark":""),onClick:function(e){e.target.closest(".menu-btn")||e.target.closest(".menu-txt")||(e.target.closest(".menu")||c(!1))},onDragOver:j.$q,onDrop:j.Cw,children:[(0,P.jsx)("div",{style:{position:"fixed",width:"100%",height:"100%",visibility:x,background:"black",zIndex:"9999999",opacity:".9"},children:(0,P.jsx)("div",{style:{position:"relative",border:"16px solid #f3f3f3",borderRadius:"50%",borderTop:"16px solid #3498db",width:"70px",height:"70px",left:"50%",top:"50%",animation:"spin 2s linear infinite"}})}),(0,P.jsx)("div",{id:"refreshDiv",style:{display:"none"}}),(0,P.jsx)(ZD,{}),(0,P.jsx)(VA,{isOpen:d,setIsOpen:g,panelWidth:v,setPanelWidth:m}),(0,P.jsx)(VD,{isOpen:R,close:function(){return M(!1)}}),(0,P.jsx)(ug,{isOpen:l,handleToggle:function(e){e.preventDefault(),e.stopPropagation(),c((function(e){return!e}))}}),(0,P.jsx)(UD,{disabled:S}),(0,P.jsx)(ML,{}),(0,P.jsx)(PM,{}),(0,P.jsx)(WM,{}),(0,P.jsx)(PD,{}),(0,P.jsx)(bM,{enableRunButton:function(){k(!1)},disableRunButton:L}),(0,P.jsx)(OM,{isOpen:h,handleToggle:N,clearPos:T}),(0,P.jsx)(ZM,{}),(0,P.jsx)(YD,{})]})},QD=(0,n.createContext)({drone:"cde"}),JD=function(e){var t=a((0,n.useState)("cde"),2),r=t[0],i=t[1];return(0,n.useEffect)((function(){var e=window.location.href.match(/(?<=codrone.robolink.com\/)(.*?)(?=\/blockly)/);e&&i(e[0])}),[]),(0,P.jsx)(QD.Provider,{value:{drone:r},children:e.children})},$D=function(e){e&&e instanceof Function&&__webpack_require__.e(27).then(__webpack_require__.bind(__webpack_require__,4027)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,o=t.getLCP,s=t.getTTFB;n(e),r(e),i(e),o(e),s(e)}))},eP=function(e){var t,n=jd(),r=e||{},i=r.reducer,o=void 0===i?void 0:i,s=r.middleware,a=void 0===s?n():s,l=r.devTools,c=void 0===l||l,u=r.preloadedState,h=void 0===u?void 0:u,p=r.enhancers,f=void 0===p?void 0:p;if("function"===typeof o)t=o;else{if(!Ud(o))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=yd(o)}var d=a;"function"===typeof d&&(d=d(n));var g=Ed.apply(void 0,d),_=Td;c&&(_=Fd(Dd({trace:!1},"object"===typeof c&&c)));var v=new Hd(g),m=v;return Array.isArray(f)?m=Rd([g],f):"function"===typeof f&&(m=f(v)),md(t,h,_.apply(void 0,m))}({reducer:{battNotif:HL,colorTheme:ig,pyCode:ND,walkthrough:zD,jrotcDroneType:iM}}),tP=__webpack_require__(153);r.render((0,P.jsx)(n.StrictMode,{children:(0,P.jsx)(w,{store:eP,children:(0,P.jsx)(LL,{children:(0,P.jsx)(JD,{children:(0,P.jsx)(U,{children:(0,P.jsx)(KD,{})})})})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/edu/blockly-sprint",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/edu/blockly-sprint","/service-worker.js");i?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):o(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):o(t,e)}))}}({onUpdate:function(){var n=(0,t.Z)((0,e.Z)().mark((function t(n){return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===n||void 0===n||!n.waiting){e.next=5;break}return e.next=3,n.unregister();case 3:n.waiting.addEventListener("statechange",(function(e){"activated"===(null===e||void 0===e?void 0:e.target).state&&window.location.reload()})),n.waiting.postMessage({type:"SKIP_WAITING"});case 5:case"end":return e.stop()}}),t)})));return function(e){return n.apply(this,arguments)}}()}),setTimeout((0,t.Z)((0,e.Z)().mark((function t(){var n,r,i,o,s,a;return(0,e.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,console.log("BLOCKLY_VERSION: ".concat(Z)),s="https://codrone.robolink.com/versions.json",null!==(n=window)&&void 0!==n&&null!==(r=n.location)&&void 0!==r&&null!==(i=r.href)&&void 0!==i&&i.includes("staging")&&(s="https://codrone.robolink.com/staging-versions.json"),a=null,!s){e.next=9;break}return e.next=8,s.json();case 8:a=e.sent;case 9:console.log(a,"remoteVersion"),tP.lt("2.1.6",null===(o=a)||void 0===o?void 0:o.BLOCKLY_CDE_FOR_UPDATES)&&window.location.reload(),console.log(s),e.next=16;break;case 14:e.prev=14,e.t0=e.catch(0);case 16:case"end":return e.stop()}}),t,null,[[0,14]])}))),200),$D()}()})();